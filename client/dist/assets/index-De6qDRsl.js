var r8=Object.defineProperty;var i8=(n,t,e)=>t in n?r8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var o8=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var w=(n,t,e)=>i8(n,typeof t!="symbol"?t+"":t,e);var w_e=o8((ir,or)=>{function E5(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();var Jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var T5={exports:{}},tg={},S5={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=Symbol.for("react.element"),s8=Symbol.for("react.portal"),a8=Symbol.for("react.fragment"),l8=Symbol.for("react.strict_mode"),c8=Symbol.for("react.profiler"),u8=Symbol.for("react.provider"),d8=Symbol.for("react.context"),h8=Symbol.for("react.forward_ref"),f8=Symbol.for("react.suspense"),m8=Symbol.for("react.memo"),g8=Symbol.for("react.lazy"),S_=Symbol.iterator;function p8(n){return n===null||typeof n!="object"?null:(n=S_&&n[S_]||n["@@iterator"],typeof n=="function"?n:null)}var A5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P5=Object.assign,R5={};function Vl(n,t,e){this.props=n,this.context=t,this.refs=R5,this.updater=e||A5}Vl.prototype.isReactComponent={};Vl.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Vl.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function O5(){}O5.prototype=Vl.prototype;function Sy(n,t,e){this.props=n,this.context=t,this.refs=R5,this.updater=e||A5}var Ay=Sy.prototype=new O5;Ay.constructor=Sy;P5(Ay,Vl.prototype);Ay.isPureReactComponent=!0;var A_=Array.isArray,I5=Object.prototype.hasOwnProperty,Py={current:null},N5={key:!0,ref:!0,__self:!0,__source:!0};function M5(n,t,e){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)I5.call(t,r)&&!N5.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:md,type:n,key:o,ref:s,props:i,_owner:Py.current}}function b8(n,t){return{$$typeof:md,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function Ry(n){return typeof n=="object"&&n!==null&&n.$$typeof===md}function v8(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var P_=/\/+/g;function up(n,t){return typeof n=="object"&&n!==null&&n.key!=null?v8(""+n.key):t.toString(36)}function Hh(n,t,e,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case md:case s8:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+up(s,0):r,A_(i)?(e="",n!=null&&(e=n.replace(P_,"$&/")+"/"),Hh(i,t,e,"",function(c){return c})):i!=null&&(Ry(i)&&(i=b8(i,e+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(P_,"$&/")+"/")+n)),t.push(i)),1;if(s=0,r=r===""?".":r+":",A_(n))for(var a=0;a<n.length;a++){o=n[a];var l=r+up(o,a);s+=Hh(o,t,e,l,i)}else if(l=p8(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=r+up(o,a++),s+=Hh(o,t,e,l,i);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function zd(n,t,e){if(n==null)return n;var r=[],i=0;return Hh(n,r,"","",function(o){return t.call(e,o,i++)}),r}function y8(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var kn={current:null},Uh={transition:null},w8={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:Py};function L5(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:zd,forEach:function(n,t,e){zd(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return zd(n,function(){t++}),t},toArray:function(n){return zd(n,function(t){return t})||[]},only:function(n){if(!Ry(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Le.Component=Vl;Le.Fragment=a8;Le.Profiler=c8;Le.PureComponent=Sy;Le.StrictMode=l8;Le.Suspense=f8;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w8;Le.act=L5;Le.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=P5({},n.props),i=n.key,o=n.ref,s=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Py.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in t)I5.call(t,l)&&!N5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:md,type:n.type,key:i,ref:o,props:r,_owner:s}};Le.createContext=function(n){return n={$$typeof:d8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:u8,_context:n},n.Consumer=n};Le.createElement=M5;Le.createFactory=function(n){var t=M5.bind(null,n);return t.type=n,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(n){return{$$typeof:h8,render:n}};Le.isValidElement=Ry;Le.lazy=function(n){return{$$typeof:g8,_payload:{_status:-1,_result:n},_init:y8}};Le.memo=function(n,t){return{$$typeof:m8,type:n,compare:t===void 0?null:t}};Le.startTransition=function(n){var t=Uh.transition;Uh.transition={};try{n()}finally{Uh.transition=t}};Le.unstable_act=L5;Le.useCallback=function(n,t){return kn.current.useCallback(n,t)};Le.useContext=function(n){return kn.current.useContext(n)};Le.useDebugValue=function(){};Le.useDeferredValue=function(n){return kn.current.useDeferredValue(n)};Le.useEffect=function(n,t){return kn.current.useEffect(n,t)};Le.useId=function(){return kn.current.useId()};Le.useImperativeHandle=function(n,t,e){return kn.current.useImperativeHandle(n,t,e)};Le.useInsertionEffect=function(n,t){return kn.current.useInsertionEffect(n,t)};Le.useLayoutEffect=function(n,t){return kn.current.useLayoutEffect(n,t)};Le.useMemo=function(n,t){return kn.current.useMemo(n,t)};Le.useReducer=function(n,t,e){return kn.current.useReducer(n,t,e)};Le.useRef=function(n){return kn.current.useRef(n)};Le.useState=function(n){return kn.current.useState(n)};Le.useSyncExternalStore=function(n,t,e){return kn.current.useSyncExternalStore(n,t,e)};Le.useTransition=function(){return kn.current.useTransition()};Le.version="18.3.1";S5.exports=Le;var I=S5.exports;const Ve=xi(I),xf=E5({__proto__:null,default:Ve},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _8=I,x8=Symbol.for("react.element"),k8=Symbol.for("react.fragment"),C8=Object.prototype.hasOwnProperty,E8=_8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T8={key:!0,ref:!0,__self:!0,__source:!0};function D5(n,t,e){var r,i={},o=null,s=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)C8.call(t,r)&&!T8.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:x8,type:n,key:o,ref:s,props:i,_owner:E8.current}}tg.Fragment=k8;tg.jsx=D5;tg.jsxs=D5;T5.exports=tg;var x=T5.exports,B5={exports:{}},gr={},F5={exports:{}},V5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(z,j){var L=z.length;z.push(j);e:for(;0<L;){var M=L-1>>>1,B=z[M];if(0<i(B,j))z[M]=j,z[L]=B,L=M;else break e}}function e(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],L=z.pop();if(L!==j){z[0]=L;e:for(var M=0,B=z.length,$=B>>>1;M<$;){var G=2*(M+1)-1,W=z[G],F=G+1,U=z[F];if(0>i(W,L))F<B&&0>i(U,W)?(z[M]=U,z[F]=L,M=F):(z[M]=W,z[G]=L,M=G);else if(F<B&&0>i(U,L))z[M]=U,z[F]=L,M=F;else break e}}return j}function i(z,j){var L=z.sortIndex-j.sortIndex;return L!==0?L:z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var j=e(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=z)r(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=e(c)}}function y(z){if(g=!1,_(z),!m)if(e(l)!==null)m=!0,V(k);else{var j=e(c);j!==null&&H(y,j.startTime-z)}}function k(z,j){m=!1,g&&(g=!1,p(C),C=-1),f=!0;var L=h;try{for(_(j),d=e(l);d!==null&&(!(d.expirationTime>j)||z&&!A());){var M=d.callback;if(typeof M=="function"){d.callback=null,h=d.priorityLevel;var B=M(d.expirationTime<=j);j=n.unstable_now(),typeof B=="function"?d.callback=B:d===e(l)&&r(l),_(j)}else r(l);d=e(l)}if(d!==null)var $=!0;else{var G=e(c);G!==null&&H(y,G.startTime-j),$=!1}return $}finally{d=null,h=L,f=!1}}var S=!1,E=null,C=-1,O=5,T=-1;function A(){return!(n.unstable_now()-T<O)}function P(){if(E!==null){var z=n.unstable_now();T=z;var j=!0;try{j=E(!0,z)}finally{j?R():(S=!1,E=null)}}else S=!1}var R;if(typeof b=="function")R=function(){b(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,D=N.port2;N.port1.onmessage=P,R=function(){D.postMessage(null)}}else R=function(){v(P,0)};function V(z){E=z,S||(S=!0,R())}function H(z,j){C=v(function(){z(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){m||f||(m=!0,V(k))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(z){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var L=h;h=j;try{return z()}finally{h=L}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var L=h;h=z;try{return j()}finally{h=L}},n.unstable_scheduleCallback=function(z,j,L){var M=n.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?M+L:M):L=M,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=L+B,z={id:u++,callback:j,priorityLevel:z,startTime:L,expirationTime:B,sortIndex:-1},L>M?(z.sortIndex=L,t(c,z),e(l)===null&&z===e(c)&&(g?(p(C),C=-1):g=!0,H(y,L-M))):(z.sortIndex=B,t(l,z),m||f||(m=!0,V(k))),z},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(z){var j=h;return function(){var L=h;h=j;try{return z.apply(this,arguments)}finally{h=L}}}})(V5);F5.exports=V5;var S8=F5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8=I,lr=S8;function se(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j5=new Set,pu={};function Xs(n,t){gl(n,t),gl(n+"Capture",t)}function gl(n,t){for(pu[n]=t,n=0;n<t.length;n++)j5.add(t[n])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tb=Object.prototype.hasOwnProperty,P8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R_={},O_={};function R8(n){return tb.call(O_,n)?!0:tb.call(R_,n)?!1:P8.test(n)?O_[n]=!0:(R_[n]=!0,!1)}function O8(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function I8(n,t,e,r){if(t===null||typeof t>"u"||O8(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(n,t,e,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){an[n]=new Cn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];an[t]=new Cn(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){an[n]=new Cn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){an[n]=new Cn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){an[n]=new Cn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){an[n]=new Cn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){an[n]=new Cn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){an[n]=new Cn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){an[n]=new Cn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Oy=/[\-:]([a-z])/g;function Iy(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(Oy,Iy);an[t]=new Cn(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(Oy,Iy);an[t]=new Cn(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(Oy,Iy);an[t]=new Cn(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){an[n]=new Cn(n,1,!1,n.toLowerCase(),null,!1,!1)});an.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){an[n]=new Cn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ny(n,t,e,r){var i=an.hasOwnProperty(t)?an[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I8(t,e,i,r)&&(e=null),r||i===null?R8(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var ro=A8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hd=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),Fa=Symbol.for("react.fragment"),My=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),$5=Symbol.for("react.provider"),z5=Symbol.for("react.context"),Ly=Symbol.for("react.forward_ref"),rb=Symbol.for("react.suspense"),ib=Symbol.for("react.suspense_list"),Dy=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),H5=Symbol.for("react.offscreen"),I_=Symbol.iterator;function lc(n){return n===null||typeof n!="object"?null:(n=I_&&n[I_]||n["@@iterator"],typeof n=="function"?n:null)}var vt=Object.assign,dp;function Lc(n){if(dp===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);dp=t&&t[1]||""}return`
`+dp+n}var hp=!1;function fp(n,t){if(!n||hp)return"";hp=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(n,[],t)}else{try{t.call()}catch(c){r=c}n.call(t.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=s&&0<=a);break}}}finally{hp=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Lc(n):""}function N8(n){switch(n.tag){case 5:return Lc(n.type);case 16:return Lc("Lazy");case 13:return Lc("Suspense");case 19:return Lc("SuspenseList");case 0:case 2:case 15:return n=fp(n.type,!1),n;case 11:return n=fp(n.type.render,!1),n;case 1:return n=fp(n.type,!0),n;default:return""}}function ob(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Fa:return"Fragment";case Ba:return"Portal";case nb:return"Profiler";case My:return"StrictMode";case rb:return"Suspense";case ib:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case z5:return(n.displayName||"Context")+".Consumer";case $5:return(n._context.displayName||"Context")+".Provider";case Ly:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Dy:return t=n.displayName||null,t!==null?t:ob(n.type)||"Memo";case wo:t=n._payload,n=n._init;try{return ob(n(t))}catch{}}return null}function M8(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ob(t);case 8:return t===My?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function U5(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L8(n){var t=U5(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Ud(n){n._valueTracker||(n._valueTracker=L8(n))}function W5(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=U5(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function kf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function sb(n,t){var e=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function N_(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=Uo(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q5(n,t){t=t.checked,t!=null&&Ny(n,"checked",t,!1)}function ab(n,t){q5(n,t);var e=Uo(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?lb(n,t.type,e):t.hasOwnProperty("defaultValue")&&lb(n,t.type,Uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function M_(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function lb(n,t,e){(t!=="number"||kf(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Dc=Array.isArray;function nl(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Uo(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function cb(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function L_(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(se(92));if(Dc(e)){if(1<e.length)throw Error(se(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Uo(e)}}function G5(n,t){var e=Uo(t.value),r=Uo(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function D_(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function K5(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ub(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?K5(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Wd,Z5=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Wd=Wd||document.createElement("div"),Wd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function bu(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D8=["Webkit","ms","Moz","O"];Object.keys(Hc).forEach(function(n){D8.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Hc[t]=Hc[n]})});function Y5(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Hc.hasOwnProperty(n)&&Hc[n]?(""+t).trim():t+"px"}function J5(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=Y5(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var B8=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function db(n,t){if(t){if(B8[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function hb(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fb=null;function By(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mb=null,rl=null,il=null;function B_(n){if(n=bd(n)){if(typeof mb!="function")throw Error(se(280));var t=n.stateNode;t&&(t=sg(t),mb(n.stateNode,n.type,t))}}function X5(n){rl?il?il.push(n):il=[n]:rl=n}function Q5(){if(rl){var n=rl,t=il;if(il=rl=null,B_(n),t)for(n=0;n<t.length;n++)B_(t[n])}}function eS(n,t){return n(t)}function tS(){}var mp=!1;function nS(n,t,e){if(mp)return n(t,e);mp=!0;try{return eS(n,t,e)}finally{mp=!1,(rl!==null||il!==null)&&(tS(),Q5())}}function vu(n,t){var e=n.stateNode;if(e===null)return null;var r=sg(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(se(231,t,typeof e));return e}var gb=!1;if(zi)try{var cc={};Object.defineProperty(cc,"passive",{get:function(){gb=!0}}),window.addEventListener("test",cc,cc),window.removeEventListener("test",cc,cc)}catch{gb=!1}function F8(n,t,e,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(e,c)}catch(u){this.onError(u)}}var Uc=!1,Cf=null,Ef=!1,pb=null,V8={onError:function(n){Uc=!0,Cf=n}};function j8(n,t,e,r,i,o,s,a,l){Uc=!1,Cf=null,F8.apply(V8,arguments)}function $8(n,t,e,r,i,o,s,a,l){if(j8.apply(this,arguments),Uc){if(Uc){var c=Cf;Uc=!1,Cf=null}else throw Error(se(198));Ef||(Ef=!0,pb=c)}}function Qs(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function rS(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function F_(n){if(Qs(n)!==n)throw Error(se(188))}function z8(n){var t=n.alternate;if(!t){if(t=Qs(n),t===null)throw Error(se(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===e)return F_(i),n;if(o===r)return F_(i),t;o=o.sibling}throw Error(se(188))}if(e.return!==r.return)e=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===e){s=!0,e=i,r=o;break}if(a===r){s=!0,r=i,e=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===e){s=!0,e=o,r=i;break}if(a===r){s=!0,r=o,e=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(e.alternate!==r)throw Error(se(190))}if(e.tag!==3)throw Error(se(188));return e.stateNode.current===e?n:t}function iS(n){return n=z8(n),n!==null?oS(n):null}function oS(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=oS(n);if(t!==null)return t;n=n.sibling}return null}var sS=lr.unstable_scheduleCallback,V_=lr.unstable_cancelCallback,H8=lr.unstable_shouldYield,U8=lr.unstable_requestPaint,Pt=lr.unstable_now,W8=lr.unstable_getCurrentPriorityLevel,Fy=lr.unstable_ImmediatePriority,aS=lr.unstable_UserBlockingPriority,Tf=lr.unstable_NormalPriority,q8=lr.unstable_LowPriority,lS=lr.unstable_IdlePriority,ng=null,fi=null;function G8(n){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(ng,n,void 0,(n.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:Y8,K8=Math.log,Z8=Math.LN2;function Y8(n){return n>>>=0,n===0?32:31-(K8(n)/Z8|0)|0}var qd=64,Gd=4194304;function Bc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Sf(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=e&268435455;if(s!==0){var a=s&~i;a!==0?r=Bc(a):(o&=s,o!==0&&(r=Bc(o)))}else s=e&~i,s!==0?r=Bc(s):o!==0&&(r=Bc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Wr(t),i=1<<e,r|=n[e],t&=~i;return r}function J8(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X8(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-Wr(o),a=1<<s,l=i[s];l===-1?(!(a&e)||a&r)&&(i[s]=J8(a,t)):l<=t&&(n.expiredLanes|=a),o&=~a}}function bb(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function cS(){var n=qd;return qd<<=1,!(qd&4194240)&&(qd=64),n}function gp(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function gd(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Wr(t),n[t]=e}function Q8(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-Wr(e),o=1<<i;t[i]=0,r[i]=-1,n[i]=-1,e&=~o}}function Vy(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-Wr(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}var $e=0;function uS(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var dS,jy,hS,fS,mS,vb=!1,Kd=[],Oo=null,Io=null,No=null,yu=new Map,wu=new Map,ko=[],eM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j_(n,t){switch(n){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":yu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(t.pointerId)}}function uc(n,t,e,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=bd(t),t!==null&&jy(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function tM(n,t,e,r,i){switch(t){case"focusin":return Oo=uc(Oo,n,t,e,r,i),!0;case"dragenter":return Io=uc(Io,n,t,e,r,i),!0;case"mouseover":return No=uc(No,n,t,e,r,i),!0;case"pointerover":var o=i.pointerId;return yu.set(o,uc(yu.get(o)||null,n,t,e,r,i)),!0;case"gotpointercapture":return o=i.pointerId,wu.set(o,uc(wu.get(o)||null,n,t,e,r,i)),!0}return!1}function gS(n){var t=xs(n.target);if(t!==null){var e=Qs(t);if(e!==null){if(t=e.tag,t===13){if(t=rS(e),t!==null){n.blockedOn=t,mS(n.priority,function(){hS(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wh(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=yb(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);fb=r,e.target.dispatchEvent(r),fb=null}else return t=bd(e),t!==null&&jy(t),n.blockedOn=e,!1;t.shift()}return!0}function $_(n,t,e){Wh(n)&&e.delete(t)}function nM(){vb=!1,Oo!==null&&Wh(Oo)&&(Oo=null),Io!==null&&Wh(Io)&&(Io=null),No!==null&&Wh(No)&&(No=null),yu.forEach($_),wu.forEach($_)}function dc(n,t){n.blockedOn===t&&(n.blockedOn=null,vb||(vb=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,nM)))}function _u(n){function t(i){return dc(i,n)}if(0<Kd.length){dc(Kd[0],n);for(var e=1;e<Kd.length;e++){var r=Kd[e];r.blockedOn===n&&(r.blockedOn=null)}}for(Oo!==null&&dc(Oo,n),Io!==null&&dc(Io,n),No!==null&&dc(No,n),yu.forEach(t),wu.forEach(t),e=0;e<ko.length;e++)r=ko[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<ko.length&&(e=ko[0],e.blockedOn===null);)gS(e),e.blockedOn===null&&ko.shift()}var ol=ro.ReactCurrentBatchConfig,Af=!0;function rM(n,t,e,r){var i=$e,o=ol.transition;ol.transition=null;try{$e=1,$y(n,t,e,r)}finally{$e=i,ol.transition=o}}function iM(n,t,e,r){var i=$e,o=ol.transition;ol.transition=null;try{$e=4,$y(n,t,e,r)}finally{$e=i,ol.transition=o}}function $y(n,t,e,r){if(Af){var i=yb(n,t,e,r);if(i===null)Ep(n,t,r,Pf,e),j_(n,r);else if(tM(i,n,t,e,r))r.stopPropagation();else if(j_(n,r),t&4&&-1<eM.indexOf(n)){for(;i!==null;){var o=bd(i);if(o!==null&&dS(o),o=yb(n,t,e,r),o===null&&Ep(n,t,r,Pf,e),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ep(n,t,r,null,e)}}var Pf=null;function yb(n,t,e,r){if(Pf=null,n=By(r),n=xs(n),n!==null)if(t=Qs(n),t===null)n=null;else if(e=t.tag,e===13){if(n=rS(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Pf=n,null}function pS(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W8()){case Fy:return 1;case aS:return 4;case Tf:case q8:return 16;case lS:return 536870912;default:return 16}default:return 16}}var So=null,zy=null,qh=null;function bS(){if(qh)return qh;var n,t=zy,e=t.length,r,i="value"in So?So.value:So.textContent,o=i.length;for(n=0;n<e&&t[n]===i[n];n++);var s=e-n;for(r=1;r<=s&&t[e-r]===i[o-r];r++);return qh=i.slice(n,1<r?1-r:void 0)}function Gh(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Zd(){return!0}function z_(){return!1}function pr(n){function t(e,r,i,o,s){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(e=n[a],this[a]=e?e(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zd:z_,this.isPropagationStopped=z_,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),t}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hy=pr(jl),pd=vt({},jl,{view:0,detail:0}),oM=pr(pd),pp,bp,hc,rg=vt({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hc&&(hc&&n.type==="mousemove"?(pp=n.screenX-hc.screenX,bp=n.screenY-hc.screenY):bp=pp=0,hc=n),pp)},movementY:function(n){return"movementY"in n?n.movementY:bp}}),H_=pr(rg),sM=vt({},rg,{dataTransfer:0}),aM=pr(sM),lM=vt({},pd,{relatedTarget:0}),vp=pr(lM),cM=vt({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),uM=pr(cM),dM=vt({},jl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hM=pr(dM),fM=vt({},jl,{data:0}),U_=pr(fM),mM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bM(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=pM[n])?!!t[n]:!1}function Uy(){return bM}var vM=vt({},pd,{key:function(n){if(n.key){var t=mM[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Gh(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uy,charCode:function(n){return n.type==="keypress"?Gh(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gh(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yM=pr(vM),wM=vt({},rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=pr(wM),_M=vt({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uy}),xM=pr(_M),kM=vt({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),CM=pr(kM),EM=vt({},rg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),TM=pr(EM),SM=[9,13,27,32],Wy=zi&&"CompositionEvent"in window,Wc=null;zi&&"documentMode"in document&&(Wc=document.documentMode);var AM=zi&&"TextEvent"in window&&!Wc,vS=zi&&(!Wy||Wc&&8<Wc&&11>=Wc),q_=" ",G_=!1;function yS(n,t){switch(n){case"keyup":return SM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Va=!1;function PM(n,t){switch(n){case"compositionend":return wS(t);case"keypress":return t.which!==32?null:(G_=!0,q_);case"textInput":return n=t.data,n===q_&&G_?null:n;default:return null}}function RM(n,t){if(Va)return n==="compositionend"||!Wy&&yS(n,t)?(n=bS(),qh=zy=So=null,Va=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vS&&t.locale!=="ko"?null:t.data;default:return null}}var OM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!OM[n.type]:t==="textarea"}function _S(n,t,e,r){X5(r),t=Rf(t,"onChange"),0<t.length&&(e=new Hy("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var qc=null,xu=null;function IM(n){IS(n,0)}function ig(n){var t=za(n);if(W5(t))return n}function NM(n,t){if(n==="change")return t}var xS=!1;if(zi){var yp;if(zi){var wp="oninput"in document;if(!wp){var Z_=document.createElement("div");Z_.setAttribute("oninput","return;"),wp=typeof Z_.oninput=="function"}yp=wp}else yp=!1;xS=yp&&(!document.documentMode||9<document.documentMode)}function Y_(){qc&&(qc.detachEvent("onpropertychange",kS),xu=qc=null)}function kS(n){if(n.propertyName==="value"&&ig(xu)){var t=[];_S(t,xu,n,By(n)),nS(IM,t)}}function MM(n,t,e){n==="focusin"?(Y_(),qc=t,xu=e,qc.attachEvent("onpropertychange",kS)):n==="focusout"&&Y_()}function LM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ig(xu)}function DM(n,t){if(n==="click")return ig(t)}function BM(n,t){if(n==="input"||n==="change")return ig(t)}function FM(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Kr=typeof Object.is=="function"?Object.is:FM;function ku(n,t){if(Kr(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!tb.call(t,i)||!Kr(n[i],t[i]))return!1}return!0}function J_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function X_(n,t){var e=J_(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=J_(e)}}function CS(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?CS(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function ES(){for(var n=window,t=kf();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=kf(n.document)}return t}function qy(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function VM(n){var t=ES(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&CS(e.ownerDocument.documentElement,e)){if(r!==null&&qy(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=X_(e,o);var s=X_(e,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(t),n.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var jM=zi&&"documentMode"in document&&11>=document.documentMode,ja=null,wb=null,Gc=null,_b=!1;function Q_(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;_b||ja==null||ja!==kf(r)||(r=ja,"selectionStart"in r&&qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gc&&ku(Gc,r)||(Gc=r,r=Rf(wb,"onSelect"),0<r.length&&(t=new Hy("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=ja)))}function Yd(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var $a={animationend:Yd("Animation","AnimationEnd"),animationiteration:Yd("Animation","AnimationIteration"),animationstart:Yd("Animation","AnimationStart"),transitionend:Yd("Transition","TransitionEnd")},_p={},TS={};zi&&(TS=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function og(n){if(_p[n])return _p[n];if(!$a[n])return n;var t=$a[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in TS)return _p[n]=t[e];return n}var SS=og("animationend"),AS=og("animationiteration"),PS=og("animationstart"),RS=og("transitionend"),OS=new Map,ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(n,t){OS.set(n,t),Xs(t,[n])}for(var xp=0;xp<ex.length;xp++){var kp=ex[xp],$M=kp.toLowerCase(),zM=kp[0].toUpperCase()+kp.slice(1);es($M,"on"+zM)}es(SS,"onAnimationEnd");es(AS,"onAnimationIteration");es(PS,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(RS,"onTransitionEnd");gl("onMouseEnter",["mouseout","mouseover"]);gl("onMouseLeave",["mouseout","mouseover"]);gl("onPointerEnter",["pointerout","pointerover"]);gl("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fc));function tx(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,$8(r,t,void 0,n),n.currentTarget=null}function IS(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;tx(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;tx(i,a,c),o=l}}}if(Ef)throw n=pb,Ef=!1,pb=null,n}function rt(n,t){var e=t[Tb];e===void 0&&(e=t[Tb]=new Set);var r=n+"__bubble";e.has(r)||(NS(t,n,2,!1),e.add(r))}function Cp(n,t,e){var r=0;t&&(r|=4),NS(e,n,r,t)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Cu(n){if(!n[Jd]){n[Jd]=!0,j5.forEach(function(e){e!=="selectionchange"&&(HM.has(e)||Cp(e,!1,n),Cp(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Jd]||(t[Jd]=!0,Cp("selectionchange",!1,t))}}function NS(n,t,e,r){switch(pS(t)){case 1:var i=rM;break;case 4:i=iM;break;default:i=$y}e=i.bind(null,t,e,n),i=void 0,!gb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function Ep(n,t,e,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=xs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}nS(function(){var c=o,u=By(e),d=[];e:{var h=OS.get(n);if(h!==void 0){var f=Hy,m=n;switch(n){case"keypress":if(Gh(e)===0)break e;case"keydown":case"keyup":f=yM;break;case"focusin":m="focus",f=vp;break;case"focusout":m="blur",f=vp;break;case"beforeblur":case"afterblur":f=vp;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=H_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=aM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=xM;break;case SS:case AS:case PS:f=uM;break;case RS:f=CM;break;case"scroll":f=oM;break;case"wheel":f=TM;break;case"copy":case"cut":case"paste":f=hM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=W_}var g=(t&4)!==0,v=!g&&n==="scroll",p=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,_;b!==null;){_=b;var y=_.stateNode;if(_.tag===5&&y!==null&&(_=y,p!==null&&(y=vu(b,p),y!=null&&g.push(Eu(b,y,_)))),v)break;b=b.return}0<g.length&&(h=new f(h,m,null,e,u),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",h&&e!==fb&&(m=e.relatedTarget||e.fromElement)&&(xs(m)||m[Hi]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=e.relatedTarget||e.toElement,f=c,m=m?xs(m):null,m!==null&&(v=Qs(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=H_,y="onMouseLeave",p="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(g=W_,y="onPointerLeave",p="onPointerEnter",b="pointer"),v=f==null?h:za(f),_=m==null?h:za(m),h=new g(y,b+"leave",f,e,u),h.target=v,h.relatedTarget=_,y=null,xs(u)===c&&(g=new g(p,b+"enter",m,e,u),g.target=_,g.relatedTarget=v,y=g),v=y,f&&m)t:{for(g=f,p=m,b=0,_=g;_;_=ma(_))b++;for(_=0,y=p;y;y=ma(y))_++;for(;0<b-_;)g=ma(g),b--;for(;0<_-b;)p=ma(p),_--;for(;b--;){if(g===p||p!==null&&g===p.alternate)break t;g=ma(g),p=ma(p)}g=null}else g=null;f!==null&&nx(d,h,f,g,!1),m!==null&&v!==null&&nx(d,v,m,g,!0)}}e:{if(h=c?za(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var k=NM;else if(K_(h))if(xS)k=BM;else{k=LM;var S=MM}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=DM);if(k&&(k=k(n,c))){_S(d,k,e,u);break e}S&&S(n,h,c),n==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&lb(h,"number",h.value)}switch(S=c?za(c):window,n){case"focusin":(K_(S)||S.contentEditable==="true")&&(ja=S,wb=c,Gc=null);break;case"focusout":Gc=wb=ja=null;break;case"mousedown":_b=!0;break;case"contextmenu":case"mouseup":case"dragend":_b=!1,Q_(d,e,u);break;case"selectionchange":if(jM)break;case"keydown":case"keyup":Q_(d,e,u)}var E;if(Wy)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Va?yS(n,e)&&(C="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(C="onCompositionStart");C&&(vS&&e.locale!=="ko"&&(Va||C!=="onCompositionStart"?C==="onCompositionEnd"&&Va&&(E=bS()):(So=u,zy="value"in So?So.value:So.textContent,Va=!0)),S=Rf(c,C),0<S.length&&(C=new U_(C,n,null,e,u),d.push({event:C,listeners:S}),E?C.data=E:(E=wS(e),E!==null&&(C.data=E)))),(E=AM?PM(n,e):RM(n,e))&&(c=Rf(c,"onBeforeInput"),0<c.length&&(u=new U_("onBeforeInput","beforeinput",null,e,u),d.push({event:u,listeners:c}),u.data=E))}IS(d,t)})}function Eu(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Rf(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vu(n,e),o!=null&&r.unshift(Eu(n,o,i)),o=vu(n,t),o!=null&&r.push(Eu(n,o,i))),n=n.return}return r}function ma(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function nx(n,t,e,r,i){for(var o=t._reactName,s=[];e!==null&&e!==r;){var a=e,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=vu(e,o),l!=null&&s.unshift(Eu(e,l,a))):i||(l=vu(e,o),l!=null&&s.push(Eu(e,l,a)))),e=e.return}s.length!==0&&n.push({event:t,listeners:s})}var UM=/\r\n?/g,WM=/\u0000|\uFFFD/g;function rx(n){return(typeof n=="string"?n:""+n).replace(UM,`
`).replace(WM,"")}function Xd(n,t,e){if(t=rx(t),rx(n)!==t&&e)throw Error(se(425))}function Of(){}var xb=null,kb=null;function Cb(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eb=typeof setTimeout=="function"?setTimeout:void 0,qM=typeof clearTimeout=="function"?clearTimeout:void 0,ix=typeof Promise=="function"?Promise:void 0,GM=typeof queueMicrotask=="function"?queueMicrotask:typeof ix<"u"?function(n){return ix.resolve(null).then(n).catch(KM)}:Eb;function KM(n){setTimeout(function(){throw n})}function Tp(n,t){var e=t,r=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(r===0){n.removeChild(i),_u(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=i}while(e);_u(t)}function Mo(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function ox(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var $l=Math.random().toString(36).slice(2),ui="__reactFiber$"+$l,Tu="__reactProps$"+$l,Hi="__reactContainer$"+$l,Tb="__reactEvents$"+$l,ZM="__reactListeners$"+$l,YM="__reactHandles$"+$l;function xs(n){var t=n[ui];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Hi]||e[ui]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=ox(n);n!==null;){if(e=n[ui])return e;n=ox(n)}return t}n=e,e=n.parentNode}return null}function bd(n){return n=n[ui]||n[Hi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function za(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(se(33))}function sg(n){return n[Tu]||null}var Sb=[],Ha=-1;function ts(n){return{current:n}}function ct(n){0>Ha||(n.current=Sb[Ha],Sb[Ha]=null,Ha--)}function Qe(n,t){Ha++,Sb[Ha]=n.current,n.current=t}var Wo={},pn=ts(Wo),Bn=ts(!1),Bs=Wo;function pl(n,t){var e=n.type.contextTypes;if(!e)return Wo;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in e)i[o]=t[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(n){return n=n.childContextTypes,n!=null}function If(){ct(Bn),ct(pn)}function sx(n,t,e){if(pn.current!==Wo)throw Error(se(168));Qe(pn,t),Qe(Bn,e)}function MS(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(se(108,M8(n)||"Unknown",i));return vt({},e,r)}function Nf(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wo,Bs=pn.current,Qe(pn,n),Qe(Bn,Bn.current),!0}function ax(n,t,e){var r=n.stateNode;if(!r)throw Error(se(169));e?(n=MS(n,t,Bs),r.__reactInternalMemoizedMergedChildContext=n,ct(Bn),ct(pn),Qe(pn,n)):ct(Bn),Qe(Bn,e)}var Oi=null,ag=!1,Sp=!1;function LS(n){Oi===null?Oi=[n]:Oi.push(n)}function JM(n){ag=!0,LS(n)}function ns(){if(!Sp&&Oi!==null){Sp=!0;var n=0,t=$e;try{var e=Oi;for($e=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}Oi=null,ag=!1}catch(i){throw Oi!==null&&(Oi=Oi.slice(n+1)),sS(Fy,ns),i}finally{$e=t,Sp=!1}}return null}var Ua=[],Wa=0,Mf=null,Lf=0,xr=[],kr=0,Fs=null,Li=1,Di="";function ms(n,t){Ua[Wa++]=Lf,Ua[Wa++]=Mf,Mf=n,Lf=t}function DS(n,t,e){xr[kr++]=Li,xr[kr++]=Di,xr[kr++]=Fs,Fs=n;var r=Li;n=Di;var i=32-Wr(r)-1;r&=~(1<<i),e+=1;var o=32-Wr(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Li=1<<32-Wr(t)+i|e<<i|r,Di=o+n}else Li=1<<o|e<<i|r,Di=n}function Gy(n){n.return!==null&&(ms(n,1),DS(n,1,0))}function Ky(n){for(;n===Mf;)Mf=Ua[--Wa],Ua[Wa]=null,Lf=Ua[--Wa],Ua[Wa]=null;for(;n===Fs;)Fs=xr[--kr],xr[kr]=null,Di=xr[--kr],xr[kr]=null,Li=xr[--kr],xr[kr]=null}var sr=null,Xn=null,ft=!1,Fr=null;function BS(n,t){var e=Cr(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function lx(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,sr=n,Xn=Mo(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,sr=n,Xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Fs!==null?{id:Li,overflow:Di}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Cr(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,sr=n,Xn=null,!0):!1;default:return!1}}function Ab(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Pb(n){if(ft){var t=Xn;if(t){var e=t;if(!lx(n,t)){if(Ab(n))throw Error(se(418));t=Mo(e.nextSibling);var r=sr;t&&lx(n,t)?BS(r,e):(n.flags=n.flags&-4097|2,ft=!1,sr=n)}}else{if(Ab(n))throw Error(se(418));n.flags=n.flags&-4097|2,ft=!1,sr=n}}}function cx(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sr=n}function Qd(n){if(n!==sr)return!1;if(!ft)return cx(n),ft=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!Cb(n.type,n.memoizedProps)),t&&(t=Xn)){if(Ab(n))throw FS(),Error(se(418));for(;t;)BS(n,t),t=Mo(t.nextSibling)}if(cx(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(se(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){Xn=Mo(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}Xn=null}}else Xn=sr?Mo(n.stateNode.nextSibling):null;return!0}function FS(){for(var n=Xn;n;)n=Mo(n.nextSibling)}function bl(){Xn=sr=null,ft=!1}function Zy(n){Fr===null?Fr=[n]:Fr.push(n)}var XM=ro.ReactCurrentBatchConfig;function fc(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(se(309));var r=e.stateNode}if(!r)throw Error(se(147,n));var i=r,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof n!="string")throw Error(se(284));if(!e._owner)throw Error(se(290,n))}return n}function eh(n,t){throw n=Object.prototype.toString.call(t),Error(se(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function ux(n){var t=n._init;return t(n._payload)}function VS(n){function t(p,b){if(n){var _=p.deletions;_===null?(p.deletions=[b],p.flags|=16):_.push(b)}}function e(p,b){if(!n)return null;for(;b!==null;)t(p,b),b=b.sibling;return null}function r(p,b){for(p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function i(p,b){return p=Fo(p,b),p.index=0,p.sibling=null,p}function o(p,b,_){return p.index=_,n?(_=p.alternate,_!==null?(_=_.index,_<b?(p.flags|=2,b):_):(p.flags|=2,b)):(p.flags|=1048576,b)}function s(p){return n&&p.alternate===null&&(p.flags|=2),p}function a(p,b,_,y){return b===null||b.tag!==6?(b=Mp(_,p.mode,y),b.return=p,b):(b=i(b,_),b.return=p,b)}function l(p,b,_,y){var k=_.type;return k===Fa?u(p,b,_.props.children,y,_.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wo&&ux(k)===b.type)?(y=i(b,_.props),y.ref=fc(p,b,_),y.return=p,y):(y=ef(_.type,_.key,_.props,null,p.mode,y),y.ref=fc(p,b,_),y.return=p,y)}function c(p,b,_,y){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Lp(_,p.mode,y),b.return=p,b):(b=i(b,_.children||[]),b.return=p,b)}function u(p,b,_,y,k){return b===null||b.tag!==7?(b=Ps(_,p.mode,y,k),b.return=p,b):(b=i(b,_),b.return=p,b)}function d(p,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Mp(""+b,p.mode,_),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hd:return _=ef(b.type,b.key,b.props,null,p.mode,_),_.ref=fc(p,null,b),_.return=p,_;case Ba:return b=Lp(b,p.mode,_),b.return=p,b;case wo:var y=b._init;return d(p,y(b._payload),_)}if(Dc(b)||lc(b))return b=Ps(b,p.mode,_,null),b.return=p,b;eh(p,b)}return null}function h(p,b,_,y){var k=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(p,b,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hd:return _.key===k?l(p,b,_,y):null;case Ba:return _.key===k?c(p,b,_,y):null;case wo:return k=_._init,h(p,b,k(_._payload),y)}if(Dc(_)||lc(_))return k!==null?null:u(p,b,_,y,null);eh(p,_)}return null}function f(p,b,_,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(_)||null,a(b,p,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hd:return p=p.get(y.key===null?_:y.key)||null,l(b,p,y,k);case Ba:return p=p.get(y.key===null?_:y.key)||null,c(b,p,y,k);case wo:var S=y._init;return f(p,b,_,S(y._payload),k)}if(Dc(y)||lc(y))return p=p.get(_)||null,u(b,p,y,k,null);eh(b,y)}return null}function m(p,b,_,y){for(var k=null,S=null,E=b,C=b=0,O=null;E!==null&&C<_.length;C++){E.index>C?(O=E,E=null):O=E.sibling;var T=h(p,E,_[C],y);if(T===null){E===null&&(E=O);break}n&&E&&T.alternate===null&&t(p,E),b=o(T,b,C),S===null?k=T:S.sibling=T,S=T,E=O}if(C===_.length)return e(p,E),ft&&ms(p,C),k;if(E===null){for(;C<_.length;C++)E=d(p,_[C],y),E!==null&&(b=o(E,b,C),S===null?k=E:S.sibling=E,S=E);return ft&&ms(p,C),k}for(E=r(p,E);C<_.length;C++)O=f(E,p,C,_[C],y),O!==null&&(n&&O.alternate!==null&&E.delete(O.key===null?C:O.key),b=o(O,b,C),S===null?k=O:S.sibling=O,S=O);return n&&E.forEach(function(A){return t(p,A)}),ft&&ms(p,C),k}function g(p,b,_,y){var k=lc(_);if(typeof k!="function")throw Error(se(150));if(_=k.call(_),_==null)throw Error(se(151));for(var S=k=null,E=b,C=b=0,O=null,T=_.next();E!==null&&!T.done;C++,T=_.next()){E.index>C?(O=E,E=null):O=E.sibling;var A=h(p,E,T.value,y);if(A===null){E===null&&(E=O);break}n&&E&&A.alternate===null&&t(p,E),b=o(A,b,C),S===null?k=A:S.sibling=A,S=A,E=O}if(T.done)return e(p,E),ft&&ms(p,C),k;if(E===null){for(;!T.done;C++,T=_.next())T=d(p,T.value,y),T!==null&&(b=o(T,b,C),S===null?k=T:S.sibling=T,S=T);return ft&&ms(p,C),k}for(E=r(p,E);!T.done;C++,T=_.next())T=f(E,p,C,T.value,y),T!==null&&(n&&T.alternate!==null&&E.delete(T.key===null?C:T.key),b=o(T,b,C),S===null?k=T:S.sibling=T,S=T);return n&&E.forEach(function(P){return t(p,P)}),ft&&ms(p,C),k}function v(p,b,_,y){if(typeof _=="object"&&_!==null&&_.type===Fa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Hd:e:{for(var k=_.key,S=b;S!==null;){if(S.key===k){if(k=_.type,k===Fa){if(S.tag===7){e(p,S.sibling),b=i(S,_.props.children),b.return=p,p=b;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wo&&ux(k)===S.type){e(p,S.sibling),b=i(S,_.props),b.ref=fc(p,S,_),b.return=p,p=b;break e}e(p,S);break}else t(p,S);S=S.sibling}_.type===Fa?(b=Ps(_.props.children,p.mode,y,_.key),b.return=p,p=b):(y=ef(_.type,_.key,_.props,null,p.mode,y),y.ref=fc(p,b,_),y.return=p,p=y)}return s(p);case Ba:e:{for(S=_.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){e(p,b.sibling),b=i(b,_.children||[]),b.return=p,p=b;break e}else{e(p,b);break}else t(p,b);b=b.sibling}b=Lp(_,p.mode,y),b.return=p,p=b}return s(p);case wo:return S=_._init,v(p,b,S(_._payload),y)}if(Dc(_))return m(p,b,_,y);if(lc(_))return g(p,b,_,y);eh(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(e(p,b.sibling),b=i(b,_),b.return=p,p=b):(e(p,b),b=Mp(_,p.mode,y),b.return=p,p=b),s(p)):e(p,b)}return v}var vl=VS(!0),jS=VS(!1),Df=ts(null),Bf=null,qa=null,Yy=null;function Jy(){Yy=qa=Bf=null}function Xy(n){var t=Df.current;ct(Df),n._currentValue=t}function Rb(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function sl(n,t){Bf=n,Yy=qa=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Ln=!0),n.firstContext=null)}function Ar(n){var t=n._currentValue;if(Yy!==n)if(n={context:n,memoizedValue:t,next:null},qa===null){if(Bf===null)throw Error(se(308));qa=n,Bf.dependencies={lanes:0,firstContext:n}}else qa=qa.next=n;return t}var ks=null;function Qy(n){ks===null?ks=[n]:ks.push(n)}function $S(n,t,e,r){var i=t.interleaved;return i===null?(e.next=e,Qy(t)):(e.next=i.next,i.next=e),t.interleaved=e,Ui(n,r)}function Ui(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var _o=!1;function e1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zS(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Fi(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ui(n,e)}return i=r.interleaved,i===null?(t.next=t,Qy(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ui(n,e)}function Kh(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,Vy(n,e)}}function dx(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var s={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?i=o=s:o=o.next=s,e=e.next}while(e!==null);o===null?i=o=t:o=o.next=t}else i=o=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Ff(n,t,e,r){var i=n.updateQueue;_o=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(h=t,f=e,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=vt({},d,h);break e;case 2:_o=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);js|=s,n.lanes=s,n.memoizedState=d}}function hx(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var vd={},mi=ts(vd),Su=ts(vd),Au=ts(vd);function Cs(n){if(n===vd)throw Error(se(174));return n}function t1(n,t){switch(Qe(Au,t),Qe(Su,n),Qe(mi,vd),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ub(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=ub(t,n)}ct(mi),Qe(mi,t)}function yl(){ct(mi),ct(Su),ct(Au)}function HS(n){Cs(Au.current);var t=Cs(mi.current),e=ub(t,n.type);t!==e&&(Qe(Su,n),Qe(mi,e))}function n1(n){Su.current===n&&(ct(mi),ct(Su))}var mt=ts(0);function Vf(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ap=[];function r1(){for(var n=0;n<Ap.length;n++)Ap[n]._workInProgressVersionPrimary=null;Ap.length=0}var Zh=ro.ReactCurrentDispatcher,Pp=ro.ReactCurrentBatchConfig,Vs=0,bt=null,Ft=null,qt=null,jf=!1,Kc=!1,Pu=0,QM=0;function cn(){throw Error(se(321))}function i1(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Kr(n[e],t[e]))return!1;return!0}function o1(n,t,e,r,i,o){if(Vs=o,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zh.current=n===null||n.memoizedState===null?rL:iL,n=e(r,i),Kc){o=0;do{if(Kc=!1,Pu=0,25<=o)throw Error(se(301));o+=1,qt=Ft=null,t.updateQueue=null,Zh.current=oL,n=e(r,i)}while(Kc)}if(Zh.current=$f,t=Ft!==null&&Ft.next!==null,Vs=0,qt=Ft=bt=null,jf=!1,t)throw Error(se(300));return n}function s1(){var n=Pu!==0;return Pu=0,n}function si(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?bt.memoizedState=qt=n:qt=qt.next=n,qt}function Pr(){if(Ft===null){var n=bt.alternate;n=n!==null?n.memoizedState:null}else n=Ft.next;var t=qt===null?bt.memoizedState:qt.next;if(t!==null)qt=t,Ft=n;else{if(n===null)throw Error(se(310));Ft=n,n={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},qt===null?bt.memoizedState=qt=n:qt=qt.next=n}return qt}function Ru(n,t){return typeof t=="function"?t(n):t}function Rp(n){var t=Pr(),e=t.queue;if(e===null)throw Error(se(311));e.lastRenderedReducer=n;var r=Ft,i=r.baseQueue,o=e.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,e.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Vs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,bt.lanes|=u,js|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Kr(r,t.memoizedState)||(Ln=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,e.lastRenderedState=r}if(n=e.interleaved,n!==null){i=n;do o=i.lane,bt.lanes|=o,js|=o,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Op(n){var t=Pr(),e=t.queue;if(e===null)throw Error(se(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,o=t.memoizedState;if(i!==null){e.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);Kr(o,t.memoizedState)||(Ln=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,r]}function US(){}function WS(n,t){var e=bt,r=Pr(),i=t(),o=!Kr(r.memoizedState,i);if(o&&(r.memoizedState=i,Ln=!0),r=r.queue,a1(KS.bind(null,e,r,n),[n]),r.getSnapshot!==t||o||qt!==null&&qt.memoizedState.tag&1){if(e.flags|=2048,Ou(9,GS.bind(null,e,r,i,t),void 0,null),Yt===null)throw Error(se(349));Vs&30||qS(e,t,i)}return i}function qS(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function GS(n,t,e,r){t.value=e,t.getSnapshot=r,ZS(t)&&YS(n)}function KS(n,t,e){return e(function(){ZS(t)&&YS(n)})}function ZS(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Kr(n,e)}catch{return!0}}function YS(n){var t=Ui(n,1);t!==null&&qr(t,n,1,-1)}function fx(n){var t=si();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:n},t.queue=n,n=n.dispatch=nL.bind(null,bt,n),[t.memoizedState,n]}function Ou(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function JS(){return Pr().memoizedState}function Yh(n,t,e,r){var i=si();bt.flags|=n,i.memoizedState=Ou(1|t,e,void 0,r===void 0?null:r)}function lg(n,t,e,r){var i=Pr();r=r===void 0?null:r;var o=void 0;if(Ft!==null){var s=Ft.memoizedState;if(o=s.destroy,r!==null&&i1(r,s.deps)){i.memoizedState=Ou(t,e,o,r);return}}bt.flags|=n,i.memoizedState=Ou(1|t,e,o,r)}function mx(n,t){return Yh(8390656,8,n,t)}function a1(n,t){return lg(2048,8,n,t)}function XS(n,t){return lg(4,2,n,t)}function QS(n,t){return lg(4,4,n,t)}function eA(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function tA(n,t,e){return e=e!=null?e.concat([n]):null,lg(4,4,eA.bind(null,t,n),e)}function l1(){}function nA(n,t){var e=Pr();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&i1(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function rA(n,t){var e=Pr();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&i1(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function iA(n,t,e){return Vs&21?(Kr(e,t)||(e=cS(),bt.lanes|=e,js|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Ln=!0),n.memoizedState=e)}function eL(n,t){var e=$e;$e=e!==0&&4>e?e:4,n(!0);var r=Pp.transition;Pp.transition={};try{n(!1),t()}finally{$e=e,Pp.transition=r}}function oA(){return Pr().memoizedState}function tL(n,t,e){var r=Bo(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},sA(n))aA(t,e);else if(e=$S(n,t,e,r),e!==null){var i=_n();qr(e,n,r,i),lA(e,t,r)}}function nL(n,t,e){var r=Bo(n),i={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(sA(n))aA(t,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,e);if(i.hasEagerState=!0,i.eagerState=a,Kr(a,s)){var l=t.interleaved;l===null?(i.next=i,Qy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=$S(n,t,i,r),e!==null&&(i=_n(),qr(e,n,r,i),lA(e,t,r))}}function sA(n){var t=n.alternate;return n===bt||t!==null&&t===bt}function aA(n,t){Kc=jf=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function lA(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,Vy(n,e)}}var $f={readContext:Ar,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},rL={readContext:Ar,useCallback:function(n,t){return si().memoizedState=[n,t===void 0?null:t],n},useContext:Ar,useEffect:mx,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,Yh(4194308,4,eA.bind(null,t,n),e)},useLayoutEffect:function(n,t){return Yh(4194308,4,n,t)},useInsertionEffect:function(n,t){return Yh(4,2,n,t)},useMemo:function(n,t){var e=si();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=si();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=tL.bind(null,bt,n),[r.memoizedState,n]},useRef:function(n){var t=si();return n={current:n},t.memoizedState=n},useState:fx,useDebugValue:l1,useDeferredValue:function(n){return si().memoizedState=n},useTransition:function(){var n=fx(!1),t=n[0];return n=eL.bind(null,n[1]),si().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=bt,i=si();if(ft){if(e===void 0)throw Error(se(407));e=e()}else{if(e=t(),Yt===null)throw Error(se(349));Vs&30||qS(r,t,e)}i.memoizedState=e;var o={value:e,getSnapshot:t};return i.queue=o,mx(KS.bind(null,r,o,n),[n]),r.flags|=2048,Ou(9,GS.bind(null,r,o,e,t),void 0,null),e},useId:function(){var n=si(),t=Yt.identifierPrefix;if(ft){var e=Di,r=Li;e=(r&~(1<<32-Wr(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=Pu++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=QM++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},iL={readContext:Ar,useCallback:nA,useContext:Ar,useEffect:a1,useImperativeHandle:tA,useInsertionEffect:XS,useLayoutEffect:QS,useMemo:rA,useReducer:Rp,useRef:JS,useState:function(){return Rp(Ru)},useDebugValue:l1,useDeferredValue:function(n){var t=Pr();return iA(t,Ft.memoizedState,n)},useTransition:function(){var n=Rp(Ru)[0],t=Pr().memoizedState;return[n,t]},useMutableSource:US,useSyncExternalStore:WS,useId:oA,unstable_isNewReconciler:!1},oL={readContext:Ar,useCallback:nA,useContext:Ar,useEffect:a1,useImperativeHandle:tA,useInsertionEffect:XS,useLayoutEffect:QS,useMemo:rA,useReducer:Op,useRef:JS,useState:function(){return Op(Ru)},useDebugValue:l1,useDeferredValue:function(n){var t=Pr();return Ft===null?t.memoizedState=n:iA(t,Ft.memoizedState,n)},useTransition:function(){var n=Op(Ru)[0],t=Pr().memoizedState;return[n,t]},useMutableSource:US,useSyncExternalStore:WS,useId:oA,unstable_isNewReconciler:!1};function Dr(n,t){if(n&&n.defaultProps){t=vt({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function Ob(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:vt({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var cg={isMounted:function(n){return(n=n._reactInternals)?Qs(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=_n(),i=Bo(n),o=Fi(r,i);o.payload=t,e!=null&&(o.callback=e),t=Lo(n,o,i),t!==null&&(qr(t,n,i,r),Kh(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=_n(),i=Bo(n),o=Fi(r,i);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=Lo(n,o,i),t!==null&&(qr(t,n,i,r),Kh(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=_n(),r=Bo(n),i=Fi(e,r);i.tag=2,t!=null&&(i.callback=t),t=Lo(n,i,r),t!==null&&(qr(t,n,r,e),Kh(t,n,r))}};function gx(n,t,e,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ku(e,r)||!ku(i,o):!0}function cA(n,t,e){var r=!1,i=Wo,o=t.contextType;return typeof o=="object"&&o!==null?o=Ar(o):(i=Fn(t)?Bs:pn.current,r=t.contextTypes,o=(r=r!=null)?pl(n,i):Wo),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cg,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),t}function px(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&cg.enqueueReplaceState(t,t.state,null)}function Ib(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs={},e1(n);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ar(o):(o=Fn(t)?Bs:pn.current,i.context=pl(n,o)),i.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ob(n,t,o,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cg.enqueueReplaceState(i,i.state,null),Ff(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function wl(n,t){try{var e="",r=t;do e+=N8(r),r=r.return;while(r);var i=e}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:i,digest:null}}function Ip(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function Nb(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var sL=typeof WeakMap=="function"?WeakMap:Map;function uA(n,t,e){e=Fi(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){Hf||(Hf=!0,Hb=r),Nb(n,t)},e}function dA(n,t,e){e=Fi(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return r(i)},e.callback=function(){Nb(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Nb(n,t),typeof r!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),e}function bx(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new sL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(i.add(e),n=wL.bind(null,n,t,e),t.then(n,n))}function vx(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function yx(n,t,e,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Fi(-1,1),t.tag=2,Lo(e,t,1))),e.lanes|=1),n)}var aL=ro.ReactCurrentOwner,Ln=!1;function vn(n,t,e,r){t.child=n===null?jS(t,null,e,r):vl(t,n.child,e,r)}function wx(n,t,e,r,i){e=e.render;var o=t.ref;return sl(t,i),r=o1(n,t,e,r,o,i),e=s1(),n!==null&&!Ln?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Wi(n,t,i)):(ft&&e&&Gy(t),t.flags|=1,vn(n,t,r,i),t.child)}function _x(n,t,e,r,i){if(n===null){var o=e.type;return typeof o=="function"&&!p1(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,hA(n,t,o,r,i)):(n=ef(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(e=e.compare,e=e!==null?e:ku,e(s,r)&&n.ref===t.ref)return Wi(n,t,i)}return t.flags|=1,n=Fo(o,r),n.ref=t.ref,n.return=t,t.child=n}function hA(n,t,e,r,i){if(n!==null){var o=n.memoizedProps;if(ku(o,r)&&n.ref===t.ref)if(Ln=!1,t.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(Ln=!0);else return t.lanes=n.lanes,Wi(n,t,i)}return Mb(n,t,e,r,i)}function fA(n,t,e){var r=t.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ka,Wn),Wn|=e;else{if(!(e&1073741824))return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,Qe(Ka,Wn),Wn|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:e,Qe(Ka,Wn),Wn|=r}else o!==null?(r=o.baseLanes|e,t.memoizedState=null):r=e,Qe(Ka,Wn),Wn|=r;return vn(n,t,i,e),t.child}function mA(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Mb(n,t,e,r,i){var o=Fn(e)?Bs:pn.current;return o=pl(t,o),sl(t,i),e=o1(n,t,e,r,o,i),r=s1(),n!==null&&!Ln?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Wi(n,t,i)):(ft&&r&&Gy(t),t.flags|=1,vn(n,t,e,i),t.child)}function xx(n,t,e,r,i){if(Fn(e)){var o=!0;Nf(t)}else o=!1;if(sl(t,i),t.stateNode===null)Jh(n,t),cA(t,e,r),Ib(t,e,r,i),r=!0;else if(n===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=e.contextType;typeof c=="object"&&c!==null?c=Ar(c):(c=Fn(e)?Bs:pn.current,c=pl(t,c));var u=e.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&px(t,s,r,c),_o=!1;var h=t.memoizedState;s.state=h,Ff(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Bn.current||_o?(typeof u=="function"&&(Ob(t,e,u,r),l=t.memoizedState),(a=_o||gx(t,e,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zS(n,t),a=t.memoizedProps,c=t.type===t.elementType?a:Dr(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l=e.contextType,typeof l=="object"&&l!==null?l=Ar(l):(l=Fn(e)?Bs:pn.current,l=pl(t,l));var f=e.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&px(t,s,r,l),_o=!1,h=t.memoizedState,s.state=h,Ff(t,r,s,i);var m=t.memoizedState;a!==d||h!==m||Bn.current||_o?(typeof f=="function"&&(Ob(t,e,f,r),m=t.memoizedState),(c=_o||gx(t,e,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(t.flags|=1024),r=!1)}return Lb(n,t,e,r,o,i)}function Lb(n,t,e,r,i,o){mA(n,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&ax(t,e,!1),Wi(n,t,o);r=t.stateNode,aL.current=t;var a=s&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&s?(t.child=vl(t,n.child,null,o),t.child=vl(t,null,a,o)):vn(n,t,a,o),t.memoizedState=r.state,i&&ax(t,e,!0),t.child}function gA(n){var t=n.stateNode;t.pendingContext?sx(n,t.pendingContext,t.pendingContext!==t.context):t.context&&sx(n,t.context,!1),t1(n,t.containerInfo)}function kx(n,t,e,r,i){return bl(),Zy(i),t.flags|=256,vn(n,t,e,r),t.child}var Db={dehydrated:null,treeContext:null,retryLane:0};function Bb(n){return{baseLanes:n,cachePool:null,transitions:null}}function pA(n,t,e){var r=t.pendingProps,i=mt.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Qe(mt,i&1),n===null)return Pb(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,n=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=hg(s,r,0,null),n=Ps(n,r,e,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=Bb(e),t.memoizedState=Db,n):c1(t,s));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return lL(n,t,s,r,a,i,e);if(o){o=r.fallback,s=t.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Fo(a,o):(o=Ps(o,s,e,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=n.child.memoizedState,s=s===null?Bb(e):{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~e,t.memoizedState=Db,r}return o=n.child,n=o.sibling,r=Fo(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function c1(n,t){return t=hg({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function th(n,t,e,r){return r!==null&&Zy(r),vl(t,n.child,null,e),n=c1(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function lL(n,t,e,r,i,o,s){if(e)return t.flags&256?(t.flags&=-257,r=Ip(Error(se(422))),th(n,t,s,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=hg({mode:"visible",children:r.children},i,0,null),o=Ps(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&vl(t,n.child,null,s),t.child.memoizedState=Bb(s),t.memoizedState=Db,o);if(!(t.mode&1))return th(n,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(se(419)),r=Ip(o,r,void 0),th(n,t,s,r)}if(a=(s&n.childLanes)!==0,Ln||a){if(r=Yt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ui(n,i),qr(r,n,i,-1))}return g1(),r=Ip(Error(se(421))),th(n,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=_L.bind(null,n),i._reactRetry=t,null):(n=o.treeContext,Xn=Mo(i.nextSibling),sr=t,ft=!0,Fr=null,n!==null&&(xr[kr++]=Li,xr[kr++]=Di,xr[kr++]=Fs,Li=n.id,Di=n.overflow,Fs=t),t=c1(t,r.children),t.flags|=4096,t)}function Cx(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),Rb(n.return,t,e)}function Np(n,t,e,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=e,o.tailMode=i)}function bA(n,t,e){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(vn(n,t,r.children,e),r=mt.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cx(n,e,t);else if(n.tag===19)Cx(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Qe(mt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&Vf(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),Np(t,!1,i,e,o);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&Vf(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}Np(t,!0,e,null,o);break;case"together":Np(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jh(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Wi(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),js|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(se(153));if(t.child!==null){for(n=t.child,e=Fo(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Fo(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function cL(n,t,e){switch(t.tag){case 3:gA(t),bl();break;case 5:HS(t);break;case 1:Fn(t.type)&&Nf(t);break;case 4:t1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Qe(Df,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qe(mt,mt.current&1),t.flags|=128,null):e&t.child.childLanes?pA(n,t,e):(Qe(mt,mt.current&1),n=Wi(n,t,e),n!==null?n.sibling:null);Qe(mt,mt.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return bA(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(mt,mt.current),r)break;return null;case 22:case 23:return t.lanes=0,fA(n,t,e)}return Wi(n,t,e)}var vA,Fb,yA,wA;vA=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Fb=function(){};yA=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,Cs(mi.current);var o=null;switch(e){case"input":i=sb(n,i),r=sb(n,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=cb(n,i),r=cb(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Of)}db(e,r);var s;e=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(e||(e={}),e[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pu.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(e||(e={}),e[s]=l[s])}else e||(o||(o=[]),o.push(c,e)),e=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rt("scroll",n),o||a===l||(o=[])):(o=o||[]).push(c,l))}e&&(o=o||[]).push("style",e);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};wA=function(n,t,e,r){e!==r&&(t.flags|=4)};function mc(n,t){if(!ft)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function un(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function uL(n,t,e){var r=t.pendingProps;switch(Ky(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return Fn(t.type)&&If(),un(t),null;case 3:return r=t.stateNode,yl(),ct(Bn),ct(pn),r1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Qd(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(qb(Fr),Fr=null))),Fb(n,t),un(t),null;case 5:n1(t);var i=Cs(Au.current);if(e=t.type,n!==null&&t.stateNode!=null)yA(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(se(166));return un(t),null}if(n=Cs(mi.current),Qd(t)){r=t.stateNode,e=t.type;var o=t.memoizedProps;switch(r[ui]=t,r[Tu]=o,n=(t.mode&1)!==0,e){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Fc.length;i++)rt(Fc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":N_(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":L_(r,o),rt("invalid",r)}db(e,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Xd(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Xd(r.textContent,a,n),i=["children",""+a]):pu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(e){case"input":Ud(r),M_(r,o,!0);break;case"textarea":Ud(r),D_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Of)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=K5(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(e,{is:r.is}):(n=s.createElement(e),e==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,e),n[ui]=t,n[Tu]=r,vA(n,t,!1,!1),t.stateNode=n;e:{switch(s=hb(e,r),e){case"dialog":rt("cancel",n),rt("close",n),i=r;break;case"iframe":case"object":case"embed":rt("load",n),i=r;break;case"video":case"audio":for(i=0;i<Fc.length;i++)rt(Fc[i],n);i=r;break;case"source":rt("error",n),i=r;break;case"img":case"image":case"link":rt("error",n),rt("load",n),i=r;break;case"details":rt("toggle",n),i=r;break;case"input":N_(n,r),i=sb(n,r),rt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),rt("invalid",n);break;case"textarea":L_(n,r),i=cb(n,r),rt("invalid",n);break;default:i=r}db(e,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?J5(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z5(n,l)):o==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&bu(n,l):typeof l=="number"&&bu(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",n):l!=null&&Ny(n,o,l,s))}switch(e){case"input":Ud(n),M_(n,r,!1);break;case"textarea":Ud(n),D_(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Uo(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?nl(n,!!r.multiple,o,!1):r.defaultValue!=null&&nl(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Of)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(n&&t.stateNode!=null)wA(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(se(166));if(e=Cs(Au.current),Cs(mi.current),Qd(t)){if(r=t.stateNode,e=t.memoizedProps,r[ui]=t,(o=r.nodeValue!==e)&&(n=sr,n!==null))switch(n.tag){case 3:Xd(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xd(r.nodeValue,e,(n.mode&1)!==0)}o&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[ui]=t,t.stateNode=r}return un(t),null;case 13:if(ct(mt),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ft&&Xn!==null&&t.mode&1&&!(t.flags&128))FS(),bl(),t.flags|=98560,o=!1;else if(o=Qd(t),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(se(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[ui]=t}else bl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;un(t),o=!1}else Fr!==null&&(qb(Fr),Fr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||mt.current&1?Vt===0&&(Vt=3):g1())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return yl(),Fb(n,t),n===null&&Cu(t.stateNode.containerInfo),un(t),null;case 10:return Xy(t.type._context),un(t),null;case 17:return Fn(t.type)&&If(),un(t),null;case 19:if(ct(mt),o=t.memoizedState,o===null)return un(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)mc(o,!1);else{if(Vt!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(s=Vf(n),s!==null){for(t.flags|=128,mc(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)o=e,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Qe(mt,mt.current&1|2),t.child}n=n.sibling}o.tail!==null&&Pt()>_l&&(t.flags|=128,r=!0,mc(o,!1),t.lanes=4194304)}else{if(!r)if(n=Vf(s),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),mc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ft)return un(t),null}else 2*Pt()-o.renderingStartTime>_l&&e!==1073741824&&(t.flags|=128,r=!0,mc(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(e=o.last,e!==null?e.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pt(),t.sibling=null,e=mt.current,Qe(mt,r?e&1|2:e&1),t):(un(t),null);case 22:case 23:return m1(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wn&1073741824&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function dL(n,t){switch(Ky(t),t.tag){case 1:return Fn(t.type)&&If(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return yl(),ct(Bn),ct(pn),r1(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return n1(t),null;case 13:if(ct(mt),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(se(340));bl()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return ct(mt),null;case 4:return yl(),null;case 10:return Xy(t.type._context),null;case 22:case 23:return m1(),null;case 24:return null;default:return null}}var nh=!1,mn=!1,hL=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ga(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){_t(n,t,r)}else e.current=null}function Vb(n,t,e){try{e()}catch(r){_t(n,t,r)}}var Ex=!1;function fL(n,t){if(xb=Af,n=ES(),qy(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var f;d!==e||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===n)break t;if(h===e&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}e=a===-1||l===-1?null:{start:a,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(kb={focusedElem:n,selectionRange:e},Af=!1,ge=t;ge!==null;)if(t=ge,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,ge=n;else for(;ge!==null;){t=ge;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,p=t.stateNode,b=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Dr(t.type,g),v);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(y){_t(t,t.return,y)}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}return m=Ex,Ex=!1,m}function Zc(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&Vb(t,e,o)}i=i.next}while(i!==r)}}function ug(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function jb(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function _A(n){var t=n.alternate;t!==null&&(n.alternate=null,_A(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[ui],delete t[Tu],delete t[Tb],delete t[ZM],delete t[YM])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function xA(n){return n.tag===5||n.tag===3||n.tag===4}function Tx(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xA(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $b(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Of));else if(r!==4&&(n=n.child,n!==null))for($b(n,t,e),n=n.sibling;n!==null;)$b(n,t,e),n=n.sibling}function zb(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(zb(n,t,e),n=n.sibling;n!==null;)zb(n,t,e),n=n.sibling}var Qt=null,Br=!1;function co(n,t,e){for(e=e.child;e!==null;)kA(n,t,e),e=e.sibling}function kA(n,t,e){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(ng,e)}catch{}switch(e.tag){case 5:mn||Ga(e,t);case 6:var r=Qt,i=Br;Qt=null,co(n,t,e),Qt=r,Br=i,Qt!==null&&(Br?(n=Qt,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Qt.removeChild(e.stateNode));break;case 18:Qt!==null&&(Br?(n=Qt,e=e.stateNode,n.nodeType===8?Tp(n.parentNode,e):n.nodeType===1&&Tp(n,e),_u(n)):Tp(Qt,e.stateNode));break;case 4:r=Qt,i=Br,Qt=e.stateNode.containerInfo,Br=!0,co(n,t,e),Qt=r,Br=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Vb(e,t,s),i=i.next}while(i!==r)}co(n,t,e);break;case 1:if(!mn&&(Ga(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(a){_t(e,t,a)}co(n,t,e);break;case 21:co(n,t,e);break;case 22:e.mode&1?(mn=(r=mn)||e.memoizedState!==null,co(n,t,e),mn=r):co(n,t,e);break;default:co(n,t,e)}}function Sx(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new hL),t.forEach(function(r){var i=xL.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function Lr(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r];try{var o=n,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,Br=!1;break e;case 3:Qt=a.stateNode.containerInfo,Br=!0;break e;case 4:Qt=a.stateNode.containerInfo,Br=!0;break e}a=a.return}if(Qt===null)throw Error(se(160));kA(o,s,i),Qt=null,Br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_t(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CA(t,n),t=t.sibling}function CA(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Lr(t,n),ti(n),r&4){try{Zc(3,n,n.return),ug(3,n)}catch(g){_t(n,n.return,g)}try{Zc(5,n,n.return)}catch(g){_t(n,n.return,g)}}break;case 1:Lr(t,n),ti(n),r&512&&e!==null&&Ga(e,e.return);break;case 5:if(Lr(t,n),ti(n),r&512&&e!==null&&Ga(e,e.return),n.flags&32){var i=n.stateNode;try{bu(i,"")}catch(g){_t(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=e!==null?e.memoizedProps:o,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&q5(i,o),hb(a,s);var c=hb(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?J5(i,d):u==="dangerouslySetInnerHTML"?Z5(i,d):u==="children"?bu(i,d):Ny(i,u,d,c)}switch(a){case"input":ab(i,o);break;case"textarea":G5(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?nl(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?nl(i,!!o.multiple,o.defaultValue,!0):nl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Tu]=o}catch(g){_t(n,n.return,g)}}break;case 6:if(Lr(t,n),ti(n),r&4){if(n.stateNode===null)throw Error(se(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(g){_t(n,n.return,g)}}break;case 3:if(Lr(t,n),ti(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{_u(t.containerInfo)}catch(g){_t(n,n.return,g)}break;case 4:Lr(t,n),ti(n);break;case 13:Lr(t,n),ti(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(h1=Pt())),r&4&&Sx(n);break;case 22:if(u=e!==null&&e.memoizedState!==null,n.mode&1?(mn=(c=mn)||u,Lr(t,n),mn=c):Lr(t,n),ti(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ge=n,u=n.child;u!==null;){for(d=ge=u;ge!==null;){switch(h=ge,f=h.child,h.tag){case 0:case 11:case 14:case 15:Zc(4,h,h.return);break;case 1:Ga(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,e=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_t(r,e,g)}}break;case 5:Ga(h,h.return);break;case 22:if(h.memoizedState!==null){Px(d);continue}}f!==null?(f.return=h,ge=f):Px(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Y5("display",s))}catch(g){_t(n,n.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){_t(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lr(t,n),ti(n),r&4&&Sx(n);break;case 21:break;default:Lr(t,n),ti(n)}}function ti(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(xA(e)){var r=e;break e}e=e.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bu(i,""),r.flags&=-33);var o=Tx(n);zb(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Tx(n);$b(n,a,s);break;default:throw Error(se(161))}}catch(l){_t(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function mL(n,t,e){ge=n,EA(n)}function EA(n,t,e){for(var r=(n.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||nh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mn;a=nh;var c=mn;if(nh=s,(mn=l)&&!c)for(ge=i;ge!==null;)s=ge,l=s.child,s.tag===22&&s.memoizedState!==null?Rx(i):l!==null?(l.return=s,ge=l):Rx(i);for(;o!==null;)ge=o,EA(o),o=o.sibling;ge=i,nh=a,mn=c}Ax(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):Ax(n)}}function Ax(n){for(;ge!==null;){var t=ge;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mn||ug(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mn)if(e===null)r.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:Dr(t.type,e.memoizedProps);r.componentDidUpdate(i,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&hx(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}hx(t,s,e)}break;case 5:var a=t.stateNode;if(e===null&&t.flags&4){e=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&_u(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}mn||t.flags&512&&jb(t)}catch(h){_t(t,t.return,h)}}if(t===n){ge=null;break}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}}function Px(n){for(;ge!==null;){var t=ge;if(t===n){ge=null;break}var e=t.sibling;if(e!==null){e.return=t.return,ge=e;break}ge=t.return}}function Rx(n){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{ug(4,t)}catch(l){_t(t,e,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){_t(t,i,l)}}var o=t.return;try{jb(t)}catch(l){_t(t,o,l)}break;case 5:var s=t.return;try{jb(t)}catch(l){_t(t,s,l)}}}catch(l){_t(t,t.return,l)}if(t===n){ge=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ge=a;break}ge=t.return}}var gL=Math.ceil,zf=ro.ReactCurrentDispatcher,u1=ro.ReactCurrentOwner,Er=ro.ReactCurrentBatchConfig,Be=0,Yt=null,Mt=null,on=0,Wn=0,Ka=ts(0),Vt=0,Iu=null,js=0,dg=0,d1=0,Yc=null,Nn=null,h1=0,_l=1/0,Ri=null,Hf=!1,Hb=null,Do=null,rh=!1,Ao=null,Uf=0,Jc=0,Ub=null,Xh=-1,Qh=0;function _n(){return Be&6?Pt():Xh!==-1?Xh:Xh=Pt()}function Bo(n){return n.mode&1?Be&2&&on!==0?on&-on:XM.transition!==null?(Qh===0&&(Qh=cS()),Qh):(n=$e,n!==0||(n=window.event,n=n===void 0?16:pS(n.type)),n):1}function qr(n,t,e,r){if(50<Jc)throw Jc=0,Ub=null,Error(se(185));gd(n,e,r),(!(Be&2)||n!==Yt)&&(n===Yt&&(!(Be&2)&&(dg|=e),Vt===4&&Co(n,on)),Vn(n,r),e===1&&Be===0&&!(t.mode&1)&&(_l=Pt()+500,ag&&ns()))}function Vn(n,t){var e=n.callbackNode;X8(n,t);var r=Sf(n,n===Yt?on:0);if(r===0)e!==null&&V_(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&V_(e),t===1)n.tag===0?JM(Ox.bind(null,n)):LS(Ox.bind(null,n)),GM(function(){!(Be&6)&&ns()}),e=null;else{switch(uS(r)){case 1:e=Fy;break;case 4:e=aS;break;case 16:e=Tf;break;case 536870912:e=lS;break;default:e=Tf}e=NA(e,TA.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function TA(n,t){if(Xh=-1,Qh=0,Be&6)throw Error(se(327));var e=n.callbackNode;if(al()&&n.callbackNode!==e)return null;var r=Sf(n,n===Yt?on:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=Wf(n,r);else{t=r;var i=Be;Be|=2;var o=AA();(Yt!==n||on!==t)&&(Ri=null,_l=Pt()+500,As(n,t));do try{vL();break}catch(a){SA(n,a)}while(!0);Jy(),zf.current=o,Be=i,Mt!==null?t=0:(Yt=null,on=0,t=Vt)}if(t!==0){if(t===2&&(i=bb(n),i!==0&&(r=i,t=Wb(n,i))),t===1)throw e=Iu,As(n,0),Co(n,r),Vn(n,Pt()),e;if(t===6)Co(n,r);else{if(i=n.current.alternate,!(r&30)&&!pL(i)&&(t=Wf(n,r),t===2&&(o=bb(n),o!==0&&(r=o,t=Wb(n,o))),t===1))throw e=Iu,As(n,0),Co(n,r),Vn(n,Pt()),e;switch(n.finishedWork=i,n.finishedLanes=r,t){case 0:case 1:throw Error(se(345));case 2:gs(n,Nn,Ri);break;case 3:if(Co(n,r),(r&130023424)===r&&(t=h1+500-Pt(),10<t)){if(Sf(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){_n(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Eb(gs.bind(null,n,Nn,Ri),t);break}gs(n,Nn,Ri);break;case 4:if(Co(n,r),(r&4194240)===r)break;for(t=n.eventTimes,i=-1;0<r;){var s=31-Wr(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gL(r/1960))-r,10<r){n.timeoutHandle=Eb(gs.bind(null,n,Nn,Ri),r);break}gs(n,Nn,Ri);break;case 5:gs(n,Nn,Ri);break;default:throw Error(se(329))}}}return Vn(n,Pt()),n.callbackNode===e?TA.bind(null,n):null}function Wb(n,t){var e=Yc;return n.current.memoizedState.isDehydrated&&(As(n,t).flags|=256),n=Wf(n,t),n!==2&&(t=Nn,Nn=e,t!==null&&qb(t)),n}function qb(n){Nn===null?Nn=n:Nn.push.apply(Nn,n)}function pL(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var i=e[r],o=i.getSnapshot;i=i.value;try{if(!Kr(o(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Co(n,t){for(t&=~d1,t&=~dg,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Wr(t),r=1<<e;n[e]=-1,t&=~r}}function Ox(n){if(Be&6)throw Error(se(327));al();var t=Sf(n,0);if(!(t&1))return Vn(n,Pt()),null;var e=Wf(n,t);if(n.tag!==0&&e===2){var r=bb(n);r!==0&&(t=r,e=Wb(n,r))}if(e===1)throw e=Iu,As(n,0),Co(n,t),Vn(n,Pt()),e;if(e===6)throw Error(se(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,gs(n,Nn,Ri),Vn(n,Pt()),null}function f1(n,t){var e=Be;Be|=1;try{return n(t)}finally{Be=e,Be===0&&(_l=Pt()+500,ag&&ns())}}function $s(n){Ao!==null&&Ao.tag===0&&!(Be&6)&&al();var t=Be;Be|=1;var e=Er.transition,r=$e;try{if(Er.transition=null,$e=1,n)return n()}finally{$e=r,Er.transition=e,Be=t,!(Be&6)&&ns()}}function m1(){Wn=Ka.current,ct(Ka)}function As(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,qM(e)),Mt!==null)for(e=Mt.return;e!==null;){var r=e;switch(Ky(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&If();break;case 3:yl(),ct(Bn),ct(pn),r1();break;case 5:n1(r);break;case 4:yl();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:Xy(r.type._context);break;case 22:case 23:m1()}e=e.return}if(Yt=n,Mt=n=Fo(n.current,null),on=Wn=t,Vt=0,Iu=null,d1=dg=js=0,Nn=Yc=null,ks!==null){for(t=0;t<ks.length;t++)if(e=ks[t],r=e.interleaved,r!==null){e.interleaved=null;var i=r.next,o=e.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}e.pending=r}ks=null}return n}function SA(n,t){do{var e=Mt;try{if(Jy(),Zh.current=$f,jf){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jf=!1}if(Vs=0,qt=Ft=bt=null,Kc=!1,Pu=0,u1.current=null,e===null||e.return===null){Vt=1,Iu=t,Mt=null;break}e:{var o=n,s=e.return,a=e,l=t;if(t=on,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=vx(s);if(f!==null){f.flags&=-257,yx(f,s,a,o,t),f.mode&1&&bx(o,c,t),t=f,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){bx(o,c,t),g1();break e}l=Error(se(426))}}else if(ft&&a.mode&1){var v=vx(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),yx(v,s,a,o,t),Zy(wl(l,a));break e}}o=l=wl(l,a),Vt!==4&&(Vt=2),Yc===null?Yc=[o]:Yc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=uA(o,l,t);dx(o,p);break e;case 1:a=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Do===null||!Do.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=dA(o,a,t);dx(o,y);break e}}o=o.return}while(o!==null)}RA(e)}catch(k){t=k,Mt===e&&e!==null&&(Mt=e=e.return);continue}break}while(!0)}function AA(){var n=zf.current;return zf.current=$f,n===null?$f:n}function g1(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Yt===null||!(js&268435455)&&!(dg&268435455)||Co(Yt,on)}function Wf(n,t){var e=Be;Be|=2;var r=AA();(Yt!==n||on!==t)&&(Ri=null,As(n,t));do try{bL();break}catch(i){SA(n,i)}while(!0);if(Jy(),Be=e,zf.current=r,Mt!==null)throw Error(se(261));return Yt=null,on=0,Vt}function bL(){for(;Mt!==null;)PA(Mt)}function vL(){for(;Mt!==null&&!H8();)PA(Mt)}function PA(n){var t=IA(n.alternate,n,Wn);n.memoizedProps=n.pendingProps,t===null?RA(n):Mt=t,u1.current=null}function RA(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=dL(e,t),e!==null){e.flags&=32767,Mt=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Vt=6,Mt=null;return}}else if(e=uL(e,t,Wn),e!==null){Mt=e;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=n}while(t!==null);Vt===0&&(Vt=5)}function gs(n,t,e){var r=$e,i=Er.transition;try{Er.transition=null,$e=1,yL(n,t,e,r)}finally{Er.transition=i,$e=r}return null}function yL(n,t,e,r){do al();while(Ao!==null);if(Be&6)throw Error(se(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(se(177));n.callbackNode=null,n.callbackPriority=0;var o=e.lanes|e.childLanes;if(Q8(n,o),n===Yt&&(Mt=Yt=null,on=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||rh||(rh=!0,NA(Tf,function(){return al(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=Er.transition,Er.transition=null;var s=$e;$e=1;var a=Be;Be|=4,u1.current=null,fL(n,e),CA(e,n),VM(kb),Af=!!xb,kb=xb=null,n.current=e,mL(e),U8(),Be=a,$e=s,Er.transition=o}else n.current=e;if(rh&&(rh=!1,Ao=n,Uf=i),o=n.pendingLanes,o===0&&(Do=null),G8(e.stateNode),Vn(n,Pt()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hf)throw Hf=!1,n=Hb,Hb=null,n;return Uf&1&&n.tag!==0&&al(),o=n.pendingLanes,o&1?n===Ub?Jc++:(Jc=0,Ub=n):Jc=0,ns(),null}function al(){if(Ao!==null){var n=uS(Uf),t=Er.transition,e=$e;try{if(Er.transition=null,$e=16>n?16:n,Ao===null)var r=!1;else{if(n=Ao,Ao=null,Uf=0,Be&6)throw Error(se(331));var i=Be;for(Be|=4,ge=n.current;ge!==null;){var o=ge,s=o.child;if(ge.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ge=c;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Zc(8,u,o)}var d=u.child;if(d!==null)d.return=u,ge=d;else for(;ge!==null;){u=ge;var h=u.sibling,f=u.return;if(_A(u),u===c){ge=null;break}if(h!==null){h.return=f,ge=h;break}ge=f}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ge=s;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zc(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ge=p;break e}ge=o.return}}var b=n.current;for(ge=b;ge!==null;){s=ge;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,ge=_;else e:for(s=b;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ug(9,a)}}catch(k){_t(a,a.return,k)}if(a===s){ge=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,ge=y;break e}ge=a.return}}if(Be=i,ns(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(ng,n)}catch{}r=!0}return r}finally{$e=e,Er.transition=t}}return!1}function Ix(n,t,e){t=wl(e,t),t=uA(n,t,1),n=Lo(n,t,1),t=_n(),n!==null&&(gd(n,1,t),Vn(n,t))}function _t(n,t,e){if(n.tag===3)Ix(n,n,e);else for(;t!==null;){if(t.tag===3){Ix(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Do===null||!Do.has(r))){n=wl(e,n),n=dA(t,n,1),t=Lo(t,n,1),n=_n(),t!==null&&(gd(t,1,n),Vn(t,n));break}}t=t.return}}function wL(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=_n(),n.pingedLanes|=n.suspendedLanes&e,Yt===n&&(on&e)===e&&(Vt===4||Vt===3&&(on&130023424)===on&&500>Pt()-h1?As(n,0):d1|=e),Vn(n,t)}function OA(n,t){t===0&&(n.mode&1?(t=Gd,Gd<<=1,!(Gd&130023424)&&(Gd=4194304)):t=1);var e=_n();n=Ui(n,t),n!==null&&(gd(n,t,e),Vn(n,e))}function _L(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),OA(n,e)}function xL(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(t),OA(n,e)}var IA;IA=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Bn.current)Ln=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Ln=!1,cL(n,t,e);Ln=!!(n.flags&131072)}else Ln=!1,ft&&t.flags&1048576&&DS(t,Lf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jh(n,t),n=t.pendingProps;var i=pl(t,pn.current);sl(t,e),i=o1(null,t,r,n,i,e);var o=s1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fn(r)?(o=!0,Nf(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e1(t),i.updater=cg,t.stateNode=i,i._reactInternals=t,Ib(t,r,n,e),t=Lb(null,t,r,!0,o,e)):(t.tag=0,ft&&o&&Gy(t),vn(null,t,i,e),t=t.child),t;case 16:r=t.elementType;e:{switch(Jh(n,t),n=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=CL(r),n=Dr(r,n),i){case 0:t=Mb(null,t,r,n,e);break e;case 1:t=xx(null,t,r,n,e);break e;case 11:t=wx(null,t,r,n,e);break e;case 14:t=_x(null,t,r,Dr(r.type,n),e);break e}throw Error(se(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dr(r,i),Mb(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dr(r,i),xx(n,t,r,i,e);case 3:e:{if(gA(t),n===null)throw Error(se(387));r=t.pendingProps,o=t.memoizedState,i=o.element,zS(n,t),Ff(t,r,null,e);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=wl(Error(se(423)),t),t=kx(n,t,r,e,i);break e}else if(r!==i){i=wl(Error(se(424)),t),t=kx(n,t,r,e,i);break e}else for(Xn=Mo(t.stateNode.containerInfo.firstChild),sr=t,ft=!0,Fr=null,e=jS(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(bl(),r===i){t=Wi(n,t,e);break e}vn(n,t,r,e)}t=t.child}return t;case 5:return HS(t),n===null&&Pb(t),r=t.type,i=t.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,Cb(r,i)?s=null:o!==null&&Cb(r,o)&&(t.flags|=32),mA(n,t),vn(n,t,s,e),t.child;case 6:return n===null&&Pb(t),null;case 13:return pA(n,t,e);case 4:return t1(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=vl(t,null,r,e):vn(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dr(r,i),wx(n,t,r,i,e);case 7:return vn(n,t,t.pendingProps,e),t.child;case 8:return vn(n,t,t.pendingProps.children,e),t.child;case 12:return vn(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Qe(Df,r._currentValue),r._currentValue=s,o!==null)if(Kr(o.value,s)){if(o.children===i.children&&!Bn.current){t=Wi(n,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Fi(-1,e&-e),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=e,l=o.alternate,l!==null&&(l.lanes|=e),Rb(o.return,e,t),a.lanes|=e;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=e,a=s.alternate,a!==null&&(a.lanes|=e),Rb(s,e,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}vn(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sl(t,e),i=Ar(i),r=r(i),t.flags|=1,vn(n,t,r,e),t.child;case 14:return r=t.type,i=Dr(r,t.pendingProps),i=Dr(r.type,i),_x(n,t,r,i,e);case 15:return hA(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dr(r,i),Jh(n,t),t.tag=1,Fn(r)?(n=!0,Nf(t)):n=!1,sl(t,e),cA(t,r,i),Ib(t,r,i,e),Lb(null,t,r,!0,n,e);case 19:return bA(n,t,e);case 22:return fA(n,t,e)}throw Error(se(156,t.tag))};function NA(n,t){return sS(n,t)}function kL(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(n,t,e,r){return new kL(n,t,e,r)}function p1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function CL(n){if(typeof n=="function")return p1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ly)return 11;if(n===Dy)return 14}return 2}function Fo(n,t){var e=n.alternate;return e===null?(e=Cr(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function ef(n,t,e,r,i,o){var s=2;if(r=n,typeof n=="function")p1(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Fa:return Ps(e.children,i,o,t);case My:s=8,i|=8;break;case nb:return n=Cr(12,e,t,i|2),n.elementType=nb,n.lanes=o,n;case rb:return n=Cr(13,e,t,i),n.elementType=rb,n.lanes=o,n;case ib:return n=Cr(19,e,t,i),n.elementType=ib,n.lanes=o,n;case H5:return hg(e,i,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $5:s=10;break e;case z5:s=9;break e;case Ly:s=11;break e;case Dy:s=14;break e;case wo:s=16,r=null;break e}throw Error(se(130,n==null?n:typeof n,""))}return t=Cr(s,e,t,i),t.elementType=n,t.type=r,t.lanes=o,t}function Ps(n,t,e,r){return n=Cr(7,n,r,t),n.lanes=e,n}function hg(n,t,e,r){return n=Cr(22,n,r,t),n.elementType=H5,n.lanes=e,n.stateNode={isHidden:!1},n}function Mp(n,t,e){return n=Cr(6,n,null,t),n.lanes=e,n}function Lp(n,t,e){return t=Cr(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function EL(n,t,e,r,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gp(0),this.expirationTimes=gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function b1(n,t,e,r,i,o,s,a,l){return n=new EL(n,t,e,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Cr(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},e1(o),n}function TL(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function MA(n){if(!n)return Wo;n=n._reactInternals;e:{if(Qs(n)!==n||n.tag!==1)throw Error(se(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(n.tag===1){var e=n.type;if(Fn(e))return MS(n,e,t)}return t}function LA(n,t,e,r,i,o,s,a,l){return n=b1(e,r,!0,n,i,o,s,a,l),n.context=MA(null),e=n.current,r=_n(),i=Bo(e),o=Fi(r,i),o.callback=t??null,Lo(e,o,i),n.current.lanes=i,gd(n,i,r),Vn(n,r),n}function fg(n,t,e,r){var i=t.current,o=_n(),s=Bo(i);return e=MA(e),t.context===null?t.context=e:t.pendingContext=e,t=Fi(o,s),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=Lo(i,t,s),n!==null&&(qr(n,i,s,o),Kh(n,i,s)),s}function qf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Nx(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function v1(n,t){Nx(n,t),(n=n.alternate)&&Nx(n,t)}function SL(){return null}var DA=typeof reportError=="function"?reportError:function(n){console.error(n)};function y1(n){this._internalRoot=n}mg.prototype.render=y1.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(se(409));fg(n,t,null,null)};mg.prototype.unmount=y1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;$s(function(){fg(null,n,null,null)}),t[Hi]=null}};function mg(n){this._internalRoot=n}mg.prototype.unstable_scheduleHydration=function(n){if(n){var t=fS();n={blockedOn:null,target:n,priority:t};for(var e=0;e<ko.length&&t!==0&&t<ko[e].priority;e++);ko.splice(e,0,n),e===0&&gS(n)}};function w1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function gg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Mx(){}function AL(n,t,e,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=qf(s);o.call(c)}}var s=LA(t,r,n,0,null,!1,!1,"",Mx);return n._reactRootContainer=s,n[Hi]=s.current,Cu(n.nodeType===8?n.parentNode:n),$s(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=qf(l);a.call(c)}}var l=b1(n,0,!1,null,null,!1,!1,"",Mx);return n._reactRootContainer=l,n[Hi]=l.current,Cu(n.nodeType===8?n.parentNode:n),$s(function(){fg(t,l,e,r)}),l}function pg(n,t,e,r,i){var o=e._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=qf(s);a.call(l)}}fg(t,s,n,i)}else s=AL(e,t,n,i,r);return qf(s)}dS=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Bc(t.pendingLanes);e!==0&&(Vy(t,e|1),Vn(t,Pt()),!(Be&6)&&(_l=Pt()+500,ns()))}break;case 13:$s(function(){var r=Ui(n,1);if(r!==null){var i=_n();qr(r,n,1,i)}}),v1(n,1)}};jy=function(n){if(n.tag===13){var t=Ui(n,134217728);if(t!==null){var e=_n();qr(t,n,134217728,e)}v1(n,134217728)}};hS=function(n){if(n.tag===13){var t=Bo(n),e=Ui(n,t);if(e!==null){var r=_n();qr(e,n,t,r)}v1(n,t)}};fS=function(){return $e};mS=function(n,t){var e=$e;try{return $e=n,t()}finally{$e=e}};mb=function(n,t,e){switch(t){case"input":if(ab(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=sg(r);if(!i)throw Error(se(90));W5(r),ab(r,i)}}}break;case"textarea":G5(n,e);break;case"select":t=e.value,t!=null&&nl(n,!!e.multiple,t,!1)}};eS=f1;tS=$s;var PL={usingClientEntryPoint:!1,Events:[bd,za,sg,X5,Q5,f1]},gc={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RL={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=iS(n),n===null?null:n.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||SL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ng=ih.inject(RL),fi=ih}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PL;gr.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w1(t))throw Error(se(200));return TL(n,t,null,e)};gr.createRoot=function(n,t){if(!w1(n))throw Error(se(299));var e=!1,r="",i=DA;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=b1(n,1,!1,null,null,e,!1,r,i),n[Hi]=t.current,Cu(n.nodeType===8?n.parentNode:n),new y1(t)};gr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(se(188)):(n=Object.keys(n).join(","),Error(se(268,n)));return n=iS(t),n=n===null?null:n.stateNode,n};gr.flushSync=function(n){return $s(n)};gr.hydrate=function(n,t,e){if(!gg(t))throw Error(se(200));return pg(null,n,t,!0,e)};gr.hydrateRoot=function(n,t,e){if(!w1(n))throw Error(se(405));var r=e!=null&&e.hydratedSources||null,i=!1,o="",s=DA;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),t=LA(t,null,n,1,e??null,i,!1,o,s),n[Hi]=t.current,Cu(n),r)for(n=0;n<r.length;n++)e=r[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new mg(t)};gr.render=function(n,t,e){if(!gg(t))throw Error(se(200));return pg(null,n,t,!1,e)};gr.unmountComponentAtNode=function(n){if(!gg(n))throw Error(se(40));return n._reactRootContainer?($s(function(){pg(null,null,n,!1,function(){n._reactRootContainer=null,n[Hi]=null})}),!0):!1};gr.unstable_batchedUpdates=f1;gr.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!gg(e))throw Error(se(200));if(n==null||n._reactInternals===void 0)throw Error(se(38));return pg(n,t,e,!1,r)};gr.version="18.3.1-next-f1338f8080-20240426";function BA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BA)}catch(n){console.error(n)}}BA(),B5.exports=gr;var bg=B5.exports,FA,Lx=bg;FA=Lx.createRoot,Lx.hydrateRoot;var VA={exports:{}},jA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=I;function OL(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var IL=typeof Object.is=="function"?Object.is:OL,NL=yd.useSyncExternalStore,ML=yd.useRef,LL=yd.useEffect,DL=yd.useMemo,BL=yd.useDebugValue;jA.useSyncExternalStoreWithSelector=function(n,t,e,r,i){var o=ML(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=DL(function(){function l(f){if(!c){if(c=!0,u=f,f=r(f),i!==void 0&&s.hasValue){var m=s.value;if(i(m,f))return d=m}return d=f}if(m=d,IL(u,f))return m;var g=r(f);return i!==void 0&&i(m,g)?m:(u=f,d=g)}var c=!1,u,d,h=e===void 0?null:e;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,e,r,i]);var a=NL(n,o[0],o[1]);return LL(function(){s.hasValue=!0,s.value=a},[a]),BL(a),a};VA.exports=jA;var FL=VA.exports,Qn="default"in xf?Ve:xf,Dx=Symbol.for("react-redux-context"),Bx=typeof globalThis<"u"?globalThis:{};function VL(){if(!Qn.createContext)return{};const n=Bx[Dx]??(Bx[Dx]=new Map);let t=n.get(Qn.createContext);return t||(t=Qn.createContext(null),n.set(Qn.createContext,t)),t}var qo=VL(),jL=()=>{throw new Error("uSES not initialized!")};function _1(n=qo){return function(){return Qn.useContext(n)}}var $A=_1(),zA=jL,$L=n=>{zA=n},zL=(n,t)=>n===t;function HL(n=qo){const t=n===qo?$A:_1(n),e=(r,i={})=>{const{equalityFn:o=zL,devModeChecks:s={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=t();Qn.useRef(!0);const h=Qn.useCallback({[r.name](m){return r(m)}}[r.name],[r,u,s.stabilityCheck]),f=zA(l.addNestedSub,a.getState,c||a.getState,h,o);return Qn.useDebugValue(f),f};return Object.assign(e,{withTypes:()=>e}),e}var x1=HL();function UL(n){n()}function WL(){let n=null,t=null;return{clear(){n=null,t=null},notify(){UL(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let r=n;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0;const i=t={callback:e,next:null,prev:t};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var Fx={notify(){},get:()=>[]};function qL(n,t){let e,r=Fx,i=0,o=!1;function s(g){u();const v=r.subscribe(g);let p=!1;return()=>{p||(p=!0,v(),d())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return o}function u(){i++,e||(e=n.subscribe(l),r=WL())}function d(){i--,e&&i===0&&(e(),e=void 0,r.clear(),r=Fx)}function h(){o||(o=!0,u())}function f(){o&&(o=!1,d())}const m={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>r};return m}var GL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KL=typeof navigator<"u"&&navigator.product==="ReactNative",ZL=GL||KL?Qn.useLayoutEffect:Qn.useEffect;function YL({store:n,context:t,children:e,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const s=Qn.useMemo(()=>{const c=qL(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}},[n,r,i,o]),a=Qn.useMemo(()=>n.getState(),[n]);ZL(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=t||qo;return Qn.createElement(l.Provider,{value:s},e)}var JL=YL;function HA(n=qo){const t=n===qo?$A:_1(n),e=()=>{const{store:r}=t();return r};return Object.assign(e,{withTypes:()=>e}),e}var XL=HA();function QL(n=qo){const t=n===qo?XL:HA(n),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var UA=QL();$L(FL.useSyncExternalStoreWithSelector);function eD({children:n}){const{theme:t}=x1(e=>e.theme);return x.jsx("div",{className:t,children:x.jsx("div",{className:"bg-white text-gray-700 dark:text-gray-200 dark:bg-[rgb(16,23,42)] min-h-screen",children:n})})}/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Nu.apply(this,arguments)}var Po;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Po||(Po={}));const Vx="popstate";function tD(n){n===void 0&&(n={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Gb("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(r,i){return typeof i=="string"?i:Gf(i)}return rD(t,e,null,n)}function Lt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function WA(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nD(){return Math.random().toString(36).substr(2,8)}function jx(n,t){return{usr:n.state,key:n.key,idx:t}}function Gb(n,t,e,r){return e===void 0&&(e=null),Nu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?zl(t):t,{state:e,key:t&&t.key||r||nD()})}function Gf(n){let{pathname:t="/",search:e="",hash:r=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function zl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substr(r),n=n.substr(0,r)),n&&(t.pathname=n)}return t}function rD(n,t,e,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Po.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Nu({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Po.Pop;let v=u(),p=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:p})}function h(v,p){a=Po.Push;let b=Gb(g.location,v,p);c=u()+1;let _=jx(b,c),y=g.createHref(b);try{s.pushState(_,"",y)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(y)}o&&l&&l({action:a,location:g.location,delta:1})}function f(v,p){a=Po.Replace;let b=Gb(g.location,v,p);c=u();let _=jx(b,c),y=g.createHref(b);s.replaceState(_,"",y),o&&l&&l({action:a,location:g.location,delta:0})}function m(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Gf(v);return b=b.replace(/ $/,"%20"),Lt(p,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,p)}let g={get action(){return a},get location(){return n(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vx,d),l=v,()=>{i.removeEventListener(Vx,d),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let p=m(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(v){return s.go(v)}};return g}var $x;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})($x||($x={}));function iD(n,t,e){return e===void 0&&(e="/"),oD(n,t,e,!1)}function oD(n,t,e,r){let i=typeof t=="string"?zl(t):t,o=k1(i.pathname||"/",e);if(o==null)return null;let s=qA(n);sD(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=bD(o);a=gD(s[l],c,r)}return a}function qA(n,t,e,r){t===void 0&&(t=[]),e===void 0&&(e=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Vo([r,l.relativePath]),u=e.concat(l);o.children&&o.children.length>0&&(Lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qA(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:fD(c,o.index),routesMeta:u})};return n.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of GA(o.path))i(o,s,l)}),t}function GA(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,i=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=GA(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function sD(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:mD(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}const aD=/^:[\w-]+$/,lD=3,cD=2,uD=1,dD=10,hD=-2,zx=n=>n==="*";function fD(n,t){let e=n.split("/"),r=e.length;return e.some(zx)&&(r+=hD),t&&(r+=cD),e.filter(i=>!zx(i)).reduce((i,o)=>i+(aD.test(o)?lD:o===""?uD:dD),r)}function mD(n,t){return n.length===t.length&&n.slice(0,-1).every((r,i)=>r===t[i])?n[n.length-1]-t[t.length-1]:0}function gD(n,t,e){let{routesMeta:r}=n,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=Hx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&e&&!r[r.length-1].route.index&&(d=Hx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Vo([o,d.pathname]),pathnameBase:_D(Vo([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=Vo([o,d.pathnameBase]))}return s}function Hx(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=pD(n.path,n.caseSensitive,n.end),i=t.match(e);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:n}}function pD(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),WA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function bD(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return WA(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function k1(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function vD(n,t){t===void 0&&(t="/");let{pathname:e,search:r="",hash:i=""}=typeof n=="string"?zl(n):n;return{pathname:e?e.startsWith("/")?e:yD(e,t):t,search:xD(r),hash:kD(i)}}function yD(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function Dp(n,t,e,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wD(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function KA(n,t){let e=wD(n);return t?e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):e.map(r=>r.pathnameBase)}function ZA(n,t,e,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=zl(n):(i=Nu({},n),Lt(!i.pathname||!i.pathname.includes("?"),Dp("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),Dp("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),Dp("#","search","hash",i)));let o=n===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=e;else{let d=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=vD(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Vo=n=>n.join("/").replace(/\/\/+/g,"/"),_D=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function CD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const YA=["post","put","patch","delete"];new Set(YA);const ED=["get",...YA];new Set(ED);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Mu.apply(this,arguments)}const C1=I.createContext(null),TD=I.createContext(null),ea=I.createContext(null),vg=I.createContext(null),rs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),JA=I.createContext(null);function SD(n,t){let{relative:e}=t===void 0?{}:t;wd()||Lt(!1);let{basename:r,navigator:i}=I.useContext(ea),{hash:o,pathname:s,search:a}=QA(n,{relative:e}),l=s;return r!=="/"&&(l=s==="/"?r:Vo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function wd(){return I.useContext(vg)!=null}function ta(){return wd()||Lt(!1),I.useContext(vg).location}function XA(n){I.useContext(ea).static||I.useLayoutEffect(n)}function _d(){let{isDataRoute:n}=I.useContext(rs);return n?$D():AD()}function AD(){wd()||Lt(!1);let n=I.useContext(C1),{basename:t,future:e,navigator:r}=I.useContext(ea),{matches:i}=I.useContext(rs),{pathname:o}=ta(),s=JSON.stringify(KA(i,e.v7_relativeSplatPath)),a=I.useRef(!1);return XA(()=>{a.current=!0}),I.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=ZA(c,JSON.parse(s),o,u.relative==="path");n==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Vo([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,o,n])}function PD(){let{matches:n}=I.useContext(rs),t=n[n.length-1];return t?t.params:{}}function QA(n,t){let{relative:e}=t===void 0?{}:t,{future:r}=I.useContext(ea),{matches:i}=I.useContext(rs),{pathname:o}=ta(),s=JSON.stringify(KA(i,r.v7_relativeSplatPath));return I.useMemo(()=>ZA(n,JSON.parse(s),o,e==="path"),[n,s,o,e])}function RD(n,t){return OD(n,t)}function OD(n,t,e,r){wd()||Lt(!1);let{navigator:i}=I.useContext(ea),{matches:o}=I.useContext(rs),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=ta(),u;if(t){var d;let v=typeof t=="string"?zl(t):t;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Lt(!1),u=v}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=iD(n,{pathname:f}),g=DD(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Vo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Vo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,e,r);return t&&g?I.createElement(vg.Provider,{value:{location:Mu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Po.Pop}},g):g}function ID(){let n=jD(),t=CD(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),e?I.createElement("pre",{style:i},e):null,null)}const ND=I.createElement(ID,null);class MD extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(rs.Provider,{value:this.props.routeContext},I.createElement(JA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LD(n){let{routeContext:t,match:e,children:r}=n,i=I.useContext(C1);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(rs.Provider,{value:t},r)}function DD(n,t,e,r){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),r===void 0&&(r=null),n==null){var o;if(!e)return null;if(e.errors)n=e.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=(i=e)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Lt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(e&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=e,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let f,m=!1,g=null,v=null;e&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||ND,l&&(c<0&&h===0?(m=!0,v=null):c===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,h+1)),b=()=>{let _;return f?_=g:m?_=v:d.route.Component?_=I.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,I.createElement(LD,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:e!=null},children:_})};return e&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?I.createElement(MD,{location:e.location,revalidation:e.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}var eP=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(eP||{}),Kf=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Kf||{});function BD(n){let t=I.useContext(C1);return t||Lt(!1),t}function FD(n){let t=I.useContext(TD);return t||Lt(!1),t}function VD(n){let t=I.useContext(rs);return t||Lt(!1),t}function tP(n){let t=VD(),e=t.matches[t.matches.length-1];return e.route.id||Lt(!1),e.route.id}function jD(){var n;let t=I.useContext(JA),e=FD(Kf.UseRouteError),r=tP(Kf.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function $D(){let{router:n}=BD(eP.UseNavigateStable),t=tP(Kf.UseNavigateStable),e=I.useRef(!1);return XA(()=>{e.current=!0}),I.useCallback(function(i,o){o===void 0&&(o={}),e.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Mu({fromRouteId:t},o)))},[n,t])}function oi(n){Lt(!1)}function zD(n){let{basename:t="/",children:e=null,location:r,navigationType:i=Po.Pop,navigator:o,static:s=!1,future:a}=n;wd()&&Lt(!1);let l=t.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:o,static:s,future:Mu({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=zl(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,g=I.useMemo(()=>{let v=k1(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:i}},[l,u,d,h,f,m,i]);return g==null?null:I.createElement(ea.Provider,{value:c},I.createElement(vg.Provider,{children:e,value:g}))}function HD(n){let{children:t,location:e}=n;return RD(Kb(t),e)}new Promise(()=>{});function Kb(n,t){t===void 0&&(t=[]);let e=[];return I.Children.forEach(n,(r,i)=>{if(!I.isValidElement(r))return;let o=[...t,i];if(r.type===I.Fragment){e.push.apply(e,Kb(r.props.children,o));return}r.type!==oi&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Kb(r.props.children,o)),e.push(s)}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zb(){return Zb=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Zb.apply(this,arguments)}function UD(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function WD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qD(n,t){return n.button===0&&(!t||t==="_self")&&!WD(n)}const GD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KD="6";try{window.__reactRouterVersion=KD}catch{}const ZD="startTransition",Ux=xf[ZD];function YD(n){let{basename:t,children:e,future:r,window:i}=n,o=I.useRef();o.current==null&&(o.current=tD({window:i,v5Compat:!0}));let s=o.current,[a,l]=I.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=I.useCallback(d=>{c&&Ux?Ux(()=>l(d)):l(d)},[l,c]);return I.useLayoutEffect(()=>s.listen(u),[s,u]),I.createElement(zD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,future:r})}const JD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kt=I.forwardRef(function(t,e){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=t,h=UD(t,GD),{basename:f}=I.useContext(ea),m,g=!1;if(typeof c=="string"&&XD.test(c)&&(m=c,JD))try{let _=new URL(window.location.href),y=c.startsWith("//")?new URL(_.protocol+c):new URL(c),k=k1(y.pathname,f);y.origin===_.origin&&k!=null?c=k+y.search+y.hash:g=!0}catch{}let v=SD(c,{relative:i}),p=QD(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function b(_){r&&r(_),_.defaultPrevented||p(_)}return I.createElement("a",Zb({},h,{href:m||v,onClick:g||o?r:b,ref:e,target:l}))});var Wx;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Wx||(Wx={}));var qx;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(qx||(qx={}));function QD(n,t){let{target:e,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=t===void 0?{}:t,l=_d(),c=ta(),u=QA(n,{relative:s});return I.useCallback(d=>{if(qD(d,e)){d.preventDefault();let h=r!==void 0?r:Gf(c)===Gf(u);l(n,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,e,n,o,s,a])}var nP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gx=Ve.createContext&&Ve.createContext(nP),e9=["attr","size","title"];function t9(n,t){if(n==null)return{};var e=n9(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function n9(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function Zf(){return Zf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Zf.apply(this,arguments)}function Kx(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Yf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(e),!0).forEach(function(r){r9(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Kx(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function r9(n,t,e){return t=i9(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i9(n){var t=o9(n,"string");return typeof t=="symbol"?t:t+""}function o9(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function rP(n){return n&&n.map((t,e)=>Ve.createElement(t.tag,Yf({key:e},t.attr),rP(t.child)))}function $t(n){return t=>Ve.createElement(s9,Zf({attr:Yf({},n.attr)},t),rP(n.child))}function s9(n){var t=e=>{var{attr:r,size:i,title:o}=n,s=t9(n,e9),a=i||e.size||"1em",l;return e.className&&(l=e.className),n.className&&(l=(l?l+" ":"")+n.className),Ve.createElement("svg",Zf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,s,{className:l,style:Yf(Yf({color:n.color||e.color},e.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Ve.createElement("title",null,o),n.children)};return Gx!==void 0?Ve.createElement(Gx.Consumer,null,e=>t(e)):t(nP)}function a9(n){return $t({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(n)}function l9(n){return $t({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(n)}function c9(n){return $t({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(n)}function iP(n){return $t({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(n)}function u9(n){return $t({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(n)}function d9(n){return $t({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(n)}function h9(n){return $t({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},child:[]}]})(n)}function oP(n){return $t({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(n)}function sP(n){return $t({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(n)}function aP(n){return $t({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"},child:[]}]})(n)}function E1(n){return $t({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"},child:[]}]})(n)}function f9(n){return $t({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"},child:[]}]})(n)}function m9(n){return $t({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(n)}const T1="-";function g9(n){const t=b9(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:r}=n;function i(s){const a=s.split(T1);return a[0]===""&&a.length!==1&&a.shift(),lP(a,t)||p9(s)}function o(s,a){const l=e[s]||[];return a&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function lP(n,t){var s;if(n.length===0)return t.classGroupId;const e=n[0],r=t.nextPart.get(e),i=r?lP(n.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=n.join(T1);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId}const Zx=/^\[(.+)\]$/;function p9(n){if(Zx.test(n)){const t=Zx.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}}function b9(n){const{theme:t,prefix:e}=n,r={nextPart:new Map,validators:[]};return y9(Object.entries(n.classGroups),e).forEach(([o,s])=>{Yb(s,r,o,t)}),r}function Yb(n,t,e,r){n.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Yx(t,i);o.classGroupId=e;return}if(typeof i=="function"){if(v9(i)){Yb(i(r),t,e,r);return}t.validators.push({validator:i,classGroupId:e});return}Object.entries(i).forEach(([o,s])=>{Yb(s,Yx(t,o),e,r)})})}function Yx(n,t){let e=n;return t.split(T1).forEach(r=>{e.nextPart.has(r)||e.nextPart.set(r,{nextPart:new Map,validators:[]}),e=e.nextPart.get(r)}),e}function v9(n){return n.isThemeGetter}function y9(n,t){return t?n.map(([e,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[e,i]}):n}function w9(n){if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,r=new Map;function i(o,s){e.set(o,s),t++,t>n&&(t=0,r=e,e=new Map)}return{get(o){let s=e.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){e.has(o)?e.set(o,s):i(o,s)}}}const cP="!";function _9(n){const{separator:t,experimentalParseClassName:e}=n,r=t.length===1,i=t[0],o=t.length;function s(a){const l=[];let c=0,u=0,d;for(let v=0;v<a.length;v++){let p=a[v];if(c===0){if(p===i&&(r||a.slice(v,v+o)===t)){l.push(a.slice(u,v)),u=v+o;continue}if(p==="/"){d=v;continue}}p==="["?c++:p==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(cP),m=f?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}}return e?function(l){return e({className:l,parseClassName:s})}:s}function x9(n){if(n.length<=1)return n;const t=[];let e=[];return n.forEach(r=>{r[0]==="["?(t.push(...e.sort(),r),e=[]):e.push(r)}),t.push(...e.sort()),t}function k9(n){return{cache:w9(n.cacheSize),parseClassName:_9(n),...g9(n)}}const C9=/\s+/;function E9(n,t){const{parseClassName:e,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=new Set;return n.trim().split(C9).map(s=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=e(s);let d=!!u,h=r(d?c.substring(0,u):c);if(!h){if(!d)return{isTailwindClass:!1,originalClassName:s};if(h=r(c),!h)return{isTailwindClass:!1,originalClassName:s};d=!1}const f=x9(a).join(":");return{isTailwindClass:!0,modifierId:l?f+cP:f,classGroupId:h,originalClassName:s,hasPostfixModifier:d}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=s,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(d=>o.add(a+d)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function T9(){let n=0,t,e,r="";for(;n<arguments.length;)(t=arguments[n++])&&(e=uP(t))&&(r&&(r+=" "),r+=e);return r}function uP(n){if(typeof n=="string")return n;let t,e="";for(let r=0;r<n.length;r++)n[r]&&(t=uP(n[r]))&&(e&&(e+=" "),e+=t);return e}function S9(n,...t){let e,r,i,o=s;function s(l){const c=t.reduce((u,d)=>d(u),n());return e=k9(c),r=e.cache.get,i=e.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=E9(l,e);return i(l,u),u}return function(){return o(T9.apply(null,arguments))}}function nt(n){const t=e=>e[n]||[];return t.isThemeGetter=!0,t}const dP=/^\[(?:([a-z-]+):)?(.+)\]$/i,A9=/^\d+\/\d+$/,P9=new Set(["px","full","screen"]),R9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ci(n){return Es(n)||P9.has(n)||A9.test(n)}function uo(n){return Hl(n,"length",z9)}function Es(n){return!!n&&!Number.isNaN(Number(n))}function oh(n){return Hl(n,"number",Es)}function pc(n){return!!n&&Number.isInteger(Number(n))}function L9(n){return n.endsWith("%")&&Es(n.slice(0,-1))}function Ie(n){return dP.test(n)}function ho(n){return R9.test(n)}const D9=new Set(["length","size","percentage"]);function B9(n){return Hl(n,D9,hP)}function F9(n){return Hl(n,"position",hP)}const V9=new Set(["image","url"]);function j9(n){return Hl(n,V9,U9)}function $9(n){return Hl(n,"",H9)}function bc(){return!0}function Hl(n,t,e){const r=dP.exec(n);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):e(r[2]):!1}function z9(n){return O9.test(n)&&!I9.test(n)}function hP(){return!1}function H9(n){return N9.test(n)}function U9(n){return M9.test(n)}function W9(){const n=nt("colors"),t=nt("spacing"),e=nt("blur"),r=nt("brightness"),i=nt("borderColor"),o=nt("borderRadius"),s=nt("borderSpacing"),a=nt("borderWidth"),l=nt("contrast"),c=nt("grayscale"),u=nt("hueRotate"),d=nt("invert"),h=nt("gap"),f=nt("gradientColorStops"),m=nt("gradientColorStopPositions"),g=nt("inset"),v=nt("margin"),p=nt("opacity"),b=nt("padding"),_=nt("saturate"),y=nt("scale"),k=nt("sepia"),S=nt("skew"),E=nt("space"),C=nt("translate"),O=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ie,t],P=()=>[Ie,t],R=()=>["",Ci,uo],N=()=>["auto",Es,Ie],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Ie],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Es,oh],B=()=>[Es,Ie];return{cacheSize:500,separator:":",theme:{colors:[bc],spacing:[Ci,uo],blur:["none","",ho,Ie],brightness:M(),borderColor:[n],borderRadius:["none","","full",ho,Ie],borderSpacing:P(),borderWidth:R(),contrast:M(),grayscale:j(),hueRotate:B(),invert:j(),gap:P(),gradientColorStops:[n],gradientColorStopPositions:[L9,uo],inset:A(),margin:A(),opacity:M(),padding:P(),saturate:M(),scale:M(),sepia:j(),skew:B(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[ho]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Ie]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pc,Ie]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",pc,Ie]}],"grid-cols":[{"grid-cols":[bc]}],"col-start-end":[{col:["auto",{span:["full",pc,Ie]},Ie]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[bc]}],"row-start-end":[{row:["auto",{span:[pc,Ie]},Ie]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,t]}],"min-w":[{"min-w":[Ie,t,"min","max","fit"]}],"max-w":[{"max-w":[Ie,t,"none","full","min","max","fit","prose",{screen:[ho]},ho]}],h:[{h:[Ie,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ho,uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oh]}],"font-family":[{font:[bc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",Es,oh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ci,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ci,uo]}],"underline-offset":[{"underline-offset":["auto",Ci,Ie]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),F9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},j9]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ci,Ie]}],"outline-w":[{outline:[Ci,uo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Ci,uo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ho,$9]}],"shadow-color":[{shadow:[bc]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ho,Ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[pc,Ie]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ci,uo,oh]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const J=S9(W9);function ps(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function Lu(n){if(!ps(n))return n;const t={};for(const e in n)t[e]=Lu(n[e]);return t}function ie(n,t){if(ps(t)&&Object.keys(t).length===0)return Lu({...n,...t});const e={...n,...t};if(ps(t)&&ps(n))for(const r in t)ps(t[r])&&r in n&&ps(n[r])?e[r]=ie(n[r],t[r]):e[r]=ps(t[r])?Lu(t[r]):t[r];return e}const q9={root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"p-5 first:rounded-t-lg last:rounded-b-lg dark:bg-gray-900"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between p-5 text-left font-medium text-gray-500 first:rounded-t-lg last:rounded-b-lg dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white"}}},G9={base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-m-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",icon:"h-5 w-5",color:{info:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",red:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",green:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",yellow:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",blue:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",pink:"bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-400 dark:bg-pink-200 dark:text-pink-600 dark:hover:bg-pink-300",lime:"bg-lime-100 text-lime-500 hover:bg-lime-200 focus:ring-lime-400 dark:bg-lime-200 dark:text-lime-600 dark:hover:bg-lime-300",dark:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-200 dark:text-gray-600 dark:hover:bg-gray-300",indigo:"bg-indigo-100 text-indigo-500 hover:bg-indigo-200 focus:ring-indigo-400 dark:bg-indigo-200 dark:text-indigo-600 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-400 dark:bg-purple-200 dark:text-purple-600 dark:hover:bg-purple-300",teal:"bg-teal-100 text-teal-500 hover:bg-teal-200 focus:ring-teal-400 dark:bg-teal-200 dark:text-teal-600 dark:hover:bg-teal-300",light:"bg-gray-50 text-gray-500 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-white"}},color:{info:"border-cyan-500 bg-cyan-100 text-cyan-700 dark:bg-cyan-200 dark:text-cyan-800",gray:"border-gray-500 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",failure:"border-red-500 bg-red-100 text-red-700 dark:bg-red-200 dark:text-red-800",success:"border-green-500 bg-green-100 text-green-700 dark:bg-green-200 dark:text-green-800",warning:"border-yellow-500 bg-yellow-100 text-yellow-700 dark:bg-yellow-200 dark:text-yellow-800",red:"border-red-500 bg-red-100 text-red-700 dark:bg-red-200 dark:text-red-800",green:"border-green-500 bg-green-100 text-green-700 dark:bg-green-200 dark:text-green-800",yellow:"border-yellow-500 bg-yellow-100 text-yellow-700 dark:bg-yellow-200 dark:text-yellow-800",blue:"border-blue-500 bg-blue-100 text-blue-700 dark:bg-blue-200 dark:text-blue-800",cyan:"border-cyan-500 bg-cyan-100 text-cyan-700 dark:bg-cyan-200 dark:text-cyan-800",pink:"border-pink-500 bg-pink-100 text-pink-700 dark:bg-pink-200 dark:text-pink-800",lime:"border-lime-500 bg-lime-100 text-lime-700 dark:bg-lime-200 dark:text-lime-800",dark:"border-gray-600 bg-gray-800 text-gray-200 dark:bg-gray-900 dark:text-gray-300",indigo:"border-indigo-500 bg-indigo-100 text-indigo-700 dark:bg-indigo-200 dark:text-indigo-800",purple:"border-purple-500 bg-purple-100 text-purple-700 dark:bg-purple-200 dark:text-purple-800",teal:"border-teal-500 bg-teal-100 text-teal-700 dark:bg-teal-200 dark:text-teal-800",light:"border-gray-400 bg-gray-50 text-gray-600 dark:bg-gray-500 dark:text-gray-200"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg",wrapper:"flex items-center"},K9={root:{base:"flex items-center justify-center space-x-4 rounded",bordered:"p-1 ring-2",rounded:"rounded-full",color:{dark:"ring-gray-800 dark:ring-gray-800",failure:"ring-red-500 dark:ring-red-700",gray:"ring-gray-500 dark:ring-gray-400",info:"ring-cyan-400 dark:ring-cyan-800",light:"ring-gray-300 dark:ring-gray-500",purple:"ring-purple-500 dark:ring-purple-600",success:"ring-green-500 dark:ring-green-500",warning:"ring-yellow-300 dark:ring-yellow-500",pink:"ring-pink-500 dark:ring-pink-500"},img:{base:"rounded",off:"relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"",placeholder:"absolute -bottom-1 h-auto w-auto text-gray-400"},size:{xs:"h-6 w-6",sm:"h-8 w-8",md:"h-10 w-10",lg:"h-20 w-20",xl:"h-36 w-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-bottom-1","bottom-right":"-bottom-1 -right-1","top-left":"-left-1 -top-1","top-center":"-top-1","top-right":"-right-1 -top-1","center-right":"-right-1",center:"","center-left":"-left-1"},status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},initials:{text:"font-medium text-gray-600 dark:text-gray-300",base:"relative inline-flex items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-600"}},group:{base:"flex -space-x-4"},groupCounter:{base:"relative flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-xs font-medium text-white ring-2 ring-gray-300 hover:bg-gray-600 dark:ring-gray-500"}},Z9={root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-cyan-100 text-cyan-800 group-hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-800 dark:group-hover:bg-cyan-300",gray:"bg-gray-100 text-gray-800 group-hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 group-hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 group-hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 group-hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 group-hover:bg-indigo-200 dark:bg-indigo-200 dark:text-indigo-900 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 group-hover:bg-purple-200 dark:bg-purple-200 dark:text-purple-900 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 group-hover:bg-pink-200 dark:bg-pink-200 dark:text-pink-900 dark:group-hover:bg-pink-300",blue:"bg-blue-100 text-blue-800 group-hover:bg-blue-200 dark:bg-blue-200 dark:text-blue-900 dark:group-hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-800 group-hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-900 dark:group-hover:bg-cyan-300",dark:"bg-gray-600 text-gray-100 group-hover:bg-gray-500 dark:bg-gray-900 dark:text-gray-200 dark:group-hover:bg-gray-700",light:"bg-gray-200 text-gray-800 group-hover:bg-gray-300 dark:bg-gray-400 dark:text-gray-900 dark:group-hover:bg-gray-500",green:"bg-green-100 text-green-800 group-hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:group-hover:bg-green-300",lime:"bg-lime-100 text-lime-800 group-hover:bg-lime-200 dark:bg-lime-200 dark:text-lime-900 dark:group-hover:bg-lime-300",red:"bg-red-100 text-red-800 group-hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:group-hover:bg-red-300",teal:"bg-teal-100 text-teal-800 group-hover:bg-teal-200 dark:bg-teal-200 dark:text-teal-900 dark:group-hover:bg-teal-300",yellow:"bg-yellow-100 text-yellow-800 group-hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:group-hover:bg-yellow-300"},href:"group",size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"h-3 w-3",sm:"h-3.5 w-3.5"}}},Y9={root:{base:"text-xl font-semibold italic text-gray-900 dark:text-white"}},J9={root:{base:"",list:"flex items-center"},item:{base:"group flex items-center",chevron:"mx-1 h-4 w-4 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"}},X9={base:"group relative flex items-stretch justify-center p-0.5 text-center font-medium transition-[color,background-color,border-color,text-decoration-color,fill,stroke,box-shadow] focus:z-10 focus:outline-none",fullSized:"w-full",color:{dark:"border border-transparent bg-gray-800 text-white focus:ring-4 focus:ring-gray-300 enabled:hover:bg-gray-900 dark:border-gray-700 dark:bg-gray-800 dark:focus:ring-gray-800 dark:enabled:hover:bg-gray-700",failure:"border border-transparent bg-red-700 text-white focus:ring-4 focus:ring-red-300 enabled:hover:bg-red-800 dark:bg-red-600 dark:focus:ring-red-900 dark:enabled:hover:bg-red-700",gray:":ring-cyan-700 border border-gray-200 bg-white text-gray-900 focus:text-cyan-700 focus:ring-4 enabled:hover:bg-gray-100 enabled:hover:text-cyan-700 dark:border-gray-600 dark:bg-transparent dark:text-gray-400 dark:enabled:hover:bg-gray-700 dark:enabled:hover:text-white",info:"border border-transparent bg-cyan-700 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-cyan-800 dark:bg-cyan-600 dark:focus:ring-cyan-800 dark:enabled:hover:bg-cyan-700",light:"border border-gray-300 bg-white text-gray-900 focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-600 dark:text-white dark:focus:ring-gray-700 dark:enabled:hover:border-gray-700 dark:enabled:hover:bg-gray-700",purple:"border border-transparent bg-purple-700 text-white focus:ring-4 focus:ring-purple-300 enabled:hover:bg-purple-800 dark:bg-purple-600 dark:focus:ring-purple-900 dark:enabled:hover:bg-purple-700",success:"border border-transparent bg-green-700 text-white focus:ring-4 focus:ring-green-300 enabled:hover:bg-green-800 dark:bg-green-600 dark:focus:ring-green-800 dark:enabled:hover:bg-green-700",warning:"border border-transparent bg-yellow-400 text-white focus:ring-4 focus:ring-yellow-300 enabled:hover:bg-yellow-500 dark:focus:ring-yellow-900",blue:"border border-transparent bg-blue-700 text-white focus:ring-4 focus:ring-blue-300 enabled:hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",cyan:"border border-cyan-300 bg-white text-cyan-900 focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-cyan-100 dark:border-cyan-600 dark:bg-cyan-600 dark:text-white dark:focus:ring-cyan-700 dark:enabled:hover:border-cyan-700 dark:enabled:hover:bg-cyan-700",green:"border border-green-300 bg-white text-green-900 focus:ring-4 focus:ring-green-300 enabled:hover:bg-green-100 dark:border-green-600 dark:bg-green-600 dark:text-white dark:focus:ring-green-700 dark:enabled:hover:border-green-700 dark:enabled:hover:bg-green-700",indigo:"border border-indigo-300 bg-white text-indigo-900 focus:ring-4 focus:ring-indigo-300 enabled:hover:bg-indigo-100 dark:border-indigo-600 dark:bg-indigo-600 dark:text-white dark:focus:ring-indigo-700 dark:enabled:hover:border-indigo-700 dark:enabled:hover:bg-indigo-700",lime:"border border-lime-300 bg-white text-lime-900 focus:ring-4 focus:ring-lime-300 enabled:hover:bg-lime-100 dark:border-lime-600 dark:bg-lime-600 dark:text-white dark:focus:ring-lime-700 dark:enabled:hover:border-lime-700 dark:enabled:hover:bg-lime-700",pink:"border border-pink-300 bg-white text-pink-900 focus:ring-4 focus:ring-pink-300 enabled:hover:bg-pink-100 dark:border-pink-600 dark:bg-pink-600 dark:text-white dark:focus:ring-pink-700 dark:enabled:hover:border-pink-700 dark:enabled:hover:bg-pink-700",red:"border border-red-300 bg-white text-red-900 focus:ring-4 focus:ring-red-300 enabled:hover:bg-red-100 dark:border-red-600 dark:bg-red-600 dark:text-white dark:focus:ring-red-700 dark:enabled:hover:border-red-700 dark:enabled:hover:bg-red-700",teal:"border border-teal-300 bg-white text-teal-900 focus:ring-4 focus:ring-teal-300 enabled:hover:bg-teal-100 dark:border-teal-600 dark:bg-teal-600 dark:text-white dark:focus:ring-teal-700 dark:enabled:hover:border-teal-700 dark:enabled:hover:bg-teal-700",yellow:"border border-yellow-300 bg-white text-yellow-900 focus:ring-4 focus:ring-yellow-300 enabled:hover:bg-yellow-100 dark:border-yellow-600 dark:bg-yellow-600 dark:text-white dark:focus:ring-yellow-700 dark:enabled:hover:border-yellow-700 dark:enabled:hover:bg-yellow-700"},disabled:"cursor-not-allowed opacity-50",isProcessing:"cursor-wait",spinnerSlot:"absolute top-0 flex h-full items-center",spinnerLeftPosition:{xs:"left-2",sm:"left-3",md:"left-4",lg:"left-5",xl:"left-6"},gradient:{cyan:"bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-br dark:focus:ring-cyan-800",failure:"bg-gradient-to-r from-red-400 via-red-500 to-red-600 text-white focus:ring-4 focus:ring-red-300 enabled:hover:bg-gradient-to-br dark:focus:ring-red-800",info:"bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-br dark:focus:ring-cyan-800",lime:"bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 text-gray-900 focus:ring-4 focus:ring-lime-300 enabled:hover:bg-gradient-to-br dark:focus:ring-lime-800",pink:"bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 text-white focus:ring-4 focus:ring-pink-300 enabled:hover:bg-gradient-to-br dark:focus:ring-pink-800",purple:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white focus:ring-4 focus:ring-purple-300 enabled:hover:bg-gradient-to-br dark:focus:ring-purple-800",success:"bg-gradient-to-r from-green-400 via-green-500 to-green-600 text-white focus:ring-4 focus:ring-green-300 enabled:hover:bg-gradient-to-br dark:focus:ring-green-800",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 text-white focus:ring-4 focus:ring-teal-300 enabled:hover:bg-gradient-to-br dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"bg-gradient-to-r from-cyan-500 to-cyan-500 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-bl dark:focus:ring-cyan-800",greenToBlue:"bg-gradient-to-br from-green-400 to-cyan-600 text-white focus:ring-4 focus:ring-green-200 enabled:hover:bg-gradient-to-bl dark:focus:ring-green-800",pinkToOrange:"bg-gradient-to-br from-pink-500 to-orange-400 text-white focus:ring-4 focus:ring-pink-200 enabled:hover:bg-gradient-to-bl dark:focus:ring-pink-800",purpleToBlue:"bg-gradient-to-br from-purple-600 to-cyan-500 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-bl dark:focus:ring-cyan-800",purpleToPink:"bg-gradient-to-r from-purple-500 to-pink-500 text-white focus:ring-4 focus:ring-purple-200 enabled:hover:bg-gradient-to-l dark:focus:ring-purple-800",redToYellow:"bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 text-gray-900 focus:ring-4 focus:ring-red-100 enabled:hover:bg-gradient-to-bl dark:focus:ring-red-400",tealToLime:"bg-gradient-to-r from-teal-200 to-lime-200 text-gray-900 focus:ring-4 focus:ring-lime-200 enabled:hover:bg-gradient-to-l enabled:hover:from-teal-200 enabled:hover:to-lime-200 enabled:hover:text-gray-900 dark:focus:ring-teal-700"},inner:{base:"flex items-stretch transition-all duration-200",position:{none:"",start:"rounded-r-none",middle:"rounded-none",end:"rounded-l-none"},outline:"border border-transparent",isProcessingPadding:{xs:"pl-8",sm:"pl-10",md:"pl-12",lg:"pl-16",xl:"pl-20"}},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-cyan-200 text-xs font-semibold text-cyan-800",outline:{color:{gray:"border border-gray-900 dark:border-white",default:"border-0",light:""},off:"",on:"flex w-full justify-center bg-white text-gray-900 transition-all duration-75 ease-in group-enabled:group-hover:bg-opacity-0 group-enabled:group-hover:text-inherit dark:bg-gray-900 dark:text-white",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base",xl:"px-6 py-3 text-base"}},Q9={base:"inline-flex",position:{none:"",start:"rounded-r-none focus:ring-2",middle:"rounded-none border-l-0 pl-0 focus:ring-2",end:"rounded-l-none border-l-0 pl-0 focus:ring-2"}},eB={root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},tB={root:{base:"relative h-full w-full",leftControl:"absolute left-0 top-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute right-0 top-0 flex h-full items-center justify-center px-4 focus:outline-none"},indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute left-1/2 top-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:{off:"w-full flex-shrink-0 transform cursor-default snap-center",on:"w-full flex-shrink-0 transform cursor-grab snap-center"}},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},nB={root:{base:"h-4 w-4 rounded border border-gray-300 bg-gray-100 focus:ring-2 dark:border-gray-600 dark:bg-gray-700",color:{default:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-gray-800 dark:focus:ring-cyan-600",dark:"text-gray-800 focus:ring-gray-800 dark:ring-offset-gray-800 dark:focus:ring-gray-800",failure:"text-red-900 focus:ring-red-900 dark:ring-offset-red-900 dark:focus:ring-red-900",gray:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",info:"text-cyan-800 focus:ring-cyan-800 dark:ring-offset-gray-800 dark:focus:ring-cyan-800",light:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",purple:"text-purple-600 focus:ring-purple-600 dark:ring-offset-purple-600 dark:focus:ring-purple-600",success:"text-green-800 focus:ring-green-800 dark:ring-offset-green-800 dark:focus:ring-green-800",warning:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400",blue:"text-blue-700 focus:ring-blue-600 dark:ring-offset-blue-700 dark:focus:ring-blue-700",cyan:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-cyan-600 dark:focus:ring-cyan-600",green:"text-green-600 focus:ring-green-600 dark:ring-offset-green-600 dark:focus:ring-green-600",indigo:"text-indigo-700 focus:ring-indigo-700 dark:ring-offset-indigo-700 dark:focus:ring-indigo-700",lime:"text-lime-700 focus:ring-lime-700 dark:ring-offset-lime-700 dark:focus:ring-lime-700",pink:"text-pink-600 focus:ring-pink-600 dark:ring-offset-pink-600 dark:focus:ring-pink-600",red:"text-red-600 focus:ring-red-600 dark:ring-offset-red-600 dark:focus:ring-red-600",teal:"text-teal-600 focus:ring-teal-600 dark:ring-offset-teal-600 dark:focus:ring-teal-600",yellow:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400"}}},rB={button:{base:"inline-flex w-full items-center justify-center rounded-lg bg-blue-700 px-5 py-3 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",label:"text-center text-sm font-medium text-white sm:w-auto"},withIcon:{base:"absolute end-2 top-1/2 inline-flex -translate-y-1/2 items-center justify-center rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800",icon:{defaultIcon:"h-4 w-4",successIcon:"h-4 w-4 text-blue-700 dark:text-blue-500"}},withIconText:{base:"absolute end-2.5 top-1/2 inline-flex -translate-y-1/2 items-center justify-center rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700",icon:{defaultIcon:"me-1.5 h-3 w-3",successIcon:"me-1.5 h-3 w-3 text-blue-700 dark:text-blue-500"},label:{base:"inline-flex items-center",defaultText:"text-xs font-semibold",successText:"text-xs font-semibold text-blue-700 dark:text-blue-500"}}},iB={root:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"}},oB={root:{base:"relative"},popup:{root:{base:"absolute top-10 z-50 block pt-2",inline:"relative top-0 z-auto",inner:"inline-block rounded-lg bg-white p-4 shadow-lg dark:bg-gray-700"},header:{base:"",title:"px-2 py-3 text-center font-semibold text-gray-900 dark:text-white",selectors:{base:"mb-2 flex justify-between",button:{base:"rounded-lg bg-white px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",prev:"",next:"",view:""}}},view:{base:"p-1"},footer:{base:"mt-2 flex space-x-2",button:{base:"w-full rounded-lg px-5 py-2 text-center text-sm font-medium focus:ring-4 focus:ring-cyan-300",today:"bg-cyan-700 text-white hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700",clear:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}}},views:{days:{header:{base:"mb-1 grid grid-cols-7",title:"h-6 text-center text-sm font-medium leading-6 text-gray-500 dark:text-gray-400"},items:{base:"grid w-64 grid-cols-7",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},months:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},years:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},decades:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}}}},sB={root:{base:"fixed z-40 overflow-y-auto bg-white p-4 transition-transform dark:bg-gray-800",backdrop:"fixed inset-0 z-30 bg-gray-900/50 dark:bg-gray-900/80",edge:"bottom-16",position:{top:{on:"left-0 right-0 top-0 w-full transform-none",off:"left-0 right-0 top-0 w-full -translate-y-full"},right:{on:"right-0 top-0 h-screen w-80 transform-none",off:"right-0 top-0 h-screen w-80 translate-x-full"},bottom:{on:"bottom-0 left-0 right-0 w-full transform-none",off:"bottom-0 left-0 right-0 w-full translate-y-full"},left:{on:"left-0 top-0 h-screen w-80 transform-none",off:"left-0 top-0 h-screen w-80 -translate-x-full"}}},header:{inner:{closeButton:"absolute end-2.5 top-2.5 flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",closeIcon:"h-4 w-4",titleIcon:"me-2.5 h-4 w-4",titleText:"mb-4 inline-flex items-center text-base font-semibold text-gray-500 dark:text-gray-400"},collapsed:{on:"hidden",off:"block"}},items:{base:""}},po={arrowIcon:"ml-2 h-4 w-4",content:"py-1 focus:outline-none",floating:{animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"z-10 w-fit divide-y divide-gray-100 rounded shadow focus:outline-none",content:"py-1 text-sm text-gray-700 dark:text-gray-200",divider:"my-1 h-px bg-gray-100 dark:bg-gray-600",header:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200",hidden:"invisible opacity-0",item:{container:"",base:"flex w-full cursor-pointer items-center justify-start px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:bg-gray-600 dark:focus:text-white",icon:"mr-2 h-4 w-4"},style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},target:"w-fit"},inlineWrapper:"flex items-center"},aB={root:{base:"flex"},field:{base:"relative w-full",input:{base:"block w-full overflow-hidden rounded-lg border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},lB={input:{default:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-gray-300 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-gray-300 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"}},success:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-green-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:bg-gray-700 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-green-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:bg-gray-700 dark:text-white dark:focus:border-green-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-green-600 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none rounded-lg border border-green-600 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-green-600 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none border-0 border-b-2 border-green-600 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500"}},error:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-red-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:bg-gray-700 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-red-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:bg-gray-700 dark:text-white dark:focus:border-red-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-red-600 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none rounded-lg border border-red-600 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-red-600 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none border-0 border-b-2 border-red-600 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500"}}},label:{default:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 peer-focus:text-blue-600 dark:bg-gray-900 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 peer-focus:text-blue-600 dark:bg-gray-900 dark:text-gray-400 peer-focus:dark:text-blue-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"}},success:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-green-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-green-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-green-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-green-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-green-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-green-500"}},error:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-red-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-red-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-red-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-red-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-red-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-red-500"}}},helperText:{default:"mt-2 text-xs text-gray-600 dark:text-gray-400",success:"mt-2 text-xs text-green-600 dark:text-green-400",error:"mt-2 text-xs text-red-600 dark:text-red-400"}},cB={root:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800"},groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"me-4 last:mr-0 md:mr-6",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"my-6 w-full border-gray-200 dark:border-gray-700 sm:mx-auto lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},uB={root:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-cyan-700 dark:text-cyan-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}}},dB={root:{base:"my-8 h-px border-0 bg-gray-200 dark:bg-gray-700"},trimmed:{base:"mx-auto my-4 h-1 w-48 rounded border-0 bg-gray-100 dark:bg-gray-700 md:my-10"},icon:{base:"inline-flex w-full items-center justify-center",hrLine:"my-8 h-1 w-64 rounded border-0 bg-gray-200 dark:bg-gray-700",icon:{base:"absolute left-1/2 -translate-x-1/2 bg-white px-4 dark:bg-gray-900",icon:"h-4 w-4 text-gray-700 dark:text-gray-300"}},text:{base:"inline-flex w-full items-center justify-center",hrLine:"my-8 h-px w-64 border-0 bg-gray-200 dark:bg-gray-700",text:"absolute left-1/2 -translate-x-1/2 bg-white px-3 font-medium text-gray-900 dark:bg-gray-900 dark:text-white"},square:{base:"mx-auto my-8 h-8 w-8 rounded border-0 bg-gray-200 dark:bg-gray-700 md:my-12"}},hB={root:{base:"rounded-lg border border-gray-200 bg-gray-100 px-2 py-1.5 text-xs font-semibold text-gray-800 dark:border-gray-500 dark:bg-gray-600 dark:text-gray-100",icon:"inline-block"}},fB={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},mB={root:{base:"list-inside space-y-1 text-gray-500 dark:text-gray-400",ordered:{off:"list-disc",on:"list-decimal"},horizontal:"flex list-none flex-wrap items-center justify-center space-x-4 space-y-0",unstyled:"list-none",nested:"mt-2 ps-5"},item:{withIcon:{off:"",on:"flex items-center"},icon:"me-2 h-3.5 w-3.5 flex-shrink-0"}},gB={root:{base:"list-none rounded-lg border border-gray-200 bg-white text-left text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},item:{base:"[&>*]:first:rounded-t-lg [&>*]:last:rounded-b-lg [&>*]:last:border-b-0",link:{base:"flex w-full items-center border-b border-gray-200 px-4 py-2 dark:border-gray-600",active:{off:"hover:bg-gray-100 hover:text-cyan-700 focus:text-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-cyan-700 text-white dark:bg-gray-800"},disabled:{off:"",on:"cursor-not-allowed bg-gray-100 text-gray-900 hover:bg-gray-100 hover:text-gray-900 focus:text-gray-900"},href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}}},tf={root:{base:"bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pl-3 pr-4 md:p-0",active:{on:"bg-cyan-700 text-white dark:text-white md:bg-transparent md:text-cyan-700",off:"border-b border-gray-100 text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-cyan-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},pB={...tf,dropdown:{base:"",toggle:{...po,floating:{...po.floating,base:J(po.floating.base,"mt-2 block"),content:J(po.floating.content,"text-gray-500 dark:text-gray-400"),style:{...po.floating.style,auto:J(po.floating.style.auto,"text-gray-500 dark:text-gray-400")}},inlineWrapper:J(po.inlineWrapper,"flex w-full items-center justify-between")}},dropdownToggle:{base:J(tf.link.base,tf.link.active.off,"flex w-full items-center justify-between")}},bB={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"flex-1 overflow-auto p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t border-b p-5 dark:border-gray-600",popup:"border-b-0 p-2",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},vB={base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white px-3 py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white px-3 py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",active:"bg-cyan-50 text-cyan-600 hover:bg-cyan-100 hover:text-cyan-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white",disabled:"cursor-not-allowed opacity-50"}}},yB={base:"absolute z-20 inline-block w-max max-w-[100vw] bg-white outline-none border border-gray-200 rounded-lg shadow-sm dark:border-gray-600 dark:bg-gray-800",content:"z-10 overflow-hidden rounded-[7px]",arrow:{base:"absolute h-2 w-2 z-0 rotate-45 mix-blend-lighten bg-white border border-gray-200 dark:border-gray-600 dark:bg-gray-800 dark:mix-blend-color",placement:"-4px"}},wB={base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"space-x-2 rounded-full text-center font-medium leading-none text-cyan-300 dark:text-cyan-100",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500",cyan:"bg-cyan-600",gray:"bg-gray-500",lime:"bg-lime-600",pink:"bg-pink-500",teal:"bg-teal-600"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},_B={root:{base:"h-4 w-4 border border-gray-300 text-cyan-600 focus:ring-2 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-cyan-600 dark:focus:ring-cyan-600"}},xB={root:{base:"flex"},field:{base:"relative w-full",input:{base:"w-full cursor-pointer appearance-none rounded-lg bg-gray-200 dark:bg-gray-700",sizes:{sm:"h-1",md:"h-2",lg:"h-3"}}}},kB={root:{base:"flex items-center"},star:{empty:"text-gray-300 dark:text-gray-500",filled:"text-yellow-400",sizes:{sm:"h-5 w-5",md:"h-7 w-7",lg:"h-10 w-10"}}},CB={base:"flex items-center",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500"}},EB={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},TB={root:{base:"h-full",collapsed:{on:"w-16",off:"w-64"},inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-gray-50 px-3 py-4 dark:bg-gray-800"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:{base:"h-6 w-6 transition delay-0 ease-in-out",open:{on:"rotate-180",off:""}}},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg bg-gray-100 p-4 dark:bg-gray-700",color:{blue:"bg-cyan-50 dark:bg-cyan-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"flex-1 whitespace-nowrap px-3"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"},label:"",listItem:""},items:{base:""},itemGroup:{base:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700"},logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},SB={base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-cyan-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-10 w-10"}},AB={root:{base:"w-full text-left text-sm text-gray-500 dark:text-gray-400",shadow:"absolute left-0 top-0 -z-10 h-full w-full rounded-lg bg-white drop-shadow-md dark:bg-black",wrapper:"relative"},body:{base:"group/body",cell:{base:"px-6 py-4 group-first/body:group-first/row:first:rounded-tl-lg group-first/body:group-first/row:last:rounded-tr-lg group-last/body:group-last/row:first:rounded-bl-lg group-last/body:group-last/row:last:rounded-br-lg"}},head:{base:"group/head text-xs uppercase text-gray-700 dark:text-gray-400",cell:{base:"bg-gray-50 px-6 py-3 group-first/head:first:rounded-tl-lg group-first/head:last:rounded-tr-lg dark:bg-gray-700"}},row:{base:"group/row",hovered:"hover:bg-gray-50 dark:hover:bg-gray-600",striped:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"}},PB={base:"flex flex-col gap-2",tablist:{base:"flex text-center",variant:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"-mb-px flex-wrap border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap space-x-2 text-sm font-medium text-gray-500 dark:text-gray-400",fullWidth:"grid w-full grid-flow-col divide-x divide-gray-200 rounded-none text-sm font-medium shadow dark:divide-gray-700 dark:text-gray-400"},tabitem:{base:"flex items-center justify-center rounded-t-lg p-4 text-sm font-medium first:ml-0 focus:outline-none focus:ring-4 focus:ring-cyan-300 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500",variant:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-cyan-600 dark:bg-gray-800 dark:text-cyan-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"active rounded-t-lg border-b-2 border-cyan-600 text-cyan-600 dark:border-cyan-500 dark:text-cyan-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-cyan-600 text-white",off:"rounded-lg hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-0 flex w-full rounded-none first:ml-0",active:{on:"active rounded-none bg-gray-100 p-4 text-gray-900 dark:bg-gray-700 dark:text-white",off:"rounded-none bg-white hover:bg-gray-50 hover:text-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"}}},icon:"mr-2 h-5 w-5"}},tabitemcontainer:{base:"",variant:{default:"",underline:"",pills:"",fullWidth:""}},tabpanel:"py-3"},RB={base:"block w-full rounded-lg border text-sm disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},OB={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},IB={root:{direction:{horizontal:"sm:flex",vertical:"relative border-l border-gray-200 dark:border-gray-700"}},item:{root:{horizontal:"relative mb-6 sm:mb-0",vertical:"mb-10 ml-6"},content:{root:{base:"",horizontal:"mt-3 sm:pr-8",vertical:""},body:{base:"mb-4 text-base font-normal text-gray-500 dark:text-gray-400"},time:{base:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},title:{base:"text-lg font-semibold text-gray-900 dark:text-white"}},point:{horizontal:"flex items-center",line:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex",marker:{base:{horizontal:"absolute -left-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700",vertical:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"},icon:{base:"h-3 w-3 text-cyan-600 dark:text-cyan-300",wrapper:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-cyan-200 ring-8 ring-white dark:bg-cyan-900 dark:ring-gray-900"}},vertical:""}}},NB={root:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out"},toggle:{base:"-m-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},MB={root:{base:"group flex rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},label:"ms-3 mt-0.5 text-start text-sm font-medium text-gray-900 dark:text-gray-300"},toggle:{base:"relative rounded-full border after:absolute after:rounded-full after:bg-white after:transition-all group-focus:ring-4 group-focus:ring-cyan-500/25",checked:{on:"after:translate-x-full after:border-white rtl:after:-translate-x-full",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700",color:{blue:"border-cyan-700 bg-cyan-700",dark:"bg-dark-700 border-dark-900",failure:"border-red-900 bg-red-700",gray:"border-gray-600 bg-gray-500",green:"border-green-700 bg-green-600",light:"bg-light-700 border-light-900",red:"border-red-900 bg-red-700",purple:"border-purple-900 bg-purple-700",success:"border-green-500 bg-green-500",yellow:"border-yellow-400 bg-yellow-400",warning:"border-yellow-600 bg-yellow-600",cyan:"border-cyan-500 bg-cyan-500",lime:"border-lime-400 bg-lime-400",indigo:"border-indigo-400 bg-indigo-400",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4",info:"border-cyan-600 bg-cyan-600",pink:"border-pink-600 bg-pink-600"}},sizes:{sm:"h-5 w-9 min-w-9 after:left-px after:top-px after:h-4 after:w-4 rtl:after:right-px",md:"h-6 w-11 min-w-11 after:left-px after:top-px after:h-5 after:w-5 rtl:after:right-px",lg:"h-7 w-14 min-w-14 after:left-1 after:top-0.5 after:h-6 after:w-6 rtl:after:right-1"}}},LB={target:"w-fit",animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"absolute z-10 inline-block rounded-lg px-3 py-2 text-sm font-medium shadow-sm",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20"},DB={accordion:q9,alert:G9,avatar:K9,badge:Z9,blockquote:Y9,breadcrumb:J9,button:X9,buttonGroup:Q9,card:eB,carousel:tB,checkbox:nB,clipboard:rB,datepicker:oB,darkThemeToggle:iB,drawer:sB,dropdown:po,fileInput:aB,floatingLabel:lB,footer:cB,helperText:uB,hr:dB,kbd:hB,label:fB,listGroup:gB,list:mB,megaMenu:pB,modal:bB,navbar:tf,pagination:vB,popover:yB,progress:wB,radio:_B,rangeSlider:xB,rating:kB,ratingAdvanced:CB,select:EB,textInput:OB,textarea:RB,toggleSwitch:MB,sidebar:TB,spinner:SB,table:AB,tabs:PB,timeline:IB,toast:NB,tooltip:LB},BB={theme:Lu(DB)};function he(){return Lu(BB.theme)}const fP=I.createContext(void 0);function mP(){const n=I.useContext(fP);if(!n)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return n}const gP=({children:n,className:t,theme:e={},...r})=>{const{isOpen:i}=mP(),o=ie(he().accordion.content,e);return x.jsx("div",{className:J(o.base,t),"data-testid":"flowbite-accordion-content",hidden:!i,...r,children:n})},pP=({children:n,...t})=>{const{alwaysOpen:e}=t,[r,i]=I.useState(t.isOpen),o=e?{...t,isOpen:r,setOpen:()=>i(!r)}:t;return x.jsx(fP.Provider,{value:o,children:n})},bP=({as:n="h2",children:t,className:e,theme:r={},...i})=>{const{arrowIcon:o,flush:s,isOpen:a,setOpen:l}=mP(),c=()=>typeof l<"u"&&l(),u=ie(he().accordion.title,r);return x.jsxs("button",{className:J(u.base,u.flush[s?"on":"off"],u.open[a?"on":"off"],e),onClick:c,type:"button",...i,children:[x.jsx(n,{className:u.heading,"data-testid":"flowbite-accordion-heading",children:t}),o&&x.jsx(o,{"aria-hidden":!0,className:J(u.arrow.base,u.arrow.open[a?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})},vP=({alwaysOpen:n=!1,arrowIcon:t=iP,children:e,flush:r=!1,collapseAll:i=!1,className:o,theme:s={},...a})=>{const[l,c]=I.useState(i?-1:0),u=I.useMemo(()=>I.Children.map(e,(h,f)=>I.cloneElement(h,{alwaysOpen:n,arrowIcon:t,flush:r,isOpen:l===f,setOpen:()=>c(l===f?-1:f)})),[n,t,e,r,l]),d=ie(he().accordion.root,s);return x.jsx("div",{className:J(d.base,d.flush[r?"on":"off"],o),"data-testid":"flowbite-accordion",...a,children:u})};vP.displayName="Accordion";pP.displayName="Accordion.Panel";bP.displayName="Accordion.Title";gP.displayName="Accordion.Content";Object.assign(vP,{Panel:pP,Title:bP,Content:gP});const gi=({additionalContent:n,children:t,className:e,color:r="info",icon:i,onDismiss:o,rounded:s=!0,theme:a={},withBorderAccent:l,...c})=>{const u=ie(he().alert,a);return x.jsxs("div",{className:J(u.base,u.color[r],s&&u.rounded,l&&u.borderAccent,e),role:"alert",...c,children:[x.jsxs("div",{className:u.wrapper,"data-testid":"flowbite-alert-wrapper",children:[i&&x.jsx(i,{className:u.icon,"data-testid":"flowbite-alert-icon"}),x.jsx("div",{children:t}),typeof o=="function"&&x.jsx("button",{"aria-label":"Dismiss",className:J(u.closeButton.base,u.closeButton.color[r]),onClick:o,type:"button",children:x.jsx(oP,{"aria-hidden":!0,className:u.closeButton.icon})})]}),n&&x.jsx("div",{children:n})]})};gi.displayName="Alert";const yP=({children:n,className:t,theme:e={},...r})=>{const i=ie(he().avatar.group,e);return x.jsx("div",{"data-testid":"avatar-group-element",className:J(i.base,t),...r,children:n})};yP.displayName="Avatar.Group";const wP=({className:n,href:t,theme:e={},total:r,...i})=>{const o=ie(he().avatar.groupCounter,e);return x.jsxs("a",{href:t,className:J(o.base,n),...i,children:["+",r]})};wP.displayName="Avatar.GroupCounter";const _P=({alt:n="",bordered:t=!1,children:e,className:r,color:i="light",img:o,placeholderInitials:s="",rounded:a=!1,size:l="md",stacked:c=!1,status:u,statusPosition:d="top-left",theme:h={},...f})=>{const m=ie(he().avatar,h),g=J(m.root.img.base,t&&m.root.bordered,t&&m.root.color[i],a&&m.root.rounded,c&&m.root.stacked,m.root.img.on,m.root.size[l]),v={className:J(g,m.root.img.on),"data-testid":"flowbite-avatar-img"};return x.jsxs("div",{className:J(m.root.base,r),"data-testid":"flowbite-avatar",...f,children:[x.jsxs("div",{className:"relative",children:[o?typeof o=="string"?x.jsx("img",{alt:n,src:o,...v}):o({alt:n,...v}):s?x.jsx("div",{className:J(m.root.img.off,m.root.initials.base,c&&m.root.stacked,t&&m.root.bordered,t&&m.root.color[i],m.root.size[l],a&&m.root.rounded),"data-testid":"flowbite-avatar-initials-placeholder",children:x.jsx("span",{className:J(m.root.initials.text),"data-testid":"flowbite-avatar-initials-placeholder-text",children:s})}):x.jsx("div",{className:J(g,m.root.img.off),"data-testid":"flowbite-avatar-img",children:x.jsx("svg",{className:m.root.img.placeholder,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),u&&x.jsx("span",{"data-testid":"flowbite-avatar-status",className:J(m.root.status.base,m.root.status[u],m.root.statusPosition[d])})]}),e&&x.jsx("div",{children:e})]})};_P.displayName="Avatar";Object.assign(_P,{Group:yP,Counter:wP});const xP=({children:n,color:t="info",href:e,icon:r,size:i="xs",className:o,theme:s={},...a})=>{const l=ie(he().badge,s),c=()=>x.jsxs("span",{className:J(l.root.base,l.root.color[t],l.root.size[i],l.icon[r?"on":"off"],o),"data-testid":"flowbite-badge",...a,children:[r&&x.jsx(r,{"aria-hidden":!0,className:l.icon.size[i],"data-testid":"flowbite-badge-icon"}),n&&x.jsx("span",{children:n})]});return e?x.jsx("a",{className:l.root.href,href:e,children:x.jsx(c,{})}):x.jsx(c,{})};xP.displayName="Badge";const S1=({className:n,color:t="info",light:e,size:r="md",theme:i={},...o})=>{const s=ie(he().spinner,i);return x.jsx("span",{role:"status",...o,children:x.jsxs("svg",{fill:"none",viewBox:"0 0 100 101",className:J(s.base,s.color[t],s.light[e?"on":"off"].base,s.light[e?"on":"off"].color[t],s.size[r],n),children:[x.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),x.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})};S1.displayName="Spinner";const A1=I.forwardRef(({children:n,as:t,href:e,type:r="button",...i},o)=>{const s=t||(e?"a":"button");return I.createElement(s,{ref:o,href:e,type:r,...i},n)});A1.displayName="ButtonBaseComponent";const kP=(n,t,e)=>I.Children.map(n,(r,i)=>{if(I.isValidElement(r)){const o=r.type==Dn?{positionInGroup:FB(i,I.Children.count(n))}:{};return r.props.children?I.cloneElement(r,{...r.props,children:kP(r.props.children,t,e),...o}):I.cloneElement(r,{outline:t,pill:e,...o})}return r}),FB=(n,t)=>n===0?"start":n===t-1?"end":"middle",CP=({children:n,className:t,outline:e,pill:r,theme:i={},...o})=>{const s=I.useMemo(()=>kP(n,e,r),[n,e,r]),a=ie(he().buttonGroup,i);return x.jsx("div",{className:J(a.base,t),role:"group",...o,children:s})};CP.displayName="Button.Group";const EP=I.forwardRef(({children:n,className:t,color:e="info",disabled:r,fullSized:i,isProcessing:o=!1,processingLabel:s="Loading...",processingSpinner:a,gradientDuoTone:l,gradientMonochrome:c,label:u,outline:d=!1,pill:h=!1,positionInGroup:f="none",size:m="md",theme:g={},...v},p)=>{const{buttonGroup:b,button:_}=he(),y=ie(_,g),k=v;return x.jsx(A1,{ref:p,disabled:r,className:J(y.base,r&&y.disabled,!l&&!c&&y.color[e],l&&!c&&y.gradientDuoTone[l],!l&&c&&y.gradient[c],d&&(y.outline.color[e]??y.outline.color.default),y.pill[h?"on":"off"],i&&y.fullSized,b.position[f],t),...k,children:x.jsx("span",{className:J(y.inner.base,y.outline[d?"on":"off"],y.outline.pill[d&&h?"on":"off"],y.size[m],d&&!y.outline.color[e]&&y.inner.outline,o&&y.isProcessing,o&&y.inner.isProcessingPadding[m],y.inner.position[f]),children:x.jsxs(x.Fragment,{children:[o&&x.jsx("span",{className:J(y.spinnerSlot,y.spinnerLeftPosition[m]),children:a||x.jsx(S1,{size:m})}),typeof n<"u"?n:x.jsx("span",{"data-testid":"flowbite-button-label",className:J(y.label),children:o?s:u})]})})})});EP.displayName="Button";const Dn=Object.assign(EP,{Group:CP}),TP=({children:n,...t})=>{const e=r=>{const o=r.target.closest('[role="banner"]');o==null||o.remove()};return x.jsx(Dn,{onClick:e,...t,children:n})};TP.displayName="Banner.CollapseButton";const SP=({children:n,...t})=>x.jsx("div",{"data-testid":"flowbite-banner",role:"banner",tabIndex:-1,...t,children:n});SP.displayName="Banner";Object.assign(SP,{CollapseButton:TP});const AP=I.forwardRef(({children:n,className:t,href:e,icon:r,theme:i={},...o},s)=>{const a=typeof e<"u",l=a?"a":"span",c=ie(he().breadcrumb.item,i);return x.jsxs("li",{className:J(c.base,t),...o,children:[x.jsx(E1,{"aria-hidden":!0,className:c.chevron,"data-testid":"flowbite-breadcrumb-separator"}),x.jsxs(l,{ref:s,className:c.href[a?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:e,children:[r&&x.jsx(r,{"aria-hidden":!0,className:c.icon}),n]})]})});AP.displayName="Breadcrumb.Item";const PP=({children:n,className:t,theme:e={},...r})=>{const i=ie(he().breadcrumb.root,e);return x.jsx("nav",{"aria-label":"Breadcrumb",className:J(i.base,t),...r,children:x.jsx("ol",{className:i.list,children:n})})};PP.displayName="Breadcrumb";Object.assign(PP,{Item:AP});const VB=n=>t=>{const e={};for(const r in t)n.includes(r)||(e[r]=t[r]);return e},P1=n=>{const{children:t,className:e,horizontal:r,href:i,theme:o={}}=n,s=typeof i>"u"?"div":"a",a=$B(n),l=ie(he().card,o);return x.jsxs(s,{"data-testid":"flowbite-card",href:i,className:J(l.root.base,l.root.horizontal[r?"on":"off"],i&&l.root.href,e),...a,children:[x.jsx(jB,{...n}),x.jsx("div",{className:l.root.children,children:t})]})},jB=({theme:n={},...t})=>{const e=ie(he().card,n);return t.renderImage?t.renderImage(e,t.horizontal??!1):t.imgSrc?x.jsx("img",{"data-testid":"flowbite-card-image",alt:t.imgAlt??"",src:t.imgSrc,className:J(e.img.base,e.img.horizontal[t.horizontal?"on":"off"])}):null},$B=VB(["renderImage","imgSrc","imgAlt","children","className","horizontal","href","theme"]);var RP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(RP);var zB=RP.exports;const HB=xi(zB);var R1={exports:{}};function OP(n,t=100,e={}){if(typeof n!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof n}\`.`);if(t<0)throw new RangeError("`wait` must not be negative.");const{immediate:r}=typeof e=="boolean"?{immediate:e}:e;let i,o,s,a,l;function c(){const h=i,f=o;return i=void 0,o=void 0,l=n.apply(h,f),l}function u(){const h=Date.now()-a;h<t&&h>=0?s=setTimeout(u,t-h):(s=void 0,r||(l=c()))}const d=function(...h){if(i&&this!==i)throw new Error("Debounced method called with different contexts.");i=this,o=h,a=Date.now();const f=r&&!s;return s||(s=setTimeout(u,t)),f&&(l=c()),l};return d.clear=()=>{s&&(clearTimeout(s),s=void 0)},d.flush=()=>{s&&d.trigger()},d.trigger=()=>{l=c(),d.clear()},d}R1.exports.debounce=OP;R1.exports=OP;var UB=R1.exports;const WB=xi(UB);var qB=Object.defineProperty,GB=(n,t,e)=>t in n?qB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Bt=(n,t,e)=>GB(n,typeof t!="symbol"?t+"":t,e);const KB=300,ZB=0;class IP extends I.PureComponent{constructor(t){super(t),Bt(this,"container"),Bt(this,"scrolling"),Bt(this,"started"),Bt(this,"pressed"),Bt(this,"isMobile",!1),Bt(this,"internal"),Bt(this,"scrollLeft"),Bt(this,"scrollTop"),Bt(this,"clientX"),Bt(this,"clientY"),Bt(this,"onEndScroll",()=>{this.scrolling=!1,!this.pressed&&this.started&&this.processEnd()}),Bt(this,"onScroll",()=>{const e=this.container.current;(e.scrollLeft!==this.scrollLeft||e.scrollTop!==this.scrollTop)&&(this.scrolling=!0,this.processScroll(),this.onEndScroll())}),Bt(this,"onTouchStart",e=>{const{nativeMobileScroll:r}=this.props;if(this.isDraggable(e.target))if(this.internal=!0,r&&this.scrolling)this.pressed=!0;else{const i=e.touches[0];this.processClick(i.clientX,i.clientY),!r&&this.props.stopPropagation&&e.stopPropagation()}}),Bt(this,"onTouchEnd",()=>{const{nativeMobileScroll:e}=this.props;this.pressed&&(this.started&&(!this.scrolling||!e)?this.processEnd():this.pressed=!1,this.forceUpdate())}),Bt(this,"onTouchMove",e=>{const{nativeMobileScroll:r}=this.props;if(this.pressed&&(!r||!this.isMobile)){const i=e.touches[0];i&&this.processMove(i.clientX,i.clientY),e.preventDefault(),this.props.stopPropagation&&e.stopPropagation()}}),Bt(this,"onMouseDown",e=>{var r,i;this.isDraggable(e.target)&&this.isScrollable()&&(this.internal=!0,((i=(r=this.props)==null?void 0:r.buttons)==null?void 0:i.indexOf(e.button))!==-1&&(this.processClick(e.clientX,e.clientY),e.preventDefault(),this.props.stopPropagation&&e.stopPropagation()))}),Bt(this,"onMouseMove",e=>{this.pressed&&(this.processMove(e.clientX,e.clientY),e.preventDefault(),this.props.stopPropagation&&e.stopPropagation())}),Bt(this,"onMouseUp",e=>{this.pressed&&(this.started?this.processEnd():(this.internal=!1,this.pressed=!1,this.forceUpdate(),this.props.onClick&&this.props.onClick(e)),e.preventDefault(),this.props.stopPropagation&&e.stopPropagation())}),this.container=Ve.createRef(),this.onEndScroll=WB(this.onEndScroll,KB),this.scrolling=!1,this.started=!1,this.pressed=!1,this.internal=!1,this.getRef=this.getRef.bind(this)}componentDidMount(){const{nativeMobileScroll:t}=this.props,e=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),e.addEventListener("touchstart",this.onTouchStart,{passive:!1}),e.addEventListener("mousedown",this.onMouseDown,{passive:!1}),t&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())}componentWillUnmount(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)}getElement(){return this.container.current}isMobileDevice(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1}isDraggable(t){const e=this.props.ignoreElements;if(e){const r=t.closest(e);return r===null||r.contains(this.getElement())}else return!0}isScrollable(){const t=this.container.current;return t&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)}processClick(t,e){const r=this.container.current;this.scrollLeft=r==null?void 0:r.scrollLeft,this.scrollTop=r==null?void 0:r.scrollTop,this.clientX=t,this.clientY=e,this.pressed=!0}processStart(t=!0){const{onStartScroll:e}=this.props;this.started=!0,t&&document.body.classList.add("cursor-grab"),e&&e({external:!this.internal}),this.forceUpdate()}processScroll(){if(this.started){const{onScroll:t}=this.props;t&&t({external:!this.internal})}else this.processStart(!1)}processMove(t,e){const{horizontal:r,vertical:i,activationDistance:o,onScroll:s}=this.props,a=this.container.current;this.started?(r&&(a.scrollLeft-=t-this.clientX),i&&(a.scrollTop-=e-this.clientY),s&&s({external:!this.internal}),this.clientX=t,this.clientY=e,this.scrollLeft=a.scrollLeft,this.scrollTop=a.scrollTop):(r&&Math.abs(t-this.clientX)>o||i&&Math.abs(e-this.clientY)>o)&&(this.clientX=t,this.clientY=e,this.processStart())}processEnd(){const{onEndScroll:t}=this.props;this.container.current&&t&&t({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("cursor-grab"),this.forceUpdate()}getRef(t){[this.container,this.props.innerRef].forEach(e=>{e&&(typeof e=="function"?e(t):e.current=t)})}render(){const{children:t,draggingClassName:e,className:r,style:i,hideScrollbars:o}=this.props;return x.jsx("div",{className:HB(r,this.pressed&&e,{"!scroll-auto [&>*]:pointer-events-none [&>*]:cursor-grab":this.pressed,"overflow-auto":this.isMobile,"overflow-hidden !overflow-x-hidden [overflow:-moz-scrollbars-none] [scrollbar-width:none]":o,"[&::-webkit-scrollbar]:[-webkit-appearance:none !important] [&::-webkit-scrollbar]:!hidden [&::-webkit-scrollbar]:!h-0 [&::-webkit-scrollbar]:!w-0 [&::-webkit-scrollbar]:!bg-transparent":o}),style:i,ref:this.getRef,onScroll:this.onScroll,children:t})}}Bt(IP,"defaultProps",{nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},buttons:[ZB]});const YB=()=>typeof window<"u",NP=({children:n,indicators:t=!0,leftControl:e,rightControl:r,slide:i=!0,draggable:o=!0,slideInterval:s,className:a,theme:l={},onSlideChange:c=null,pauseOnHover:u=!1,...d})=>{const h=ie(he().carousel,l),f=YB()&&navigator.userAgent.indexOf("IEMobile")!==-1,m=I.useRef(null),[g,v]=I.useState(0),[p,b]=I.useState(!1),[_,y]=I.useState(!1),k=I.useRef(!1),S=I.useMemo(()=>I.Children.map(n,A=>I.cloneElement(A,{className:J(h.item.base,A.props.className)})),[n,h.item.base]),E=I.useCallback(A=>()=>{S&&(A=(A+S.length)%S.length,m.current&&(m.current.scrollLeft=m.current.clientWidth*A),v(A))},[S]);I.useEffect(()=>{m.current&&!p&&m.current.scrollLeft!==0&&v(Math.round(m.current.scrollLeft/m.current.clientWidth))},[p]),I.useEffect(()=>{if(i&&!(u&&_)){const A=setInterval(()=>!p&&E(g+1)(),s??3e3);return()=>clearInterval(A)}},[g,p,E,i,s,u,_]),I.useEffect(()=>{k.current?c&&c(g):k.current=!0},[c,g]);const C=A=>()=>b(A),O=I.useCallback(()=>y(!0),[y]),T=I.useCallback(()=>y(!1),[y]);return x.jsxs("div",{className:J(h.root.base,a),"data-testid":"carousel",onMouseEnter:O,onMouseLeave:T,onTouchStart:O,onTouchEnd:T,...d,children:[x.jsx(IP,{className:J(h.scrollContainer.base,(f||!p)&&h.scrollContainer.snap),draggingClassName:"cursor-grab",innerRef:m,onEndScroll:C(!1),onStartScroll:C(o),vertical:!1,horizontal:o,children:S==null?void 0:S.map((A,P)=>x.jsx("div",{className:h.item.wrapper[o?"on":"off"],"data-active":g===P,"data-testid":"carousel-item",children:A},P))}),t&&x.jsx("div",{className:h.indicators.wrapper,children:S==null?void 0:S.map((A,P)=>x.jsx("button",{className:J(h.indicators.base,h.indicators.active[P===g?"on":"off"]),onClick:E(P),"data-testid":"carousel-indicator","aria-label":`Slide ${P+1}`},P))}),S&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:h.root.leftControl,children:x.jsx("button",{className:"group","data-testid":"carousel-left-control",onClick:E(g-1),type:"button","aria-label":"Previous slide",children:e||x.jsx(JB,{theme:l})})}),x.jsx("div",{className:h.root.rightControl,children:x.jsx("button",{className:"group","data-testid":"carousel-right-control",onClick:E(g+1),type:"button","aria-label":"Next slide",children:r||x.jsx(XB,{theme:l})})})]})]})},JB=({theme:n={}})=>{const t=ie(he().carousel,n);return x.jsx("span",{className:t.control.base,children:x.jsx(aP,{className:t.control.icon})})},XB=({theme:n={}})=>{const t=ie(he().carousel,n);return x.jsx("span",{className:t.control.base,children:x.jsx(E1,{className:t.control.icon})})};NP.displayName="Carousel";const QB=I.forwardRef(({className:n,color:t="default",theme:e={},...r},i)=>{const o=ie(he().checkbox,e);return x.jsx("input",{ref:i,type:"checkbox",className:J(o.root.base,o.root.color[t],n),...r})});QB.displayName="Checkbox";function yg(){return typeof window<"u"}function is(n){return MP(n)?(n.nodeName||"").toLowerCase():"#document"}function jn(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function ki(n){var t;return(t=(MP(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function MP(n){return yg()?n instanceof Node||n instanceof jn(n).Node:!1}function Ge(n){return yg()?n instanceof Element||n instanceof jn(n).Element:!1}function Rt(n){return yg()?n instanceof HTMLElement||n instanceof jn(n).HTMLElement:!1}function Jb(n){return!yg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof jn(n).ShadowRoot}function xd(n){const{overflow:t,overflowX:e,overflowY:r,display:i}=Rr(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+e)&&!["inline","contents"].includes(i)}function eF(n){return["table","td","th"].includes(is(n))}function wg(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function O1(n){const t=I1(),e=Ge(n)?Rr(n):n;return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(e.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(e.contain||"").includes(r))}function tF(n){let t=qi(n);for(;Rt(t)&&!Go(t);){if(O1(t))return t;if(wg(t))return null;t=qi(t)}return null}function I1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Go(n){return["html","body","#document"].includes(is(n))}function Rr(n){return jn(n).getComputedStyle(n)}function _g(n){return Ge(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function qi(n){if(is(n)==="html")return n;const t=n.assignedSlot||n.parentNode||Jb(n)&&n.host||ki(n);return Jb(t)?t.host:t}function LP(n){const t=qi(n);return Go(t)?n.ownerDocument?n.ownerDocument.body:n.body:Rt(t)&&xd(t)?t:LP(t)}function jo(n,t,e){var r;t===void 0&&(t=[]),e===void 0&&(e=!0);const i=LP(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=jn(i);if(o){const a=Xb(s);return t.concat(s,s.visualViewport||[],xd(i)?i:[],a&&e?jo(a):[])}return t.concat(i,jo(i,[],e))}function Xb(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Vr(n){let t=n.activeElement;for(;((e=t)==null||(e=e.shadowRoot)==null?void 0:e.activeElement)!=null;){var e;t=t.shadowRoot.activeElement}return t}function St(n,t){if(!n||!t)return!1;const e=t.getRootNode==null?void 0:t.getRootNode();if(n.contains(t))return!0;if(e&&Jb(e)){let r=t;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function N1(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function DP(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(t=>{let{brand:e,version:r}=t;return e+"/"+r}).join(" "):navigator.userAgent}function BP(n){return n.mozInputSource===0&&n.isTrusted?!0:Qb()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function M1(n){return nF()?!1:!Qb()&&n.width===0&&n.height===0||Qb()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function L1(){return/apple/i.test(navigator.vendor)}function Qb(){const n=/android/i;return n.test(N1())||n.test(DP())}function FP(){return N1().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function nF(){return DP().includes("jsdom/")}function Du(n,t){const e=["mouse","pen"];return t||e.push("",void 0),e.includes(n)}function rF(n){return"nativeEvent"in n}function iF(n){return n.matches("html,body")}function Gt(n){return(n==null?void 0:n.ownerDocument)||document}function Bp(n,t){if(t==null)return!1;if("composedPath"in n)return n.composedPath().includes(t);const e=n;return e.target!=null&&t.contains(e.target)}function Mi(n){return"composedPath"in n?n.composedPath()[0]:n.target}const oF="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function D1(n){return Rt(n)&&n.matches(oF)}function en(n){n.preventDefault(),n.stopPropagation()}function VP(n){return n?n.getAttribute("role")==="combobox"&&D1(n):!1}const sF=["top","right","bottom","left"],Jx=["start","end"],Xx=sF.reduce((n,t)=>n.concat(t,t+"-"+Jx[0],t+"-"+Jx[1]),[]),xl=Math.min,Rs=Math.max,Jf=Math.round,Za=Math.floor,Ko=n=>({x:n,y:n}),aF={left:"right",right:"left",bottom:"top",top:"bottom"},lF={start:"end",end:"start"};function ev(n,t,e){return Rs(n,xl(t,e))}function Ul(n,t){return typeof n=="function"?n(t):n}function Gi(n){return n.split("-")[0]}function pi(n){return n.split("-")[1]}function jP(n){return n==="x"?"y":"x"}function B1(n){return n==="y"?"height":"width"}function kl(n){return["top","bottom"].includes(Gi(n))?"y":"x"}function F1(n){return jP(kl(n))}function $P(n,t,e){e===void 0&&(e=!1);const r=pi(n),i=F1(n),o=B1(i);let s=i==="x"?r===(e?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Qf(s)),[s,Qf(s)]}function cF(n){const t=Qf(n);return[Xf(n),t,Xf(t)]}function Xf(n){return n.replace(/start|end/g,t=>lF[t])}function uF(n,t,e){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return e?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function dF(n,t,e,r){const i=pi(n);let o=uF(Gi(n),e==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Xf)))),o}function Qf(n){return n.replace(/left|right|bottom|top/g,t=>aF[t])}function hF(n){return{top:0,right:0,bottom:0,left:0,...n}}function zP(n){return typeof n!="number"?hF(n):{top:n,right:n,bottom:n,left:n}}function em(n){const{x:t,y:e,width:r,height:i}=n;return{width:r,height:i,top:e,left:t,right:t+r,bottom:e+i,x:t,y:e}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var fF=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],tm=fF.join(","),HP=typeof Element>"u",Cl=HP?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,nm=!HP&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n==null?void 0:n.ownerDocument},rm=function n(t,e){var r;e===void 0&&(e=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",s=o||e&&t&&n(t.parentNode);return s},mF=function(t){var e,r=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return r===""||r==="true"},gF=function(t,e,r){if(rm(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(tm));return e&&Cl.call(t,tm)&&i.unshift(t),i=i.filter(r),i},pF=function n(t,e,r){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!rm(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,c=n(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:s,candidates:c})}else{var u=Cl.call(s,tm);u&&r.filter(s)&&(e||!t.includes(s))&&i.push(s);var d=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),h=!rm(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(d&&h){var f=n(d===!0?s.children:d.children,!0,r);r.flatten?i.push.apply(i,f):i.push({scopeParent:s,candidates:f})}else o.unshift.apply(o,s.children)}}return i},UP=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},WP=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||mF(t))&&!UP(t)?0:t.tabIndex},bF=function(t,e){var r=WP(t);return r<0&&e&&!UP(t)?0:r},vF=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},qP=function(t){return t.tagName==="INPUT"},yF=function(t){return qP(t)&&t.type==="hidden"},wF=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return e},_F=function(t,e){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===e)return t[r]},xF=function(t){if(!t.name)return!0;var e=t.form||nm(t),r=function(a){return e.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=_F(i,t.form);return!o||o===t},kF=function(t){return qP(t)&&t.type==="radio"},CF=function(t){return kF(t)&&!xF(t)},EF=function(t){var e,r=t&&nm(t),i=(e=r)===null||e===void 0?void 0:e.host,o=!1;if(r&&r!==t){var s,a,l;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!o&&i;){var c,u,d;r=nm(i),i=(c=r)===null||c===void 0?void 0:c.host,o=!!((u=i)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return o},Qx=function(t){var e=t.getBoundingClientRect(),r=e.width,i=e.height;return r===0&&i===0},TF=function(t,e){var r=e.displayCheck,i=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=Cl.call(t,"details>summary:first-of-type"),s=o?t.parentElement:t;if(Cl.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=t;t;){var l=t.parentElement,c=nm(t);if(l&&!l.shadowRoot&&i(l)===!0)return Qx(t);t.assignedSlot?t=t.assignedSlot:!l&&c!==t.ownerDocument?t=c.host:t=l}t=a}if(EF(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Qx(t);return!1},SF=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var r=0;r<e.children.length;r++){var i=e.children.item(r);if(i.tagName==="LEGEND")return Cl.call(e,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}e=e.parentElement}return!1},AF=function(t,e){return!(e.disabled||rm(e)||yF(e)||TF(e,t)||wF(e)||SF(e))},tv=function(t,e){return!(CF(e)||WP(e)<0||!AF(t,e))},PF=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},RF=function n(t){var e=[],r=[];return t.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=bF(a,s),c=s?n(i.candidates):a;l===0?s?e.push.apply(e,c):e.push(a):r.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:c})}),r.sort(vF).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(e)},Bu=function(t,e){e=e||{};var r;return e.getShadowRoot?r=pF([t],e.includeContainer,{filter:tv.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:PF}):r=gF(t,e.includeContainer,tv.bind(null,e)),RF(r)},OF=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Cl.call(t,tm)===!1?!1:tv(e,t)};function ek(n,t,e){let{reference:r,floating:i}=n;const o=kl(t),s=F1(t),a=B1(s),l=Gi(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(pi(t)){case"start":f[s]-=h*(e&&c?-1:1);break;case"end":f[s]+=h*(e&&c?-1:1);break}return f}const IF=async(n,t,e)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=e,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:n,floating:t,strategy:i}),{x:u,y:d}=ek(c,r,l),h=r,f={},m=0;for(let g=0;g<a.length;g++){const{name:v,fn:p}=a[g],{x:b,y:_,data:y,reset:k}=await p({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:n,floating:t}});u=b??u,d=_??d,f={...f,[v]:{...f[v],...y}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await s.getElementRects({reference:n,floating:t,strategy:i}):k.rects),{x:u,y:d}=ek(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function V1(n,t){var e;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ul(t,n),m=zP(f),v=a[h?d==="floating"?"reference":"floating":d],p=em(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(v)))==null||e?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),y=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},k=em(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:_,strategy:l}):b);return{top:(p.top-k.top+m.top)/y.y,bottom:(k.bottom-p.bottom+m.bottom)/y.y,left:(p.left-k.left+m.left)/y.x,right:(k.right-p.right+m.right)/y.x}}const NF=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Ul(n,t)||{};if(c==null)return{};const d=zP(u),h={x:e,y:r},f=F1(i),m=B1(f),g=await s.getDimensions(c),v=f==="y",p=v?"top":"left",b=v?"bottom":"right",_=v?"clientHeight":"clientWidth",y=o.reference[m]+o.reference[f]-h[f]-o.floating[m],k=h[f]-o.reference[f],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let E=S?S[_]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[_]||o.floating[m]);const C=y/2-k/2,O=E/2-g[m]/2-1,T=xl(d[p],O),A=xl(d[b],O),P=T,R=E-g[m]-A,N=E/2-g[m]/2+C,D=ev(P,N,R),V=!l.arrow&&pi(i)!=null&&N!==D&&o.reference[m]/2-(N<P?T:A)-g[m]/2<0,H=V?N<P?N-P:N-R:0;return{[f]:h[f]+H,data:{[f]:D,centerOffset:N-D-H,...V&&{alignmentOffset:H}},reset:V}}});function MF(n,t,e){return(n?[...e.filter(i=>pi(i)===n),...e.filter(i=>pi(i)!==n)]:e.filter(i=>Gi(i)===i)).filter(i=>n?pi(i)===n||(t?Xf(i)!==i:!1):!0)}const LF=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(t){var e,r,i;const{rects:o,middlewareData:s,placement:a,platform:l,elements:c}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:h=Xx,autoAlignment:f=!0,...m}=Ul(n,t),g=d!==void 0||h===Xx?MF(d||null,f,h):h,v=await V1(t,m),p=((e=s.autoPlacement)==null?void 0:e.index)||0,b=g[p];if(b==null)return{};const _=$P(b,o,await(l.isRTL==null?void 0:l.isRTL(c.floating)));if(a!==b)return{reset:{placement:g[0]}};const y=[v[Gi(b)],v[_[0]],v[_[1]]],k=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:b,overflows:y}],S=g[p+1];if(S)return{data:{index:p+1,overflows:k},reset:{placement:S}};const E=k.map(T=>{const A=pi(T.placement);return[T.placement,A&&u?T.overflows.slice(0,2).reduce((P,R)=>P+R,0):T.overflows[0],T.overflows]}).sort((T,A)=>T[1]-A[1]),O=((i=E.filter(T=>T[2].slice(0,pi(T[0])?2:3).every(A=>A<=0))[0])==null?void 0:i[0])||E[0][0];return O!==a?{data:{index:p+1,overflows:k},reset:{placement:O}}:{}}}},DF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Ul(n,t);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const p=Gi(i),b=kl(a),_=Gi(a)===a,y=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(_||!g?[Qf(a)]:cF(a)),S=m!=="none";!h&&S&&k.push(...dF(a,g,m,y));const E=[a,...k],C=await V1(t,v),O=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&O.push(C[p]),d){const N=$P(i,s,y);O.push(C[N[0]],C[N[1]])}if(T=[...T,{placement:i,overflows:O}],!O.every(N=>N<=0)){var A,P;const N=(((A=o.flip)==null?void 0:A.index)||0)+1,D=E[N];if(D)return{data:{index:N,overflows:T},reset:{placement:D}};let V=(P=T.filter(H=>H.overflows[0]<=0).sort((H,z)=>H.overflows[1]-z.overflows[1])[0])==null?void 0:P.placement;if(!V)switch(f){case"bestFit":{var R;const H=(R=T.filter(z=>{if(S){const j=kl(z.placement);return j===b||j==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(j=>j>0).reduce((j,L)=>j+L,0)]).sort((z,j)=>z[1]-j[1])[0])==null?void 0:R[0];H&&(V=H);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};async function BF(n,t){const{placement:e,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Gi(e),a=pi(e),l=kl(e)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=Ul(t,n);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const FF=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await BF(t,n);return s===((e=a.offset)==null?void 0:e.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},VF=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:p,y:b}=v;return{x:p,y:b}}},...l}=Ul(n,t),c={x:e,y:r},u=await V1(t,l),d=kl(Gi(i)),h=jP(d);let f=c[h],m=c[d];if(o){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",b=f+u[v],_=f-u[p];f=ev(b,f,_)}if(s){const v=d==="y"?"top":"left",p=d==="y"?"bottom":"right",b=m+u[v],_=m-u[p];m=ev(b,m,_)}const g=a.fn({...t,[h]:f,[d]:m});return{...g,data:{x:g.x-e,y:g.y-r}}}}};function GP(n){const t=Rr(n);let e=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Rt(n),o=i?n.offsetWidth:e,s=i?n.offsetHeight:r,a=Jf(e)!==o||Jf(r)!==s;return a&&(e=o,r=s),{width:e,height:r,$:a}}function j1(n){return Ge(n)?n:n.contextElement}function ll(n){const t=j1(n);if(!Rt(t))return Ko(1);const e=t.getBoundingClientRect(),{width:r,height:i,$:o}=GP(t);let s=(o?Jf(e.width):e.width)/r,a=(o?Jf(e.height):e.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const jF=Ko(0);function KP(n){const t=jn(n);return!I1()||!t.visualViewport?jF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $F(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==jn(n)?!1:t}function zs(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=n.getBoundingClientRect(),o=j1(n);let s=Ko(1);t&&(r?Ge(r)&&(s=ll(r)):s=ll(n));const a=$F(o,e,r)?KP(o):Ko(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const h=jn(o),f=r&&Ge(r)?jn(r):r;let m=h,g=Xb(m);for(;g&&r&&f!==m;){const v=ll(g),p=g.getBoundingClientRect(),b=Rr(g),_=p.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,y=p.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=_,c+=y,m=jn(g),g=Xb(m)}}return em({width:u,height:d,x:l,y:c})}function zF(n){let{elements:t,rect:e,offsetParent:r,strategy:i}=n;const o=i==="fixed",s=ki(r),a=t?wg(t.floating):!1;if(r===s||a&&o)return e;let l={scrollLeft:0,scrollTop:0},c=Ko(1);const u=Ko(0),d=Rt(r);if((d||!d&&!o)&&((is(r)!=="body"||xd(s))&&(l=_g(r)),Rt(r))){const h=zs(r);c=ll(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+u.x,y:e.y*c.y-l.scrollTop*c.y+u.y}}function HF(n){return Array.from(n.getClientRects())}function nv(n,t){const e=_g(n).scrollLeft;return t?t.left+e:zs(ki(n)).left+e}function UF(n){const t=ki(n),e=_g(n),r=n.ownerDocument.body,i=Rs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Rs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-e.scrollLeft+nv(n);const a=-e.scrollTop;return Rr(r).direction==="rtl"&&(s+=Rs(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function WF(n,t){const e=jn(n),r=ki(n),i=e.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=I1();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function qF(n,t){const e=zs(n,!0,t==="fixed"),r=e.top+n.clientTop,i=e.left+n.clientLeft,o=Rt(n)?ll(n):Ko(1),s=n.clientWidth*o.x,a=n.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function tk(n,t,e){let r;if(t==="viewport")r=WF(n,e);else if(t==="document")r=UF(ki(n));else if(Ge(t))r=qF(t,e);else{const i=KP(n);r={...t,x:t.x-i.x,y:t.y-i.y}}return em(r)}function ZP(n,t){const e=qi(n);return e===t||!Ge(e)||Go(e)?!1:Rr(e).position==="fixed"||ZP(e,t)}function GF(n,t){const e=t.get(n);if(e)return e;let r=jo(n,[],!1).filter(a=>Ge(a)&&is(a)!=="body"),i=null;const o=Rr(n).position==="fixed";let s=o?qi(n):n;for(;Ge(s)&&!Go(s);){const a=Rr(s),l=O1(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||xd(s)&&!l&&ZP(n,s))?r=r.filter(u=>u!==s):i=a,s=qi(s)}return t.set(n,r),r}function KF(n){let{element:t,boundary:e,rootBoundary:r,strategy:i}=n;const s=[...e==="clippingAncestors"?wg(t)?[]:GF(t,this._c):[].concat(e),r],a=s[0],l=s.reduce((c,u)=>{const d=tk(t,u,i);return c.top=Rs(d.top,c.top),c.right=xl(d.right,c.right),c.bottom=xl(d.bottom,c.bottom),c.left=Rs(d.left,c.left),c},tk(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ZF(n){const{width:t,height:e}=GP(n);return{width:t,height:e}}function YF(n,t,e){const r=Rt(t),i=ki(t),o=e==="fixed",s=zs(n,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Ko(0);if(r||!r&&!o)if((is(t)!=="body"||xd(i))&&(a=_g(t)),r){const f=zs(t,!0,o,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=nv(i));let c=0,u=0;if(i&&!r&&!o){const f=i.getBoundingClientRect();u=f.top+a.scrollTop,c=f.left+a.scrollLeft-nv(i,f)}const d=s.left+a.scrollLeft-l.x-c,h=s.top+a.scrollTop-l.y-u;return{x:d,y:h,width:s.width,height:s.height}}function Fp(n){return Rr(n).position==="static"}function nk(n,t){if(!Rt(n)||Rr(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return ki(n)===e&&(e=e.ownerDocument.body),e}function YP(n,t){const e=jn(n);if(wg(n))return e;if(!Rt(n)){let i=qi(n);for(;i&&!Go(i);){if(Ge(i)&&!Fp(i))return i;i=qi(i)}return e}let r=nk(n,t);for(;r&&eF(r)&&Fp(r);)r=nk(r,t);return r&&Go(r)&&Fp(r)&&!O1(r)?e:r||tF(n)||e}const JF=async function(n){const t=this.getOffsetParent||YP,e=this.getDimensions,r=await e(n.floating);return{reference:YF(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XF(n){return Rr(n).direction==="rtl"}const QF={convertOffsetParentRelativeRectToViewportRelativeRect:zF,getDocumentElement:ki,getClippingRect:KF,getOffsetParent:YP,getElementRects:JF,getClientRects:HF,getDimensions:ZF,getScale:ll,isElement:Ge,isRTL:XF};function eV(n,t){let e=null,r;const i=ki(n);function o(){var a;clearTimeout(r),(a=e)==null||a.disconnect(),e=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:h}=n.getBoundingClientRect();if(a||t(),!d||!h)return;const f=Za(u),m=Za(i.clientWidth-(c+d)),g=Za(i.clientHeight-(u+h)),v=Za(c),b={rootMargin:-f+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Rs(0,xl(1,l))||1};let _=!0;function y(k){const S=k[0].intersectionRatio;if(S!==l){if(!_)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_=!1}try{e=new IntersectionObserver(y,{...b,root:i.ownerDocument})}catch{e=new IntersectionObserver(y,b)}e.observe(n)}return s(!0),o}function JP(n,t,e,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=j1(n),u=i||o?[...c?jo(c):[],...jo(t)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",e,{passive:!0}),o&&p.addEventListener("resize",e)});const d=c&&a?eV(c,e):null;let h=-1,f=null;s&&(f=new ResizeObserver(p=>{let[b]=p;b&&b.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(t)})),e()}),c&&!l&&f.observe(c),f.observe(t));let m,g=l?zs(n):null;l&&v();function v(){const p=zs(n);g&&(p.x!==g.x||p.y!==g.y||p.width!==g.width||p.height!==g.height)&&e(),g=p,m=requestAnimationFrame(v)}return e(),()=>{var p;u.forEach(b=>{i&&b.removeEventListener("scroll",e),o&&b.removeEventListener("resize",e)}),d==null||d(),(p=f)==null||p.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const tV=FF,nV=LF,rV=VF,iV=DF,rk=NF,oV=(n,t,e)=>{const r=new Map,i={platform:QF,...e},o={...i.platform,_c:r};return IF(n,t,{...i,platform:o})};var nf=typeof document<"u"?I.useLayoutEffect:I.useEffect;function im(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,r,i;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(r=e;r--!==0;)if(!im(n[r],t[r]))return!1;return!0}if(i=Object.keys(n),e=i.length,e!==Object.keys(t).length)return!1;for(r=e;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=e;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!im(n[o],t[o]))return!1}return!0}return n!==n&&t!==t}function XP(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ik(n,t){const e=XP(n);return Math.round(t*e)/e}function Vp(n){const t=I.useRef(n);return nf(()=>{t.current=n}),t}function sV(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,d]=I.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=I.useState(r);im(h,r)||f(r);const[m,g]=I.useState(null),[v,p]=I.useState(null),b=I.useCallback(z=>{z!==S.current&&(S.current=z,g(z))},[]),_=I.useCallback(z=>{z!==E.current&&(E.current=z,p(z))},[]),y=o||m,k=s||v,S=I.useRef(null),E=I.useRef(null),C=I.useRef(u),O=l!=null,T=Vp(l),A=Vp(i),P=Vp(c),R=I.useCallback(()=>{if(!S.current||!E.current)return;const z={placement:t,strategy:e,middleware:h};A.current&&(z.platform=A.current),oV(S.current,E.current,z).then(j=>{const L={...j,isPositioned:P.current!==!1};N.current&&!im(C.current,L)&&(C.current=L,bg.flushSync(()=>{d(L)}))})},[h,t,e,A,P]);nf(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[c]);const N=I.useRef(!1);nf(()=>(N.current=!0,()=>{N.current=!1}),[]),nf(()=>{if(y&&(S.current=y),k&&(E.current=k),y&&k){if(T.current)return T.current(y,k,R);R()}},[y,k,R,T,O]);const D=I.useMemo(()=>({reference:S,floating:E,setReference:b,setFloating:_}),[b,_]),V=I.useMemo(()=>({reference:y,floating:k}),[y,k]),H=I.useMemo(()=>{const z={position:e,left:0,top:0};if(!V.floating)return z;const j=ik(V.floating,u.x),L=ik(V.floating,u.y);return a?{...z,transform:"translate("+j+"px, "+L+"px)",...XP(V.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:j,top:L}},[e,a,V.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:R,refs:D,elements:V,floatingStyles:H}),[u,R,D,V,H])}const aV=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:r,padding:i}=typeof n=="function"?n(e):n;return r&&t(r)?r.current!=null?rk({element:r.current,padding:i}).fn(e):{}:r?rk({element:r,padding:i}).fn(e):{}}}},lV=(n,t)=>({...tV(n),options:[n,t]}),cV=(n,t)=>({...rV(n),options:[n,t]}),uV=(n,t)=>({...iV(n),options:[n,t]}),dV=(n,t)=>({...nV(n),options:[n,t]}),hV=(n,t)=>({...aV(n),options:[n,t]});function QP(n){return I.useMemo(()=>n.every(t=>t==null)?null:t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})},n)}const e4={...xf},fV=e4.useInsertionEffect,mV=fV||(n=>n());function nn(n){const t=I.useRef(()=>{});return mV(()=>{t.current=n}),I.useCallback(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}const $1="ArrowUp",kd="ArrowDown",El="ArrowLeft",Wl="ArrowRight";function sh(n,t,e){return Math.floor(n/t)!==e}function Xc(n,t){return t<0||t>=n.current.length}function jp(n,t){return fn(n,{disabledIndices:t})}function ok(n,t){return fn(n,{decrement:!0,startingIndex:n.current.length,disabledIndices:t})}function fn(n,t){let{startingIndex:e=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=t===void 0?{}:t;const s=n.current;let a=e;do a+=r?-o:o;while(a>=0&&a<=s.length-1&&rf(s,a,i));return a}function gV(n,t){let{event:e,orientation:r,loop:i,cols:o,disabledIndices:s,minIndex:a,maxIndex:l,prevIndex:c,stopEvent:u=!1}=t,d=c;if(e.key===$1){if(u&&en(e),c===-1)d=l;else if(d=fn(n,{startingIndex:d,amount:o,decrement:!0,disabledIndices:s}),i&&(c-o<a||d<0)){const h=c%o,f=l%o,m=l-(f-h);f===h?d=l:d=f>h?m:m-o}Xc(n,d)&&(d=c)}if(e.key===kd&&(u&&en(e),c===-1?d=a:(d=fn(n,{startingIndex:c,amount:o,disabledIndices:s}),i&&c+o>l&&(d=fn(n,{startingIndex:c%o-o,amount:o,disabledIndices:s}))),Xc(n,d)&&(d=c)),r==="both"){const h=Za(c/o);e.key===Wl&&(u&&en(e),c%o!==o-1?(d=fn(n,{startingIndex:c,disabledIndices:s}),i&&sh(d,o,h)&&(d=fn(n,{startingIndex:c-c%o-1,disabledIndices:s}))):i&&(d=fn(n,{startingIndex:c-c%o-1,disabledIndices:s})),sh(d,o,h)&&(d=c)),e.key===El&&(u&&en(e),c%o!==0?(d=fn(n,{startingIndex:c,decrement:!0,disabledIndices:s}),i&&sh(d,o,h)&&(d=fn(n,{startingIndex:c+(o-c%o),decrement:!0,disabledIndices:s}))):i&&(d=fn(n,{startingIndex:c+(o-c%o),decrement:!0,disabledIndices:s})),sh(d,o,h)&&(d=c));const f=Za(l/o)===h;Xc(n,d)&&(i&&f?d=e.key===El?l:fn(n,{startingIndex:c-c%o-1,disabledIndices:s}):d=c)}return d}function pV(n,t,e){const r=[];let i=0;return n.forEach((o,s)=>{let{width:a,height:l}=o,c=!1;for(e&&(i=0);!c;){const u=[];for(let d=0;d<a;d++)for(let h=0;h<l;h++)u.push(i+d+h*t);i%t+a<=t&&u.every(d=>r[d]==null)?(u.forEach(d=>{r[d]=s}),c=!0):i++}}),[...r]}function bV(n,t,e,r,i){if(n===-1)return-1;const o=e.indexOf(n),s=t[n];switch(i){case"tl":return o;case"tr":return s?o+s.width-1:o;case"bl":return s?o+(s.height-1)*r:o;case"br":return e.lastIndexOf(n)}}function vV(n,t){return t.flatMap((e,r)=>n.includes(e)?[r]:[])}function rf(n,t,e){if(e)return e.includes(t);const r=n[t];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}let sk=0;function xo(n,t){t===void 0&&(t={});const{preventScroll:e=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(sk);const o=()=>n==null?void 0:n.focus({preventScroll:e});i?o():sk=requestAnimationFrame(o)}var He=typeof document<"u"?I.useLayoutEffect:I.useEffect;function yV(n,t){const e=n.compareDocumentPosition(t);return e&Node.DOCUMENT_POSITION_FOLLOWING||e&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:e&Node.DOCUMENT_POSITION_PRECEDING||e&Node.DOCUMENT_POSITION_CONTAINS?1:0}function wV(n,t){if(n.size!==t.size)return!1;for(const[e,r]of n.entries())if(r!==t.get(e))return!1;return!0}const t4=I.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function _V(n){const{children:t,elementsRef:e,labelsRef:r}=n,[i,o]=I.useState(()=>new Map),s=I.useCallback(l=>{o(c=>new Map(c).set(l,null))},[]),a=I.useCallback(l=>{o(c=>{const u=new Map(c);return u.delete(l),u})},[]);return He(()=>{const l=new Map(i);Array.from(l.keys()).sort(yV).forEach((u,d)=>{l.set(u,d)}),wV(i,l)||o(l)},[i]),I.createElement(t4.Provider,{value:I.useMemo(()=>({register:s,unregister:a,map:i,elementsRef:e,labelsRef:r}),[s,a,i,e,r])},t)}function xV(n){n===void 0&&(n={});const{label:t}=n,{register:e,unregister:r,map:i,elementsRef:o,labelsRef:s}=I.useContext(t4),[a,l]=I.useState(null),c=I.useRef(null),u=I.useCallback(d=>{if(c.current=d,a!==null&&(o.current[a]=d,s)){var h;const f=t!==void 0;s.current[a]=f?t:(h=d==null?void 0:d.textContent)!=null?h:null}},[a,o,s,t]);return He(()=>{const d=c.current;if(d)return e(d),()=>{r(d)}},[e,r]),He(()=>{const d=c.current?i.get(c.current):null;d!=null&&l(d)},[i]),I.useMemo(()=>({ref:u,index:a??-1}),[a,u])}function Fu(){return Fu=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Fu.apply(this,arguments)}let ak=!1,kV=0;const lk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+kV++;function CV(){const[n,t]=I.useState(()=>ak?lk():void 0);return He(()=>{n==null&&t(lk())},[]),I.useEffect(()=>{ak=!0},[]),n}const EV=e4.useId,xg=EV||CV;function TV(){const n=new Map;return{emit(t,e){var r;(r=n.get(t))==null||r.forEach(i=>i(e))},on(t,e){n.set(t,[...n.get(t)||[],e])},off(t,e){var r;n.set(t,((r=n.get(t))==null?void 0:r.filter(i=>i!==e))||[])}}}const SV=I.createContext(null),AV=I.createContext(null),kg=()=>{var n;return((n=I.useContext(SV))==null?void 0:n.id)||null},Cd=()=>I.useContext(AV);function Zo(n){return"data-floating-ui-"+n}function Zn(n){const t=I.useRef(n);return He(()=>{t.current=n}),t}const ck=Zo("safe-polygon");function $p(n,t,e){return e&&!Du(e)?0:typeof n=="number"?n:n==null?void 0:n[t]}function PV(n,t){t===void 0&&(t={});const{open:e,onOpenChange:r,dataRef:i,events:o,elements:s}=n,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:d=0,move:h=!0}=t,f=Cd(),m=kg(),g=Zn(c),v=Zn(l),p=Zn(e),b=I.useRef(),_=I.useRef(-1),y=I.useRef(),k=I.useRef(-1),S=I.useRef(!0),E=I.useRef(!1),C=I.useRef(()=>{}),O=I.useCallback(()=>{var D;const V=(D=i.current.openEvent)==null?void 0:D.type;return(V==null?void 0:V.includes("mouse"))&&V!=="mousedown"},[i]);I.useEffect(()=>{if(!a)return;function D(V){let{open:H}=V;H||(clearTimeout(_.current),clearTimeout(k.current),S.current=!0)}return o.on("openchange",D),()=>{o.off("openchange",D)}},[a,o]),I.useEffect(()=>{if(!a||!g.current||!e)return;function D(H){O()&&r(!1,H,"hover")}const V=Gt(s.floating).documentElement;return V.addEventListener("mouseleave",D),()=>{V.removeEventListener("mouseleave",D)}},[s.floating,e,r,a,g,O]);const T=I.useCallback(function(D,V,H){V===void 0&&(V=!0),H===void 0&&(H="hover");const z=$p(v.current,"close",b.current);z&&!y.current?(clearTimeout(_.current),_.current=window.setTimeout(()=>r(!1,D,H),z)):V&&(clearTimeout(_.current),r(!1,D,H))},[v,r]),A=nn(()=>{C.current(),y.current=void 0}),P=nn(()=>{if(E.current){const D=Gt(s.floating).body;D.style.pointerEvents="",D.removeAttribute(ck),E.current=!1}});I.useEffect(()=>{if(!a)return;function D(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function V(L){if(clearTimeout(_.current),S.current=!1,u&&!Du(b.current)||d>0&&!$p(v.current,"open"))return;const M=$p(v.current,"open",b.current);M?_.current=window.setTimeout(()=>{p.current||r(!0,L,"hover")},M):r(!0,L,"hover")}function H(L){if(D())return;C.current();const M=Gt(s.floating);if(clearTimeout(k.current),g.current&&i.current.floatingContext){e||clearTimeout(_.current),y.current=g.current({...i.current.floatingContext,tree:f,x:L.clientX,y:L.clientY,onClose(){P(),A(),T(L,!0,"safe-polygon")}});const $=y.current;M.addEventListener("mousemove",$),C.current=()=>{M.removeEventListener("mousemove",$)};return}(b.current==="touch"?!St(s.floating,L.relatedTarget):!0)&&T(L)}function z(L){D()||i.current.floatingContext&&(g.current==null||g.current({...i.current.floatingContext,tree:f,x:L.clientX,y:L.clientY,onClose(){P(),A(),T(L)}})(L))}if(Ge(s.domReference)){var j;const L=s.domReference;return e&&L.addEventListener("mouseleave",z),(j=s.floating)==null||j.addEventListener("mouseleave",z),h&&L.addEventListener("mousemove",V,{once:!0}),L.addEventListener("mouseenter",V),L.addEventListener("mouseleave",H),()=>{var M;e&&L.removeEventListener("mouseleave",z),(M=s.floating)==null||M.removeEventListener("mouseleave",z),h&&L.removeEventListener("mousemove",V),L.removeEventListener("mouseenter",V),L.removeEventListener("mouseleave",H)}}},[s,a,n,u,d,h,T,A,P,r,e,p,f,v,g,i]),He(()=>{var D;if(a&&e&&(D=g.current)!=null&&D.__options.blockPointerEvents&&O()){const H=Gt(s.floating).body;H.setAttribute(ck,""),H.style.pointerEvents="none",E.current=!0;const z=s.floating;if(Ge(s.domReference)&&z){var V;const j=s.domReference,L=f==null||(V=f.nodesRef.current.find(M=>M.id===m))==null||(V=V.context)==null?void 0:V.elements.floating;return L&&(L.style.pointerEvents=""),j.style.pointerEvents="auto",z.style.pointerEvents="auto",()=>{j.style.pointerEvents="",z.style.pointerEvents=""}}}},[a,e,m,s,f,g,O]),He(()=>{e||(b.current=void 0,A(),P())},[e,A,P]),I.useEffect(()=>()=>{A(),clearTimeout(_.current),clearTimeout(k.current),P()},[a,s.domReference,A,P]);const R=I.useMemo(()=>{function D(V){b.current=V.pointerType}return{onPointerDown:D,onPointerEnter:D,onMouseMove(V){const{nativeEvent:H}=V;function z(){!S.current&&!p.current&&r(!0,H,"hover")}u&&!Du(b.current)||e||d===0||(clearTimeout(k.current),b.current==="touch"?z():k.current=window.setTimeout(z,d))}}},[u,r,e,p,d]),N=I.useMemo(()=>({onMouseEnter(){clearTimeout(_.current)},onMouseLeave(D){T(D.nativeEvent,!1)}}),[T]);return I.useMemo(()=>a?{reference:R,floating:N}:{},[a,R,N])}function RV(n,t){var e;let r=[],i=(e=n.find(o=>o.id===t))==null?void 0:e.parentId;for(;i;){const o=n.find(s=>s.id===i);i=o==null?void 0:o.parentId,o&&(r=r.concat(o))}return r}function Os(n,t){let e=n.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=e;for(;r.length;)r=n.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),e=e.concat(r);return e}function OV(n,t){let e,r=-1;function i(o,s){s>r&&(e=o,r=s),Os(n,o).forEach(l=>{i(l.id,s+1)})}return i(t,0),n.find(o=>o.id===e)}let ga=new WeakMap,ah=new WeakSet,lh={},zp=0;const IV=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,n4=n=>n&&(n.host||n4(n.parentNode)),NV=(n,t)=>t.map(e=>{if(n.contains(e))return e;const r=n4(e);return n.contains(r)?r:null}).filter(e=>e!=null);function MV(n,t,e,r){const i="data-floating-ui-inert",o=r?"inert":e?"aria-hidden":null,s=NV(t,n),a=new Set,l=new Set(s),c=[];lh[i]||(lh[i]=new WeakMap);const u=lh[i];s.forEach(d),h(t),a.clear();function d(f){!f||a.has(f)||(a.add(f),f.parentNode&&d(f.parentNode))}function h(f){!f||l.has(f)||[].forEach.call(f.children,m=>{if(is(m)!=="script")if(a.has(m))h(m);else{const g=o?m.getAttribute(o):null,v=g!==null&&g!=="false",p=(ga.get(m)||0)+1,b=(u.get(m)||0)+1;ga.set(m,p),u.set(m,b),c.push(m),p===1&&v&&ah.add(m),b===1&&m.setAttribute(i,""),!v&&o&&m.setAttribute(o,"true")}})}return zp++,()=>{c.forEach(f=>{const m=(ga.get(f)||0)-1,g=(u.get(f)||0)-1;ga.set(f,m),u.set(f,g),m||(!ah.has(f)&&o&&f.removeAttribute(o),ah.delete(f)),g||f.removeAttribute(i)}),zp--,zp||(ga=new WeakMap,ga=new WeakMap,ah=new WeakSet,lh={})}}function uk(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=Gt(n[0]).body;return MV(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,e)}const Tl=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function r4(n,t){const e=Bu(n,Tl());t==="prev"&&e.reverse();const r=e.indexOf(Vr(Gt(n)));return e.slice(r+1)[0]}function i4(){return r4(document.body,"next")}function o4(){return r4(document.body,"prev")}function Qc(n,t){const e=t||n.currentTarget,r=n.relatedTarget;return!r||!St(e,r)}function LV(n){Bu(n,Tl()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function DV(n){n.querySelectorAll("[data-tabindex]").forEach(e=>{const r=e.dataset.tabindex;delete e.dataset.tabindex,r?e.setAttribute("tabindex",r):e.removeAttribute("tabindex")})}function BV(n,t,e){const r=n.indexOf(t);function i(s){const a=Zo("focus-guard");let l=r+(s?1:0),c=n[l];for(;c&&(!c.isConnected||c.hasAttribute(a)||St(e,c));)s?l++:l--,c=n[l];return c}const o=i(!0);return o||i(!1)}const z1={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let FV;function dk(n){n.key==="Tab"&&(n.target,clearTimeout(FV))}const om=I.forwardRef(function(t,e){const[r,i]=I.useState();He(()=>(L1()&&i("button"),document.addEventListener("keydown",dk),()=>{document.removeEventListener("keydown",dk)}),[]);const o={ref:e,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Zo("focus-guard")]:"",style:z1};return I.createElement("span",Fu({},t,o))}),s4=I.createContext(null),hk=Zo("portal");function VV(n){n===void 0&&(n={});const{id:t,root:e}=n,r=xg(),i=a4(),[o,s]=I.useState(null),a=I.useRef(null);return He(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{a.current=null})},[o]),He(()=>{if(!r||a.current)return;const l=t?document.getElementById(t):null;if(!l)return;const c=document.createElement("div");c.id=r,c.setAttribute(hk,""),l.appendChild(c),a.current=c,s(c)},[t,r]),He(()=>{if(!r||a.current)return;let l=e||(i==null?void 0:i.portalNode);l&&!Ge(l)&&(l=l.current),l=l||document.body;let c=null;t&&(c=document.createElement("div"),c.id=t,l.appendChild(c));const u=document.createElement("div");u.id=r,u.setAttribute(hk,""),l=c||l,l.appendChild(u),a.current=u,s(u)},[t,e,r,i]),o}function jV(n){const{children:t,id:e,root:r=null,preserveTabOrder:i=!0}=n,o=VV({id:e,root:r}),[s,a]=I.useState(null),l=I.useRef(null),c=I.useRef(null),u=I.useRef(null),d=I.useRef(null),h=!!s&&!s.modal&&s.open&&i&&!!(r||o);return I.useEffect(()=>{if(!o||!i||s!=null&&s.modal)return;function f(m){o&&Qc(m)&&(m.type==="focusin"?DV:LV)(o)}return o.addEventListener("focusin",f,!0),o.addEventListener("focusout",f,!0),()=>{o.removeEventListener("focusin",f,!0),o.removeEventListener("focusout",f,!0)}},[o,i,s==null?void 0:s.modal]),I.createElement(s4.Provider,{value:I.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:u,afterInsideRef:d,portalNode:o,setFocusManagerState:a}),[i,o])},h&&o&&I.createElement(om,{"data-type":"outside",ref:l,onFocus:f=>{if(Qc(f,o)){var m;(m=u.current)==null||m.focus()}else{const g=o4()||(s==null?void 0:s.refs.domReference.current);g==null||g.focus()}}}),h&&o&&I.createElement("span",{"aria-owns":o.id,style:z1}),o&&bg.createPortal(t,o),h&&o&&I.createElement(om,{"data-type":"outside",ref:c,onFocus:f=>{if(Qc(f,o)){var m;(m=d.current)==null||m.focus()}else{const g=i4()||(s==null?void 0:s.refs.domReference.current);g==null||g.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,f.nativeEvent))}}}))}const a4=()=>I.useContext(s4),fk=20;let bs=[];function Hp(n){bs=bs.filter(e=>e.isConnected);let t=n;if(!(!t||is(t)==="body")){if(!OF(t,Tl())){const e=Bu(t,Tl())[0];e&&(t=e)}bs.push(t),bs.length>fk&&(bs=bs.slice(-fk))}}function mk(){return bs.slice().reverse().find(n=>n.isConnected)}const $V=I.forwardRef(function(t,e){return I.createElement("button",Fu({},t,{type:"button",ref:e,tabIndex:-1,style:z1}))});function l4(n){const{context:t,children:e,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:s=0,returnFocus:a=!0,restoreFocus:l=!1,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:d=!0}=n,{open:h,refs:f,nodeId:m,onOpenChange:g,events:v,dataRef:p,floatingId:b,elements:{domReference:_,floating:y}}=t,k=typeof s=="number"&&s<0,S=VP(_)&&k,E=IV()?o:!0,C=Zn(i),O=Zn(s),T=Zn(a),A=Cd(),P=a4(),R=I.useRef(null),N=I.useRef(null),D=I.useRef(!1),V=I.useRef(!1),H=I.useRef(-1),z=P!=null,j=y==null?void 0:y.firstElementChild,L=(j==null?void 0:j.id)===b?j:y,M=nn(function(W){return W===void 0&&(W=L),W?Bu(W,Tl()):[]}),B=nn(W=>{const F=M(W);return C.current.map(U=>_&&U==="reference"?_:L&&U==="floating"?L:F).filter(Boolean).flat()});I.useEffect(()=>{if(r||!c)return;function W(U){if(U.key==="Tab"){St(L,Vr(Gt(L)))&&M().length===0&&!S&&en(U);const K=B(),Z=Mi(U);C.current[0]==="reference"&&Z===_&&(en(U),U.shiftKey?xo(K[K.length-1]):xo(K[1])),C.current[1]==="floating"&&Z===L&&U.shiftKey&&(en(U),xo(K[0]))}}const F=Gt(L);return F.addEventListener("keydown",W),()=>{F.removeEventListener("keydown",W)}},[r,_,L,c,C,S,M,B]),I.useEffect(()=>{if(r||!y)return;function W(F){const U=Mi(F),Z=M().indexOf(U);Z!==-1&&(H.current=Z)}return y.addEventListener("focusin",W),()=>{y.removeEventListener("focusin",W)}},[r,y,M]),I.useEffect(()=>{if(r||!d)return;function W(){V.current=!0,setTimeout(()=>{V.current=!1})}function F(U){const K=U.relatedTarget;queueMicrotask(()=>{const Z=!(St(_,K)||St(y,K)||St(K,y)||St(P==null?void 0:P.portalNode,K)||K!=null&&K.hasAttribute(Zo("focus-guard"))||A&&(Os(A.nodesRef.current,m).find(te=>{var ae,de;return St((ae=te.context)==null?void 0:ae.elements.floating,K)||St((de=te.context)==null?void 0:de.elements.domReference,K)})||RV(A.nodesRef.current,m).find(te=>{var ae,de;return((ae=te.context)==null?void 0:ae.elements.floating)===K||((de=te.context)==null?void 0:de.elements.domReference)===K})));if(l&&Z&&Vr(Gt(L))===Gt(L).body){Rt(L)&&(L==null||L.focus());const te=H.current,ae=M(),de=ae[te]||ae[ae.length-1]||L;Rt(de)&&de.focus()}(S||!c)&&K&&Z&&!V.current&&K!==mk()&&(D.current=!0,g(!1,U))})}if(y&&Rt(_))return _.addEventListener("focusout",F),_.addEventListener("pointerdown",W),y.addEventListener("focusout",F),()=>{_.removeEventListener("focusout",F),_.removeEventListener("pointerdown",W),y.removeEventListener("focusout",F)}},[r,_,y,L,c,m,A,P,g,d,l,M,S]),I.useEffect(()=>{var W;if(r)return;const F=Array.from((P==null||(W=P.portalNode)==null?void 0:W.querySelectorAll("["+Zo("portal")+"]"))||[]);if(y){const U=[y,...F,R.current,N.current,C.current.includes("reference")||S?_:null].filter(Z=>Z!=null),K=c||S?uk(U,E,!E):uk(U);return()=>{K()}}},[r,_,y,c,C,P,S,E]),He(()=>{if(r||!Rt(L))return;const W=Gt(L),F=Vr(W);queueMicrotask(()=>{const U=B(L),K=O.current,Z=(typeof K=="number"?U[K]:K.current)||L,te=St(L,F);!k&&!te&&h&&xo(Z,{preventScroll:Z===L})})},[r,h,L,k,B,O]),He(()=>{if(r||!L)return;let W=!1;const F=Gt(L),U=Vr(F);let Z=p.current.openEvent;const te=f.domReference.current;Hp(U);function ae(de){let{open:ye,reason:Se,event:Oe,nested:Et}=de;ye&&(Z=Oe),Se==="escape-key"&&f.domReference.current&&Hp(f.domReference.current),Se==="hover"&&Oe.type==="mouseleave"&&(D.current=!0),Se==="outside-press"&&(Et?(D.current=!1,W=!0):D.current=!(BP(Oe)||M1(Oe)))}return v.on("openchange",ae),()=>{v.off("openchange",ae);const de=Vr(F),ye=St(y,de)||A&&Os(A.nodesRef.current,m).some(me=>{var ee;return St((ee=me.context)==null?void 0:ee.elements.floating,de)});(ye||Z&&["click","mousedown"].includes(Z.type))&&f.domReference.current&&Hp(f.domReference.current);const Oe=te||U,Et=Bu(Gt(Oe).body,Tl());queueMicrotask(()=>{let me=mk();!me&&Rt(Oe)&&y&&(me=BV(Et,Oe,y)),T.current&&!D.current&&Rt(me)&&(!(me!==de&&de!==F.body)||ye)&&me.focus({preventScroll:W})})}},[r,y,L,T,p,f,v,A,m]),He(()=>{if(!r&&P)return P.setFocusManagerState({modal:c,closeOnFocusOut:d,open:h,onOpenChange:g,refs:f}),()=>{P.setFocusManagerState(null)}},[r,P,c,h,g,f,d]),He(()=>{if(r||!L||typeof MutationObserver!="function"||k)return;const W=()=>{const U=L.getAttribute("tabindex"),K=M(),Z=Vr(Gt(y)),te=K.indexOf(Z);te!==-1&&(H.current=te),C.current.includes("floating")||Z!==f.domReference.current&&K.length===0?U!=="0"&&L.setAttribute("tabindex","0"):U!=="-1"&&L.setAttribute("tabindex","-1")};W();const F=new MutationObserver(W);return F.observe(L,{childList:!0,subtree:!0,attributes:!0}),()=>{F.disconnect()}},[r,y,L,f,C,M,k]);function $(W){return r||!u||!c?null:I.createElement($V,{ref:W==="start"?R:N,onClick:F=>g(!1,F.nativeEvent)},typeof u=="string"?u:"Dismiss")}const G=!r&&E&&(c?!S:!0)&&(z||c);return I.createElement(I.Fragment,null,G&&I.createElement(om,{"data-type":"inside",ref:P==null?void 0:P.beforeInsideRef,onFocus:W=>{if(c){const U=B();xo(i[0]==="reference"?U[0]:U[U.length-1])}else if(P!=null&&P.preserveTabOrder&&P.portalNode)if(D.current=!1,Qc(W,P.portalNode)){const U=i4()||_;U==null||U.focus()}else{var F;(F=P.beforeOutsideRef.current)==null||F.focus()}}}),!S&&$("start"),e,$("end"),G&&I.createElement(om,{"data-type":"inside",ref:P==null?void 0:P.afterInsideRef,onFocus:W=>{if(c)xo(B()[0]);else if(P!=null&&P.preserveTabOrder&&P.portalNode)if(d&&(D.current=!0),Qc(W,P.portalNode)){const U=o4()||_;U==null||U.focus()}else{var F;(F=P.afterOutsideRef.current)==null||F.focus()}}}))}const Up=new Set,zV=I.forwardRef(function(t,e){const{lockScroll:r=!1,...i}=t,o=xg();return He(()=>{if(!r)return;Up.add(o);const s=/iP(hone|ad|od)|iOS/.test(N1()),a=document.body.style,c=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",u=window.innerWidth-document.documentElement.clientWidth,d=a.left?parseFloat(a.left):window.scrollX,h=a.top?parseFloat(a.top):window.scrollY;if(a.overflow="hidden",u&&(a[c]=u+"px"),s){var f,m;const g=((f=window.visualViewport)==null?void 0:f.offsetLeft)||0,v=((m=window.visualViewport)==null?void 0:m.offsetTop)||0;Object.assign(a,{position:"fixed",top:-(h-Math.floor(v))+"px",left:-(d-Math.floor(g))+"px",right:"0"})}return()=>{Up.delete(o),Up.size===0&&(Object.assign(a,{overflow:"",[c]:""}),s&&(Object.assign(a,{position:"",top:"",left:"",right:""}),window.scrollTo(d,h)))}},[o,r]),I.createElement("div",Fu({ref:e},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))});function gk(n){return Rt(n.target)&&n.target.tagName==="BUTTON"}function pk(n){return D1(n)}function c4(n,t){t===void 0&&(t={});const{open:e,onOpenChange:r,dataRef:i,elements:{domReference:o}}=n,{enabled:s=!0,event:a="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:u=!0}=t,d=I.useRef(),h=I.useRef(!1),f=I.useMemo(()=>({onPointerDown(m){d.current=m.pointerType},onMouseDown(m){const g=d.current;m.button===0&&a!=="click"&&(Du(g,!0)&&c||(e&&l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")?r(!1,m.nativeEvent,"click"):(m.preventDefault(),r(!0,m.nativeEvent,"click"))))},onClick(m){const g=d.current;if(a==="mousedown"&&d.current){d.current=void 0;return}Du(g,!0)&&c||(e&&l&&(!i.current.openEvent||i.current.openEvent.type==="click")?r(!1,m.nativeEvent,"click"):r(!0,m.nativeEvent,"click"))},onKeyDown(m){d.current=void 0,!(m.defaultPrevented||!u||gk(m))&&(m.key===" "&&!pk(o)&&(m.preventDefault(),h.current=!0),m.key==="Enter"&&r(!(e&&l),m.nativeEvent,"click"))},onKeyUp(m){m.defaultPrevented||!u||gk(m)||pk(o)||m.key===" "&&h.current&&(h.current=!1,r(!(e&&l),m.nativeEvent,"click"))}}),[i,o,a,c,u,r,e,l]);return I.useMemo(()=>s?{reference:f}:{},[s,f])}const HV={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},UV={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},bk=n=>{var t,e;return{escapeKey:typeof n=="boolean"?n:(t=n==null?void 0:n.escapeKey)!=null?t:!1,outsidePress:typeof n=="boolean"?n:(e=n==null?void 0:n.outsidePress)!=null?e:!0}};function u4(n,t){t===void 0&&(t={});const{open:e,onOpenChange:r,elements:i,dataRef:o}=n,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:f,capture:m}=t,g=Cd(),v=nn(typeof l=="function"?l:()=>!1),p=typeof l=="function"?v:l,b=I.useRef(!1),_=I.useRef(!1),{escapeKey:y,outsidePress:k}=bk(f),{escapeKey:S,outsidePress:E}=bk(m),C=nn(N=>{var D;if(!e||!s||!a||N.key!=="Escape")return;const V=(D=o.current.floatingContext)==null?void 0:D.nodeId,H=g?Os(g.nodesRef.current,V):[];if(!y&&(N.stopPropagation(),H.length>0)){let z=!0;if(H.forEach(j=>{var L;if((L=j.context)!=null&&L.open&&!j.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}r(!1,rF(N)?N.nativeEvent:N,"escape-key")}),O=nn(N=>{var D;const V=()=>{var H;C(N),(H=Mi(N))==null||H.removeEventListener("keydown",V)};(D=Mi(N))==null||D.addEventListener("keydown",V)}),T=nn(N=>{var D;const V=b.current;b.current=!1;const H=_.current;if(_.current=!1,c==="click"&&H||V||typeof p=="function"&&!p(N))return;const z=Mi(N),j="["+Zo("inert")+"]",L=Gt(i.floating).querySelectorAll(j);let M=Ge(z)?z:null;for(;M&&!Go(M);){const W=qi(M);if(Go(W)||!Ge(W))break;M=W}if(L.length&&Ge(z)&&!iF(z)&&!St(z,i.floating)&&Array.from(L).every(W=>!St(M,W)))return;if(Rt(z)&&R){const W=z.clientWidth>0&&z.scrollWidth>z.clientWidth,F=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let U=F&&N.offsetX>z.clientWidth;if(F&&Rr(z).direction==="rtl"&&(U=N.offsetX<=z.offsetWidth-z.clientWidth),U||W&&N.offsetY>z.clientHeight)return}const B=(D=o.current.floatingContext)==null?void 0:D.nodeId,$=g&&Os(g.nodesRef.current,B).some(W=>{var F;return Bp(N,(F=W.context)==null?void 0:F.elements.floating)});if(Bp(N,i.floating)||Bp(N,i.domReference)||$)return;const G=g?Os(g.nodesRef.current,B):[];if(G.length>0){let W=!0;if(G.forEach(F=>{var U;if((U=F.context)!=null&&U.open&&!F.context.dataRef.current.__outsidePressBubbles){W=!1;return}}),!W)return}r(!1,N,"outside-press")}),A=nn(N=>{var D;const V=()=>{var H;T(N),(H=Mi(N))==null||H.removeEventListener(c,V)};(D=Mi(N))==null||D.addEventListener(c,V)});I.useEffect(()=>{if(!e||!s)return;o.current.__escapeKeyBubbles=y,o.current.__outsidePressBubbles=k;function N(H){r(!1,H,"ancestor-scroll")}const D=Gt(i.floating);a&&D.addEventListener("keydown",S?O:C,S),p&&D.addEventListener(c,E?A:T,E);let V=[];return h&&(Ge(i.domReference)&&(V=jo(i.domReference)),Ge(i.floating)&&(V=V.concat(jo(i.floating))),!Ge(i.reference)&&i.reference&&i.reference.contextElement&&(V=V.concat(jo(i.reference.contextElement)))),V=V.filter(H=>{var z;return H!==((z=D.defaultView)==null?void 0:z.visualViewport)}),V.forEach(H=>{H.addEventListener("scroll",N,{passive:!0})}),()=>{a&&D.removeEventListener("keydown",S?O:C,S),p&&D.removeEventListener(c,E?A:T,E),V.forEach(H=>{H.removeEventListener("scroll",N)})}},[o,i,a,p,c,e,r,h,s,y,k,C,S,O,T,E,A]),I.useEffect(()=>{b.current=!1},[p,c]);const P=I.useMemo(()=>({onKeyDown:C,[HV[d]]:N=>{u&&r(!1,N.nativeEvent,"reference-press")}}),[C,r,u,d]),R=I.useMemo(()=>({onKeyDown:C,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[UV[c]]:()=>{b.current=!0}}),[C,c]);return I.useMemo(()=>s?{reference:P,floating:R}:{},[s,P,R])}function WV(n){const{open:t=!1,onOpenChange:e,elements:r}=n,i=xg(),o=I.useRef({}),[s]=I.useState(()=>TV()),a=kg()!=null,[l,c]=I.useState(r.reference),u=nn((f,m,g)=>{o.current.openEvent=f?m:void 0,s.emit("openchange",{open:f,event:m,reason:g,nested:a}),e==null||e(f,m,g)}),d=I.useMemo(()=>({setPositionReference:c}),[]),h=I.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return I.useMemo(()=>({dataRef:o,open:t,onOpenChange:u,elements:h,events:s,floatingId:i,refs:d}),[t,u,h,s,i,d])}function d4(n){n===void 0&&(n={});const{nodeId:t}=n,e=WV({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||e,i=r.elements,[o,s]=I.useState(null),[a,l]=I.useState(null),u=(i==null?void 0:i.reference)||o,d=I.useRef(null),h=Cd();He(()=>{u&&(d.current=u)},[u]);const f=sV({...n,elements:{...i,...a&&{reference:a}}}),m=I.useCallback(_=>{const y=Ge(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(y),f.refs.setReference(y)},[f.refs]),g=I.useCallback(_=>{(Ge(_)||_===null)&&(d.current=_,s(_)),(Ge(f.refs.reference.current)||f.refs.reference.current===null||_!==null&&!Ge(_))&&f.refs.setReference(_)},[f.refs]),v=I.useMemo(()=>({...f.refs,setReference:g,setPositionReference:m,domReference:d}),[f.refs,g,m]),p=I.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),b=I.useMemo(()=>({...f,...r,refs:v,elements:p,nodeId:t}),[f,v,p,t,r]);return He(()=>{r.dataRef.current.floatingContext=b;const _=h==null?void 0:h.nodesRef.current.find(y=>y.id===t);_&&(_.context=b)}),I.useMemo(()=>({...f,context:b,refs:v,elements:p}),[f,v,p,b])}function qV(n,t){t===void 0&&(t={});const{open:e,onOpenChange:r,events:i,dataRef:o,elements:s}=n,{enabled:a=!0,visibleOnly:l=!0}=t,c=I.useRef(!1),u=I.useRef(),d=I.useRef(!0);I.useEffect(()=>{if(!a)return;const f=jn(s.domReference);function m(){!e&&Rt(s.domReference)&&s.domReference===Vr(Gt(s.domReference))&&(c.current=!0)}function g(){d.current=!0}return f.addEventListener("blur",m),f.addEventListener("keydown",g,!0),()=>{f.removeEventListener("blur",m),f.removeEventListener("keydown",g,!0)}},[s.domReference,e,a]),I.useEffect(()=>{if(!a)return;function f(m){let{reason:g}=m;(g==="reference-press"||g==="escape-key")&&(c.current=!0)}return i.on("openchange",f),()=>{i.off("openchange",f)}},[i,a]),I.useEffect(()=>()=>{clearTimeout(u.current)},[]);const h=I.useMemo(()=>({onPointerDown(f){M1(f.nativeEvent)||(d.current=!1)},onMouseLeave(){c.current=!1},onFocus(f){if(c.current)return;const m=Mi(f.nativeEvent);if(l&&Ge(m))try{if(L1()&&FP())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!d.current&&!D1(m))return}r(!0,f.nativeEvent,"focus")},onBlur(f){c.current=!1;const m=f.relatedTarget,g=f.nativeEvent,v=Ge(m)&&m.hasAttribute(Zo("focus-guard"))&&m.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var p;const b=Vr(s.domReference?s.domReference.ownerDocument:document);!m&&b===s.domReference||St((p=o.current.floatingContext)==null?void 0:p.refs.floating.current,b)||St(s.domReference,b)||v||r(!1,g,"focus")})}}),[o,s.domReference,r,l]);return I.useMemo(()=>a?{reference:h}:{},[a,h])}const vk="active",yk="selected";function Wp(n,t,e){const r=new Map,i=e==="item";let o=n;if(i&&n){const{[vk]:s,[yk]:a,...l}=n;o=l}return{...e==="floating"&&{tabIndex:-1},...o,...t.map(s=>{const a=s?s[e]:null;return typeof a=="function"?n?a(n):null:a}).concat(n).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[vk,yk].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var d;(d=r.get(c))==null||d.push(u),s[c]=function(){for(var h,f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];return(h=r.get(c))==null?void 0:h.map(v=>v(...m)).find(v=>v!==void 0)}}}else s[c]=u}),s),{})}}function h4(n){n===void 0&&(n=[]);const t=n.map(a=>a==null?void 0:a.reference),e=n.map(a=>a==null?void 0:a.floating),r=n.map(a=>a==null?void 0:a.item),i=I.useCallback(a=>Wp(a,n,"reference"),t),o=I.useCallback(a=>Wp(a,n,"floating"),e),s=I.useCallback(a=>Wp(a,n,"item"),r);return I.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}let wk=!1;function Cg(n,t,e){switch(n){case"vertical":return t;case"horizontal":return e;default:return t||e}}function _k(n,t){return Cg(t,n===$1||n===kd,n===El||n===Wl)}function qp(n,t,e){return Cg(t,n===kd,e?n===El:n===Wl)||n==="Enter"||n===" "||n===""}function GV(n,t,e){return Cg(t,e?n===El:n===Wl,n===kd)}function xk(n,t,e){return Cg(t,e?n===Wl:n===El,n===$1)}function KV(n,t){const{open:e,onOpenChange:r,elements:i}=n,{listRef:o,activeIndex:s,onNavigate:a=()=>{},enabled:l=!0,selectedIndex:c=null,allowEscape:u=!1,loop:d=!1,nested:h=!1,rtl:f=!1,virtual:m=!1,focusItemOnOpen:g="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:p=!0,disabledIndices:b=void 0,orientation:_="vertical",cols:y=1,scrollItemIntoView:k=!0,virtualItemRef:S,itemSizes:E,dense:C=!1}=t,O=kg(),T=Cd(),A=nn(a),P=I.useRef(g),R=I.useRef(c??-1),N=I.useRef(null),D=I.useRef(!0),V=I.useRef(A),H=I.useRef(!!i.floating),z=I.useRef(e),j=I.useRef(!1),L=I.useRef(!1),M=Zn(b),B=Zn(e),$=Zn(k),G=Zn(i.floating),W=Zn(c),[F,U]=I.useState(),[K,Z]=I.useState(),te=nn(function(me,ee,Y){Y===void 0&&(Y=!1);function oe(ne){m?(U(ne.id),T==null||T.events.emit("virtualfocus",ne),S&&(S.current=ne)):xo(ne,{preventScroll:!0,sync:FP()&&L1()?wk||j.current:!1})}const le=me.current[ee.current];le&&oe(le),requestAnimationFrame(()=>{const ne=me.current[ee.current]||le;if(!ne)return;le||oe(ne);const ke=$.current;ke&&de&&(Y||!D.current)&&(ne.scrollIntoView==null||ne.scrollIntoView(typeof ke=="boolean"?{block:"nearest",inline:"nearest"}:ke))})});He(()=>{document.createElement("div").focus({get preventScroll(){return wk=!0,!1}})},[]),He(()=>{l&&(e&&i.floating?P.current&&c!=null&&(L.current=!0,R.current=c,A(c)):H.current&&(R.current=-1,V.current(null)))},[l,e,i.floating,c,A]),He(()=>{if(l&&e&&i.floating)if(s==null){if(j.current=!1,W.current!=null)return;if(H.current&&(R.current=-1,te(o,R)),(!z.current||!H.current)&&P.current&&(N.current!=null||P.current===!0&&N.current==null)){let me=0;const ee=()=>{o.current[0]==null?(me<2&&(me?requestAnimationFrame:queueMicrotask)(ee),me++):(R.current=N.current==null||qp(N.current,_,f)||h?jp(o,M.current):ok(o,M.current),N.current=null,A(R.current))};ee()}}else Xc(o,s)||(R.current=s,te(o,R,L.current),L.current=!1)},[l,e,i.floating,s,W,h,o,_,f,A,te,M]),He(()=>{var me;if(!l||i.floating||!T||m||!H.current)return;const ee=T.nodesRef.current,Y=(me=ee.find(ne=>ne.id===O))==null||(me=me.context)==null?void 0:me.elements.floating,oe=Vr(Gt(i.floating)),le=ee.some(ne=>ne.context&&St(ne.context.elements.floating,oe));Y&&!le&&D.current&&Y.focus({preventScroll:!0})},[l,i.floating,T,O,m]),He(()=>{if(!l||!T||!m||O)return;function me(ee){Z(ee.id),S&&(S.current=ee)}return T.events.on("virtualfocus",me),()=>{T.events.off("virtualfocus",me)}},[l,T,m,O,S]),He(()=>{V.current=A,H.current=!!i.floating}),He(()=>{e||(N.current=null)},[e]),He(()=>{z.current=e},[e]);const ae=s!=null,de=I.useMemo(()=>{function me(Y){if(!e)return;const oe=o.current.indexOf(Y);oe!==-1&&A(oe)}return{onFocus(Y){let{currentTarget:oe}=Y;me(oe)},onClick:Y=>{let{currentTarget:oe}=Y;return oe.focus({preventScroll:!0})},...v&&{onMouseMove(Y){let{currentTarget:oe}=Y;me(oe)},onPointerLeave(Y){let{pointerType:oe}=Y;!D.current||oe==="touch"||(R.current=-1,te(o,R),A(null),m||xo(G.current,{preventScroll:!0}))}}}},[e,G,te,v,o,A,m]),ye=nn(me=>{if(D.current=!1,j.current=!0,!B.current&&me.currentTarget===G.current)return;if(h&&xk(me.key,_,f)){en(me),r(!1,me.nativeEvent,"list-navigation"),Rt(i.domReference)&&!m&&i.domReference.focus();return}const ee=R.current,Y=jp(o,b),oe=ok(o,b);if(me.key==="Home"&&(en(me),R.current=Y,A(R.current)),me.key==="End"&&(en(me),R.current=oe,A(R.current)),y>1){const le=E||Array.from({length:o.current.length},()=>({width:1,height:1})),ne=pV(le,y,C),ke=ne.findIndex(Ce=>Ce!=null&&!rf(o.current,Ce,b)),Pe=ne.reduce((Ce,Tt,Tn)=>Tt!=null&&!rf(o.current,Tt,b)?Tn:Ce,-1);if(R.current=ne[gV({current:ne.map(Ce=>Ce!=null?o.current[Ce]:null)},{event:me,orientation:_,loop:d,cols:y,disabledIndices:vV([...b||o.current.map((Ce,Tt)=>rf(o.current,Tt)?Tt:void 0),void 0],ne),minIndex:ke,maxIndex:Pe,prevIndex:bV(R.current>oe?Y:R.current,le,ne,y,me.key===kd?"bl":me.key===Wl?"tr":"tl"),stopEvent:!0})],A(R.current),_==="both")return}if(_k(me.key,_)){if(en(me),e&&!m&&Vr(me.currentTarget.ownerDocument)===me.currentTarget){R.current=qp(me.key,_,f)?Y:oe,A(R.current);return}qp(me.key,_,f)?d?R.current=ee>=oe?u&&ee!==o.current.length?-1:Y:fn(o,{startingIndex:ee,disabledIndices:b}):R.current=Math.min(oe,fn(o,{startingIndex:ee,disabledIndices:b})):d?R.current=ee<=Y?u&&ee!==-1?o.current.length:oe:fn(o,{startingIndex:ee,decrement:!0,disabledIndices:b}):R.current=Math.max(Y,fn(o,{startingIndex:ee,decrement:!0,disabledIndices:b})),Xc(o,R.current)?A(null):A(R.current)}}),Se=I.useMemo(()=>m&&e&&ae&&{"aria-activedescendant":K||F},[m,e,ae,K,F]),Oe=I.useMemo(()=>({"aria-orientation":_==="both"?void 0:_,...!VP(i.domReference)&&Se,onKeyDown:ye,onPointerMove(){D.current=!0}}),[Se,ye,i.domReference,_]),Et=I.useMemo(()=>{function me(Y){g==="auto"&&BP(Y.nativeEvent)&&(P.current=!0)}function ee(Y){P.current=g,g==="auto"&&M1(Y.nativeEvent)&&(P.current=!0)}return{...Se,onKeyDown(Y){D.current=!1;const oe=Y.key.indexOf("Arrow")===0,le=GV(Y.key,_,f),ne=xk(Y.key,_,f),ke=_k(Y.key,_),Pe=(h?le:ke)||Y.key==="Enter"||Y.key.trim()==="";if(m&&e){const Je=T==null?void 0:T.nodesRef.current.find(tt=>tt.parentId==null),Qr=T&&Je?OV(T.nodesRef.current,Je.id):null;if(oe&&Qr&&S){const tt=new KeyboardEvent("keydown",{key:Y.key,bubbles:!0});if(le||ne){var Ce,Tt;const ei=((Ce=Qr.context)==null?void 0:Ce.elements.domReference)===Y.currentTarget,E_=ne&&!ei?(Tt=Qr.context)==null?void 0:Tt.elements.domReference:le?o.current.find(T_=>(T_==null?void 0:T_.id)===F):null;E_&&(en(Y),E_.dispatchEvent(tt),Z(void 0))}if(ke&&Qr.context&&Qr.context.open&&Qr.parentId&&Y.currentTarget!==Qr.context.elements.domReference){var Tn;en(Y),(Tn=Qr.context.elements.domReference)==null||Tn.dispatchEvent(tt);return}}return ye(Y)}if(!(!e&&!p&&oe)){if(Pe&&(N.current=h&&ke?null:Y.key),h){le&&(en(Y),e?(R.current=jp(o,M.current),A(R.current)):r(!0,Y.nativeEvent,"list-navigation"));return}ke&&(c!=null&&(R.current=c),en(Y),!e&&p?r(!0,Y.nativeEvent,"list-navigation"):ye(Y),e&&A(R.current))}},onFocus(){e&&!m&&A(null)},onPointerDown:ee,onMouseDown:me,onClick:me}},[F,Se,ye,M,g,o,h,A,r,e,p,_,f,c,T,m,S]);return I.useMemo(()=>l?{reference:Et,floating:Oe,item:de}:{},[l,Et,Oe,de])}const ZV=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function f4(n,t){var e;t===void 0&&(t={});const{open:r,floatingId:i}=n,{enabled:o=!0,role:s="dialog"}=t,a=(e=ZV.get(s))!=null?e:s,l=xg(),u=kg()!=null,d=I.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&u&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,u,r,l,s]),h=I.useMemo(()=>{const m={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?m:{...m,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,s]),f=I.useCallback(m=>{let{active:g,selected:v}=m;const p={role:"option",...g&&{id:i+"-option"}};switch(s){case"select":return{...p,"aria-selected":g&&v};case"combobox":return{...p,...g&&{"aria-selected":!0}}}return{}},[i,s]);return I.useMemo(()=>o?{reference:d,floating:h,item:f}:{},[o,d,h,f])}function YV(n,t){var e;const{open:r,dataRef:i}=n,{listRef:o,activeIndex:s,onMatch:a,onTypingChange:l,enabled:c=!0,findMatch:u=null,resetMs:d=750,ignoreKeys:h=[],selectedIndex:f=null}=t,m=I.useRef(),g=I.useRef(""),v=I.useRef((e=f??s)!=null?e:-1),p=I.useRef(null),b=nn(a),_=nn(l),y=Zn(u),k=Zn(h);He(()=>{r&&(clearTimeout(m.current),p.current=null,g.current="")},[r]),He(()=>{if(r&&g.current===""){var T;v.current=(T=f??s)!=null?T:-1}},[r,f,s]);const S=nn(T=>{T?i.current.typing||(i.current.typing=T,_(T)):i.current.typing&&(i.current.typing=T,_(T))}),E=nn(T=>{function A(V,H,z){const j=y.current?y.current(H,z):H.find(L=>(L==null?void 0:L.toLocaleLowerCase().indexOf(z.toLocaleLowerCase()))===0);return j?V.indexOf(j):-1}const P=o.current;if(g.current.length>0&&g.current[0]!==" "&&(A(P,P,g.current)===-1?S(!1):T.key===" "&&en(T)),P==null||k.current.includes(T.key)||T.key.length!==1||T.ctrlKey||T.metaKey||T.altKey)return;r&&T.key!==" "&&(en(T),S(!0)),P.every(V=>{var H,z;return V?((H=V[0])==null?void 0:H.toLocaleLowerCase())!==((z=V[1])==null?void 0:z.toLocaleLowerCase()):!0})&&g.current===T.key&&(g.current="",v.current=p.current),g.current+=T.key,clearTimeout(m.current),m.current=setTimeout(()=>{g.current="",v.current=p.current,S(!1)},d);const N=v.current,D=A(P,[...P.slice((N||0)+1),...P.slice(0,(N||0)+1)],g.current);D!==-1?(b(D),p.current=D):T.key!==" "&&(g.current="",S(!1))}),C=I.useMemo(()=>({onKeyDown:E}),[E]),O=I.useMemo(()=>({onKeyDown:E,onKeyUp(T){T.key===" "&&S(!1)}}),[E,S]);return I.useMemo(()=>c?{reference:C,floating:O}:{},[c,C,O])}function kk(n,t){const[e,r]=n;let i=!1;const o=t.length;for(let s=0,a=o-1;s<o;a=s++){const[l,c]=t[s]||[0,0],[u,d]=t[a]||[0,0];c>=r!=d>=r&&e<=(u-l)*(r-c)/(d-c)+l&&(i=!i)}return i}function JV(n,t){return n[0]>=t.x&&n[0]<=t.x+t.width&&n[1]>=t.y&&n[1]<=t.y+t.height}function XV(n){n===void 0&&(n={});const{buffer:t=.5,blockPointerEvents:e=!1,requireIntent:r=!0}=n;let i,o=!1,s=null,a=null,l=performance.now();function c(d,h){const f=performance.now(),m=f-l;if(s===null||a===null||m===0)return s=d,a=h,l=f,null;const g=d-s,v=h-a,b=Math.sqrt(g*g+v*v)/m;return s=d,a=h,l=f,b}const u=d=>{let{x:h,y:f,placement:m,elements:g,onClose:v,nodeId:p,tree:b}=d;return function(y){function k(){clearTimeout(i),v()}if(clearTimeout(i),!g.domReference||!g.floating||m==null||h==null||f==null)return;const{clientX:S,clientY:E}=y,C=[S,E],O=Mi(y),T=y.type==="mouseleave",A=St(g.floating,O),P=St(g.domReference,O),R=g.domReference.getBoundingClientRect(),N=g.floating.getBoundingClientRect(),D=m.split("-")[0],V=h>N.right-N.width/2,H=f>N.bottom-N.height/2,z=JV(C,R),j=N.width>R.width,L=N.height>R.height,M=(j?R:N).left,B=(j?R:N).right,$=(L?R:N).top,G=(L?R:N).bottom;if(A&&(o=!0,!T))return;if(P&&(o=!1),P&&!T){o=!0;return}if(T&&Ge(y.relatedTarget)&&St(g.floating,y.relatedTarget)||b&&Os(b.nodesRef.current,p).some(U=>{let{context:K}=U;return K==null?void 0:K.open}))return;if(D==="top"&&f>=R.bottom-1||D==="bottom"&&f<=R.top+1||D==="left"&&h>=R.right-1||D==="right"&&h<=R.left+1)return k();let W=[];switch(D){case"top":W=[[M,R.top+1],[M,N.bottom-1],[B,N.bottom-1],[B,R.top+1]];break;case"bottom":W=[[M,N.top+1],[M,R.bottom-1],[B,R.bottom-1],[B,N.top+1]];break;case"left":W=[[N.right-1,G],[N.right-1,$],[R.left+1,$],[R.left+1,G]];break;case"right":W=[[R.right-1,G],[R.right-1,$],[N.left+1,$],[N.left+1,G]];break}function F(U){let[K,Z]=U;switch(D){case"top":{const te=[j?K+t/2:V?K+t*4:K-t*4,Z+t+1],ae=[j?K-t/2:V?K+t*4:K-t*4,Z+t+1],de=[[N.left,V||j?N.bottom-t:N.top],[N.right,V?j?N.bottom-t:N.top:N.bottom-t]];return[te,ae,...de]}case"bottom":{const te=[j?K+t/2:V?K+t*4:K-t*4,Z-t],ae=[j?K-t/2:V?K+t*4:K-t*4,Z-t],de=[[N.left,V||j?N.top+t:N.bottom],[N.right,V?j?N.top+t:N.bottom:N.top+t]];return[te,ae,...de]}case"left":{const te=[K+t+1,L?Z+t/2:H?Z+t*4:Z-t*4],ae=[K+t+1,L?Z-t/2:H?Z+t*4:Z-t*4];return[...[[H||L?N.right-t:N.left,N.top],[H?L?N.right-t:N.left:N.right-t,N.bottom]],te,ae]}case"right":{const te=[K-t,L?Z+t/2:H?Z+t*4:Z-t*4],ae=[K-t,L?Z-t/2:H?Z+t*4:Z-t*4],de=[[H||L?N.left+t:N.right,N.top],[H?L?N.left+t:N.right:N.left+t,N.bottom]];return[te,ae,...de]}}}if(!kk([S,E],W)){if(o&&!z)return k();if(!T&&r){const U=c(y.clientX,y.clientY);if(U!==null&&U<.1)return k()}kk([S,E],F([h,f]))?!o&&r&&(i=window.setTimeout(k,40)):k()}}};return u.__options={blockPointerEvents:e},u}const QV=({arrowRef:n,placement:t})=>{const e=[];return e.push(lV(8)),e.push(t==="auto"?dV():uV()),e.push(cV({padding:8})),n!=null&&n.current&&e.push(hV({element:n.current})),e},ej=({placement:n})=>n==="auto"?void 0:n,tj=({placement:n})=>({top:"bottom",right:"left",bottom:"top",left:"right"})[n.split("-")[0]],m4=({open:n,arrowRef:t,placement:e="top",setOpen:r})=>d4({placement:ej({placement:e}),open:n,onOpenChange:r,whileElementsMounted:JP,middleware:QV({placement:e,arrowRef:t})}),g4=({context:n,trigger:t,role:e="tooltip",interactions:r=[]})=>h4([c4(n,{enabled:t==="click"}),PV(n,{enabled:t==="hover",handleClose:XV()}),u4(n),f4(n,{role:e}),...r]),nj=({animation:n="duration-300",arrow:t=!0,children:e,className:r,content:i,placement:o="top",style:s="dark",theme:a,trigger:l="hover",minWidth:c,...u})=>{const d=I.useRef(null),[h,f]=I.useState(!1),m=m4({open:h,placement:o,arrowRef:d,setOpen:f}),{context:g,middlewareData:{arrow:{x:v,y:p}={}},refs:b,strategy:_,update:y,x:k,y:S}=m,E=qV(g),{getFloatingProps:C,getReferenceProps:O}=g4({context:g,role:"tooltip",trigger:l,interactions:[E]});return I.useEffect(()=>{if(b.reference.current&&b.floating.current&&h)return JP(b.reference.current,b.floating.current,y)},[h,b.floating,b.reference,y]),x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:b.setReference,className:a.target,"data-testid":"flowbite-tooltip-target",...O(),children:e}),x.jsxs("div",{ref:b.setFloating,"data-testid":"flowbite-tooltip",...C({className:J(a.base,n&&`${a.animation} ${n}`,!h&&a.hidden,a.style[s],r),style:{position:_,top:S??" ",left:k??" ",minWidth:c},...u}),children:[x.jsx("div",{className:a.content,children:i}),t&&x.jsx("div",{className:J(a.arrow.base,s==="dark"&&a.arrow.style.dark,s==="light"&&a.arrow.style.light,s==="auto"&&a.arrow.style.auto),"data-testid":"flowbite-tooltip-arrow",ref:d,style:{top:p??" ",left:v??" ",right:" ",bottom:" ",[tj({placement:m.placement})]:a.arrow.placement},children:" "})]})]})},Eg=({animation:n="duration-300",arrow:t=!0,children:e,className:r,content:i,placement:o="top",style:s="dark",theme:a={},trigger:l="hover",...c})=>{const u=ie(he().tooltip,a);return x.jsx(nj,{animation:n,arrow:t,content:i,placement:o,style:s,theme:u,trigger:l,className:r,...c,children:e})};Eg.displayName="Tooltip";function p4(n){return $t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(n)}function b4(n){return $t({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16z"},child:[]}]})(n)}function rj(n){return $t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 296c0 66.3-53.7 120-120 120h-8c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H320c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72zm-256 0c0 66.3-53.7 120-120 120H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H64c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72z"},child:[]}]})(n)}const H1=(n,t)=>{var e;t(!0),(e=navigator==null?void 0:navigator.clipboard)==null||e.writeText(n).then(()=>{console.log("Copy Successfull")}).catch(r=>{console.error("Failed to Copy text: ",r),t(!1)}),setTimeout(()=>t(!1),4e3)},v4=I.forwardRef(({valueToCopy:n,icon:t=b4,theme:e={},className:r,...i},o)=>{const[s,a]=I.useState(!1),l=ie(he().clipboard.withIcon,e);return x.jsx("button",{className:J(l.base,r),onClick:()=>H1(n,a),...i,ref:o,children:s?x.jsx(p4,{"aria-hidden":!0,className:l.icon.successIcon}):x.jsx(t,{"aria-hidden":!0,className:l.icon.defaultIcon})})}),y4=I.forwardRef(({valueToCopy:n,icon:t=b4,label:e="Copy",theme:r={},className:i,...o},s)=>{const[a,l]=I.useState(!1),c=ie(he().clipboard.withIconText,r);return x.jsx("button",{className:J(c.base,i),onClick:()=>H1(n,l),...o,ref:s,children:a?x.jsxs("span",{className:c.label.base,children:[x.jsx(p4,{"aria-hidden":!0,className:c.icon.successIcon}),x.jsx("span",{className:c.label.successText,children:"Copied"})]}):x.jsxs("span",{className:c.label.base,children:[x.jsx(t,{"aria-hidden":!0,className:c.icon.defaultIcon}),x.jsx("span",{className:c.label.defaultText,children:e})]})})}),w4=I.forwardRef(({className:n,valueToCopy:t,label:e,theme:r={},...i},o)=>{const[s,a]=I.useState(!1),l=ie(he().clipboard.button,r);return x.jsx(Eg,{content:s?"Copied":"Copy to clipboard",className:"[&_*]:cursor-pointer",children:x.jsx("button",{className:J(l.base,n),onClick:()=>H1(t,a),...i,ref:o,children:x.jsx("span",{className:l.label,children:e})})})});w4.displayName="Clipboard";v4.displayName="Clipboard.WithIcon";y4.displayName="Clipboard.WithIconText";Object.assign(w4,{WithIcon:v4,WithIconText:y4});const Ed=({children:n,className:t,color:e="default",theme:r={},value:i,...o})=>{const s=ie(he().helperText,r);return x.jsx("p",{className:J(s.root.base,s.root.colors[e],t),...o,children:i??n??""})};Ed.displayName="HelperText";const sn=I.forwardRef(({addon:n,className:t,color:e="gray",helperText:r,icon:i,rightIcon:o,shadow:s,sizing:a="md",theme:l={},type:c="text",...u},d)=>{const h=ie(he().textInput,l);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:J(h.base,t),children:[n&&x.jsx("span",{className:h.addon,children:n}),x.jsxs("div",{className:h.field.base,children:[i&&x.jsx("div",{className:h.field.icon.base,children:x.jsx(i,{className:h.field.icon.svg})}),o&&x.jsx("div",{"data-testid":"right-icon",className:h.field.rightIcon.base,children:x.jsx(o,{className:h.field.rightIcon.svg})}),x.jsx("input",{className:J(h.field.input.base,h.field.input.colors[e],h.field.input.sizes[a],h.field.input.withIcon[i?"on":"off"],h.field.input.withRightIcon[o?"on":"off"],h.field.input.withAddon[n?"on":"off"],h.field.input.withShadow[s?"on":"off"]),type:c,...u,ref:d})]})]}),r&&x.jsx(Ed,{color:e,children:r})]})});sn.displayName="TextInput";const _4=I.createContext(void 0);function Tg(){const n=I.useContext(_4);if(!n)throw new Error("useDatePickerContext should be used within the DatePickerContext provider!");return n}var ht=(n=>(n[n.Days=0]="Days",n[n.Months=1]="Months",n[n.Years=2]="Years",n[n.Decades=3]="Decades",n))(ht||{}),x4=(n=>(n[n.Sunday=0]="Sunday",n[n.Monday=1]="Monday",n[n.Tuesday=2]="Tuesday",n[n.Wednesday=3]="Wednesday",n[n.Thursday=4]="Thursday",n[n.Friday=5]="Friday",n[n.Saturday=6]="Saturday",n))(x4||{});const Sl=(n,t,e)=>{const r=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime();if(t&&e){const i=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime(),o=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();return r>=i&&r<=o}if(t){const i=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return r>=i}if(e){const i=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();return r<=i}return!0},Vu=(n,t)=>(n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n.getTime()===t.getTime()),ch=(n,t,e)=>(Sl(n,t,e)||(t&&n<t?n=t:e&&n>e&&(n=e)),n),ij=(n,t)=>{const e=new Date(n.getFullYear(),n.getMonth(),1);let i=e.getDay()-t;return i<0&&(i+=7),U1(e,-i)},oj=(n,t)=>{const e=[],r=new Date(0);r.setDate(r.getDate()-r.getDay()+t);const i=new Intl.DateTimeFormat(n,{weekday:"short"});for(let o=0;o<7;o++)e.push(i.format(U1(r,o)));return e},U1=(n,t)=>{const e=new Date(n);return e.setDate(e.getDate()+t),e},sj=(n,t)=>{const e=new Date(n);return e.setMonth(e.getMonth()+t),e},Ya=(n,t)=>{const e=new Date(n);return e.setFullYear(e.getFullYear()+t),e},Ja=(n,t,e)=>{let r={day:"numeric",month:"long",year:"numeric"};return e&&(r=e),new Intl.DateTimeFormat(n,r).format(t)},Xa=(n,t)=>{const e=n.getFullYear();return Math.floor(e/t)*t},aj=(n,t)=>{const e=n.getFullYear(),r=t+9;return e>=t&&e<=r},lj=({theme:n={}})=>{const{theme:t,weekStart:e,minDate:r,maxDate:i,viewDate:o,selectedDate:s,changeSelectedDate:a,language:l}=Tg(),c=ie(t.views.days,n),u=oj(l,e),d=ij(o,e);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:c.header.base,children:u.map((h,f)=>x.jsx("span",{className:c.header.title,children:h},f))}),x.jsx("div",{className:c.items.base,children:[...Array(42)].map((h,f)=>{const m=U1(d,f),g=Ja(l,m,{day:"numeric"}),v=s&&Vu(s,m),p=!Sl(m,r,i);return x.jsx("button",{disabled:p,type:"button",className:J(c.items.item.base,v&&c.items.item.selected,p&&c.items.item.disabled),onClick:()=>{p||a(m,!0)},children:g},f)})})]})},cj=({theme:n={}})=>{const{theme:t,viewDate:e,selectedDate:r,minDate:i,maxDate:o,setViewDate:s,setView:a}=Tg(),l=ie(t.views.decades,n),c=Xa(e,100);return x.jsx("div",{className:l.items.base,children:[...Array(12)].map((u,d)=>{const h=c-10+d*10;new Date(e.getTime()).setFullYear(h+e.getFullYear()%10);const m=new Date(h,0,1),g=Ya(m,9),v=r&&aj(r,h),p=!Sl(m,i,o)&&!Sl(g,i,o);return x.jsx("button",{disabled:p,type:"button",className:J(l.items.item.base,v&&l.items.item.selected,p&&l.items.item.disabled),onClick:()=>{p||(r&&s(Ya(e,h-r.getFullYear())),a(ht.Years))},children:h},d)})})},uj=({theme:n={}})=>{const{theme:t,minDate:e,maxDate:r,selectedDate:i,viewDate:o,language:s,setViewDate:a,setView:l}=Tg(),c=ie(t.views.months,n);return x.jsx("div",{className:c.items.base,children:[...Array(12)].map((u,d)=>{const h=new Date;h.setMonth(d,1),h.setFullYear(o.getFullYear());const f=Ja(s,h,{month:"short"}),m=i&&Vu(i,h),g=!Sl(h,e,r);return x.jsx("button",{disabled:g,type:"button",className:J(c.items.item.base,m&&c.items.item.selected,g&&c.items.item.disabled),onClick:()=>{g||(a(h),l(ht.Days))},children:f},d)})})},dj=({theme:n={}})=>{const{theme:t,selectedDate:e,minDate:r,maxDate:i,viewDate:o,setViewDate:s,setView:a}=Tg(),l=ie(t.views.years,n);return x.jsx("div",{className:l.items.base,children:[...Array(12)].map((c,u)=>{const h=Xa(o,10)+u,f=new Date(o.getTime());f.setFullYear(h);const m=e&&Vu(e,f),g=!Sl(f,r,i);return x.jsx("button",{disabled:g,type:"button",className:J(l.items.item.base,m&&l.items.item.selected,g&&l.items.item.disabled),onClick:()=>{g||(s(f),a(ht.Months))},children:h},u)})})},hj=({title:n,open:t,inline:e=!1,autoHide:r=!0,showClearButton:i=!0,labelClearButton:o="Clear",showTodayButton:s=!0,labelTodayButton:a="Today",defaultValue:l,minDate:c,maxDate:u,language:d="en",weekStart:h=x4.Sunday,className:f,theme:m={},onChange:g,label:v,value:p,...b},_)=>{const y=ie(he().datepicker,m),k=l?ch(l,c,u):null,S=I.useMemo(()=>l?ch(l,c,u):new Date,[]),[E,C]=I.useState(t),[O,T]=I.useState(ht.Days),[A,P]=I.useState(p??k),[R,N]=I.useState(p??S),D=I.useRef(null),V=I.useRef(null),H=(G,W)=>{P(G),(G===null||G)&&g&&g(G),r&&O===ht.Days&&W==!0&&!e&&C(!1)},z=()=>{H(k,!0),l&&N(l)};I.useImperativeHandle(_,()=>({focus(){var G;(G=D.current)==null||G.focus()},clear(){z()}}));const j=G=>{switch(G){case ht.Decades:return x.jsx(cj,{theme:y.views.decades});case ht.Years:return x.jsx(dj,{theme:y.views.years});case ht.Months:return x.jsx(uj,{theme:y.views.months});case ht.Days:default:return x.jsx(lj,{theme:y.views.days})}},L=()=>{switch(O){case ht.Days:return ht.Months;case ht.Months:return ht.Years;case ht.Years:return ht.Decades}return O},M=()=>{switch(O){case ht.Decades:return`${Xa(R,100)-10} - ${Xa(R,100)+100}`;case ht.Years:return`${Xa(R,10)} - ${Xa(R,10)+11}`;case ht.Months:return Ja(d,R,{year:"numeric"});case ht.Days:default:return Ja(d,R,{month:"long",year:"numeric"})}},B=(G,W,F)=>{switch(G){case ht.Days:return new Date(sj(W,F));case ht.Months:return new Date(Ya(W,F));case ht.Years:return new Date(Ya(W,F*10));case ht.Decades:return new Date(Ya(W,F*100));default:return new Date(Ya(W,F*10))}};I.useEffect(()=>{const G=W=>{var K,Z;const F=(K=V==null?void 0:V.current)==null?void 0:K.contains(W.target),U=(Z=D==null?void 0:D.current)==null?void 0:Z.contains(W.target);!F&&!U&&C(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[D,V,C]),I.useEffect(()=>{const G=p&&ch(new Date(p),c,u),W=A&&ch(new Date(A),c,u);W&&G&&!Vu(G,W)&&P(G),A==null&&P(k)},[p,P,N,A]);const $=p===null?v:Ja(d,A||new Date);return x.jsx(_4.Provider,{value:{theme:y,language:d,minDate:c,maxDate:u,weekStart:h,isOpen:E,setIsOpen:C,view:O,setView:T,viewDate:R,setViewDate:N,selectedDate:A,setSelectedDate:P,changeSelectedDate:H},children:x.jsxs("div",{className:J(y.root.base,f),children:[!e&&x.jsx(sn,{theme:y.root.input,icon:c9,ref:D,onFocus:()=>{A&&!Vu(R,A)&&N(A),C(!0)},value:$,readOnly:!0,defaultValue:k?Ja(d,k):v,...b}),(E||e)&&x.jsx("div",{ref:V,className:J(y.popup.root.base,e&&y.popup.root.inline),children:x.jsxs("div",{className:y.popup.root.inner,children:[x.jsxs("div",{className:y.popup.header.base,children:[n&&x.jsx("div",{className:y.popup.header.title,children:n}),x.jsxs("div",{className:y.popup.header.selectors.base,children:[x.jsx("button",{type:"button",className:J(y.popup.header.selectors.button.base,y.popup.header.selectors.button.prev),onClick:()=>N(B(O,R,-1)),children:x.jsx(a9,{})}),x.jsx("button",{type:"button",className:J(y.popup.header.selectors.button.base,y.popup.header.selectors.button.view),onClick:()=>T(L()),children:M()}),x.jsx("button",{type:"button",className:J(y.popup.header.selectors.button.base,y.popup.header.selectors.button.next),onClick:()=>N(B(O,R,1)),children:x.jsx(l9,{})})]})]}),x.jsx("div",{className:y.popup.view.base,children:j(O)}),(i||s)&&x.jsxs("div",{className:y.popup.footer.base,children:[s&&x.jsx("button",{type:"button",className:J(y.popup.footer.button.base,y.popup.footer.button.today),onClick:()=>{const G=new Date;H(G,!0),N(G)},children:a}),i&&x.jsx("button",{type:"button",className:J(y.popup.footer.button.base,y.popup.footer.button.clear),onClick:()=>{H(null,!0)},children:o})]})]})})]})})},fj=I.forwardRef(hj);fj.displayName="Datepicker";const k4=I.createContext(void 0);function C4(){const n=I.useContext(k4);if(!n)throw new Error("useDrawerContext should be used within the DrawerContext provider!");return n}function mj(n){return $t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(n)}function gj(n){return $t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}const E4=({children:n,className:t,closeIcon:e=gj,theme:r={},title:i,titleIcon:o=mj,...s})=>{const a=I.useId(),{id:l,isOpen:c,onClose:u,theme:d}=C4(),h=ie(d.header,r);return x.jsxs("div",{className:t,...s,children:[x.jsxs("h5",{className:h.inner.titleText,id:l,children:[x.jsx(o,{"aria-hidden":!0,className:h.inner.titleIcon}),i]}),x.jsxs("button",{onClick:u,"data-testid":"close-drawer",className:h.inner.closeButton,children:[x.jsx(e,{"aria-hidden":!0,className:h.inner.closeIcon}),x.jsx("span",{className:"sr-only",children:"Close menu"})]}),x.jsx("span",{className:h.collapsed[c?"on":"off"],id:`flowbite-drawer-header-${a}`,children:n})]})};E4.displayName="Drawer.Header";const T4=({children:n,className:t,theme:e={},...r})=>{const{theme:i}=C4(),o=ie(i.items,e);return x.jsx("div",{"data-testid":"flowbite-drawer-items",className:J(o.base,t),...r,children:n})};T4.displayName="Drawer.Items";const S4=({backdrop:n=!0,children:t,className:e,edge:r=!1,position:i="left",onClose:o,open:s=!1,theme:a={},...l})=>{const c=I.useId(),u=ie(he().drawer,a);return I.useEffect(()=>{const d=h=>{h.key==="Escape"&&s&&o&&o()};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[o,s]),x.jsxs(k4.Provider,{value:{theme:u,onClose:o,isOpen:s,id:c},children:[x.jsx("div",{"aria-modal":!0,"aria-describedby":`drawer-dialog-${c}`,role:"dialog",tabIndex:-1,"data-testid":"flowbite-drawer",className:J(u.root.base,u.root.position[i][s?"on":"off"],r&&!s&&u.root.edge,e),...l,children:t}),s&&n&&x.jsx("div",{onClick:()=>o(),className:u.root.backdrop})]})};S4.displayName="Drawer";Object.assign(S4,{Header:E4,Items:T4});const A4=I.createContext(void 0);function W1(){const n=I.useContext(A4);if(!n)throw new Error("useDropdownContext should be used within the DropdownContext provider!");return n}const q1=({className:n,theme:t={},...e})=>{const{theme:r}=W1(),i=t.divider??r.floating.divider;return x.jsx("div",{className:J(i,n),...e})},P4=({children:n,className:t,theme:e={},...r})=>{const{theme:i}=W1(),o=e.header??i.floating.header;return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:J(o,t),...r,children:n}),x.jsx(q1,{})]})},R4=I.forwardRef(({children:n,className:t,icon:e,onClick:r,theme:i={},...o},s)=>{const{ref:a,index:l}=xV({label:typeof n=="string"?n:void 0}),c=QP([s,a]),{theme:u,activeIndex:d,dismissOnClick:h,getItemProps:f,handleSelect:m}=W1(),g=d===l,v=ie(u.floating.item,i),p=o;return x.jsx("li",{role:"menuitem",className:v.container,children:x.jsxs(A1,{ref:c,className:J(v.base,t),...p,...f({onClick:()=>{r==null||r(),h&&m(null)}}),tabIndex:g?0:-1,children:[e&&x.jsx(e,{className:v.icon}),n]})})});R4.displayName="DropdownItem";const pj={top:f9,right:E1,bottom:sP,left:aP},bj=({refs:n,children:t,inline:e,theme:r,disabled:i,setButtonWidth:o,getReferenceProps:s,renderTrigger:a,...l})=>{const c=n.reference,u=s();if(I.useEffect(()=>{c.current&&(o==null||o(c.current.clientWidth))},[c,o]),a){const d=a(r);return I.cloneElement(d,{ref:n.setReference,disabled:i,...u,...d.props})}return e?x.jsx("button",{type:"button",ref:n.setReference,className:r==null?void 0:r.inlineWrapper,disabled:i,...u,children:t}):x.jsx(Dn,{...l,disabled:i,type:"button",ref:n.setReference,...u,children:t})},O4=({children:n,className:t,dismissOnClick:e=!0,theme:r={},enableTypeAhead:i=!0,renderTrigger:o,...s})=>{const[a,l]=I.useState(!1),[c,u]=I.useState(null),[d,h]=I.useState(null),[f,m]=I.useState(void 0),g=I.useRef([]),v=I.useRef([]),p=ie(he().dropdown,r),b=s,_=s["data-testid"]||"flowbite-dropdown-target",{placement:y=s.inline?"bottom-start":"bottom",trigger:k="click",label:S,inline:E,arrowIcon:C=!0,...O}=b,T=I.useCallback(M=>{h(M),l(!1)},[]),A=I.useCallback(M=>{a?u(M):T(M)},[a,T]),{context:P,floatingStyles:R,refs:N}=m4({open:a,setOpen:l,placement:y}),D=KV(P,{listRef:g,activeIndex:c,selectedIndex:d,onNavigate:u}),V=YV(P,{listRef:v,activeIndex:c,selectedIndex:d,onMatch:A,enabled:i}),{getReferenceProps:H,getFloatingProps:z,getItemProps:j}=g4({context:P,role:"menu",trigger:k,interactions:[D,V]}),L=I.useMemo(()=>{const[M]=y.split("-");return pj[M]??sP},[y]);return x.jsxs(A4.Provider,{value:{theme:p,activeIndex:c,dismissOnClick:e,getItemProps:j,handleSelect:T},children:[x.jsxs(bj,{...O,refs:N,inline:E,theme:p,"data-testid":_,className:J(p.floating.target,O.className),setButtonWidth:m,getReferenceProps:H,renderTrigger:o,children:[S,C&&x.jsx(L,{className:p.arrowIcon})]}),a&&x.jsx(l4,{context:P,modal:!1,children:x.jsx("div",{ref:N.setFloating,style:{...R,minWidth:f},"data-testid":"flowbite-dropdown","aria-expanded":a,...z({className:J(p.floating.base,p.floating.animation,"duration-100",!a&&p.floating.hidden,p.floating.style.auto,t)}),children:x.jsx(_V,{elementsRef:g,labelsRef:v,children:x.jsx("ul",{className:p.content,tabIndex:-1,children:n})})})})]})};O4.displayName="Dropdown";P4.displayName="Dropdown.Header";q1.displayName="Dropdown.Divider";const cl=Object.assign(O4,{Item:R4,Header:P4,Divider:q1}),ju=I.forwardRef(({className:n,color:t="gray",helperText:e,sizing:r="md",theme:i={},...o},s)=>{const a=ie(he().fileInput,i);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:J(a.root.base,n),children:x.jsx("div",{className:a.field.base,children:x.jsx("input",{className:J(a.field.input.base,a.field.input.colors[t],a.field.input.sizes[r]),...o,type:"file",ref:s})})}),e&&x.jsx(Ed,{color:t,children:e})]})});ju.displayName="FileInput";const vj=I.forwardRef(({label:n,helperText:t,color:e="default",sizing:r="md",variant:i,disabled:o=!1,theme:s={},className:a,...l},c)=>{const u=I.useId(),d=ie(he().floatingLabel,s);return x.jsxs("div",{children:[x.jsxs("div",{className:J("relative",i==="standard"?"z-0":""),children:[x.jsx("input",{type:"text",id:l.id?l.id:"floatingLabel"+u,"aria-describedby":"outlined_success_help",className:J(d.input[e][i][r],a),placeholder:" ","data-testid":"floating-label",disabled:o,...l,ref:c}),x.jsx("label",{htmlFor:l.id?l.id:"floatingLabel"+u,className:J(d.label[e][i][r],a),children:n})]}),x.jsx("p",{id:"outlined_helper_text"+u,className:J(d.helperText[e],a),children:t})]})});vj.displayName="FloatingLabel";const I4=({alt:n,className:t,children:e,href:r,name:i,src:o,theme:s={},...a})=>{const l=ie(he().footer.brand,s);return x.jsx("div",{children:r?x.jsxs("a",{"data-testid":"flowbite-footer-brand",href:r,className:J(l.base,t),...a,children:[x.jsx("img",{alt:n,src:o,className:l.img}),x.jsx("span",{"data-testid":"flowbite-footer-brand-span",className:l.span,children:i}),e]}):x.jsx("img",{alt:n,"data-testid":"flowbite-footer-brand",src:o,className:J(l.img,t),...a})})},N4=({by:n,className:t,href:e,theme:r={},year:i,...o})=>{const s=ie(he().footer.copyright,r);return x.jsxs("div",{"data-testid":"flowbite-footer-copyright",className:J(s.base,t),...o,children:["© ",i,e?x.jsx("a",{href:e,className:s.href,children:n}):x.jsx("span",{"data-testid":"flowbite-footer-copyright-span",className:s.span,children:n})]})},M4=({className:n,theme:t={},...e})=>{const r=ie(he().footer.divider,t);return x.jsx("hr",{"data-testid":"footer-divider",className:J(r.base,n),...e})},L4=({ariaLabel:n,className:t,href:e,icon:r,theme:i={},...o})=>{const s=ie(he().footer.icon,i);return x.jsx("div",{children:e?x.jsx("a",{"aria-label":n,"data-testid":"flowbite-footer-icon",href:e,className:J(s.base,t),...o,children:x.jsx(r,{className:s.size})}):x.jsx(r,{"data-testid":"flowbite-footer-icon",className:s.size,...o})})},D4=({as:n="a",children:t,className:e,href:r,theme:i={},...o})=>{const s=ie(he().footer.groupLink.link,i);return x.jsx("li",{className:J(s.base,e),children:x.jsx(n,{href:r,className:s.href,...o,children:t})})},B4=({children:n,className:t,col:e=!1,theme:r={},...i})=>{const o=ie(he().footer.groupLink,r);return x.jsx("ul",{"data-testid":"footer-groupLink",className:J(o.base,e&&o.col,t),...i,children:n})},F4=({as:n="h2",className:t,theme:e={},title:r,...i})=>{const o=ie(he().footer.title,e);return x.jsx(n,{"data-testid":"flowbite-footer-title",className:J(o.base,t),...i,children:r})},V4=({bgDark:n=!1,children:t,className:e,container:r=!1,theme:i={},...o})=>{const s=ie(he().footer,i);return x.jsx("footer",{"data-testid":"flowbite-footer",className:J(s.root.base,n&&s.root.bgDark,r&&s.root.container,e),...o,children:t})};V4.displayName="Footer";N4.displayName="Footer.Copyright";D4.displayName="Footer.Link";I4.displayName="Footer.Brand";B4.displayName="Footer.LinkGroup";L4.displayName="Footer.Icon";F4.displayName="Footer.Title";M4.displayName="Footer.Divider";const Ht=Object.assign(V4,{Copyright:N4,Link:D4,LinkGroup:B4,Brand:I4,Icon:L4,Title:F4,Divider:M4}),j4=I.forwardRef(({theme:n={},icon:t=rj,className:e,...r},i)=>{const o=ie(he().hr.icon,n);return x.jsxs("div",{className:o.base,children:[x.jsx("hr",{className:J(o.hrLine,e),role:"separator","data-testid":"flowbite-hr-icon",ref:i,...r}),x.jsx("div",{className:o.icon.base,children:x.jsx(t,{"aria-hidden":!0,className:o.icon.icon})})]})}),$4=I.forwardRef(({theme:n={},className:t,...e},r)=>{const i=ie(he().hr.square,n);return x.jsx("hr",{className:J(i.base,t),role:"separator","data-testid":"flowbite-hr-square",ref:r,...e})}),z4=I.forwardRef(({theme:n={},text:t,className:e,...r},i)=>{const o=ie(he().hr.text,n);return x.jsxs("div",{className:o.base,children:[x.jsx("hr",{className:J(o.hrLine,e),"data-testid":"flowbite-hr-text",role:"separator",ref:i,...r}),x.jsx("span",{className:o.text,children:t})]})}),H4=I.forwardRef(({theme:n={},className:t,...e},r)=>{const i=ie(he().hr.trimmed,n);return x.jsx("hr",{className:J(i.base,t),role:"separator","data-testid":"flowbite-hr-trimmed",ref:r,...e})}),U4=I.forwardRef(({theme:n={},className:t,...e},r)=>{const i=ie(he().hr.root,n);return x.jsx("hr",{className:J(i.base,t),role:"separator","data-testid":"flowbite-hr",ref:r,...e})});U4.displayName="HR";H4.displayName="HR.Trimmed";j4.displayName="HR.Icon";z4.displayName="HR.Text";$4.displayName="HR.Square";Object.assign(U4,{Trimmed:H4,Icon:j4,Text:z4,Square:$4});const Ro=({children:n,className:t,color:e="default",disabled:r=!1,theme:i={},value:o,...s})=>{const a=ie(he().label,i);return x.jsx("label",{className:J(a.root.base,a.root.colors[e],r&&a.root.disabled,t),"data-testid":"flowbite-label",...s,children:o??n??""})};Ro.displayName="Label";const W4=({children:n,className:t,icon:e,theme:r={},...i})=>{const o=ie(he().list.item,r);return x.jsxs("li",{className:J(o.withIcon[e?"on":"off"],t),...i,children:[e&&x.jsx(e,{className:J(o.icon)}),n]})},q4=({children:n,className:t,unstyled:e,nested:r,ordered:i,horizontal:o,theme:s={},...a})=>{const l=ie(he().list,s),c=i?"ol":"ul";return x.jsx(c,{className:J(l.root.base,l.root.ordered[i?"on":"off"],e&&l.root.unstyled,r&&l.root.nested,o&&l.root.horizontal,t),...a,children:n})};q4.displayName="List";W4.displayName="List.Item";Object.assign(q4,{Item:W4});const G4=({active:n,children:t,className:e,href:r,icon:i,onClick:o,theme:s={},disabled:a,...l})=>{const c=ie(he().listGroup.item,s),u=typeof r<"u",d=u?"a":"button";return x.jsx("li",{className:J(c.base,e),children:x.jsxs(d,{href:r,onClick:o,type:u?void 0:"button",disabled:a,className:J(c.link.active[n?"on":"off"],c.link.disabled[a?"on":"off"],c.link.base,c.link.href[u?"on":"off"]),...l,children:[i&&x.jsx(i,{"aria-hidden":!0,"data-testid":"flowbite-list-group-item-icon",className:c.link.icon}),t]})})},K4=({children:n,className:t,theme:e={},...r})=>{const i=ie(he().listGroup,e);return x.jsx("ul",{className:J(i.root.base,t),...r,children:n})};K4.displayName="ListGroup";G4.displayName="ListGroup.Item";Object.assign(K4,{Item:G4});const Z4=I.createContext(void 0);function Sg(){const n=I.useContext(Z4);if(!n)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return n}const Y4=({as:n="a",children:t,className:e,theme:r={},...i})=>{const{theme:o}=Sg(),s=ie(o.brand,r);return x.jsx(n,{className:J(s.base,e),...i,children:t})},J4=({children:n,className:t,theme:e={},...r})=>{const{theme:i,isOpen:o}=Sg(),s=ie(i.collapse,e);return x.jsx("div",{"data-testid":"flowbite-navbar-collapse",className:J(s.base,s.hidden[o?"off":"on"],t),...r,children:x.jsx("ul",{className:s.list,children:n})})},X4=({active:n,as:t="a",disabled:e,children:r,className:i,theme:o={},onClick:s,...a})=>{const{theme:l,setIsOpen:c}=Sg(),u=ie(l.link,o),d=h=>{c(!1),s==null||s(h)};return x.jsx("li",{children:x.jsx(t,{className:J(u.base,n&&u.active.on,!n&&!e&&u.active.off,u.disabled[e?"on":"off"],i),onClick:d,...a,children:r})})};function yj(n){return $t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}const Q4=({barIcon:n=yj,className:t,theme:e={},...r})=>{const{theme:i,isOpen:o,setIsOpen:s}=Sg(),a=ie(i.toggle,e),l=()=>{s(!o)};return x.jsxs("button",{"data-testid":"flowbite-navbar-toggle",onClick:l,className:J(a.base,t),...r,children:[x.jsx("span",{className:"sr-only",children:"Open main menu"}),x.jsx(n,{"aria-hidden":!0,className:a.icon})]})},e3=({border:n,children:t,className:e,fluid:r=!1,menuOpen:i,rounded:o,theme:s={},...a})=>{const[l,c]=I.useState(i),u=ie(he().navbar,s);return x.jsx(Z4.Provider,{value:{theme:u,isOpen:l,setIsOpen:c},children:x.jsx("nav",{className:J(u.root.base,u.root.bordered[n?"on":"off"],u.root.rounded[o?"on":"off"],e),...a,children:x.jsx("div",{className:J(u.root.inner.base,u.root.inner.fluid[r?"on":"off"]),children:t})})})};e3.displayName="Navbar";Y4.displayName="Navbar.Brand";J4.displayName="Navbar.Collapse";X4.displayName="Navbar.Link";Q4.displayName="Navbar.Toggle";const bo=Object.assign(e3,{Brand:Y4,Collapse:J4,Link:X4,Toggle:Q4}),t3=({children:n,className:t,theme:e={},toggle:r,...i})=>{const[o,s]=I.useState(void 0),a=ie(he().megaMenu.dropdown,e);if(r)return x.jsx(cl,{inline:!0,label:r,placement:"bottom",theme:a.toggle,className:J(a.base,t),children:n});const l=I.useId(),c=I.useRef(null);return I.useEffect(()=>{var d;s((d=function(){var f;const h=(f=c.current)==null?void 0:f.closest("nav");return h==null?void 0:h.querySelector('[aria-haspopup="menu"]')}())==null?void 0:d.id)},[]),x.jsx("div",{"aria-labelledby":o,id:l,ref:c,role:"menu",className:J(a.base,t),...i,children:n})};t3.displayName="MegaMenu.Dropdown";const n3=({children:n,className:t,theme:e={},...r})=>{const i=I.useId(),o=I.useRef(null),[s,a]=I.useState(void 0),[l,c]=I.useState(void 0),u=ie(he().megaMenu.dropdownToggle,e),d=function(){var m;const f=(m=o.current)==null?void 0:m.closest("nav");return f==null?void 0:f.querySelector('[role="menu"]')},h=function(){var f;(f=d())==null||f.classList.toggle("hidden"),c(!l)};return I.useEffect(()=>{const f=d(),m=f==null?void 0:f.classList.contains("hidden");a(f==null?void 0:f.id),c(!m)},[]),x.jsx("button",{"aria-controls":s,"aria-expanded":l,"aria-haspopup":"menu",id:i,onClick:h,ref:o,className:J(u.base,t),...r,children:n})};n3.displayName="MegaMenu.DropdownToggle";const r3=({children:n,theme:t={},...e})=>{const r=ie(he().megaMenu,t);return x.jsx(bo,{fluid:!0,theme:r,...e,children:n})};Object.assign(r3,{Dropdown:t3,DropdownToggle:n3});r3.displayName="MegaMenu";const i3=I.createContext(void 0);function G1(){const n=I.useContext(i3);if(!n)throw new Error("useModalContext should be used within the ModalContext provider!");return n}const o3=({children:n,className:t,theme:e={},...r})=>{const{theme:i,popup:o}=G1(),s=ie(i.body,e);return x.jsx("div",{className:J(s.base,o&&[s.popup],t),...r,children:n})},s3=({children:n,className:t,theme:e={},...r})=>{const{theme:i,popup:o}=G1(),s=ie(i.footer,e);return x.jsx("div",{className:J(s.base,!o&&s.popup,t),...r,children:n})},a3=({as:n="h3",children:t,className:e,theme:r={},id:i,...o})=>{const s=I.useId(),a=i||s,{theme:l,popup:c,onClose:u,setHeaderId:d}=G1(),h=ie(l.header,r);return I.useLayoutEffect(()=>(d(a),()=>d(void 0)),[a,d]),x.jsxs("div",{className:J(h.base,c&&h.popup,e),...o,children:[x.jsx(n,{id:a,className:h.title,children:t}),x.jsx("button",{"aria-label":"Close",className:h.close.base,type:"button",onClick:u,children:x.jsx(m9,{"aria-hidden":!0,className:h.close.icon})})]})},l3=I.forwardRef(({children:n,className:t,dismissible:e=!1,onClose:r,popup:i,position:o="center",root:s,show:a,size:l="2xl",theme:c={},initialFocus:u,...d},h)=>{const[f,m]=I.useState(void 0),g=ie(he().modal,c),{context:v}=d4({open:a,onOpenChange:()=>r&&r()}),p=QP([v.refs.setFloating,h]),b=c4(v),_=u4(v,{outsidePressEvent:"mousedown",enabled:e}),y=f4(v),{getFloatingProps:k}=h4([b,_,y]);return a?x.jsx(i3.Provider,{value:{theme:g,popup:i,onClose:r,setHeaderId:m},children:x.jsx(jV,{root:s,children:x.jsx(zV,{lockScroll:!0,"data-testid":"modal-overlay",className:J(g.root.base,g.root.positions[o],a?g.root.show.on:g.root.show.off,t),...d,children:x.jsx(l4,{context:v,initialFocus:u,children:x.jsx("div",{ref:p,...k(d),"aria-labelledby":f,className:J(g.content.base,g.root.sizes[l]),children:x.jsx("div",{className:g.content.inner,children:n})})})})})}):null});l3.displayName="Modal";a3.displayName="Modal.Header";o3.displayName="Modal.Body";s3.displayName="Modal.Footer";const qn=Object.assign(l3,{Header:a3,Body:o3,Footer:s3}),wj=(n,t)=>n>=t?[]:[...Array(t-n+1).keys()].map(e=>e+n),K1=({active:n,children:t,className:e,onClick:r,theme:i={},...o})=>{const s=ie(he().pagination,i);return x.jsx("button",{type:"button",className:J(n&&s.pages.selector.active,e),onClick:r,...o,children:t})};K1.displayName="Pagination.Button";const rv=({children:n,className:t,onClick:e,theme:r={},disabled:i=!1,...o})=>{const s=ie(he().pagination,r);return x.jsx("button",{type:"button",className:J(i&&s.pages.selector.disabled,t),disabled:i,onClick:e,...o,children:n})};rv.displayName="Pagination.Navigation";const c3=({className:n,currentPage:t,layout:e="pagination",nextLabel:r="Next",onPageChange:i,previousLabel:o="Previous",renderPaginationButton:s=d=>x.jsx(K1,{...d}),showIcons:a=!1,theme:l={},totalPages:c,...u})=>{const d=ie(he().pagination,l),h=Math.min(Math.max(e==="pagination"?t+2:t+4,5),c),f=Math.max(1,h-4),m=()=>{i(Math.min(t+1,c))},g=()=>{i(Math.max(t-1,1))};return x.jsxs("nav",{className:J(d.base,n),...u,children:[e==="table"&&x.jsxs("div",{className:d.layout.table.base,children:["Showing ",x.jsx("span",{className:d.layout.table.span,children:f})," to ",x.jsx("span",{className:d.layout.table.span,children:h})," of ",x.jsx("span",{className:d.layout.table.span,children:c})," Entries"]}),x.jsxs("ul",{className:d.pages.base,children:[x.jsx("li",{children:x.jsxs(rv,{className:J(d.pages.previous.base,a&&d.pages.showIcon),onClick:g,disabled:t===1,children:[a&&x.jsx(u9,{"aria-hidden":!0,className:d.pages.previous.icon}),o]})}),e==="pagination"&&wj(f,h).map(v=>x.jsx("li",{"aria-current":v===t?"page":void 0,children:s({className:J(d.pages.selector.base,t===v&&d.pages.selector.active),active:v===t,onClick:()=>i(v),children:v})},v)),x.jsx("li",{children:x.jsxs(rv,{className:J(d.pages.next.base,a&&d.pages.showIcon),onClick:m,disabled:t===c,children:[r,a&&x.jsx(d9,{"aria-hidden":!0,className:d.pages.next.icon})]})})]})]})};c3.displayName="Pagination";Object.assign(c3,{Button:K1});const _j=I.forwardRef(({className:n,theme:t={},...e},r)=>{const i=ie(he().radio,t);return x.jsx("input",{ref:r,type:"radio",className:J(i.root.base,n),...e})});_j.displayName="Radio";const xj=I.forwardRef(({className:n,sizing:t="md",theme:e={},...r},i)=>{const o=ie(he().rangeSlider,e);return x.jsx(x.Fragment,{children:x.jsx("div",{"data-testid":"flowbite-range-slider",className:J(o.root.base,n),children:x.jsx("div",{className:o.field.base,children:x.jsx("input",{ref:i,type:"range",className:J(o.field.input.base,o.field.input.sizes[t]),...r})})})})});xj.displayName="RangeSlider";const u3=({children:n,className:t,percentFilled:e=0,theme:r={},...i})=>{const o=ie(he().ratingAdvanced,r);return x.jsxs("div",{className:J(o.base,t),...i,children:[x.jsx("span",{className:o.label,children:n}),x.jsx("div",{className:o.progress.base,children:x.jsx("div",{className:o.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:`${e}%`}})}),x.jsx("span",{className:o.progress.label,children:`${e}%`})]})},d3=I.createContext(void 0);function kj(){const n=I.useContext(d3);if(!n)throw new Error("useRatingContext should be used within the RatingContext provider!");return n}const h3=({className:n,filled:t=!0,starIcon:e=h9,theme:r={},...i})=>{const{theme:o,size:s="sm"}=kj(),a=ie(o.star,r);return x.jsx(e,{"data-testid":"flowbite-rating-star",className:J(a.sizes[s],a[t?"filled":"empty"],n),...i})},f3=({children:n,className:t,size:e="sm",theme:r={},...i})=>{const o=ie(he().rating,r);return x.jsx(d3.Provider,{value:{theme:o,size:e},children:x.jsx("div",{className:J(o.root.base,t),...i,children:n})})};f3.displayName="Rating";h3.displayName="Rating.Star";u3.displayName="Rating.Advanced";Object.assign(f3,{Star:h3,Advanced:u3});const Al=I.forwardRef(({addon:n,children:t,className:e,color:r="gray",helperText:i,icon:o,shadow:s,sizing:a="md",theme:l={},...c},u)=>{const d=ie(he().select,l);return x.jsxs("div",{className:J(d.base,e),children:[n&&x.jsx("span",{className:d.addon,children:n}),x.jsxs("div",{className:d.field.base,children:[o&&x.jsx("div",{className:d.field.icon.base,children:x.jsx(o,{className:d.field.icon.svg})}),x.jsx("select",{className:J(d.field.select.base,d.field.select.colors[r],d.field.select.sizes[a],d.field.select.withIcon[o?"on":"off"],d.field.select.withAddon[n?"on":"off"],d.field.select.withShadow[s?"on":"off"]),...c,ref:u,children:t}),i&&x.jsx(Ed,{color:r,children:i})]})]})});Al.displayName="Select";const m3=I.createContext(void 0);function ql(){const n=I.useContext(m3);if(!n)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return n}const Z1=I.createContext(void 0);function Cj(){const n=I.useContext(Z1);if(!n)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return n}const g3=({children:n,className:t,icon:e,label:r,chevronIcon:i=iP,renderChevronIcon:o,open:s=!1,theme:a={},...l})=>{const c=I.useId(),[u,d]=I.useState(s),{theme:h,isCollapsed:f}=ql(),m=ie(h.collapse,a);I.useEffect(()=>d(s),[s]);const g=({children:v})=>x.jsx("li",{children:f&&!u?x.jsx(Eg,{content:r,placement:"right",children:v}):v});return x.jsxs(g,{children:[x.jsxs("button",{id:`flowbite-sidebar-collapse-${c}`,onClick:()=>d(!u),title:r,type:"button",className:J(m.button,t),...l,children:[e&&x.jsx(e,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-collapse-icon",className:J(m.icon.base,m.icon.open[u?"on":"off"])}),f?x.jsx("span",{className:"sr-only",children:r}):x.jsxs(x.Fragment,{children:[x.jsx("span",{"data-testid":"flowbite-sidebar-collapse-label",className:m.label.base,children:r}),o?o(m,u):x.jsx(i,{"aria-hidden":!0,className:J(m.label.icon.base,m.label.icon.open[u?"on":"off"])})]})]}),x.jsx("ul",{"aria-labelledby":`flowbite-sidebar-collapse-${c}`,hidden:!u,className:m.list,children:x.jsx(Z1.Provider,{value:{isInsideCollapse:!0},children:n})})]})};g3.displayName="Sidebar.Collapse";const p3=({children:n,color:t="info",className:e,theme:r={},...i})=>{const{theme:o,isCollapsed:s}=ql(),a=ie(o.cta,r);return x.jsx("div",{"data-testid":"sidebar-cta",hidden:s,className:J(a.base,a.color[t],e),...i,children:n})};p3.displayName="Sidebar.CTA";const Ej=({id:n,theme:t,isCollapsed:e,tooltipChildren:r,children:i,...o})=>x.jsx("li",{...o,children:e?x.jsx(Eg,{content:x.jsx(b3,{id:n,theme:t,children:r}),placement:"right",children:i}):i}),b3=({id:n,theme:t,children:e})=>x.jsx("span",{"data-testid":"flowbite-sidebar-item-content",id:`flowbite-sidebar-item-${n}`,className:J(t.content.base),children:e}),v3=I.forwardRef(({active:n,as:t="a",children:e,className:r,icon:i,label:o,labelColor:s="info",theme:a={},...l},c)=>{var g,v,p,b;const u=I.useId(),{theme:d,isCollapsed:h}=ql(),{isInsideCollapse:f}=Cj(),m=ie(d.item,a);return x.jsx(Ej,{theme:m,className:m.listItem,id:u,isCollapsed:h,tooltipChildren:e,children:x.jsxs(t,{"aria-labelledby":`flowbite-sidebar-item-${u}`,ref:c,className:J(m.base,n&&m.active,!h&&f&&((g=m.collapsed)==null?void 0:g.insideCollapse),r),...l,children:[i&&x.jsx(i,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-item-icon",className:J((v=m.icon)==null?void 0:v.base,n&&((p=m.icon)==null?void 0:p.active))}),h&&!i&&x.jsx("span",{className:(b=m.collapsed)==null?void 0:b.noIcon,children:e.charAt(0).toLocaleUpperCase()??"?"}),!h&&x.jsx(b3,{id:u,theme:m,children:e}),!h&&o&&x.jsx(xP,{color:s,"data-testid":"flowbite-sidebar-label",hidden:h,className:m.label,children:o})]})})});v3.displayName="Sidebar.Item";const y3=({children:n,className:t,theme:e={},...r})=>{const{theme:i}=ql(),o=ie(i.itemGroup,e);return x.jsx("ul",{"data-testid":"flowbite-sidebar-item-group",className:J(o.base,t),...r,children:x.jsx(Z1.Provider,{value:{isInsideCollapse:!1},children:n})})};y3.displayName="Sidebar.ItemGroup";const w3=({children:n,className:t,theme:e={},...r})=>{const{theme:i}=ql(),o=ie(i.items,e);return x.jsx("div",{className:J(o.base,t),"data-testid":"flowbite-sidebar-items",...r,children:n})};w3.displayName="Sidebar.Items";const _3=({children:n,className:t,href:e,img:r,imgAlt:i="",theme:o={},...s})=>{const a=I.useId(),{theme:l,isCollapsed:c}=ql(),u=ie(l.logo,o);return x.jsxs("a",{"aria-labelledby":`flowbite-sidebar-logo-${a}`,href:e,className:J(u.base,t),...s,children:[x.jsx("img",{alt:i,src:r,className:u.img}),x.jsx("span",{className:u.collapsed[c?"on":"off"],id:`flowbite-sidebar-logo-${a}`,children:n})]})};_3.displayName="Sidebar.Logo";const x3=({children:n,as:t="nav",collapseBehavior:e="collapse",collapsed:r=!1,theme:i={},className:o,...s})=>{const a=ie(he().sidebar,i);return x.jsx(m3.Provider,{value:{theme:a,isCollapsed:r},children:x.jsx(t,{"aria-label":"Sidebar",hidden:r&&e==="hide",className:J(a.root.base,a.root.collapsed[r?"on":"off"],o),...s,children:x.jsx("div",{className:a.root.inner,children:n})})})};x3.displayName="Sidebar";const fo=Object.assign(x3,{Collapse:g3,CTA:p3,Item:v3,Items:w3,ItemGroup:y3,Logo:_3}),k3=I.createContext(void 0);function Tj(){const n=I.useContext(k3);if(!n)throw new Error("useTableBodyContext should be used within the TableBodyContext provider!");return n}const C3=I.createContext(void 0);function Y1(){const n=I.useContext(C3);if(!n)throw new Error("useTableContext should be used within the TableContext provider!");return n}const E3=I.forwardRef(({children:n,className:t,theme:e={},...r},i)=>{const{theme:o}=Y1(),s=ie(o.body,e);return x.jsx(k3.Provider,{value:{theme:s},children:x.jsx("tbody",{className:J(s.base,t),ref:i,...r,children:n})})});E3.displayName="Table.Body";const T3=I.forwardRef(({children:n,className:t,theme:e={},...r},i)=>{const{theme:o}=Tj(),s=ie(o.cell,e);return x.jsx("td",{className:J(s.base,t),ref:i,...r,children:n})});T3.displayName="Table.Cell";const S3=I.createContext(void 0);function Sj(){const n=I.useContext(S3);if(!n)throw new Error("useTableHeadContext should be used within the TableHeadContext provider!");return n}const A3=I.forwardRef(({children:n,className:t,theme:e={},...r},i)=>{const{theme:o}=Y1(),s=ie(o.head,e);return x.jsx(S3.Provider,{value:{theme:s},children:x.jsx("thead",{className:J(s.base,t),ref:i,...r,children:x.jsx("tr",{children:n})})})});A3.displayName="Table.Head";const P3=I.forwardRef(({children:n,className:t,theme:e={},...r},i)=>{const{theme:o}=Sj(),s=ie(o.cell,e);return x.jsx("th",{className:J(s.base,t),ref:i,...r,children:n})});P3.displayName="Table.HeadCell";const R3=I.forwardRef(({children:n,className:t,theme:e={},...r},i)=>{const{theme:o,hoverable:s,striped:a}=Y1(),l=ie(o.row,e);return x.jsx("tr",{ref:i,"data-testid":"table-row-element",className:J(l.base,a&&l.striped,s&&l.hovered,t),...r,children:n})});R3.displayName="Table.Row";const O3=I.forwardRef(({children:n,className:t,striped:e,hoverable:r,theme:i={},...o},s)=>{const a=ie(he().table,i);return x.jsx("div",{"data-testid":"table-element",className:J(a.root.wrapper),children:x.jsxs(C3.Provider,{value:{theme:a,striped:e,hoverable:r},children:[x.jsx("div",{className:J(a.root.shadow,t)}),x.jsx("table",{className:J(a.root.base,t),...o,ref:s,children:n})]})})});O3.displayName="Table";const xe=Object.assign(O3,{Head:A3,Body:E3,Row:R3,Cell:T3,HeadCell:P3}),I3=({children:n,className:t})=>x.jsx("div",{className:t,children:n});I3.displayName="Tabs.Item";const N3=I.forwardRef(({children:n,className:t,onActiveTabChange:e,variant:r="default",theme:i={},...o},s)=>{const a=ie(he().tabs,i),l=I.useId(),c=I.useMemo(()=>I.Children.map(I.Children.toArray(n),({props:y})=>y),[n]),u=I.useRef([]),[d,h]=I.useState(Math.max(0,c.findIndex(y=>y.active))),[f,m]=I.useState(-1),g=y=>{h(y),e&&e(y)},v=({target:y})=>{g(y),m(y)},p=({event:y,target:k})=>{y.key==="ArrowLeft"&&m(Math.max(0,f-1)),y.key==="ArrowRight"&&m(Math.min(c.length-1,f+1)),y.key==="Enter"&&(g(k),m(k))},b=a.tablist.tabitem.variant[r],_=a.tabitemcontainer.variant[r];return I.useEffect(()=>{var y;(y=u.current[f])==null||y.focus()},[f]),I.useImperativeHandle(s,()=>({setActiveTab:g})),x.jsxs("div",{className:J(a.base,t),children:[x.jsx("div",{"aria-label":"Tabs",role:"tablist",className:J(a.tablist.base,a.tablist.variant[r],t),...o,children:c.map((y,k)=>x.jsxs("button",{type:"button","aria-controls":`${l}-tabpanel-${k}`,"aria-selected":k===d,className:J(a.tablist.tabitem.base,b.base,k===d&&b.active.on,k!==d&&!y.disabled&&b.active.off),disabled:y.disabled,id:`${l}-tab-${k}`,onClick:()=>v({target:k}),onKeyDown:S=>p({event:S,target:k}),ref:S=>u.current[k]=S,role:"tab",tabIndex:k===f?0:-1,style:{zIndex:k===f?2:1},children:[y.icon&&x.jsx(y.icon,{className:a.tablist.tabitem.icon}),y.title]},k))}),x.jsx("div",{className:J(a.tabitemcontainer.base,_),children:c.map((y,k)=>x.jsx("div",{"aria-labelledby":`${l}-tab-${k}`,className:a.tabpanel,hidden:k!==d,id:`${l}-tabpanel-${k}`,role:"tabpanel",tabIndex:0,children:y.children},k))})]})});N3.displayName="Tabs";Object.assign(N3,{Item:I3});const J1=I.forwardRef(({className:n,color:t="gray",helperText:e,shadow:r,theme:i={},...o},s)=>{const a=ie(he().textarea,i);return x.jsxs(x.Fragment,{children:[x.jsx("textarea",{ref:s,className:J(a.base,a.colors[t],a.withShadow[r?"on":"off"],n),...o}),e&&x.jsx(Ed,{color:t,children:e})]})});J1.displayName="Textarea";const M3=I.createContext(void 0);function X1(){const n=I.useContext(M3);if(!n)throw new Error("useTimelineContentContext should be used within the TimelineContentContext provider!");return n}const L3=({children:n,className:t,theme:e={},...r})=>{const{theme:i}=X1(),o=ie(i.body,e);return x.jsx("div",{className:J(o.base,t),...r,children:n})},D3=I.createContext(void 0);function Q1(){const n=I.useContext(D3);if(!n)throw new Error("useTimelineContext should be used within the TimelineContext provider!");return n}const B3=I.createContext(void 0);function F3(){const n=I.useContext(B3);if(!n)throw new Error("useTimelineItemContext should be used within the TimelineItemContext provider!");return n}const V3=({children:n,className:t,theme:e={},...r})=>{const{horizontal:i}=Q1(),{theme:o}=F3(),s=ie(o.content,e);return x.jsx(M3.Provider,{value:{theme:s},children:x.jsx("div",{"data-testid":"timeline-content",className:J(s.root.base,i?s.root.horizontal:s.root.vertical,t),...r,children:n})})},j3=({children:n,className:t,theme:e={},...r})=>{const{theme:i,horizontal:o}=Q1(),s=ie(i.item,e);return x.jsx(B3.Provider,{value:{theme:s},children:x.jsx("li",{"data-testid":"timeline-item",className:J(o&&s.root.horizontal,!o&&s.root.vertical,t),...r,children:n})})},$3=({children:n,className:t,icon:e,theme:r={},...i})=>{const{horizontal:o}=Q1(),{theme:s}=F3(),a=ie(s.point,r);return x.jsxs("div",{"data-testid":"timeline-point",className:J(o&&a.horizontal,!o&&a.vertical,t),...i,children:[n,e?x.jsx("span",{className:J(a.marker.icon.wrapper),children:x.jsx(e,{"aria-hidden":!0,className:J(a.marker.icon.base)})}):x.jsx("div",{className:J(o&&a.marker.base.horizontal,!o&&a.marker.base.vertical)}),o&&x.jsx("div",{className:J(a.line)})]})},z3=({children:n,className:t,theme:e={},...r})=>{const{theme:i}=X1(),o=ie(i.time,e);return x.jsx("time",{className:J(o.base,t),...r,children:n})},H3=({as:n="h3",children:t,className:e,theme:r={},...i})=>{const{theme:o}=X1(),s=ie(o.title,r);return x.jsx(n,{className:J(s.base,e),...i,children:t})},U3=({children:n,className:t,horizontal:e,theme:r={},...i})=>{const o=ie(he().timeline,r);return x.jsx(D3.Provider,{value:{theme:o,horizontal:e},children:x.jsx("ol",{"data-testid":"timeline-component",className:J(e&&o.root.direction.horizontal,!e&&o.root.direction.vertical,t),...i,children:n})})};U3.displayName="Timeline";j3.displayName="Timeline.Item";$3.displayName="Timeline.Point";V3.displayName="Timeline.Content";z3.displayName="Timeline.Time";H3.displayName="Timeline.Title";L3.displayName="Timeline.Body";Object.assign(U3,{Item:j3,Point:$3,Content:V3,Time:z3,Title:H3,Body:L3});const W3=I.createContext(void 0);function Aj(){const n=I.useContext(W3);if(!n)throw new Error("useToastContext should be used within the ToastContext provider!");return n}const q3=({className:n,onClick:t,theme:e={},xIcon:r=oP,onDismiss:i,...o})=>{const{theme:s,duration:a,isClosed:l,isRemoved:c,setIsClosed:u,setIsRemoved:d}=Aj(),h=ie(s.toggle,e),f=m=>{if(t&&t(m),i){i();return}u(!l),setTimeout(()=>d(!c),a)};return x.jsx("button",{"aria-label":"Close",onClick:f,type:"button",className:J(h.base,n),...o,children:x.jsx(r,{"aria-hidden":!0,className:h.icon})})},Pj={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},G3=({children:n,className:t,duration:e=300,theme:r={},...i})=>{const[o,s]=I.useState(!1),[a,l]=I.useState(!1),c=ie(he().toast,r);return a?null:x.jsx(W3.Provider,{value:{theme:c,duration:e,isClosed:o,isRemoved:a,setIsClosed:s,setIsRemoved:l},children:x.jsx("div",{"data-testid":"flowbite-toast",role:"alert",className:J(c.root.base,Pj[e],o&&c.root.closed,t),...i,children:n})})};G3.displayName="Toast";q3.displayName="Toast.Toggle";Object.assign(G3,{Toggle:q3});const Rj=I.forwardRef(({checked:n,className:t,color:e="blue",sizing:r="md",disabled:i,label:o,name:s,onChange:a,theme:l={},...c},u)=>{const d=I.useId(),h=ie(he().toggleSwitch,l),f=()=>a(!n),m=()=>{f()},g=v=>{v.code=="Enter"&&v.preventDefault()};return x.jsxs(x.Fragment,{children:[s&&n?x.jsx("input",{ref:u,checked:n,hidden:!0,name:s,readOnly:!0,type:"checkbox",className:"sr-only"}):null,x.jsxs("button",{"aria-checked":n,"aria-labelledby":`${d}-flowbite-toggleswitch-label`,disabled:i,id:`${d}-flowbite-toggleswitch`,onClick:m,onKeyDown:g,role:"switch",tabIndex:0,type:"button",className:J(h.root.base,h.root.active[i?"off":"on"],t),...c,children:[x.jsx("div",{"data-testid":"flowbite-toggleswitch-toggle",className:J(h.toggle.base,h.toggle.checked[n?"on":"off"],n&&h.toggle.checked.color[e],h.toggle.sizes[r])}),o!=null&&o.length?x.jsx("span",{"data-testid":"flowbite-toggleswitch-label",id:`${d}-flowbite-toggleswitch-label`,className:h.root.label,children:o}):null]})]})});Rj.displayName="ToggleSwitch";function K3({post:n}){return x.jsx(kt,{to:`/post/${n.slug}`,className:"md:max-w-56 max-w-72 flex items-stretch",children:x.jsxs(P1,{className:"hover:bg-[#f1c130] transition-all duration-150 hover:translate-y-[-1%]",renderImage:()=>x.jsx("img",{className:"h-[100px] object-cover w-full rounded-t-md",src:n.thumbnailUrl,alt:n.slug}),children:[x.jsx("h5",{className:"text-sm font-semibold tracking-tight text-gray-900 dark:text-white line-clamp-2 ",children:n.title}),x.jsx("p",{className:"font-normal text-xs text-gray-700 dark:text-gray-400 line-clamp-3 ",children:n.category.charAt(0).toUpperCase()+n.category.slice(1)})]})})}function Oj({post:n}){const t=e=>{const r=/(<([^>]+)>)/gi;return e.replace(r,"")};return x.jsx("div",{className:"max-w-80",children:x.jsxs(P1,{className:"card hover:bg-[#f1c130] transition-all duration-150 hover:translate-y-[-1%]",renderImage:()=>x.jsx(kt,{to:`/post/${n.slug}`,children:x.jsx("img",{className:"h-[210px] object-fill w-full rounded-t-md",src:n.thumbnailUrl,alt:n.slug})}),children:[x.jsx(kt,{to:`/post/${n.slug}`,children:x.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white line-clamp-2",children:n.title})}),x.jsx("p",{className:"font-normal text-gray-700 dark:text-gray-400 line-clamp-3",children:t(n.content)})]})})}var Z3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ck=Ve.createContext&&Ve.createContext(Z3),Ij=["attr","size","title"];function Nj(n,t){if(n==null)return{};var e=Mj(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Mj(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function sm(){return sm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},sm.apply(this,arguments)}function Ek(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function am(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(e),!0).forEach(function(r){Lj(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ek(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Lj(n,t,e){return t=Dj(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Dj(n){var t=Bj(n,"string");return typeof t=="symbol"?t:t+""}function Bj(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Y3(n){return n&&n.map((t,e)=>Ve.createElement(t.tag,am({key:e},t.attr),Y3(t.child)))}function ln(n){return t=>Ve.createElement(Fj,sm({attr:am({},n.attr)},t),Y3(n.child))}function Fj(n){var t=e=>{var{attr:r,size:i,title:o}=n,s=Nj(n,Ij),a=i||e.size||"1em",l;return e.className&&(l=e.className),n.className&&(l=(l?l+" ":"")+n.className),Ve.createElement("svg",sm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,s,{className:l,style:am(am({color:n.color||e.color},e.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Ve.createElement("title",null,o),n.children)};return Ck!==void 0?Ve.createElement(Ck.Consumer,null,e=>t(e)):t(Z3)}function Vj(n){return ln({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"},child:[]}]})(n)}function ew(n){return ln({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 5H11l5 7-5 7h4.5l5-7z"},child:[]},{tag:"path",attr:{d:"M8.5 5H4l5 7-5 7h4.5l5-7z"},child:[]}]})(n)}var jj=typeof Element<"u",$j=typeof Map=="function",zj=typeof Set=="function",Hj=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function of(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;var e,r,i;if(Array.isArray(n)){if(e=n.length,e!=t.length)return!1;for(r=e;r--!==0;)if(!of(n[r],t[r]))return!1;return!0}var o;if($j&&n instanceof Map&&t instanceof Map){if(n.size!==t.size)return!1;for(o=n.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=n.entries();!(r=o.next()).done;)if(!of(r.value[1],t.get(r.value[0])))return!1;return!0}if(zj&&n instanceof Set&&t instanceof Set){if(n.size!==t.size)return!1;for(o=n.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Hj&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(t)){if(e=n.length,e!=t.length)return!1;for(r=e;r--!==0;)if(n[r]!==t[r])return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof t.valueOf=="function")return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof t.toString=="function")return n.toString()===t.toString();if(i=Object.keys(n),e=i.length,e!==Object.keys(t).length)return!1;for(r=e;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(jj&&n instanceof Element)return!1;for(r=e;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!of(n[i[r]],t[i[r]]))return!1;return!0}return n!==n&&t!==t}var Uj=function(t,e){try{return of(t,e)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Wj=xi(Uj);var qj=function(n,t,e,r,i,o,s,a){if(!n){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[e,r,i,o,s,a],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Gj=qj;const Tk=xi(Gj);var Kj=function(t,e,r,i){var o=r?r.call(i,t,e):void 0;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;var s=Object.keys(t),a=Object.keys(e);if(s.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(e),c=0;c<s.length;c++){var u=s[c];if(!l(u))return!1;var d=t[u],h=e[u];if(o=r?r.call(i,d,h,u):void 0,o===!1||o===void 0&&d!==h)return!1}return!0};const Zj=xi(Kj);var J3=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(J3||{}),Gp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Sk=Object.values(J3),tw={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Yj=Object.entries(tw).reduce((n,[t,e])=>(n[e]=t,n),{}),zr="data-rh",ul={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},dl=(n,t)=>{for(let e=n.length-1;e>=0;e-=1){const r=n[e];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Jj=n=>{let t=dl(n,"title");const e=dl(n,ul.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),e&&t)return e.replace(/%s/g,()=>t);const r=dl(n,ul.DEFAULT_TITLE);return t||r||void 0},Xj=n=>dl(n,ul.ON_CHANGE_CLIENT_STATE)||(()=>{}),Kp=(n,t)=>t.filter(e=>typeof e[n]<"u").map(e=>e[n]).reduce((e,r)=>({...e,...r}),{}),Qj=(n,t)=>t.filter(e=>typeof e.base<"u").map(e=>e.base).reverse().reduce((e,r)=>{if(!e.length){const i=Object.keys(r);for(let o=0;o<i.length;o+=1){const a=i[o].toLowerCase();if(n.indexOf(a)!==-1&&r[a])return e.concat(r)}}return e},[]),e$=n=>console&&typeof console.warn=="function"&&console.warn(n),vc=(n,t,e)=>{const r={};return e.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&e$(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,o)=>{const s={};o.filter(l=>{let c;const u=Object.keys(l);for(let h=0;h<u.length;h+=1){const f=u[h],m=f.toLowerCase();t.indexOf(m)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(m==="rel"&&l[m].toLowerCase()==="stylesheet")&&(c=m),t.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(c=f)}if(!c||!l[c])return!1;const d=l[c].toLowerCase();return r[c]||(r[c]={}),s[c]||(s[c]={}),r[c][d]?!1:(s[c][d]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(s);for(let l=0;l<a.length;l+=1){const c=a[l],u={...r[c],...s[c]};r[c]=u}return i},[]).reverse()},t$=(n,t)=>{if(Array.isArray(n)&&n.length){for(let e=0;e<n.length;e+=1)if(n[e][t])return!0}return!1},n$=n=>({baseTag:Qj(["href"],n),bodyAttributes:Kp("bodyAttributes",n),defer:dl(n,ul.DEFER),encode:dl(n,ul.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Kp("htmlAttributes",n),linkTags:vc("link",["rel","href"],n),metaTags:vc("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:vc("noscript",["innerHTML"],n),onChangeClientState:Xj(n),scriptTags:vc("script",["src","innerHTML"],n),styleTags:vc("style",["cssText"],n),title:Jj(n),titleAttributes:Kp("titleAttributes",n),prioritizeSeoTags:t$(n,ul.PRIORITIZE_SEO_TAGS)}),X3=n=>Array.isArray(n)?n.join(""):n,r$=(n,t)=>{const e=Object.keys(n);for(let r=0;r<e.length;r+=1)if(t[e[r]]&&t[e[r]].includes(n[e[r]]))return!0;return!1},Zp=(n,t)=>Array.isArray(n)?n.reduce((e,r)=>(r$(r,t)?e.priority.push(r):e.default.push(r),e),{priority:[],default:[]}):{default:n,priority:[]},Ak=(n,t)=>({...n,[t]:void 0}),i$=["noscript","script","style"],iv=(n,t=!0)=>t===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Q3=n=>Object.keys(n).reduce((t,e)=>{const r=typeof n[e]<"u"?`${e}="${n[e]}"`:`${e}`;return t?`${t} ${r}`:r},""),o$=(n,t,e,r)=>{const i=Q3(e),o=X3(t);return i?`<${n} ${zr}="true" ${i}>${iv(o,r)}</${n}>`:`<${n} ${zr}="true">${iv(o,r)}</${n}>`},s$=(n,t,e=!0)=>t.reduce((r,i)=>{const o=i,s=Object.keys(o).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const d=typeof o[u]>"u"?u:`${u}="${iv(o[u],e)}"`;return c?`${c} ${d}`:d},""),a=o.innerHTML||o.cssText||"",l=i$.indexOf(n)===-1;return`${r}<${n} ${zr}="true" ${s}${l?"/>":`>${a}</${n}>`}`},""),eR=(n,t={})=>Object.keys(n).reduce((e,r)=>{const i=tw[r];return e[i||r]=n[r],e},t),a$=(n,t,e)=>{const r={key:t,[zr]:!0},i=eR(e,r);return[Ve.createElement("title",i,t)]},sf=(n,t)=>t.map((e,r)=>{const i={key:r,[zr]:!0};return Object.keys(e).forEach(o=>{const a=tw[o]||o;if(a==="innerHTML"||a==="cssText"){const l=e.innerHTML||e.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=e[o]}),Ve.createElement(n,i)}),_r=(n,t,e=!0)=>{switch(n){case"title":return{toComponent:()=>a$(n,t.title,t.titleAttributes),toString:()=>o$(n,t.title,t.titleAttributes,e)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>eR(t),toString:()=>Q3(t)};default:return{toComponent:()=>sf(n,t),toString:()=>s$(n,t,e)}}},l$=({metaTags:n,linkTags:t,scriptTags:e,encode:r})=>{const i=Zp(n,Gp.meta),o=Zp(t,Gp.link),s=Zp(e,Gp.script);return{priorityMethods:{toComponent:()=>[...sf("meta",i.priority),...sf("link",o.priority),...sf("script",s.priority)],toString:()=>`${_r("meta",i.priority,r)} ${_r("link",o.priority,r)} ${_r("script",s.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:s.default}},c$=n=>{const{baseTag:t,bodyAttributes:e,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:s,title:a="",titleAttributes:l,prioritizeSeoTags:c}=n;let{linkTags:u,metaTags:d,scriptTags:h}=n,f={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:f,linkTags:u,metaTags:d,scriptTags:h}=l$(n)),{priority:f,base:_r("base",t,r),bodyAttributes:_r("bodyAttributes",e,r),htmlAttributes:_r("htmlAttributes",i,r),link:_r("link",u,r),meta:_r("meta",d,r),noscript:_r("noscript",o,r),script:_r("script",h,r),style:_r("style",s,r),title:_r("title",{title:a,titleAttributes:l},r)}},ov=c$,uh=[],tR=!!(typeof window<"u"&&window.document&&window.document.createElement),sv=class{constructor(n,t){w(this,"instances",[]);w(this,"canUseDOM",tR);w(this,"context");w(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?uh:this.instances,add:n=>{(this.canUseDOM?uh:this.instances).push(n)},remove:n=>{const t=(this.canUseDOM?uh:this.instances).indexOf(n);(this.canUseDOM?uh:this.instances).splice(t,1)}}});this.context=n,this.canUseDOM=t||!1,t||(n.helmet=ov({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},u$={},nR=Ve.createContext(u$),Ss,rR=(Ss=class extends I.Component{constructor(e){super(e);w(this,"helmetData");this.helmetData=new sv(this.props.context||{},Ss.canUseDOM)}render(){return Ve.createElement(nR.Provider,{value:this.helmetData.value},this.props.children)}},w(Ss,"canUseDOM",tR),Ss),pa=(n,t)=>{const e=document.head||document.querySelector("head"),r=e.querySelectorAll(`${n}[${zr}]`),i=[].slice.call(r),o=[];let s;return t&&t.length&&t.forEach(a=>{const l=document.createElement(n);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const u=c,d=typeof a[u]>"u"?"":a[u];l.setAttribute(c,d)}l.setAttribute(zr,"true"),i.some((c,u)=>(s=u,l.isEqualNode(c)))?i.splice(s,1):o.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),o.forEach(a=>e.appendChild(a)),{oldTags:i,newTags:o}},av=(n,t)=>{const e=document.getElementsByTagName(n)[0];if(!e)return;const r=e.getAttribute(zr),i=r?r.split(","):[],o=[...i],s=Object.keys(t);for(const a of s){const l=t[a]||"";e.getAttribute(a)!==l&&e.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=o.indexOf(a);c!==-1&&o.splice(c,1)}for(let a=o.length-1;a>=0;a-=1)e.removeAttribute(o[a]);i.length===o.length?e.removeAttribute(zr):e.getAttribute(zr)!==s.join(",")&&e.setAttribute(zr,s.join(","))},d$=(n,t)=>{typeof n<"u"&&document.title!==n&&(document.title=X3(n)),av("title",t)},Pk=(n,t)=>{const{baseTag:e,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:s,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:h}=n;av("body",r),av("html",i),d$(d,h);const f={baseTag:pa("base",e),linkTags:pa("link",o),metaTags:pa("meta",s),noscriptTags:pa("noscript",a),scriptTags:pa("script",c),styleTags:pa("style",u)},m={},g={};Object.keys(f).forEach(v=>{const{newTags:p,oldTags:b}=f[v];p.length&&(m[v]=p),b.length&&(g[v]=f[v].oldTags)}),t&&t(),l(n,m,g)},yc=null,h$=n=>{yc&&cancelAnimationFrame(yc),n.defer?yc=requestAnimationFrame(()=>{Pk(n,()=>{yc=null})}):(Pk(n),yc=null)},f$=h$,Rk=class extends I.Component{constructor(){super(...arguments);w(this,"rendered",!1)}shouldComponentUpdate(t){return!Zj(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let r=null;const i=n$(t.get().map(o=>{const s={...o.props};return delete s.context,s}));rR.canUseDOM?f$(i):ov&&(r=ov(i)),e(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},eb,iR=(eb=class extends I.Component{shouldComponentUpdate(n){return!Wj(Ak(this.props,"helmetData"),Ak(n,"helmetData"))}mapNestedChildrenToProps(n,t){if(!t)return null;switch(n.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,t,e,r){return{...t,[n.type]:[...t[n.type]||[],{...e,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,t,e,r){switch(n.type){case"title":return{...t,[n.type]:r,titleAttributes:{...e}};case"body":return{...t,bodyAttributes:{...e}};case"html":return{...t,htmlAttributes:{...e}};default:return{...t,[n.type]:{...e}}}}mapArrayTypeChildrenToProps(n,t){let e={...t};return Object.keys(n).forEach(r=>{e={...e,[r]:n[r]}}),e}warnOnInvalidChildren(n,t){return Tk(Sk.some(e=>n.type===e),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Sk.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),Tk(!t||typeof t=="string"||Array.isArray(t)&&!t.some(e=>typeof e!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,t){let e={};return Ve.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...o}=r.props,s=Object.keys(o).reduce((l,c)=>(l[Yj[c]||c]=o[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":e=this.flattenArrayTypeChildren(r,e,s,i);break;default:t=this.mapObjectTypeChildren(r,t,s,i);break}}),this.mapArrayTypeChildrenToProps(e,t)}render(){const{children:n,...t}=this.props;let e={...t},{helmetData:r}=t;if(n&&(e=this.mapChildrenToProps(n,e)),r&&!(r instanceof sv)){const i=r;r=new sv(i.context,!0),delete e.helmetData}return r?Ve.createElement(Rk,{...e,context:r.value}):Ve.createElement(nR.Consumer,null,i=>Ve.createElement(Rk,{...e,context:i}))}},w(eb,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),eb);function m$(){const[n,t]=I.useState([]),[e,r]=I.useState([]);return I.useEffect(()=>{const i=async()=>{const a=await(await fetch("slidesConfig.json")).json();r(a)};(async()=>{const a=await(await fetch("/api/post/getposts?limit=9")).json();t(a)})(),i()},[]),x.jsxs(x.Fragment,{children:[x.jsxs(iR,{children:[x.jsx("title",{children:"BlockBlaze"}),x.jsx("meta",{name:"description",content:"Welcome to My Blog. Explore the best content on Minecraft and more!"}),x.jsx("meta",{name:"keywords",content:"Minecraft, Blog, Tutorials, Gaming, Maps, Scripts"})]}),x.jsxs("div",{className:"min-h-screen",children:[x.jsxs("div",{className:"flex flex-col gap-4 p-16 px-10 w-full bg-gray-100 dark:bg-gray-800 mx-auto mb-5 h-72",children:[x.jsx("h1",{className:"text-3xl font-bold lg:text-6xl dark:text-white",children:"Hey, I'm BlockBlaze!"}),x.jsx("p",{className:"dark:text-white text-sm sm:text-sm",children:"Explore the world of Minecraft Bedrock with me, a passionate maps and scripts creator."}),x.jsx(kt,{className:"underline text-custom-orange text-sm",to:"/about",children:x.jsxs("div",{className:"mx-auto flex cursor-pointer",children:[x.jsx("p",{className:"font-semibold text-lg text-custom-orange hover:underline",children:"Find Out More"}),x.jsx(ew,{color:"orange",className:"text-2xl mt-[2.5px] "})]})})]}),x.jsxs("div",{className:"mb-40 relative w-[80%] m-auto text-center h-[500px] flex flex-col gap-7",children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("h1",{className:"text-3xl font-bold lg:text-4xl dark:text-white",children:"Explore Content"}),x.jsx("p",{className:"text-gray-500 text-sm sm:text-sm",children:"Discover unique maps, gameplay insights, and tips on this blog."})]}),x.jsx(NP,{slideInterval:3e3,className:"carousel",pauseOnHover:!0,children:e.map((i,o)=>x.jsxs("div",{className:"relative h-full",children:[x.jsx("img",{src:i.image,alt:i.alt,className:"object-cover w-full h-full"}),x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-50 text-white p-4 text-center",children:[x.jsx("h2",{className:"text-2xl font-bold",children:i.title}),x.jsx("p",{className:"mt-2 md:text-sm w-[80%] text-xs",children:i.description}),x.jsx("a",{href:i.buttonLink,className:"mt-4 px-4 py-2 bg-transparent border-gray-200 border-2 text-white rounded-lg  focus:outline-none",children:i.buttonText})]})]},o))})]}),n&&n.length>0&&x.jsxs("div",{className:"flex flex-col gap-2 justify-center items-center mb-5",children:[x.jsx("h1",{className:"text-3xl font-bold lg:text-4xl dark:text-white",children:"Recent Posts"}),x.jsx("div",{className:"flex flex-wrap gap-7 mt-5 justify-center items-stretch",children:n.map(i=>x.jsx(Oj,{post:i},i.postId))}),x.jsx(kt,{to:"/search",className:"text-lg text-custom-dark-orange hover:underline text-center mt-8",children:"View all content"})]})]})]})}function g$(n){return ln({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"},child:[]}]})(n)}function oR(n){return ln({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"},child:[]}]})(n)}function sR(n){return ln({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334q.002-.211-.006-.422A6.7 6.7 0 0 0 16 3.542a6.7 6.7 0 0 1-1.889.518 3.3 3.3 0 0 0 1.447-1.817 6.5 6.5 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.32 9.32 0 0 1-6.767-3.429 3.29 3.29 0 0 0 1.018 4.382A3.3 3.3 0 0 1 .64 6.575v.045a3.29 3.29 0 0 0 2.632 3.218 3.2 3.2 0 0 1-.865.115 3 3 0 0 1-.614-.057 3.28 3.28 0 0 0 3.067 2.277A6.6 6.6 0 0 1 .78 13.58a6 6 0 0 1-.78-.045A9.34 9.34 0 0 0 5.026 15"},child:[]}]})(n)}function aR(n){return ln({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"},child:[]}]})(n)}function p$(){return x.jsx("div",{className:"min-h-screen",children:x.jsxs("div",{className:"flex flex-col lg:flex-row-reverse w-full",children:[x.jsx("aside",{className:"w-full lg:w-[70%] p-10",children:x.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/personal-blog-8ea87.appspot.com/o/assets%2Fskin.jpg?alt=media&token=d413126a-3c6b-4a9f-ba0c-4bd3c1129ef1",alt:"blockblaze",className:"h-full m-auto"})}),x.jsxs("div",{className:"flex flex-col gap-2 p-10 w-full",children:[x.jsx("h1",{className:"text-3xl font-bold lg:text-4xl dark:text-white ",children:"ABOUT BLOCKBLAZE"}),x.jsx("span",{className:" md:text-lg text-justify",children:"Hi! I'm Karim, better known online as BlockBlaze, and I’m a passionate Minecraft content creator. This blog is my creative space where I share my creations, tutorials, and all things Minecraft. Whether you're a seasoned player or just embarking on your Minecraft journey, you’ll find something exciting and inspiring here! My journey began in 2019 when I discovered the command block. Fascinated by its potential, I started experimenting and created my first PvP map. Though I didn’t publish it, it sparked my passion for map-making. In 2021, I took a leap and released my first map, Mob Arena, marking the start of my adventure as a Minecraft creator. Sharing my creations with the community has been an incredible experience, and I can’t wait to keep building and exploring with you all!"}),x.jsx(kt,{className:"underline text-custom-orange text-sm mb-4",to:"/contact",children:x.jsxs("div",{className:"mx-auto flex cursor-pointer",children:[x.jsx("p",{className:"font-semibold text-lg text-custom-orange hover:underline",children:"Drop me a message"}),x.jsx(ew,{color:"orange",className:"text-2xl mt-[2.5px] "})]})}),x.jsxs("div",{className:"flex flew-row gap-3",children:[x.jsx("a",{href:"",className:"text-lg bg-gray-800 text-white p-2 rounded-lg",children:x.jsx(oR,{})}),x.jsx("a",{href:"",className:"text-lg bg-gray-800 text-white p-2 rounded-lg",children:x.jsx(sR,{})}),x.jsx("a",{href:"",className:"text-lg bg-gray-800 text-white p-2 rounded-lg",children:x.jsx(aR,{})})]})]})]})})}function b$(){return x.jsx(x.Fragment,{children:x.jsx("h1",{className:"text-3xl font-bold underline text-center",children:"Privacy"})})}function v$(){return x.jsx(x.Fragment,{children:x.jsx("h1",{className:"text-3xl font-bold underline text-center",children:"Content"})})}function y$(){const[n,t]=I.useState({}),[e,r]=I.useState(null);function i(s){t({...n,[s.target.id]:s.target.value})}async function o(s){var a,l;s.preventDefault();try{const u=await(await fetch("/api/contact/sendcontact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();u.success?r(u):r({success:!1,message:u.message})}catch(c){r({success:!1,message:((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.message)||"Contact send failed."})}}return x.jsx("div",{className:"min-h-screen mt-20",children:x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsxs("div",{className:"w-96 flex flex-col gap-3",children:[x.jsx("h1",{className:"font-bold text-5xl text-center",children:"Contact Me"}),x.jsxs("p",{className:"text-lg",children:["If you have any questions or suggestions, you can contact me via this form or via ",x.jsx("a",{href:"https://twitter.com/@BlockBlazeXD",target:"_blank",className:"text-custom-dark-orange font-bold",children:"my Twitter account"}),"."]})]}),x.jsxs("form",{className:"flex flex-col gap-4 py-7 w-96",onSubmit:o,children:[x.jsxs("div",{className:"",children:[x.jsx(Ro,{value:"Your Name"}),x.jsx(sn,{type:"text",placeholder:"",id:"name",onChange:i,required:!0})]}),x.jsxs("div",{className:"",children:[x.jsx(Ro,{value:"Your Email"}),x.jsx(sn,{type:"email",placeholder:"",id:"email",onChange:i,required:!0})]}),x.jsxs("div",{className:"",children:[x.jsx(Ro,{value:"Subject"}),x.jsx(sn,{type:"text",placeholder:"",id:"subject",onChange:i,required:!0})]}),x.jsxs("div",{className:"",children:[x.jsx(Ro,{value:"Your Message"}),x.jsx(J1,{type:"text",placeholder:"",id:"message",onChange:i,required:!0})]}),x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium",children:"Send"}),e&&x.jsx(gi,{color:e.success?"green":"red",className:"min-w-full",children:e.message})]})]})})}function w$(){return x.jsx(x.Fragment,{children:x.jsx("h1",{className:"text-3xl font-bold underline text-center",children:"404 error. Not found"})})}function _$({onLoginSuccess:n}){const[t,e]=I.useState({}),[r,i]=I.useState(null);function o(a){e({...t,[a.target.id]:a.target.value})}async function s(a){var l,c;a.preventDefault();try{const d=await(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();d.success?n():i(d.message)}catch(u){i(((c=(l=u.response)==null?void 0:l.data)==null?void 0:c.message)||"Login failed.")}}return x.jsx("div",{className:"min-h-screen mt-20",children:x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("h1",{className:"font-bold text-5xl text-center",children:"Login"}),x.jsxs("form",{className:"flex flex-col gap-4 py-7 w-80",onSubmit:s,children:[x.jsxs("div",{className:"",children:[x.jsx(Ro,{value:"Your email"}),x.jsx(sn,{type:"email",placeholder:"example@email.com",id:"email",onChange:o,required:!0})]}),x.jsxs("div",{className:"",children:[x.jsx(Ro,{value:"Your Password"}),x.jsx(sn,{type:"password",placeholder:"**********",id:"password",onChange:o,required:!0})]}),x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium",children:"Login"}),r&&x.jsx(gi,{color:"failure",className:"min-w-full",children:r})]})]})})}function x$(n){return ln({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M124,216a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V40A12,12,0,0,1,48,28h64a12,12,0,0,1,0,24H60V204h52A12,12,0,0,1,124,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L195,116H112a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,232.49,119.51Z"},child:[]}]})(n)}function lR(n){return ln({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(n)}function Yp(n){return ln({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(n)}function cR(n){return ln({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"},child:[]}]})(n)}function uR(n){return ln({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(n)}function k$(n){return ln({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#37474F"},child:[{tag:"rect",attr:{x:"23",y:"5",width:"2",height:"36"},child:[]},{tag:"rect",attr:{x:"20.5",y:"31.4",transform:"matrix(.707 .707 -.707 .707 33.523 -3.921)",width:"2",height:"14.2"},child:[]},{tag:"rect",attr:{x:"25.5",y:"31.4",transform:"matrix(-.707 .707 -.707 -.707 72.487 46.995)",width:"2",height:"14.2"},child:[]}]},{tag:"rect",attr:{x:"4",y:"8",fill:"#CFD8DC",width:"40",height:"28"},child:[]},{tag:"g",attr:{fill:"#607D8B"},child:[{tag:"rect",attr:{x:"3",y:"7",width:"42",height:"4"},child:[]},{tag:"rect",attr:{x:"3",y:"35",width:"42",height:"2"},child:[]},{tag:"circle",attr:{cx:"31.5",cy:"43.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"16.5",cy:"43.5",r:"1.5"},child:[]}]},{tag:"g",attr:{fill:"#C51162"},child:[{tag:"polygon",attr:{points:"31.9,18.9 26,24.9 20,18.9 11.9,26.9 14.1,29.1 20,23.1 26,29.1 34.1,21.1"},child:[]},{tag:"polygon",attr:{points:"36,24 29,17 36,17"},child:[]}]}]})(n)}function C$(n){const t=async()=>{try{const e=await fetch("/api/signout",{method:"POST"}),r=await e.json();e.ok||console.log(r.message),window.location.reload()}catch(e){console.log(e.message)}};return x.jsx(fo,{className:"w-full md:w-56",children:x.jsx(fo.Items,{children:x.jsxs(fo.ItemGroup,{className:"cursor-pointer flex flex-col gap-1",children:[x.jsx(kt,{to:"/dashboard?tab=create",children:x.jsx(fo.Item,{icon:Vj,active:n.location==="create",as:"div",children:"Create a post"})}),x.jsx(kt,{to:"/dashboard?tab=posts",children:x.jsx(fo.Item,{icon:cR,active:n.location==="posts",as:"div",children:"Posts"})}),x.jsx(kt,{to:"/dashboard?tab=contacts",children:x.jsx(fo.Item,{icon:lR,active:n.location==="contacts",as:"div",children:"Contacts & Feedbacks"})}),x.jsx(kt,{to:"/dashboard?tab=stats",children:x.jsx(fo.Item,{icon:k$,active:n.location==="stats",as:"div",children:"Statistics"})}),x.jsx(fo.Item,{icon:x$,as:"div",onClick:t,children:"Sign out"})]})})})}var dR={exports:{}},E$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",T$=E$,S$=T$;function hR(){}function fR(){}fR.resetWarningCache=hR;var A$=function(){function n(r,i,o,s,a,l){if(l!==S$){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fR,resetWarningCache:hR};return e.PropTypes=e,e};dR.exports=A$();var P$=dR.exports;const vr=xi(P$);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function R$(){const n={resolve:null,promise:null};return n.promise=new Promise(t=>{n.resolve=t}),n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function O$(n){let t=null;return(...e)=>(t||(t={current:n(...e)}),t.current)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const dn=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function I$(){const[n,t,e,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+dn[n>>0&255]+dn[n>>8&255]+dn[n>>16&255]+dn[n>>24&255]+dn[t>>0&255]+dn[t>>8&255]+dn[t>>16&255]+dn[t>>24&255]+dn[e>>0&255]+dn[e>>8&255]+dn[e>>16&255]+dn[e>>24&255]+dn[r>>0&255]+dn[r>>8&255]+dn[r>>16&255]+dn[r>>24&255]}var N$=Object.defineProperty,M$=(n,t,e)=>t in n?N$(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,yn=(n,t,e)=>M$(n,typeof t!="symbol"?t+"":t,e);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const mR=class gR{constructor(t,e){yn(this,"_lifecycle"),yn(this,"_element"),yn(this,"_releaseLock",null),yn(this,"_value",null),yn(this,"_afterMountCallbacks",[]),yn(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),yn(this,"release",O$(()=>{const{_releaseLock:r,_state:i,_element:o,_lifecycle:s}=this;i.mountingInProgress?i.mountingInProgress.then(()=>s.unmount({element:o,mountResult:this.value})).catch(a=>{console.error("Semaphore unmounting error:",a)}).then(r.resolve).then(()=>{this._value=null}):(i.destroyedBeforeInitialization=!0,r.resolve())})),this._element=t,this._lifecycle=e,this._lock()}get value(){return this._value}unsafeSetValue(t){this._value=t,this._afterMountCallbacks.forEach(e=>e(t)),this._afterMountCallbacks=[]}runAfterMount(t){const{_value:e,_afterMountCallbacks:r}=this;e?t(e):r.push(t)}_lock(){const{_semaphores:t}=gR,{_state:e,_element:r,_lifecycle:i}=this,o=t.get(r)||Promise.resolve(null),s=R$();this._releaseLock=s;const a=o.then(()=>e.destroyedBeforeInitialization?Promise.resolve(void 0):(e.mountingInProgress=i.mount().then(l=>(l&&this.unsafeSetValue(l),l)),e.mountingInProgress)).then(async l=>{l&&i.afterMount&&await i.afterMount({element:r,mountResult:l})}).then(()=>s.promise).catch(l=>{console.error("Semaphore mounting error:",l)}).then(()=>{t.get(r)===a&&t.delete(r)});t.set(r,a)}};yn(mR,"_semaphores",new Map);let L$=mR;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const D$="$__CKEditorReactContextMetadata";function B$(n,t){return{...t,[D$]:n}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const F$=Ve.createContext(null),V$=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),pR=n=>t=>V$(t)&&t.status===n,Ok=pR("initializing"),j$=n=>pR("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */const Jp="Lock from React integration (@ckeditor/ckeditor5-react)";class nw extends Ve.Component{constructor(t){super(t),yn(this,"domContainer",Ve.createRef()),yn(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[e]=t.split(".").map(Number);e>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:t}=this;return t?t.value:null}get watchdog(){const{_semaphoreValue:t}=this;return t?t.watchdog:null}get editor(){const{_semaphoreValue:t}=this;return t?t.instance:null}shouldComponentUpdate(t){const{props:e,editorSemaphore:r}=this;return t.id!==e.id||t.disableWatchdog!==e.disableWatchdog?!0:(r&&(r.runAfterMount(({instance:i})=>{this._shouldUpdateEditorData(e,t,i)&&i.data.set(t.data)}),"disabled"in t&&r.runAfterMount(({instance:i})=>{t.disabled?i.enableReadOnlyMode(Jp):i.disableReadOnlyMode(Jp)})),!1)}componentDidMount(){Ok(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){Ok(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new L$(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:t})=>{const{onReady:e}=this.props;e&&this.domContainer.current!==null&&e(t.instance)},unmount:async({element:t,mountResult:e})=>{const{onAfterDestroy:r}=this.props;try{await this._destroyEditor(e),t.innerHTML=""}finally{r&&r(e.instance)}}})}render(){return Ve.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const t=j$(this.context)?new $$(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),e={current:0};return t.setCreator(async(r,i)=>{var o;const{editorSemaphore:s}=this,{onAfterDestroy:a}=this.props;e.current>0&&a&&((o=s==null?void 0:s.value)!=null&&o.instance)&&a(s.value.instance);const l=await this._createEditor(r,i);return s&&e.current>0&&(s.unsafeSetValue({instance:l,watchdog:t}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t.editor)})),e.current++,l}),t.on("error",(r,{error:i,causesRestart:o})=>{(this.props.onError||console.error)(i,{phase:"runtime",willEditorRestart:o})}),await t.create(this.domContainer.current,this._getConfig()).catch(r=>{(this.props.onError||console.error)(r,{phase:"initialization",willEditorRestart:!1})}),{watchdog:t,instance:t.editor}}_createEditor(t,e){const{contextItemMetadata:r}=this.props;return r&&(e=B$(r,e)),this.props.editor.create(t,e).then(i=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&i.enableReadOnlyMode(Jp)}const o=i.model.document,s=i.editing.view.document;return o.on("change:data",a=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(a,i)}),s.on("focus",a=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(a,i)}),s.on("blur",a=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(a,i)}),i})}async _destroyEditor(t){const{watchdog:e,instance:r}=t;return new Promise((i,o)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(e)return await e.destroy(),i();if(r)return await r.destroy(),i();i()}catch(s){console.error(s),o(s)}})})}_shouldUpdateEditorData(t,e,r){return!(t.data===e.data||r.data.get()===e.data)}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}yn(nw,"contextType",F$);yn(nw,"propTypes",{editor:vr.func.isRequired,data:vr.string,config:vr.object,disableWatchdog:vr.bool,watchdogConfig:vr.object,onChange:vr.func,onReady:vr.func,onFocus:vr.func,onBlur:vr.func,onError:vr.func,disabled:vr.bool,id:vr.any});class $${constructor(t){yn(this,"_contextWatchdog"),yn(this,"_id"),yn(this,"_creator"),this._contextWatchdog=t,this._id=I$()}setCreator(t){this._creator=t}create(t,e){return this._contextWatchdog.add({sourceElementOrData:t,config:e,creator:this._creator,id:this._id,type:"editor"})}on(t,e){this._contextWatchdog.on("itemError",(r,{itemId:i,error:o})=>{i===this._id&&e(null,{error:o,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */function bR(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}const z$=I.memo(I.forwardRef(({id:n,semaphore:t,rootName:e},r)=>{const i=I.useRef(null);return I.useEffect(()=>{let o,s;return t.runAfterMount(({instance:a})=>{if(!i.current)return;s=a;const{ui:l,model:c}=s,u=c.document.getRoot(e);u&&s.ui.getEditableElement(e)&&s.detachEditable(u),o=l.view.createEditable(e,i.current),l.addEditable(o),a.editing.view.forceRender()}),()=>{if(s&&s.state!=="destroyed"&&i.current){const a=s.model.document.getRoot(e);/* istanbul ignore else -- @preserve */a&&s.detachEditable(a)}}},[t.revision]),Ve.createElement("div",{key:t.revision,id:n,ref:bR(r,i)})}));z$.displayName="EditorEditable";const H$=I.forwardRef(({editor:n},t)=>{const e=I.useRef(null);return I.useEffect(()=>{const r=e.current;if(!n||!r)return;const i=n.ui.view.toolbar.element;return r.appendChild(i),()=>{r.contains(i)&&r.removeChild(i)}},[n&&n.id]),Ve.createElement("div",{ref:bR(e,t)})});H$.displayName="EditorToolbarWrapper";var vR=typeof global=="object"&&global&&global.Object===Object&&global,U$=typeof self=="object"&&self&&self.Object===Object&&self,Jr=vR||U$||Function("return this")(),wi=Jr.Symbol,yR=Object.prototype,W$=yR.hasOwnProperty,q$=yR.toString,wc=wi?wi.toStringTag:void 0;function G$(n){var t=W$.call(n,wc),e=n[wc];try{n[wc]=void 0;var r=!0}catch{}var i=q$.call(n);return r&&(t?n[wc]=e:delete n[wc]),i}var K$=Object.prototype,Z$=K$.toString;function Y$(n){return Z$.call(n)}var J$="[object Null]",X$="[object Undefined]",Ik=wi?wi.toStringTag:void 0;function os(n){return n==null?n===void 0?X$:J$:Ik&&Ik in Object(n)?G$(n):Y$(n)}function Or(n){return n!=null&&typeof n=="object"}var Q$="[object Symbol]";function Ag(n){return typeof n=="symbol"||Or(n)&&os(n)==Q$}function ez(n,t){for(var e=-1,r=n==null?0:n.length,i=Array(r);++e<r;)i[e]=t(n[e],e,n);return i}var cr=Array.isArray,tz=1/0,Nk=wi?wi.prototype:void 0,Mk=Nk?Nk.toString:void 0;function wR(n){if(typeof n=="string")return n;if(cr(n))return ez(n,wR)+"";if(Ag(n))return Mk?Mk.call(n):"";var t=n+"";return t=="0"&&1/n==-tz?"-0":t}var nz=/\s/;function rz(n){for(var t=n.length;t--&&nz.test(n.charAt(t)););return t}var iz=/^\s+/;function oz(n){return n&&n.slice(0,rz(n)+1).replace(iz,"")}function et(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var Lk=NaN,sz=/^[-+]0x[0-9a-f]+$/i,az=/^0b[01]+$/i,lz=/^0o[0-7]+$/i,cz=parseInt;function Dk(n){if(typeof n=="number")return n;if(Ag(n))return Lk;if(et(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=et(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=oz(n);var e=az.test(n);return e||lz.test(n)?cz(n.slice(2),e?2:8):sz.test(n)?Lk:+n}function rw(n){return n}var uz="[object AsyncFunction]",dz="[object Function]",hz="[object GeneratorFunction]",fz="[object Proxy]";function Hs(n){if(!et(n))return!1;var t=os(n);return t==dz||t==hz||t==uz||t==fz}var Xp=Jr["__core-js_shared__"],Bk=function(){var n=/[^.]+$/.exec(Xp&&Xp.keys&&Xp.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function mz(n){return!!Bk&&Bk in n}var gz=Function.prototype,pz=gz.toString;function na(n){if(n!=null){try{return pz.call(n)}catch{}try{return n+""}catch{}}return""}var bz=/[\\^$.*+?()[\]{}|]/g,vz=/^\[object .+?Constructor\]$/,yz=Function.prototype,wz=Object.prototype,_z=yz.toString,xz=wz.hasOwnProperty,kz=RegExp("^"+_z.call(xz).replace(bz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cz(n){if(!et(n)||mz(n))return!1;var t=Hs(n)?kz:vz;return t.test(na(n))}function Ez(n,t){return n==null?void 0:n[t]}function ra(n,t){var e=Ez(n,t);return Cz(e)?e:void 0}var lv=ra(Jr,"WeakMap"),Fk=Object.create,Tz=function(){function n(){}return function(t){if(!et(t))return{};if(Fk)return Fk(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function Sz(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function _R(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}var Az=800,Pz=16,Rz=Date.now;function Oz(n){var t=0,e=0;return function(){var r=Rz(),i=Pz-(r-e);if(e=r,i>0){if(++t>=Az)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function Iz(n){return function(){return n}}var lm=function(){try{var n=ra(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Nz=lm?function(n,t){return lm(n,"toString",{configurable:!0,enumerable:!1,value:Iz(t),writable:!0})}:rw,Mz=Oz(Nz);function Lz(n,t){for(var e=-1,r=n==null?0:n.length;++e<r&&t(n[e],e,n)!==!1;);return n}var Dz=9007199254740991,Bz=/^(?:0|[1-9]\d*)$/;function Pg(n,t){var e=typeof n;return t=t??Dz,!!t&&(e=="number"||e!="symbol"&&Bz.test(n))&&n>-1&&n%1==0&&n<t}function Rg(n,t,e){t=="__proto__"&&lm?lm(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Td(n,t){return n===t||n!==n&&t!==t}var Fz=Object.prototype,Vz=Fz.hasOwnProperty;function iw(n,t,e){var r=n[t];(!(Vz.call(n,t)&&Td(r,e))||e===void 0&&!(t in n))&&Rg(n,t,e)}function Gl(n,t,e,r){var i=!e;e||(e={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;l===void 0&&(l=n[a]),i?Rg(e,a,l):iw(e,a,l)}return e}var Vk=Math.max;function jz(n,t,e){return t=Vk(t===void 0?n.length-1:t,0),function(){for(var r=arguments,i=-1,o=Vk(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=e(s),Sz(n,this,a)}}function $z(n,t){return Mz(jz(n,t,rw),n+"")}var zz=9007199254740991;function ow(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=zz}function Og(n){return n!=null&&ow(n.length)&&!Hs(n)}function Hz(n,t,e){if(!et(e))return!1;var r=typeof t;return(r=="number"?Og(e)&&Pg(t,e.length):r=="string"&&t in e)?Td(e[t],n):!1}function sw(n){return $z(function(t,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,s=i>2?e[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&Hz(e[0],e[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=e[r];a&&n(t,a,r,o)}return t})}var Uz=Object.prototype;function aw(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Uz;return n===e}function Wz(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var qz="[object Arguments]";function jk(n){return Or(n)&&os(n)==qz}var xR=Object.prototype,Gz=xR.hasOwnProperty,Kz=xR.propertyIsEnumerable,cm=jk(function(){return arguments}())?jk:function(n){return Or(n)&&Gz.call(n,"callee")&&!Kz.call(n,"callee")};function Zz(){return!1}var kR=typeof ir=="object"&&ir&&!ir.nodeType&&ir,$k=kR&&typeof or=="object"&&or&&!or.nodeType&&or,Yz=$k&&$k.exports===kR,zk=Yz?Jr.Buffer:void 0,Jz=zk?zk.isBuffer:void 0,$u=Jz||Zz,Xz="[object Arguments]",Qz="[object Array]",eH="[object Boolean]",tH="[object Date]",nH="[object Error]",rH="[object Function]",iH="[object Map]",oH="[object Number]",sH="[object Object]",aH="[object RegExp]",lH="[object Set]",cH="[object String]",uH="[object WeakMap]",dH="[object ArrayBuffer]",hH="[object DataView]",fH="[object Float32Array]",mH="[object Float64Array]",gH="[object Int8Array]",pH="[object Int16Array]",bH="[object Int32Array]",vH="[object Uint8Array]",yH="[object Uint8ClampedArray]",wH="[object Uint16Array]",_H="[object Uint32Array]",it={};it[fH]=it[mH]=it[gH]=it[pH]=it[bH]=it[vH]=it[yH]=it[wH]=it[_H]=!0;it[Xz]=it[Qz]=it[dH]=it[eH]=it[hH]=it[tH]=it[nH]=it[rH]=it[iH]=it[oH]=it[sH]=it[aH]=it[lH]=it[cH]=it[uH]=!1;function xH(n){return Or(n)&&ow(n.length)&&!!it[os(n)]}function lw(n){return function(t){return n(t)}}var CR=typeof ir=="object"&&ir&&!ir.nodeType&&ir,eu=CR&&typeof or=="object"&&or&&!or.nodeType&&or,kH=eu&&eu.exports===CR,Qp=kH&&vR.process,Pl=function(){try{var n=eu&&eu.require&&eu.require("util").types;return n||Qp&&Qp.binding&&Qp.binding("util")}catch{}}(),Hk=Pl&&Pl.isTypedArray,cw=Hk?lw(Hk):xH,CH=Object.prototype,EH=CH.hasOwnProperty;function ER(n,t){var e=cr(n),r=!e&&cm(n),i=!e&&!r&&$u(n),o=!e&&!r&&!i&&cw(n),s=e||r||i||o,a=s?Wz(n.length,String):[],l=a.length;for(var c in n)(t||EH.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Pg(c,l)))&&a.push(c);return a}function TR(n,t){return function(e){return n(t(e))}}var TH=TR(Object.keys,Object),SH=Object.prototype,AH=SH.hasOwnProperty;function PH(n){if(!aw(n))return TH(n);var t=[];for(var e in Object(n))AH.call(n,e)&&e!="constructor"&&t.push(e);return t}function Sd(n){return Og(n)?ER(n):PH(n)}function RH(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var OH=Object.prototype,IH=OH.hasOwnProperty;function NH(n){if(!et(n))return RH(n);var t=aw(n),e=[];for(var r in n)r=="constructor"&&(t||!IH.call(n,r))||e.push(r);return e}function Kl(n){return Og(n)?ER(n,!0):NH(n)}var SR=sw(function(n,t){Gl(t,Kl(t),n)}),MH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LH=/^\w*$/;function uw(n,t){if(cr(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||Ag(n)?!0:LH.test(n)||!MH.test(n)||t!=null&&n in Object(t)}var zu=ra(Object,"create");function DH(){this.__data__=zu?zu(null):{},this.size=0}function BH(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var FH="__lodash_hash_undefined__",VH=Object.prototype,jH=VH.hasOwnProperty;function $H(n){var t=this.__data__;if(zu){var e=t[n];return e===FH?void 0:e}return jH.call(t,n)?t[n]:void 0}var zH=Object.prototype,HH=zH.hasOwnProperty;function UH(n){var t=this.__data__;return zu?t[n]!==void 0:HH.call(t,n)}var WH="__lodash_hash_undefined__";function qH(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=zu&&t===void 0?WH:t,this}function Us(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Us.prototype.clear=DH;Us.prototype.delete=BH;Us.prototype.get=$H;Us.prototype.has=UH;Us.prototype.set=qH;function GH(){this.__data__=[],this.size=0}function Ig(n,t){for(var e=n.length;e--;)if(Td(n[e][0],t))return e;return-1}var KH=Array.prototype,ZH=KH.splice;function YH(n){var t=this.__data__,e=Ig(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():ZH.call(t,e,1),--this.size,!0}function JH(n){var t=this.__data__,e=Ig(t,n);return e<0?void 0:t[e][1]}function XH(n){return Ig(this.__data__,n)>-1}function QH(n,t){var e=this.__data__,r=Ig(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}function io(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}io.prototype.clear=GH;io.prototype.delete=YH;io.prototype.get=JH;io.prototype.has=XH;io.prototype.set=QH;var Hu=ra(Jr,"Map");function eU(){this.size=0,this.__data__={hash:new Us,map:new(Hu||io),string:new Us}}function tU(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function Ng(n,t){var e=n.__data__;return tU(t)?e[typeof t=="string"?"string":"hash"]:e.map}function nU(n){var t=Ng(this,n).delete(n);return this.size-=t?1:0,t}function rU(n){return Ng(this,n).get(n)}function iU(n){return Ng(this,n).has(n)}function oU(n,t){var e=Ng(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}function oo(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}oo.prototype.clear=eU;oo.prototype.delete=nU;oo.prototype.get=rU;oo.prototype.has=iU;oo.prototype.set=oU;var sU="Expected a function";function dw(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(sU);var e=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return e.cache=o.set(i,s)||o,s};return e.cache=new(dw.Cache||oo),e}dw.Cache=oo;var aU=500;function lU(n){var t=dw(n,function(r){return e.size===aU&&e.clear(),r}),e=t.cache;return t}var cU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uU=/\\(\\)?/g,dU=lU(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(cU,function(e,r,i,o){t.push(i?o.replace(uU,"$1"):r||e)}),t});function Ad(n){return n==null?"":wR(n)}function Mg(n,t){return cr(n)?n:uw(n,t)?[n]:dU(Ad(n))}var hU=1/0;function Zl(n){if(typeof n=="string"||Ag(n))return n;var t=n+"";return t=="0"&&1/n==-hU?"-0":t}function hw(n,t){t=Mg(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[Zl(t[e++])];return e&&e==r?n:void 0}function Uu(n,t,e){var r=n==null?void 0:hw(n,t);return r===void 0?e:r}function AR(n,t){for(var e=-1,r=t.length,i=n.length;++e<r;)n[i+e]=t[e];return n}var fw=TR(Object.getPrototypeOf,Object),fU="[object Object]",mU=Function.prototype,gU=Object.prototype,PR=mU.toString,pU=gU.hasOwnProperty,bU=PR.call(Object);function Mn(n){if(!Or(n)||os(n)!=fU)return!1;var t=fw(n);if(t===null)return!0;var e=pU.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&PR.call(e)==bU}function RR(n,t,e){var r=-1,i=n.length;t<0&&(t=-t>i?0:i+t),e=e>i?i:e,e<0&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=n[r+t];return o}function vU(n,t,e){var r=n.length;return e=e===void 0?r:e,!t&&e>=r?n:RR(n,t,e)}var yU="\\ud800-\\udfff",wU="\\u0300-\\u036f",_U="\\ufe20-\\ufe2f",xU="\\u20d0-\\u20ff",kU=wU+_U+xU,CU="\\ufe0e\\ufe0f",EU="\\u200d",TU=RegExp("["+EU+yU+kU+CU+"]");function OR(n){return TU.test(n)}function SU(n){return n.split("")}var IR="\\ud800-\\udfff",AU="\\u0300-\\u036f",PU="\\ufe20-\\ufe2f",RU="\\u20d0-\\u20ff",OU=AU+PU+RU,IU="\\ufe0e\\ufe0f",NU="["+IR+"]",cv="["+OU+"]",uv="\\ud83c[\\udffb-\\udfff]",MU="(?:"+cv+"|"+uv+")",NR="[^"+IR+"]",MR="(?:\\ud83c[\\udde6-\\uddff]){2}",LR="[\\ud800-\\udbff][\\udc00-\\udfff]",LU="\\u200d",DR=MU+"?",BR="["+IU+"]?",DU="(?:"+LU+"(?:"+[NR,MR,LR].join("|")+")"+BR+DR+")*",BU=BR+DR+DU,FU="(?:"+[NR+cv+"?",cv,MR,LR,NU].join("|")+")",VU=RegExp(uv+"(?="+uv+")|"+FU+BU,"g");function jU(n){return n.match(VU)||[]}function $U(n){return OR(n)?jU(n):SU(n)}function zU(n){return function(t){t=Ad(t);var e=OR(t)?$U(t):void 0,r=e?e[0]:t.charAt(0),i=e?vU(e,1).join(""):t.slice(1);return r[n]()+i}}var FR=zU("toUpperCase");function HU(n,t,e,r){for(var i=-1,o=n==null?0:n.length;++i<o;)e=t(e,n[i],i,n);return e}function UU(n){return function(t){return n==null?void 0:n[t]}}var WU={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qU=UU(WU),GU=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,KU="\\u0300-\\u036f",ZU="\\ufe20-\\ufe2f",YU="\\u20d0-\\u20ff",JU=KU+ZU+YU,XU="["+JU+"]",QU=RegExp(XU,"g");function eW(n){return n=Ad(n),n&&n.replace(GU,qU).replace(QU,"")}var tW=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function nW(n){return n.match(tW)||[]}var rW=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function iW(n){return rW.test(n)}var VR="\\ud800-\\udfff",oW="\\u0300-\\u036f",sW="\\ufe20-\\ufe2f",aW="\\u20d0-\\u20ff",lW=oW+sW+aW,jR="\\u2700-\\u27bf",$R="a-z\\xdf-\\xf6\\xf8-\\xff",cW="\\xac\\xb1\\xd7\\xf7",uW="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dW="\\u2000-\\u206f",hW=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zR="A-Z\\xc0-\\xd6\\xd8-\\xde",fW="\\ufe0e\\ufe0f",HR=cW+uW+dW+hW,UR="['’]",Uk="["+HR+"]",mW="["+lW+"]",WR="\\d+",gW="["+jR+"]",qR="["+$R+"]",GR="[^"+VR+HR+WR+jR+$R+zR+"]",pW="\\ud83c[\\udffb-\\udfff]",bW="(?:"+mW+"|"+pW+")",vW="[^"+VR+"]",KR="(?:\\ud83c[\\udde6-\\uddff]){2}",ZR="[\\ud800-\\udbff][\\udc00-\\udfff]",Aa="["+zR+"]",yW="\\u200d",Wk="(?:"+qR+"|"+GR+")",wW="(?:"+Aa+"|"+GR+")",qk="(?:"+UR+"(?:d|ll|m|re|s|t|ve))?",Gk="(?:"+UR+"(?:D|LL|M|RE|S|T|VE))?",YR=bW+"?",JR="["+fW+"]?",_W="(?:"+yW+"(?:"+[vW,KR,ZR].join("|")+")"+JR+YR+")*",xW="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kW="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",CW=JR+YR+_W,EW="(?:"+[gW,KR,ZR].join("|")+")"+CW,TW=RegExp([Aa+"?"+qR+"+"+qk+"(?="+[Uk,Aa,"$"].join("|")+")",wW+"+"+Gk+"(?="+[Uk,Aa+Wk,"$"].join("|")+")",Aa+"?"+Wk+"+"+qk,Aa+"+"+Gk,kW,xW,WR,EW].join("|"),"g");function SW(n){return n.match(TW)||[]}function AW(n,t,e){return n=Ad(n),t=t,t===void 0?iW(n)?SW(n):nW(n):n.match(t)||[]}var PW="['’]",RW=RegExp(PW,"g");function OW(n){return function(t){return HU(AW(eW(t).replace(RW,"")),n,"")}}function IW(){this.__data__=new io,this.size=0}function NW(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function MW(n){return this.__data__.get(n)}function LW(n){return this.__data__.has(n)}var DW=200;function BW(n,t){var e=this.__data__;if(e instanceof io){var r=e.__data__;if(!Hu||r.length<DW-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new oo(r)}return e.set(n,t),this.size=e.size,this}function Gr(n){var t=this.__data__=new io(n);this.size=t.size}Gr.prototype.clear=IW;Gr.prototype.delete=NW;Gr.prototype.get=MW;Gr.prototype.has=LW;Gr.prototype.set=BW;function FW(n,t){return n&&Gl(t,Sd(t),n)}function VW(n,t){return n&&Gl(t,Kl(t),n)}var XR=typeof ir=="object"&&ir&&!ir.nodeType&&ir,Kk=XR&&typeof or=="object"&&or&&!or.nodeType&&or,jW=Kk&&Kk.exports===XR,Zk=jW?Jr.Buffer:void 0,Yk=Zk?Zk.allocUnsafe:void 0;function QR(n,t){if(t)return n.slice();var e=n.length,r=Yk?Yk(e):new n.constructor(e);return n.copy(r),r}function $W(n,t){for(var e=-1,r=n==null?0:n.length,i=0,o=[];++e<r;){var s=n[e];t(s,e,n)&&(o[i++]=s)}return o}function eO(){return[]}var zW=Object.prototype,HW=zW.propertyIsEnumerable,Jk=Object.getOwnPropertySymbols,mw=Jk?function(n){return n==null?[]:(n=Object(n),$W(Jk(n),function(t){return HW.call(n,t)}))}:eO;function UW(n,t){return Gl(n,mw(n),t)}var WW=Object.getOwnPropertySymbols,tO=WW?function(n){for(var t=[];n;)AR(t,mw(n)),n=fw(n);return t}:eO;function qW(n,t){return Gl(n,tO(n),t)}function nO(n,t,e){var r=t(n);return cr(n)?r:AR(r,e(n))}function dv(n){return nO(n,Sd,mw)}function GW(n){return nO(n,Kl,tO)}var hv=ra(Jr,"DataView"),fv=ra(Jr,"Promise"),mv=ra(Jr,"Set"),Xk="[object Map]",KW="[object Object]",Qk="[object Promise]",e2="[object Set]",t2="[object WeakMap]",n2="[object DataView]",ZW=na(hv),YW=na(Hu),JW=na(fv),XW=na(mv),QW=na(lv),jr=os;(hv&&jr(new hv(new ArrayBuffer(1)))!=n2||Hu&&jr(new Hu)!=Xk||fv&&jr(fv.resolve())!=Qk||mv&&jr(new mv)!=e2||lv&&jr(new lv)!=t2)&&(jr=function(n){var t=os(n),e=t==KW?n.constructor:void 0,r=e?na(e):"";if(r)switch(r){case ZW:return n2;case YW:return Xk;case JW:return Qk;case XW:return e2;case QW:return t2}return t});var eq=Object.prototype,tq=eq.hasOwnProperty;function nq(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&tq.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var um=Jr.Uint8Array;function gw(n){var t=new n.constructor(n.byteLength);return new um(t).set(new um(n)),t}function rq(n,t){var e=t?gw(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var iq=/\w*$/;function oq(n){var t=new n.constructor(n.source,iq.exec(n));return t.lastIndex=n.lastIndex,t}var r2=wi?wi.prototype:void 0,i2=r2?r2.valueOf:void 0;function sq(n){return i2?Object(i2.call(n)):{}}function rO(n,t){var e=t?gw(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var aq="[object Boolean]",lq="[object Date]",cq="[object Map]",uq="[object Number]",dq="[object RegExp]",hq="[object Set]",fq="[object String]",mq="[object Symbol]",gq="[object ArrayBuffer]",pq="[object DataView]",bq="[object Float32Array]",vq="[object Float64Array]",yq="[object Int8Array]",wq="[object Int16Array]",_q="[object Int32Array]",xq="[object Uint8Array]",kq="[object Uint8ClampedArray]",Cq="[object Uint16Array]",Eq="[object Uint32Array]";function Tq(n,t,e){var r=n.constructor;switch(t){case gq:return gw(n);case aq:case lq:return new r(+n);case pq:return rq(n,e);case bq:case vq:case yq:case wq:case _q:case xq:case kq:case Cq:case Eq:return rO(n,e);case cq:return new r;case uq:case fq:return new r(n);case dq:return oq(n);case hq:return new r;case mq:return sq(n)}}function iO(n){return typeof n.constructor=="function"&&!aw(n)?Tz(fw(n)):{}}var Sq="[object Map]";function Aq(n){return Or(n)&&jr(n)==Sq}var o2=Pl&&Pl.isMap,Pq=o2?lw(o2):Aq,Rq="[object Set]";function Oq(n){return Or(n)&&jr(n)==Rq}var s2=Pl&&Pl.isSet,Iq=s2?lw(s2):Oq,Nq=1,Mq=2,Lq=4,oO="[object Arguments]",Dq="[object Array]",Bq="[object Boolean]",Fq="[object Date]",Vq="[object Error]",sO="[object Function]",jq="[object GeneratorFunction]",$q="[object Map]",zq="[object Number]",aO="[object Object]",Hq="[object RegExp]",Uq="[object Set]",Wq="[object String]",qq="[object Symbol]",Gq="[object WeakMap]",Kq="[object ArrayBuffer]",Zq="[object DataView]",Yq="[object Float32Array]",Jq="[object Float64Array]",Xq="[object Int8Array]",Qq="[object Int16Array]",eG="[object Int32Array]",tG="[object Uint8Array]",nG="[object Uint8ClampedArray]",rG="[object Uint16Array]",iG="[object Uint32Array]",Xe={};Xe[oO]=Xe[Dq]=Xe[Kq]=Xe[Zq]=Xe[Bq]=Xe[Fq]=Xe[Yq]=Xe[Jq]=Xe[Xq]=Xe[Qq]=Xe[eG]=Xe[$q]=Xe[zq]=Xe[aO]=Xe[Hq]=Xe[Uq]=Xe[Wq]=Xe[qq]=Xe[tG]=Xe[nG]=Xe[rG]=Xe[iG]=!0;Xe[Vq]=Xe[sO]=Xe[Gq]=!1;function hl(n,t,e,r,i,o){var s,a=t&Nq,l=t&Mq,c=t&Lq;if(e&&(s=i?e(n,r,i,o):e(n)),s!==void 0)return s;if(!et(n))return n;var u=cr(n);if(u){if(s=nq(n),!a)return _R(n,s)}else{var d=jr(n),h=d==sO||d==jq;if($u(n))return QR(n,a);if(d==aO||d==oO||h&&!i){if(s=l||h?{}:iO(n),!a)return l?qW(n,VW(s,n)):UW(n,FW(s,n))}else{if(!Xe[d])return i?n:{};s=Tq(n,d,a)}}o||(o=new Gr);var f=o.get(n);if(f)return f;o.set(n,s),Iq(n)?n.forEach(function(v){s.add(hl(v,t,e,v,n,o))}):Pq(n)&&n.forEach(function(v,p){s.set(p,hl(v,t,e,p,n,o))});var m=c?l?GW:dv:l?Kl:Sd,g=u?void 0:m(n);return Lz(g||n,function(v,p){g&&(p=v,v=n[p]),iw(s,p,hl(v,t,e,p,n,o))}),s}var oG=4;function lO(n){return hl(n,oG)}var sG=1,aG=4;function Nr(n){return hl(n,sG|aG)}var lG=1,cG=4;function pw(n,t){return t=typeof t=="function"?t:void 0,hl(n,lG|cG,t)}var uG="__lodash_hash_undefined__";function dG(n){return this.__data__.set(n,uG),this}function hG(n){return this.__data__.has(n)}function dm(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new oo;++t<e;)this.add(n[t])}dm.prototype.add=dm.prototype.push=dG;dm.prototype.has=hG;function fG(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function mG(n,t){return n.has(t)}var gG=1,pG=2;function cO(n,t,e,r,i,o){var s=e&gG,a=n.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(n),u=o.get(t);if(c&&u)return c==t&&u==n;var d=-1,h=!0,f=e&pG?new dm:void 0;for(o.set(n,t),o.set(t,n);++d<a;){var m=n[d],g=t[d];if(r)var v=s?r(g,m,d,t,n,o):r(m,g,d,n,t,o);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!fG(t,function(p,b){if(!mG(f,b)&&(m===p||i(m,p,e,r,o)))return f.push(b)})){h=!1;break}}else if(!(m===g||i(m,g,e,r,o))){h=!1;break}}return o.delete(n),o.delete(t),h}function bG(n){var t=-1,e=Array(n.size);return n.forEach(function(r,i){e[++t]=[i,r]}),e}function vG(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var yG=1,wG=2,_G="[object Boolean]",xG="[object Date]",kG="[object Error]",CG="[object Map]",EG="[object Number]",TG="[object RegExp]",SG="[object Set]",AG="[object String]",PG="[object Symbol]",RG="[object ArrayBuffer]",OG="[object DataView]",a2=wi?wi.prototype:void 0,e0=a2?a2.valueOf:void 0;function IG(n,t,e,r,i,o,s){switch(e){case OG:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case RG:return!(n.byteLength!=t.byteLength||!o(new um(n),new um(t)));case _G:case xG:case EG:return Td(+n,+t);case kG:return n.name==t.name&&n.message==t.message;case TG:case AG:return n==t+"";case CG:var a=bG;case SG:var l=r&yG;if(a||(a=vG),n.size!=t.size&&!l)return!1;var c=s.get(n);if(c)return c==t;r|=wG,s.set(n,t);var u=cO(a(n),a(t),r,i,o,s);return s.delete(n),u;case PG:if(e0)return e0.call(n)==e0.call(t)}return!1}var NG=1,MG=Object.prototype,LG=MG.hasOwnProperty;function DG(n,t,e,r,i,o){var s=e&NG,a=dv(n),l=a.length,c=dv(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:LG.call(t,h)))return!1}var f=o.get(n),m=o.get(t);if(f&&m)return f==t&&m==n;var g=!0;o.set(n,t),o.set(t,n);for(var v=s;++d<l;){h=a[d];var p=n[h],b=t[h];if(r)var _=s?r(b,p,h,t,n,o):r(p,b,h,n,t,o);if(!(_===void 0?p===b||i(p,b,e,r,o):_)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var y=n.constructor,k=t.constructor;y!=k&&"constructor"in n&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof k=="function"&&k instanceof k)&&(g=!1)}return o.delete(n),o.delete(t),g}var BG=1,l2="[object Arguments]",c2="[object Array]",dh="[object Object]",FG=Object.prototype,u2=FG.hasOwnProperty;function VG(n,t,e,r,i,o){var s=cr(n),a=cr(t),l=s?c2:jr(n),c=a?c2:jr(t);l=l==l2?dh:l,c=c==l2?dh:c;var u=l==dh,d=c==dh,h=l==c;if(h&&$u(n)){if(!$u(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Gr),s||cw(n)?cO(n,t,e,r,i,o):IG(n,t,l,e,r,i,o);if(!(e&BG)){var f=u&&u2.call(n,"__wrapped__"),m=d&&u2.call(t,"__wrapped__");if(f||m){var g=f?n.value():n,v=m?t.value():t;return o||(o=new Gr),i(g,v,e,r,o)}}return h?(o||(o=new Gr),DG(n,t,e,r,i,o)):!1}function Pd(n,t,e,r,i){return n===t?!0:n==null||t==null||!Or(n)&&!Or(t)?n!==n&&t!==t:VG(n,t,e,r,Pd,i)}var jG=1,$G=2;function zG(n,t,e,r){var i=e.length,o=i;if(n==null)return!o;for(n=Object(n);i--;){var s=e[i];if(s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<o;){s=e[i];var a=s[0],l=n[a],c=s[1];if(s[2]){if(l===void 0&&!(a in n))return!1}else{var u=new Gr,d;if(!(d===void 0?Pd(c,l,jG|$G,r,u):d))return!1}}return!0}function uO(n){return n===n&&!et(n)}function HG(n){for(var t=Sd(n),e=t.length;e--;){var r=t[e],i=n[r];t[e]=[r,i,uO(i)]}return t}function dO(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}function UG(n){var t=HG(n);return t.length==1&&t[0][2]?dO(t[0][0],t[0][1]):function(e){return e===n||zG(e,n,t)}}function WG(n,t){return n!=null&&t in Object(n)}function qG(n,t,e){t=Mg(t,n);for(var r=-1,i=t.length,o=!1;++r<i;){var s=Zl(t[r]);if(!(o=n!=null&&e(n,s)))break;n=n[s]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&ow(i)&&Pg(s,i)&&(cr(n)||cm(n)))}function GG(n,t){return n!=null&&qG(n,t,WG)}var KG=1,ZG=2;function YG(n,t){return uw(n)&&uO(t)?dO(Zl(n),t):function(e){var r=Uu(e,n);return r===void 0&&r===t?GG(e,n):Pd(t,r,KG|ZG)}}function JG(n){return function(t){return t==null?void 0:t[n]}}function XG(n){return function(t){return hw(t,n)}}function QG(n){return uw(n)?JG(Zl(n)):XG(n)}function eK(n){return typeof n=="function"?n:n==null?rw:typeof n=="object"?cr(n)?YG(n[0],n[1]):UG(n):QG(n)}function tK(n){return function(t,e,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[++i];if(e(o[l],l,o)===!1)break}return t}}var hO=tK();function nK(n,t){return n&&hO(n,t,Sd)}var t0=function(){return Jr.Date.now()},rK="Expected a function",iK=Math.max,oK=Math.min;function Ir(n,t,e){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(rK);t=Dk(t)||0,et(e)&&(u=!!e.leading,d="maxWait"in e,o=d?iK(Dk(e.maxWait)||0,t):o,h="trailing"in e?!!e.trailing:h);function f(S){var E=r,C=i;return r=i=void 0,c=S,s=n.apply(C,E),s}function m(S){return c=S,a=setTimeout(p,t),u?f(S):s}function g(S){var E=S-l,C=S-c,O=t-E;return d?oK(O,o-C):O}function v(S){var E=S-l,C=S-c;return l===void 0||E>=t||E<0||d&&C>=o}function p(){var S=t0();if(v(S))return b(S);a=setTimeout(p,g(S))}function b(S){return a=void 0,h&&r?f(S):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function y(){return a===void 0?s:b(t0())}function k(){var S=t0(),E=v(S);if(r=arguments,i=this,l=S,E){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(p,t),f(l)}return a===void 0&&(a=setTimeout(p,t)),s}return k.cancel=_,k.flush=y,k}function gv(n,t,e){(e!==void 0&&!Td(n[t],e)||e===void 0&&!(t in n))&&Rg(n,t,e)}function sK(n){return Or(n)&&Og(n)}function pv(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function aK(n){return Gl(n,Kl(n))}function lK(n,t,e,r,i,o,s){var a=pv(n,e),l=pv(t,e),c=s.get(l);if(c){gv(n,e,c);return}var u=o?o(a,l,e+"",n,t,s):void 0,d=u===void 0;if(d){var h=cr(l),f=!h&&$u(l),m=!h&&!f&&cw(l);u=l,h||f||m?cr(a)?u=a:sK(a)?u=_R(a):f?(d=!1,u=QR(l,!0)):m?(d=!1,u=rO(l,!0)):u=[]:Mn(l)||cm(l)?(u=a,cm(a)?u=aK(a):(!et(a)||Hs(a))&&(u=iO(l))):d=!1}d&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),gv(n,e,u)}function bw(n,t,e,r,i){n!==t&&hO(t,function(o,s){if(i||(i=new Gr),et(o))lK(n,t,s,e,bw,r,i);else{var a=r?r(pv(n,s),o,s+"",n,t,i):void 0;a===void 0&&(a=o),gv(n,s,a)}},Kl)}var cK=sw(function(n,t,e,r){bw(n,t,e,r)});function uK(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}var fO=/[\\^$.*+?()[\]{}|]/g,dK=RegExp(fO.source);function mO(n){return n=Ad(n),n&&dK.test(n)?n.replace(fO,"\\$&"):n}var hK="[object String]";function d2(n){return typeof n=="string"||!cr(n)&&Or(n)&&os(n)==hK}function fK(n,t){return t.length<2?n:hw(n,RR(t,0,-1))}function Ws(n){return Or(n)&&n.nodeType===1&&!Mn(n)}function Rl(n,t){return Pd(n,t)}function mK(n,t,e){e=typeof e=="function"?e:void 0;var r=e?e(n,t):void 0;return r===void 0?Pd(n,t,void 0,e):!!r}function gK(n,t){var e={};return t=eK(t),nK(n,function(r,i,o){Rg(e,i,t(r,i,o))}),e}var vw=sw(function(n,t,e){bw(n,t,e)});function pK(n,t){return t=Mg(t,n),n=fK(n,t),n==null||delete n[Zl(uK(t))]}function bK(n,t,e,r){if(!et(n))return n;t=Mg(t,n);for(var i=-1,o=t.length,s=o-1,a=n;a!=null&&++i<o;){var l=Zl(t[i]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(i!=s){var u=a[l];c=void 0,c===void 0&&(c=et(u)?u:Pg(t[i+1])?[]:{})}iw(a,l,c),a=a[l]}return n}function vK(n,t,e){return n==null?n:bK(n,t,e)}var yK=OW(function(n,t,e){return n+(e?" ":"")+FR(t)}),wK="Expected a function";function Wu(n,t,e){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(wK);return et(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),Ir(n,t,{leading:r,maxWait:t,trailing:i})}function _K(n,t){return n==null?!0:pK(n,t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let bv;try{bv={window,document}}catch{/* istanbul ignore next -- @preserve */bv={window:{},document:{}}}var fe=bv;function xK(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const cs=xK(),Ee={isMac:gO(cs),isWindows:kK(cs),isGecko:CK(cs),isSafari:EK(cs),isiOS:TK(cs),isAndroid:SK(cs),isBlink:AK(cs),get isMediaForcedColors(){return RK()},get isMotionReduced(){return OK()},features:{isRegExpUnicodePropertySupported:PK()}};function gO(n){return n.indexOf("macintosh")>-1}function kK(n){return n.indexOf("windows")>-1}function CK(n){return!!n.match(/gecko\/\d+/)}function EK(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function TK(n){return!!n.match(/iphone|ipad/i)||gO(n)&&navigator.maxTouchPoints>0}function SK(n){return n.indexOf("android")>-1}function AK(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function PK(){let n=!1;try{n="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}function RK(){return fe.window.matchMedia?fe.window.matchMedia("(forced-colors: active)").matches:!1}function OK(){return fe.window.matchMedia?fe.window.matchMedia("(prefers-reduced-motion)").matches:!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pO(n,t,e,r){e=e||function(l,c){return l===c};const i=Array.isArray(n)?n:Array.prototype.slice.call(n),o=Array.isArray(t)?t:Array.prototype.slice.call(t),s=IK(i,o,e);return r?MK(s,o.length):NK(o,s)}function IK(n,t,e){const r=h2(n,t,e);if(r===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=f2(n,r),o=f2(t,r),s=h2(i,o,e),a=n.length-s,l=t.length-s;return{firstIndex:r,lastIndexOld:a,lastIndexNew:l}}function h2(n,t,e){for(let r=0;r<Math.max(n.length,t.length);r++)if(n[r]===void 0||t[r]===void 0||!e(n[r],t[r]))return r;return-1}function f2(n,t){return n.slice(t).reverse()}function NK(n,t){const e=[],{firstIndex:r,lastIndexOld:i,lastIndexNew:o}=t;return o-r>0&&e.push({index:r,type:"insert",values:n.slice(r,o)}),i-r>0&&e.push({index:r+(o-r),type:"delete",howMany:i-r}),e}function MK(n,t){const{firstIndex:e,lastIndexOld:r,lastIndexNew:i}=n;if(e===-1)return Array(t).fill("equal");let o=[];return e>0&&(o=o.concat(Array(e).fill("equal"))),i-e>0&&(o=o.concat(Array(i-e).fill("insert"))),r-e>0&&(o=o.concat(Array(r-e).fill("delete"))),i<t&&(o=o.concat(Array(t-i).fill("equal"))),o}function tu(n,t,e){e=e||function(g,v){return g===v};const r=n.length,i=t.length;if(r>200||i>200||r+i>300)return tu.fastDiff(n,t,e,!0);let o,s;if(i<r){const g=n;n=t,t=g,o="delete",s="insert"}else o="insert",s="delete";const a=n.length,l=t.length,c=l-a,u={},d={};function h(g){const v=(d[g-1]!==void 0?d[g-1]:-1)+1,p=d[g+1]!==void 0?d[g+1]:-1,b=v>p?-1:1;u[g+b]&&(u[g]=u[g+b].slice(0)),u[g]||(u[g]=[]),u[g].push(v>p?o:s);let _=Math.max(v,p),y=_-g;for(;y<a&&_<l&&e(n[y],t[_]);)y++,_++,u[g].push("equal");return _}let f=0,m;do{for(m=-f;m<c;m++)d[m]=h(m);for(m=c+f;m>c;m--)d[m]=h(m);d[c]=h(c),f++}while(d[c]!==l);return u[c].slice(1)}tu.fastDiff=pO;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function m2(){return function n(){n.called=!0}}class Ki{constructor(t,e){w(this,"source");w(this,"name");w(this,"path");w(this,"stop");w(this,"off");w(this,"return");this.source=t,this.name=e,this.path=[],this.stop=m2(),this.off=m2()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hn=new Array(256).fill("").map((n,t)=>("0"+t.toString(16)).slice(-2));function ur(){const[n,t,e,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+hn[n>>0&255]+hn[n>>8&255]+hn[n>>16&255]+hn[n>>24&255]+hn[t>>0&255]+hn[t>>8&255]+hn[t>>16&255]+hn[t>>24&255]+hn[e>>0&255]+hn[e>>8&255]+hn[e>>16&255]+hn[e>>24&255]+hn[r>>0&255]+hn[r>>8&255]+hn[r>>16&255]+hn[r>>24&255]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const er={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function bO(n,t){const e=er.get(t.priority);for(let r=0;r<n.length;r++)if(er.get(n[r].priority)<e){n.splice(r,0,t);return}n.push(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const LK="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class q extends Error{constructor(e,r,i){super(DK(e,i));w(this,"context");w(this,"data");this.name="CKEditorError",this.context=r,this.data=i}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,r){if(e.is&&e.is("CKEditorError"))throw e;const i=new q(e.message,r);throw i.stack=e.stack,i}}function Ze(n,t){console.warn(...BK(n,t))}function vO(n){return`
Read more: ${LK}#error-${n}`}function DK(n,t){const e=new WeakSet,i=t?` ${JSON.stringify(t,(s,a)=>{if(typeof a=="object"&&a!==null){if(e.has(a))return`[object ${a.constructor.name}]`;e.add(a)}return a})}`:"",o=vO(n);return n+i+o}function BK(n,t){const e=vO(n);return t?[n,t,e]:[n,e]}const FK="43.2.0",VK=new Date(2024,9,2);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new q("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=FK;const Pa=Symbol("listeningTo"),vv=Symbol("emitterId"),Ei=Symbol("delegations"),yO=We(Object);function We(n){if(!n)return yO;class t extends n{on(r,i,o){this.listenTo(this,r,i,o)}once(r,i,o){let s=!1;const a=(l,...c)=>{s||(s=!0,l.off(),i.call(this,l,...c))};this.listenTo(this,r,a,o)}off(r,i){this.stopListening(this,r,i)}listenTo(r,i,o,s={}){let a,l;this[Pa]||(this[Pa]={});const c=this[Pa];n0(r)||wO(r);const u=n0(r);(a=c[u])||(a=c[u]={emitter:r,callbacks:{}}),(l=a.callbacks[i])||(l=a.callbacks[i]=[]),l.push(o),HK(this,r,i,o,s)}stopListening(r,i,o){const s=this[Pa];let a=r&&n0(r);const l=s&&a?s[a]:void 0,c=l&&i?l.callbacks[i]:void 0;if(!(!s||r&&!l||i&&!c))if(o)r0(this,r,i,o),c.indexOf(o)!==-1&&(c.length===1?delete l.callbacks[i]:r0(this,r,i,o));else if(c){for(;o=c.pop();)r0(this,r,i,o);delete l.callbacks[i]}else if(l){for(i in l.callbacks)this.stopListening(r,i);delete s[a]}else{for(a in s)this.stopListening(s[a].emitter);delete this[Pa]}}fire(r,...i){try{const o=r instanceof Ki?r:new Ki(this,r),s=o.name;let a=xO(this,s);if(o.path.push(this),a){const c=[o,...i];a=Array.from(a);for(let u=0;u<a.length&&(a[u].callback.apply(this,c),o.off.called&&(delete o.off.called,this._removeEventListener(s,a[u].callback)),!o.stop.called);u++);}const l=this[Ei];if(l){const c=l.get(s),u=l.get("*");c&&g2(c,o,i),u&&g2(u,o,i)}return o.return}catch(o){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(o,this)}}delegate(...r){return{to:(i,o)=>{this[Ei]||(this[Ei]=new Map),r.forEach(s=>{const a=this[Ei].get(s);a?a.set(i,o):this[Ei].set(s,new Map([[i,o]]))})}}}stopDelegating(r,i){if(this[Ei])if(!r)this[Ei].clear();else if(!i)this[Ei].delete(r);else{const o=this[Ei].get(r);o&&o.delete(i)}}_addEventListener(r,i,o){zK(this,r);const s=yv(this,r),a=er.get(o.priority),l={callback:i,priority:a};for(const c of s)bO(c,l)}_removeEventListener(r,i){const o=yv(this,r);for(const s of o)for(let a=0;a<s.length;a++)s[a].callback==i&&(s.splice(a,1),a--)}}return t}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{We[n]=yO.prototype[n]});function jK(n,t){const e=n[Pa];return e&&e[t]?e[t].emitter:null}function wO(n,t){n[vv]||(n[vv]=t||ur())}function n0(n){return n[vv]}function _O(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function $K(){return{callbacks:[],childEvents:[]}}function zK(n,t){const e=_O(n);if(e[t])return;let r=t,i=null;const o=[];for(;r!==""&&!e[r];)e[r]=$K(),o.push(e[r]),i&&e[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(r!==""){for(const s of o)s.callbacks=e[r].callbacks.slice();e[r].childEvents.push(i)}}function yv(n,t){const e=_O(n)[t];if(!e)return[];let r=[e.callbacks];for(let i=0;i<e.childEvents.length;i++){const o=yv(n,e.childEvents[i]);r=r.concat(o)}return r}function xO(n,t){let e;return!n._events||!(e=n._events[t])||!e.callbacks.length?t.indexOf(":")>-1?xO(n,t.substr(0,t.lastIndexOf(":"))):null:e.callbacks}function g2(n,t,e){for(let[r,i]of n){i?typeof i=="function"&&(i=i(t.name)):i=t.name;const o=new Ki(t.source,i);o.path=[...t.path],r.fire(o,...e)}}function HK(n,t,e,r,i){t._addEventListener?t._addEventListener(e,r,i):n._addEventListener.call(t,e,r,i)}function r0(n,t,e,r){t._removeEventListener?t._removeEventListener(e,r):n._removeEventListener.call(t,e,r)}const nu=Symbol("observableProperties"),qu=Symbol("boundObservables"),ru=Symbol("boundProperties"),us=Symbol("decoratedMethods"),p2=Symbol("decoratedOriginal"),kO=Ke(We());function Ke(n){var e,r,i,o,s;if(!n)return kO;class t extends(s=n,o=nu,i=us,r=ru,e=qu,s){constructor(){super(...arguments);w(this,o);w(this,i);w(this,r);w(this,e)}set(c,u){if(et(c)){Object.keys(c).forEach(h=>{this.set(h,c[h])},this);return}i0(this);const d=this[nu];if(c in this&&!d.has(c))throw new q("observable-set-cannot-override",this);Object.defineProperty(this,c,{enumerable:!0,configurable:!0,get(){return d.get(c)},set(h){const f=d.get(c);let m=this.fire(`set:${c}`,c,h,f);m===void 0&&(m=h),(f!==m||!d.has(c))&&(d.set(c,m),this.fire(`change:${c}`,c,m,f))}}),this[c]=u}bind(...c){if(!c.length||!b2(c))throw new q("observable-bind-wrong-properties",this);if(new Set(c).size!==c.length)throw new q("observable-bind-duplicate-properties",this);i0(this);const u=this[ru];c.forEach(h=>{if(u.has(h))throw new q("observable-bind-rebind",this)});const d=new Map;return c.forEach(h=>{const f={property:h,to:[]};u.set(h,f),d.set(h,f)}),{to:UK,toMany:WK,_observable:this,_bindProperties:c,_to:[],_bindings:d}}unbind(...c){if(!this[nu])return;const u=this[ru],d=this[qu];if(c.length){if(!b2(c))throw new q("observable-unbind-wrong-properties",this);c.forEach(h=>{const f=u.get(h);f&&(f.to.forEach(([m,g])=>{const v=d.get(m),p=v[g];p.delete(f),p.size||delete v[g],Object.keys(v).length||(d.delete(m),this.stopListening(m,"change"))}),u.delete(h))})}else d.forEach((h,f)=>{this.stopListening(f,"change")}),d.clear(),u.clear()}decorate(c){i0(this);const u=this[c];if(!u)throw new q("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:c});this.on(c,(d,h)=>{d.return=u.apply(this,h)}),this[c]=function(...d){return this.fire(c,d)},this[c][p2]=u,this[us]||(this[us]=[]),this[us].push(c)}stopListening(c,u,d){if(!c&&this[us]){for(const h of this[us])this[h]=this[h][p2];delete this[us]}super.stopListening(c,u,d)}}return t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Ke[n]=kO.prototype[n]});function i0(n){n[nu]||(Object.defineProperty(n,nu,{value:new Map}),Object.defineProperty(n,qu,{value:new Map}),Object.defineProperty(n,ru,{value:new Map}))}function UK(...n){const t=GK(...n),e=Array.from(this._bindings.keys()),r=e.length;if(!t.callback&&t.to.length>1)throw new q("observable-bind-to-no-callback",this);if(r>1&&t.callback)throw new q("observable-bind-to-extra-callback",this);t.to.forEach(i=>{if(i.properties.length&&i.properties.length!==r)throw new q("observable-bind-to-properties-length",this);i.properties.length||(i.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),YK(this._observable,this._to),ZK(this),this._bindProperties.forEach(i=>{CO(this._observable,i)})}function WK(n,t,e){if(this._bindings.size>1)throw new q("observable-bind-to-many-not-one-binding",this);this.to(...qK(n,t),e)}function qK(n,t){const e=n.map(r=>[r,t]);return Array.prototype.concat.apply([],e)}function b2(n){return n.every(t=>typeof t=="string")}function GK(...n){if(!n.length)throw new q("observable-bind-to-parse-error",null);const t={to:[]};let e;return typeof n[n.length-1]=="function"&&(t.callback=n.pop()),n.forEach(r=>{if(typeof r=="string")e.properties.push(r);else if(typeof r=="object")e={observable:r,properties:[]},t.to.push(e);else throw new q("observable-bind-to-parse-error",null)}),t}function KK(n,t,e,r){const i=n[qu],o=i.get(e),s=o||{};s[r]||(s[r]=new Set),s[r].add(t),o||i.set(e,s)}function ZK(n){let t;n._bindings.forEach((e,r)=>{n._to.forEach(i=>{t=i.properties[e.callback?0:n._bindProperties.indexOf(r)],e.to.push([i.observable,t]),KK(n._observable,e,i.observable,t)})})}function CO(n,t){const r=n[ru].get(t);let i;r.callback?i=r.callback.apply(n,r.to.map(o=>o[0][o[1]])):(i=r.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(n,t)?n[t]=i:n.set(t,i)}function YK(n,t){t.forEach(e=>{const r=n[qu];let i;r.get(e.observable)||n.listenTo(e.observable,"change",(o,s)=>{i=r.get(e.observable)[s],i&&i.forEach(a=>{CO(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EO{constructor(){w(this,"_replacedElements");this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wv(n){let t=0;for(const e of n)t++;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wn(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++)if(n[r]!=t[r])return r;return n.length==t.length?"same":n.length<t.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function dr(n){return!!(n&&n[Symbol.iterator])}function Kt(n,t,e={},r=[]){const i=e&&e.xmlns,o=i?n.createElementNS(i,t):n.createElement(t);for(const s in e)o.setAttribute(s,e[s]);(d2(r)||!dr(r))&&(r=[r]);for(let s of r)d2(s)&&(s=n.createTextNode(s)),o.appendChild(s);return o}class TO{constructor(t,e){w(this,"_config");this._config=Object.create(null),e&&this.define(v2(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,r,i=!1){if(Mn(e)){this._setObjectToTarget(t,e,i);return}const o=e.split(".");e=o.pop();for(const s of o)Mn(t[s])||(t[s]=Object.create(null)),t=t[s];if(Mn(r)){Mn(t[e])||(t[e]=Object.create(null)),t=t[e],this._setObjectToTarget(t,r,i);return}i&&typeof t[e]<"u"||(t[e]=r)}_getFromSource(t,e){const r=e.split(".");e=r.pop();for(const i of r){if(!Mn(t[i])){t=null;break}t=t[i]}return t?v2(t[e]):void 0}_setObjectToTarget(t,e,r){Object.keys(e).forEach(i=>{this._setToTarget(t,i,e[i],r)})}}function v2(n){return pw(n,JK)}function JK(n){return Ws(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yo(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hm(n){const t=Object.prototype.toString.apply(n);return t=="[object Window]"||t=="[object global]"}const SO=br(We());function br(n){if(!n)return SO;class t extends n{listenTo(r,i,o,s={}){if(Yo(r)||hm(r)){const a={capture:!!s.useCapture,passive:!!s.usePassive},l=this._getProxyEmitter(r,a)||new XK(r,a);this.listenTo(l,i,o,s)}else super.listenTo(r,i,o,s)}stopListening(r,i,o){if(Yo(r)||hm(r)){const s=this._getAllProxyEmitters(r);for(const a of s)this.stopListening(a,i,o)}else super.stopListening(r,i,o)}_getProxyEmitter(r,i){return jK(this,AO(r,i))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(r,i)).filter(i=>!!i)}}return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{br[n]=SO.prototype[n]});class XK extends We(){constructor(e,r){super();w(this,"_domNode");w(this,"_options");w(this,"_domListeners");wO(this,AO(e,r)),this._domNode=e,this._options=r}attach(e){if(this._domListeners&&this._domListeners[e])return;const r=this._createDomListener(e);this._domNode.addEventListener(e,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=r}detach(e){let r;this._domListeners[e]&&(!(r=this._events[e])||!r.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,r,i){this.attach(e),We().prototype._addEventListener.call(this,e,r,i)}_removeEventListener(e,r){We().prototype._removeEventListener.call(this,e,r),this.detach(e)}_createDomListener(e){const r=i=>{this.fire(e,i)};return r.removeListener=()=>{this._domNode.removeEventListener(e,r,this._options),delete this._domListeners[e]},r}}function QK(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ur())}function AO(n,t){let e=QK(n);for(const r of Object.keys(t).sort())t[r]&&(e+="-"+r);return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function eZ(n){const t=[];let e=n;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tZ(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function PO(n){const t=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function RO(n){if(!n.target)return null;const t=n.target.ownerDocument,e=n.clientX,r=n.clientY;let i=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(e,r)?i=t.caretRangeFromPoint(e,r):n.rangeParent&&(i=t.createRange(),i.setStart(n.rangeParent,n.rangeOffset),i.collapse(!0)),i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function gt(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Lg(n){return Object.prototype.toString.apply(n)=="[object Range]"}function OO(n){return!n||!n.parentNode||n.offsetParent===fe.document.body?null:n.offsetParent}const IO=["top","right","bottom","left","width","height"];class Re{constructor(t){w(this,"top");w(this,"right");w(this,"bottom");w(this,"left");w(this,"width");w(this,"height");w(this,"_source");const e=Lg(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),_v(t)||e)if(e){const r=Re.getDomRangeRects(t);hh(this,Re.getBoundingRect(r))}else hh(this,t.getBoundingClientRect());else if(hm(t)){const{innerWidth:r,innerHeight:i}=t;hh(this,{top:0,right:r,bottom:i,left:0,width:r,height:i})}else hh(this,t)}clone(){return new Re(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const r=new Re(e);return r._source=this._source,r}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(y2(t))return e;let r=t,i=t.parentNode||t.commonAncestorContainer,o;for(;i&&!y2(i);){const s=nZ(i)==="visible";r instanceof HTMLElement&&w2(r)==="absolute"&&(o=r);const a=w2(i);if(s||o&&(a==="relative"&&s||a!=="relative")){r=i,i=i.parentNode;continue}const l=new Re(i),c=e.getIntersection(l);if(c)c.getArea()<e.getArea()&&(e=c);else return null;r=i,i=i.parentNode}return e}isEqual(t){for(const e of IO)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!!(e&&e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=fe.window,r=this.clone().moveBy(t,e);if(_v(r._source)){const i=OO(r._source);i&&rZ(r,i)}return r}excludeScrollbarsAndBorders(){const t=this._source;let e,r,i;if(hm(t))e=t.innerWidth-t.document.documentElement.clientWidth,r=t.innerHeight-t.document.documentElement.clientHeight,i=t.getComputedStyle(t.document.documentElement).direction;else{const o=PO(t);e=t.offsetWidth-t.clientWidth-o.left-o.right,r=t.offsetHeight-t.clientHeight-o.top-o.bottom,i=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,i==="ltr"?this.right-=e:this.left+=e,this.height-=r,this.bottom-=r,this}static getDomRangeRects(t){const e=[],r=Array.from(t.getClientRects());if(r.length)for(const i of r)e.push(new Re(i));else{let i=t.startContainer;gt(i)&&(i=i.parentNode);const o=new Re(i.getBoundingClientRect());o.right=o.left,o.width=0,e.push(o)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const i of t)r++,e.left=Math.min(e.left,i.left),e.top=Math.min(e.top,i.top),e.right=Math.max(e.right,i.right),e.bottom=Math.max(e.bottom,i.bottom);return r==0?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Re(e))}}function hh(n,t){for(const e of IO)n[e]=t[e]}function y2(n){return _v(n)?n===n.ownerDocument.body:!1}function _v(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function w2(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function nZ(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function rZ(n,t){const e=new Re(t),r=PO(t);let i=0,o=0;i-=e.left,o-=e.top,i+=t.scrollLeft,o+=t.scrollTop,i-=r.left,o-=r.top,n.moveBy(i,o)}var qe;let yw=(qe=class{constructor(t,e){w(this,"_element");w(this,"_callback");qe._observerInstance||qe._createObserver(),this._element=t,this._callback=e,qe._addElementCallback(t,e),qe._observerInstance.observe(t)}get element(){return this._element}destroy(){qe._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){qe._elementCallbacks||(qe._elementCallbacks=new Map);let r=qe._elementCallbacks.get(t);r||(r=new Set,qe._elementCallbacks.set(t,r)),r.add(e)}static _deleteElementCallback(t,e){const r=qe._getElementCallbacks(t);r&&(r.delete(e),r.size||(qe._elementCallbacks.delete(t),qe._observerInstance.unobserve(t))),qe._elementCallbacks&&!qe._elementCallbacks.size&&(qe._observerInstance=null,qe._elementCallbacks=null)}static _getElementCallbacks(t){return qe._elementCallbacks?qe._elementCallbacks.get(t):null}static _createObserver(){qe._observerInstance=new fe.window.ResizeObserver(t=>{for(const e of t){const r=qe._getElementCallbacks(e.target);if(r)for(const i of r)i(e)}})}},w(qe,"_observerInstance",null),w(qe,"_elementCallbacks",null),qe);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _2(n,t){n instanceof HTMLTextAreaElement&&(n.value=t),n.innerHTML=t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Rd(n){return t=>t+n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Vc(n){let t=0;for(;n.previousSibling;)n=n.previousSibling,t++;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function NO(n,t,e){n.insertBefore(e,n.childNodes[t]||null)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function iu(n){return n&&n.nodeType===Node.COMMENT_NODE}function MO(n){try{fe.document.createAttribute(n)}catch{return!1}return!0}function _i(n){return n?gt(n)?_i(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function ww({element:n,target:t,positions:e,limiter:r,fitInViewport:i,viewportOffsetConfig:o}){Hs(t)&&(t=t()),Hs(r)&&(r=r());const s=OO(n),a=iZ(o),l=new Re(n),c=x2(t,a);let u;if(!c||!a.getIntersection(c))return null;const d={targetRect:c,elementRect:l,positionedElementAncestor:s,viewportRect:a};if(!r&&!i)u=new LO(e[0],d);else{if(r){const h=x2(r,a);h&&(d.limiterRect=h)}u=oZ(e,d)}return u}function x2(n,t){const e=new Re(n).getVisible();return e?e.getIntersection(t):null}function iZ(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const t=new Re(fe.window);return t.top+=n.top,t.height-=n.top,t.bottom-=n.bottom,t.height-=n.bottom,t}function oZ(n,t){const{elementRect:e}=t,r=e.getArea(),i=n.map(a=>new LO(a,t)).filter(a=>!!a.name);let o=0,s=null;for(const a of i){const{limiterIntersectionArea:l,viewportIntersectionArea:c}=a;if(l===r)return a;const u=c**2+l**2;u>o&&(o=u,s=a)}return s}class LO{constructor(t,e){w(this,"name");w(this,"config");w(this,"_positioningFunctionCoordinates");w(this,"_options");w(this,"_cachedRect");w(this,"_cachedAbsoluteRect");const r=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!r)return;const{left:i,top:o,name:s,config:a}=r;this.name=s,this.config=a,this._positioningFunctionCoordinates={left:i,top:o},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function k2(n){const t=n.parentNode;t&&t.removeChild(n)}function DO({target:n,viewportOffset:t=0,ancestorOffset:e=0,alignToTop:r,forceScroll:i}){const o=_w(n);let s=o,a=null;for(t=lZ(t);s;){let l;s==o?l=C2(n):l=C2(a),aZ({parent:l,getRect:()=>E2(n,s),alignToTop:r,ancestorOffset:e,forceScroll:i});const c=E2(n,s);if(sZ({window:s,rect:c,viewportOffset:t,alignToTop:r,forceScroll:i}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}function sZ({window:n,rect:t,alignToTop:e,forceScroll:r,viewportOffset:i}){const o=t.clone().moveBy(0,i.bottom),s=t.clone().moveBy(0,-i.top),a=new Re(n).excludeScrollbarsAndBorders(),l=[s,o],c=e&&r,u=l.every(g=>a.contains(g));let{scrollX:d,scrollY:h}=n;const f=d,m=h;c?h-=a.top-t.top+i.top:u||(FO(s,a)?h-=a.top-t.top+i.top:BO(o,a)&&(e?h+=t.top-a.top-i.top:h+=t.bottom-a.bottom+i.bottom)),u||(VO(t,a)?d-=a.left-t.left+i.left:jO(t,a)&&(d+=t.right-a.right+i.right)),(d!=f||h!==m)&&n.scrollTo(d,h)}function aZ({parent:n,getRect:t,alignToTop:e,forceScroll:r,ancestorOffset:i=0,limiterElement:o}){const s=_w(n),a=e&&r;let l,c,u;const d=o||s.document.body;for(;n!=d;)c=t(),l=new Re(n).excludeScrollbarsAndBorders(),u=l.contains(c),a?n.scrollTop-=l.top-c.top+i:u||(FO(c,l)?n.scrollTop-=l.top-c.top+i:BO(c,l)&&(e?n.scrollTop+=c.top-l.top-i:n.scrollTop+=c.bottom-l.bottom+i)),u||(VO(c,l)?n.scrollLeft-=l.left-c.left+i:jO(c,l)&&(n.scrollLeft+=c.right-l.right+i)),n=n.parentNode}function BO(n,t){return n.bottom>t.bottom}function FO(n,t){return n.top<t.top}function VO(n,t){return n.left<t.left}function jO(n,t){return n.right>t.right}function _w(n){return Lg(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function C2(n){if(Lg(n)){let t=n.commonAncestorContainer;return gt(t)&&(t=t.parentNode),t}else return n.parentNode}function E2(n,t){const e=_w(n),r=new Re(n);if(e===t)return r;{let i=e;for(;i!=t;){const o=i.frameElement,s=new Re(o).excludeScrollbarsAndBorders();r.moveBy(s.left,s.top),i=i.parent}}return r}function lZ(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}const cZ={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},uZ={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},T2={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},Me=gZ(),dZ=Object.fromEntries(Object.entries(Me).map(([n,t])=>{let e;return t in T2?e=T2[t]:e=n.charAt(0).toUpperCase()+n.slice(1),[t,e]}));function Ol(n){let t;if(typeof n=="string"){if(t=Me[n.toLowerCase()],!t)throw new q("keyboard-unknown-key",null,{key:n})}else t=n.keyCode+(n.altKey?Me.alt:0)+(n.ctrlKey?Me.ctrl:0)+(n.shiftKey?Me.shift:0)+(n.metaKey?Me.cmd:0);return t}function xw(n){return typeof n=="string"&&(n=pZ(n)),n.map(t=>typeof t=="string"?fZ(t):t).reduce((t,e)=>e+t,0)}function fm(n){let t=xw(n);return Object.entries(Ee.isMac||Ee.isiOS?cZ:uZ).reduce((i,[o,s])=>(t&Me[o]&&(t&=~Me[o],i+=s),i),"")+(t?dZ[t]:"")}function hZ(n){return n==Me.arrowright||n==Me.arrowleft||n==Me.arrowup||n==Me.arrowdown}function kw(n,t){const e=t==="ltr";switch(n){case Me.arrowleft:return e?"left":"right";case Me.arrowright:return e?"right":"left";case Me.arrowup:return"up";case Me.arrowdown:return"down"}}function fZ(n){if(n.endsWith("!"))return Ol(n.slice(0,-1));const t=Ol(n);return(Ee.isMac||Ee.isiOS)&&t==Me.ctrl?Me.cmd:t}function mZ(n,t){const e=kw(n,t);return e==="down"||e==="right"}function gZ(){const n={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const e=String.fromCharCode(t);n[e.toLowerCase()]=t}for(let t=48;t<=57;t++)n[t-48]=t;for(let t=112;t<=123;t++)n["f"+(t-111)]=t;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function pZ(n){return n.split("+").map(t=>t.trim())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const bZ=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function S2(n){return bZ.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function pt(n){return Array.isArray(n)?n:[n]}/* istanbul ignore else -- @preserve */fe.window.CKEDITOR_TRANSLATIONS||(fe.window.CKEDITOR_TRANSLATIONS={});function vZ(n,t,e=1,r){if(typeof e!="number")throw new q("translation-service-quantity-not-a-number",null,{quantity:e});const i=r||fe.window.CKEDITOR_TRANSLATIONS,o=_Z(i);o===1&&(n=Object.keys(i)[0]);const s=t.id||t.string;if(o===0||!wZ(n,s,i))return e!==1?t.plural:t.string;const a=i[n].dictionary,l=i[n].getPluralForm||(d=>d===1?0:1),c=a[s];if(typeof c=="string")return c;const u=Number(l(e));return c[u]}function yZ(n){return Array.isArray(n)?n.reduce((t,e)=>vw(t,e)):n}function wZ(n,t,e){return!!e[n]&&!!e[n].dictionary[t]}function _Z(n){return Object.keys(n).length}class xZ{constructor({uiLanguage:t="en",contentLanguage:e,translations:r}={}){w(this,"uiLanguage");w(this,"uiLanguageDirection");w(this,"contentLanguage");w(this,"contentLanguageDirection");w(this,"t");w(this,"translations");this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=S2(this.uiLanguage),this.contentLanguageDirection=S2(this.contentLanguage),this.translations=yZ(r),this.t=(i,o)=>this._t(i,o)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=pt(e),typeof t=="string"&&(t={string:t});const i=!!t.plural?e[0]:1,o=vZ(this.uiLanguage,t,i,this.translations);return kZ(o,e)}}function kZ(n,t){return n.replace(/%(\d+)/g,(e,r)=>r<t.length?t[r]:e)}class zt extends We(){constructor(e={},r={}){super();w(this,"_items");w(this,"_itemMap");w(this,"_idProperty");w(this,"_bindToCollection");w(this,"_bindToExternalToInternalMap");w(this,"_bindToInternalToExternalMap");w(this,"_skippedIndexesFromExternal");const i=dr(e);if(i||(r=e),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const o of e)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,r){return this.addMany([e],r)}addMany(e,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new q("collection-add-item-invalid-index",this);let i=0;for(const o of e){const s=this._getItemIdBeforeAdding(o),a=r+i;this._items.splice(a,0,o),this._itemMap.set(s,o),this.fire("add",o,a),i++}return this.fire("change",{added:e,removed:[],index:r}),this}get(e){let r;if(typeof e=="string")r=this._itemMap.get(e);else if(typeof e=="number")r=this._items[e];else throw new q("collection-get-invalid-arg",this);return r||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const r=this._idProperty,i=e[r];return i&&this._itemMap.has(i)}}getIndex(e){let r;return typeof e=="string"?r=this._itemMap.get(e):r=e,r?this._items.indexOf(r):-1}remove(e){const[r,i]=this._remove(e);return this.fire("change",{added:[],removed:[r],index:i}),r}map(e,r){return this._items.map(e,r)}forEach(e,r){this._items.forEach(e,r)}find(e,r){return this._items.find(e,r)}filter(e,r){return this._items.filter(e,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new q("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:r=>{this._setUpBindToBinding(i=>new r(i))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(i=>i[r])}}}_setUpBindToBinding(e){const r=this._bindToCollection,i=(o,s,a)=>{const l=r._bindToCollection==this,c=r._bindToInternalToExternalMap.get(s);if(l&&c)this._bindToExternalToInternalMap.set(s,c),this._bindToInternalToExternalMap.set(c,s);else{const u=e(s);if(!u){this._skippedIndexesFromExternal.push(a);return}let d=a;for(const h of this._skippedIndexesFromExternal)a>h&&d--;for(const h of r._skippedIndexesFromExternal)d>=h&&d++;this._bindToExternalToInternalMap.set(s,u),this._bindToInternalToExternalMap.set(u,s),this.add(u,d);for(let h=0;h<r._skippedIndexesFromExternal.length;h++)d<=r._skippedIndexesFromExternal[h]&&r._skippedIndexesFromExternal[h]++}};for(const o of r)i(null,o,r.getIndex(o));this.listenTo(r,"add",i),this.listenTo(r,"remove",(o,s,a)=>{const l=this._bindToExternalToInternalMap.get(s);l&&this.remove(l),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((c,u)=>(a<u&&c.push(u-1),a>u&&c.push(u),c),[])})}_getItemIdBeforeAdding(e){const r=this._idProperty;let i;if(r in e){if(i=e[r],typeof i!="string")throw new q("collection-add-invalid-id",this);if(this.get(i))throw new q("collection-add-item-already-exists",this)}else e[r]=i=ur();return i}_remove(e){let r,i,o,s=!1;const a=this._idProperty;if(typeof e=="string"?(i=e,o=this._itemMap.get(i),s=!o,o&&(r=this._items.indexOf(o))):typeof e=="number"?(r=e,o=this._items[r],s=!o,o&&(i=o[a])):(o=e,i=o[a],r=this._items.indexOf(o),s=r==-1||!this._itemMap.get(i)),s)throw new q("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(i);const l=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(l),this.fire("remove",o,r),[o,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Dt(n){const t=n.next();return t.done?null:t.value}class yt extends br(Ke()){constructor(){super();w(this,"_elements",new Set);w(this,"_nextEventLoopTimeout",null);this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}add(e){if(this._elements.has(e))throw new q("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Nt{constructor(){w(this,"_listener");this._listener=new(br())}listenTo(t){this._listener.listenTo(t,"keydown",(e,r)=>{this._listener.fire("_keydown:"+Ol(r),r)})}set(t,e,r={}){const i=xw(t),o=r.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(s,a)=>{r.filter&&!r.filter(a)||(e(a,()=>{a.preventDefault(),a.stopPropagation(),s.stop()}),s.return=!0)},{priority:o})}press(t){return!!this._listener.fire("_keydown:"+Ol(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function CZ(n){const t=new Map;for(const e in n)t.set(e,n[e]);return t}function Zi(n){return dr(n)?new Map(n):CZ(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const EZ=1e4;function TZ(n,t,e,r){if(Math.max(t.length,n.length)>EZ)return n.slice(0,e).concat(t).concat(n.slice(e+r,n.length));{const i=Array.from(n);return i.splice(e,r,...t),i}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Cw(n,t){let e;function r(...i){r.cancel(),e=setTimeout(()=>n(...i),t)}return r.cancel=()=>{clearTimeout(e)},r}function SZ(n){function t(d){return d.length>=40&&d.length<=255?"VALID":"INVALID"}if(!n)return"INVALID";let e="";try{e=atob(n)}catch{return"INVALID"}const r=e.split("-"),i=r[0],o=r[1];if(!o)return t(n);try{atob(o)}catch{try{if(atob(i),!atob(i).length)return t(n)}catch{return t(n)}}if(i.length<40||i.length>255)return"INVALID";let s="";try{atob(i),s=atob(o)}catch{return"INVALID"}if(s.length!==8)return"INVALID";const a=Number(s.substring(0,4)),l=Number(s.substring(4,6))-1,c=Number(s.substring(6,8)),u=new Date(a,l,c);return u<VK||isNaN(Number(u))?"INVALID":"VALID"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function AZ(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function PZ(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function RZ(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function Ew(n,t){return PZ(n.charAt(t-1))&&RZ(n.charAt(t))}function Tw(n,t){return AZ(n.charAt(t))}const OZ=IZ();function $O(n,t){const e=String(n).matchAll(OZ);return Array.from(e).some(r=>r.index<t&&t<r.index+r[0].length)}function IZ(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+n.map(i=>i.source).join("|")+")",r=`${t}|${e}(?:‍${e})*`;return new RegExp(r,"ug")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const af=new WeakMap;let A2=!1;function zO({view:n,element:t,text:e,isDirectHost:r=!0,keepOnFocus:i=!1}){const o=n.document;af.has(o)||(af.set(o,new Map),o.registerPostFixer(a=>o0(o,a)),o.on("change:isComposing",()=>{n.change(a=>o0(o,a))},{priority:"high"})),t.is("editableElement")&&t.on("change:placeholder",(a,l,c)=>{s(c)}),t.placeholder?s(t.placeholder):e&&s(e),e&&BZ();function s(a){af.get(o).set(t,{text:a,isDirectHost:r,keepOnFocus:i,hostElement:r?t:null}),n.change(l=>o0(o,l))}}function NZ(n,t){return t.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",t),!0)}function MZ(n,t){return t.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",t),!0):!1}function LZ(n,t){if(!n.isAttached()||Array.from(n.getChildren()).some(s=>!s.is("uiElement")))return!1;const r=n.document,o=r.selection.anchor;return r.isComposing&&o&&o.parent===n?!1:t||!r.isFocused?!0:!!o&&o.parent!==n}function o0(n,t){const e=af.get(n),r=[];let i=!1;for(const[o,s]of e)s.isDirectHost&&(r.push(o),P2(t,o,s)&&(i=!0));for(const[o,s]of e){if(s.isDirectHost)continue;const a=DZ(o);a&&(r.includes(a)||(s.hostElement=a,P2(t,o,s)&&(i=!0)))}return i}function P2(n,t,e){const{text:r,isDirectHost:i,hostElement:o}=e;let s=!1;return o.getAttribute("data-placeholder")!==r&&(n.setAttribute("data-placeholder",r,o),s=!0),(i||t.childCount==1)&&LZ(o,e.keepOnFocus)?NZ(n,o)&&(s=!0):MZ(n,o)&&(s=!0),s}function DZ(n){if(n.childCount){const t=n.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}function BZ(){A2||Ze("enableplaceholder-deprecated-text-option"),A2=!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ia=class{is(){throw new Error("is() method is abstract")}},oa=class extends We(ia){constructor(e){super();w(this,"document");w(this,"parent");this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new q("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let r=this;for(;r.parent;)e.unshift(r.index),r=r.parent;return e}getAncestors(e={}){const r=[];let i=e.includeSelf?this:this.parent;for(;i;)r[e.parentFirst?"push":"unshift"](i),i=i.parent;return r}getCommonAncestor(e,r={}){const i=this.getAncestors(r),o=e.getAncestors(r);let s=0;for(;i[s]==o[s]&&i[s];)s++;return s===0?null:i[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const r=this.getPath(),i=e.getPath(),o=wn(r,i);switch(o){case"prefix":return!0;case"extension":return!1;default:return r[o]<i[o]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,r){this.fire(`change:${e}`,r),this.parent&&this.parent._fireChange(e,r)}toJSON(){const e=lO(this);return delete e.parent,e}};oa.prototype.is=function(n){return n==="node"||n==="view:node"};let ut=class xv extends oa{constructor(e,r){super(e);w(this,"_textData");this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof xv?this===e||this.data===e.data:!1}_clone(){return new xv(this.document,this.data)}};ut.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};let li=class extends ia{constructor(e,r,i){super();w(this,"textNode");w(this,"data");w(this,"offsetInText");if(this.textNode=e,r<0||r>e.data.length)throw new q("view-textproxy-wrong-offsetintext",this);if(i<0||r+i>e.data.length)throw new q("view-textproxy-wrong-length",this);this.data=e.data.substring(r,r+i),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const r=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)r[e.parentFirst?"push":"unshift"](i),i=i.parent;return r}};li.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class qs{constructor(...t){w(this,"_patterns",[]);this.add(...t)}add(...t){for(let e of t)(typeof e=="string"||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const r of this._patterns){const i=R2(e,r);if(i)return{element:e,pattern:r,match:i}}return null}matchAll(...t){const e=[];for(const r of t)for(const i of this._patterns){const o=R2(r,i);o&&e.push({element:r,pattern:i,match:o})}return e.length>0?e:null}getElementName(){if(this._patterns.length!==1)return null;const t=this._patterns[0],e=t.name;return typeof t!="function"&&e&&!(e instanceof RegExp)?e:null}}function R2(n,t){if(typeof t=="function")return t(n);const e={};return t.name&&(e.name=FZ(t.name,n.name),!e.name)||t.attributes&&(e.attributes=zZ(t.attributes,n),!e.attributes)||t.classes&&(e.classes=HZ(t.classes,n),!e.classes)||t.styles&&(e.styles=UZ(t.styles,n),!e.styles)?null:e}function FZ(n,t){return n instanceof RegExp?!!t.match(n):n===t}function Sw(n,t,e){const r=VZ(n),i=Array.from(t),o=[];if(r.forEach(([s,a])=>{i.forEach(l=>{jZ(s,l)&&$Z(a,l,e)&&o.push(l)})}),!(!r.length||o.length<r.length))return o}function VZ(n){return Array.isArray(n)?n.map(t=>Mn(t)?((t.key===void 0||t.value===void 0)&&Ze("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0]):Mn(n)?Object.entries(n):[[n,!0]]}function jZ(n,t){return n===!0||n===t||n instanceof RegExp&&t.match(n)}function $Z(n,t,e){if(n===!0)return!0;const r=e(t);return n===r||n instanceof RegExp&&!!String(r).match(n)}function zZ(n,t){const e=new Set(t.getAttributeKeys());return Mn(n)?(n.style!==void 0&&Ze("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&Ze("matcher-pattern-deprecated-attributes-class-key",n)):(e.delete("style"),e.delete("class")),Sw(n,e,r=>t.getAttribute(r))}function HZ(n,t){return Sw(n,t.getClassNames(),()=>{})}function UZ(n,t){return Sw(n,t.getStyleNames(!0),e=>t.getStyle(e))}class mm{constructor(t){w(this,"_styles");w(this,"_styleProcessor");this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=qZ(t);for(const[r,i]of e)this._styleProcessor.toNormalizedForm(r,i,this._styles)}has(t){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(t,this._styles).find(([i])=>i===t);return Array.isArray(r)}set(t,e){if(et(t))for(const[r,i]of Object.entries(t))this._styleProcessor.toNormalizedForm(r,i,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=kv(t);_K(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!et(this._styles[t]))return this._styles[t];const r=this._styleProcessor.getReducedForm(t,this._styles).find(([i])=>i===t);if(Array.isArray(r))return r[1]}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([r])=>r)}clear(){this._styles={}}getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const r of e)t.push(...this._styleProcessor.getReducedForm(r,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const i=e.splice(0,e.length-1).join("."),o=Uu(this._styles,i);if(!o)return;!Object.keys(o).length&&this.remove(i)}}class WZ{constructor(){w(this,"_normalizers");w(this,"_extractors");w(this,"_reducers");w(this,"_consumables");this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,r){if(et(e)){s0(r,kv(t),e);return}if(this._normalizers.has(t)){const i=this._normalizers.get(t),{path:o,value:s}=i(e);s0(r,o,s)}else s0(r,t,e)}getNormalized(t,e){if(!t)return vw({},e);if(e[t]!==void 0)return e[t];if(this._extractors.has(t)){const r=this._extractors.get(t);if(typeof r=="string")return Uu(e,r);const i=r(t,e);if(i)return i}return Uu(e,kv(t))}getReducedForm(t,e){const r=this.getNormalized(t,e);return r===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(r):[[t,r]]}getStyleNames(t){const e=new Set;for(const r of this._consumables.keys()){const i=this.getNormalized(r,t);i&&(typeof i!="object"||Object.keys(i).length)&&e.add(r)}for(const r of Object.keys(t))e.add(r);return Array.from(e)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const r of e)this._mapStyleNames(r,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function qZ(n){let t=null,e=0,r=0,i=null;const o=new Map;if(n==="")return o;n.charAt(n.length-1)!=";"&&(n=n+";");for(let s=0;s<n.length;s++){const a=n.charAt(s);if(t===null)switch(a){case":":i||(i=n.substr(e,s-e),r=s+1);break;case'"':case"'":t=a;break;case";":{const l=n.substr(r,s-r);i&&o.set(i.trim(),l.trim()),i=null,e=s+1;break}}else a===t&&(t=null)}return o}function kv(n){return n.replace("-",".")}function s0(n,t,e){let r=e;et(e)&&(r=vw({},Uu(n,t),e)),vK(n,t,r)}let Zr=class HO extends oa{constructor(e,r,i,o){super(e);w(this,"name");w(this,"_unsafeAttributesToRender",[]);w(this,"_attrs");w(this,"_children");w(this,"_classes");w(this,"_styles");w(this,"_customProperties",new Map);if(this.name=r,this._attrs=GZ(i),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const s=this._attrs.get("class");O2(this._classes,s),this._attrs.delete("class")}this._styles=new mm(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const r=this._styles.toString();return r==""?void 0:r}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof HO))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[r,i]of this._attrs)if(!e._attrs.has(r)||e._attrs.get(r)!==i)return!1;for(const r of this._classes)if(!e._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!e._styles.has(r)||e._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...e){for(const r of e)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const r of e)if(!this._styles.has(r))return!1;return!0}findAncestor(...e){const r=new qs(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(r.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),r=this._styles.toString(),i=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(r?` style="${r}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const r=[];if(e)for(const o of this.getChildren())r.push(o._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,r);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,r){this._fireChange("children",this);let i=0;const o=KZ(this.document,r);for(const s of o)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,i++;return i}_removeChildren(e,r=1){this._fireChange("children",this);for(let i=e;i<e+r;i++)this._children[i].parent=null;return this._children.splice(e,r)}_setAttribute(e,r){const i=String(r);this._fireChange("attributes",this),e=="class"?O2(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const r of pt(e))this._classes.add(r)}_removeClass(e){this._fireChange("attributes",this);for(const r of pt(e))this._classes.delete(r)}_setStyle(e,r){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,r)}_removeStyle(e){this._fireChange("attributes",this);for(const r of pt(e))this._styles.remove(r)}_setCustomProperty(e,r){this._customProperties.set(e,r)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Zr.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function GZ(n){const t=Zi(n);for(const[e,r]of t)r===null?t.delete(e):typeof r!="string"&&t.set(e,String(r));return t}function O2(n,t){const e=t.split(/\s+/);n.clear(),e.forEach(r=>n.add(r))}function KZ(n,t){return typeof t=="string"?[new ut(n,t)]:(dr(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new ut(n,e):e instanceof li?new ut(n,e.data):e))}class Gu extends Zr{constructor(t,e,r,i){super(t,e,r,i),this.getFillerOffset=ZZ}}Gu.prototype.is=function(n,t){return t?t===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function ZZ(){const n=[...this.getChildren()],t=n[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of n)if(!e.is("uiElement"))return null;return this.childCount}class Dg extends Ke(Gu){constructor(t,e,r,i){super(t,e,r,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",o=>o&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Dg.prototype.is=function(n,t){return t?t===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const I2=Symbol("rootName");class UO extends Dg{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(I2)}set rootName(t){this._setCustomProperty(I2,t)}set _name(t){this.name=t}}UO.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};let Ts=class{constructor(t={}){w(this,"direction");w(this,"boundaries");w(this,"singleCharacters");w(this,"shallow");w(this,"ignoreElementEnd");w(this,"_position");w(this,"_boundaryStartParent");w(this,"_boundaryEndParent");if(!t.boundaries&&!t.startPosition)throw new q("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new q("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=ue._createAt(t.startPosition):this._position=ue._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,r;do r=this.position,e=this.next();while(!e.done&&t(e.value));e.done||(this._position=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,r=t.parent;if(r.parent===null&&t.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(r instanceof ut){if(t.isAtEnd)return this._position=ue._createAfter(r),this._next();i=r.data[t.offset]}else i=r.getChild(t.offset);if(i instanceof Zr){if(!this.shallow)t=new ue(i,0);else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,this._formatReturnValue("elementStart",i,e,t,1)}if(i instanceof ut){if(this.singleCharacters)return t=new ue(i,0),this._position=t,this._next();let o=i.data.length,s;return i==this._boundaryEndParent?(o=this.boundaries.end.offset,s=new li(i,0,o),t=ue._createAfter(s)):(s=new li(i,0,i.data.length),t.offset++),this._position=t,this._formatReturnValue("text",s,e,t,o)}if(typeof i=="string"){let o;this.singleCharacters?o=1:o=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-t.offset;const s=new li(r,t.offset,o);return t.offset+=o,this._position=t,this._formatReturnValue("text",s,e,t,o)}return t=ue._createAfter(r),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,e,t)}_previous(){let t=this.position.clone();const e=this.position,r=t.parent;if(r.parent===null&&t.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(r instanceof ut){if(t.isAtStart)return this._position=ue._createBefore(r),this._previous();i=r.data[t.offset-1]}else i=r.getChild(t.offset-1);if(i instanceof Zr)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",i,e,t,1)):(t=new ue(i,i.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,e,t));if(i instanceof ut){if(this.singleCharacters)return t=new ue(i,i.data.length),this._position=t,this._previous();let o=i.data.length,s;if(i==this._boundaryStartParent){const a=this.boundaries.start.offset;s=new li(i,a,i.data.length-a),o=s.data.length,t=ue._createBefore(s)}else s=new li(i,0,i.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",s,e,t,o)}if(typeof i=="string"){let o;if(this.singleCharacters)o=1;else{const a=r===this._boundaryStartParent?this.boundaries.start.offset:0;o=t.offset-a}t.offset-=o;const s=new li(r,t.offset,o);return this._position=t,this._formatReturnValue("text",s,e,t,o)}return t=ue._createBefore(r),this._position=t,this._formatReturnValue("elementStart",r,e,t,1)}_formatReturnValue(t,e,r,i,o){return e instanceof li&&(e.offsetInText+e.data.length==e.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(i=ue._createAfter(e.textNode),this._position=i):r=ue._createAfter(e.textNode)),e.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(i=ue._createBefore(e.textNode),this._position=i):r=ue._createBefore(e.textNode))),{done:!1,value:{type:t,item:e,previousPosition:r,nextPosition:i,length:o}}}},ue=class Ai extends ia{constructor(e,r){super();w(this,"parent");w(this,"offset");this.parent=e,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Dg);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const r=Ai._createAt(this),i=r.offset+e;return r.offset=i<0?0:i,r}getLastMatchingPosition(e,r={}){r.startPosition=this;const i=new Ts(r);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const r=this.getAncestors(),i=e.getAncestors();let o=0;for(;r[o]==i[o]&&r[o];)o++;return o===0?null:r[o-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const r=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];r.push(this.offset),i.push(e.offset);const o=wn(r,i);switch(o){case"prefix":return"before";case"extension":return"after";default:return r[o]<i[o]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Ts(e)}clone(){return new Ai(this.parent,this.offset)}static _createAt(e,r){if(e instanceof Ai)return new this(e.parent,e.offset);{const i=e;if(r=="end")r=i.is("$text")?i.data.length:i.childCount;else{if(r=="before")return this._createBefore(i);if(r=="after")return this._createAfter(i);if(r!==0&&!r)throw new q("view-createpositionat-offset-required",i)}return new Ai(i,r)}}static _createAfter(e){if(e.is("$textProxy"))return new Ai(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new q("view-position-after-root",e,{root:e});return new Ai(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ai(e.textNode,e.offsetInText);if(!e.parent)throw new q("view-position-before-root",e,{root:e});return new Ai(e.parent,e.index)}};ue.prototype.is=function(n){return n==="position"||n==="view:position"};let Ne=class vo extends ia{constructor(e,r=null){super();w(this,"start");w(this,"end");this.start=e.clone(),this.end=r?r.clone():e.clone()}*[Symbol.iterator](){yield*new Ts({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(fh,{direction:"backward"}),r=this.end.getLastMatchingPosition(fh);return e.parent.is("$text")&&e.isAtStart&&(e=ue._createBefore(e.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=ue._createAfter(r.parent)),new vo(e,r)}getTrimmed(){let e=this.start.getLastMatchingPosition(fh);if(e.isAfter(this.end)||e.isEqual(this.end))return new vo(e,e);let r=this.end.getLastMatchingPosition(fh,{direction:"backward"});const i=e.nodeAfter,o=r.nodeBefore;return i&&i.is("$text")&&(e=new ue(i,0)),o&&o.is("$text")&&(r=new ue(o,o.data.length)),new vo(e,r)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,r=!1){e.isCollapsed&&(r=!1);const i=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return i&&o}getDifference(e){const r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new vo(this.start,e.start)),this.containsPosition(e.end)&&r.push(new vo(e.end,this.end))):r.push(this.clone()),r}getIntersection(e){if(this.isIntersecting(e)){let r=this.start,i=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(i=e.end),new vo(r,i)}return null}getWalker(e={}){return e.boundaries=this,new Ts(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),e&&e.is("element")&&e===r?e:null}clone(){return new vo(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const r=new Ts(e);for(const i of r)yield i.item}*getPositions(e={}){e.boundaries=this;const r=new Ts(e);yield r.position;for(const i of r)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,r,i,o){return new this(new ue(e,r),new ue(i,o))}static _createFromPositionAndShift(e,r){const i=e,o=e.getShiftedBy(r);return r>0?new this(i,o):new this(o,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const r=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(ue._createBefore(e),r)}};Ne.prototype.is=function(n){return n==="range"||n==="view:range"};function fh(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}let Vi=class WO extends We(ia){constructor(...e){super();w(this,"_ranges");w(this,"_lastRangeBackward");w(this,"_isFake");w(this,"_fakeSelectionLabel");this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const r of this._ranges)(!e||r.start.isBefore(e.start))&&(e=r);return e?e.clone():null}getLastRange(){let e=null;for(const r of this._ranges)(!e||r.end.isAfter(e.end))&&(e=r);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const r of this._ranges){let i=!1;for(const o of e._ranges)if(r.isEqual(o)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const r=wv(this.getRanges()),i=wv(e.getRanges());if(r!=i)return!1;if(r==0)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let s=!1;for(let a of e.getRanges())if(a=a.getTrimmed(),o.start.isEqual(a.start)&&o.end.isEqual(a.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[r,i,o]=e;if(typeof i=="object"&&(o=i,i=void 0),r===null)this._setRanges([]),this._setFakeOptions(o);else if(r instanceof WO||r instanceof Aw)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof Ne)this._setRanges([r],o&&o.backward),this._setFakeOptions(o);else if(r instanceof ue)this._setRanges([new Ne(r)]),this._setFakeOptions(o);else if(r instanceof oa){const s=!!o&&!!o.backward;let a;if(i===void 0)throw new q("view-selection-setto-required-second-parameter",this);i=="in"?a=Ne._createIn(r):i=="on"?a=Ne._createOn(r):a=new Ne(ue._createAt(r,i)),this._setRanges([a],s),this._setFakeOptions(o)}else if(dr(r))this._setRanges(r,o&&o.backward),this._setFakeOptions(o);else throw new q("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,r){if(this.anchor===null)throw new q("view-selection-setfocus-no-ranges",this);const i=ue._createAt(e,r);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),i.compareWith(o)=="before"?this._addRange(new Ne(i,o),!0):this._addRange(new Ne(o,i)),this.fire("change")}_setRanges(e,r=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!r}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,r=!1){if(!(e instanceof Ne))throw new q("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!r}_pushRange(e){for(const r of this._ranges)if(e.isIntersecting(r))throw new q("view-selection-range-intersects",this,{addedRange:e,intersectingRange:r});this._ranges.push(new Ne(e.start,e.end))}};Vi.prototype.is=function(n){return n==="selection"||n==="view:selection"};let Aw=class extends We(ia){constructor(...e){super();w(this,"_selection");this._selection=new Vi,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,r){this._selection.setFocus(e,r)}};Aw.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Yl extends Ki{constructor(e,r,i){super(e,r);w(this,"startRange");w(this,"_eventPhase");w(this,"_currentTarget");this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const a0=Symbol("bubbling contexts");function Cv(n){class t extends n{fire(r,...i){try{const o=r instanceof Ki?r:new Ki(this,r),s=l0(this);if(!s.size)return;if(_c(o,"capturing",this),ba(s,"$capture",o,...i))return o.return;const a=o.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,c=l?!!qO(s,l):!1;let u=l||YZ(a);if(_c(o,"atTarget",u),!c){if(ba(s,"$text",o,...i))return o.return;_c(o,"bubbling",u)}for(;u;){if(u.is("rootElement")){if(ba(s,"$root",o,...i))return o.return}else if(u.is("element")&&ba(s,u.name,o,...i))return o.return;if(ba(s,u,o,...i))return o.return;u=u.parent,_c(o,"bubbling",u)}return _c(o,"bubbling",this),ba(s,"$document",o,...i),o.return}catch(o){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(o,this)}}_addEventListener(r,i,o){const s=pt(o.context||"$document"),a=l0(this);for(const l of s){let c=a.get(l);c||(c=new(We()),a.set(l,c)),this.listenTo(c,r,i,o)}}_removeEventListener(r,i){const o=l0(this);for(const s of o.values())this.stopListening(s,r,i)}}return t}{const n=Cv(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{Cv[t]=n.prototype[t]})}function _c(n,t,e){n instanceof Yl&&(n._eventPhase=t,n._currentTarget=e)}function ba(n,t,e,...r){const i=typeof t=="string"?n.get(t):qO(n,t);return i?(i.fire(e,...r),e.stop.called):!1}function qO(n,t){for(const[e,r]of n)if(typeof e=="function"&&e(t))return r;return null}function l0(n){return n[a0]||(n[a0]=new Map),n[a0]}function YZ(n){if(!n)return null;const t=n.start.parent,e=n.end.parent,r=t.getPath(),i=e.getPath();return r.length>i.length?t:e}let GO=class extends Cv(Ke()){constructor(e){super();w(this,"selection");w(this,"roots");w(this,"stylesProcessor");w(this,"_postFixers",new Set);this.selection=new Aw,this.roots=new zt({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let r=!1;do for(const i of this._postFixers)if(r=i(e),r)break;while(r)}};const N2=10;class Is extends Zr{constructor(e,r,i,o){super(e,r,i,o);w(this,"_priority",N2);w(this,"_id",null);w(this,"_clonesGroup",null);this.getFillerOffset=JZ}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new q("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const r=super._clone(e);return r._priority=this._priority,r._id=this._id,r}}w(Is,"DEFAULT_PRIORITY",N2);Is.prototype.is=function(n,t){return t?t===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function JZ(){if(c0(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(c0(n)>1)return null;n=n.parent}return!n||c0(n)>1?null:this.childCount}function c0(n){return Array.from(n.getChildren()).filter(t=>!t.is("uiElement")).length}class Pw extends Zr{constructor(t,e,r,i){super(t,e,r,i),this.getFillerOffset=XZ}_insertChild(t,e){if(e&&(e instanceof oa||Array.from(e).length>0))throw new q("view-emptyelement-cannot-add",[this,e]);return 0}}Pw.prototype.is=function(n,t){return t?t===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function XZ(){return null}class Bg extends Zr{constructor(t,e,r,i){super(t,e,r,i),this.getFillerOffset=eY}_insertChild(t,e){if(e&&(e instanceof oa||Array.from(e).length>0))throw new q("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const r of this.getAttributeKeys())e.setAttribute(r,this.getAttribute(r));return e}}Bg.prototype.is=function(n,t){return t?t===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function QZ(n){n.document.on("arrowKey",(t,e)=>tY(t,e,n.domConverter),{priority:"low"})}function eY(){return null}function tY(n,t,e){if(t.keyCode==Me.arrowright){const r=t.domTarget.ownerDocument.defaultView.getSelection(),i=r.rangeCount==1&&r.getRangeAt(0).collapsed;if(i||t.shiftKey){const o=r.focusNode,s=r.focusOffset,a=e.domPositionToView(o,s);if(a===null)return;let l=!1;const c=a.getLastMatchingPosition(u=>(u.item.is("uiElement")&&(l=!0),!!(u.item.is("uiElement")||u.item.is("attributeElement"))));if(l){const u=e.viewPositionToDom(c);i?r.collapse(u.parent,u.offset):r.extend(u.parent,u.offset)}}}}class Rw extends Zr{constructor(t,e,r,i){super(t,e,r,i),this.getFillerOffset=nY}_insertChild(t,e){if(e&&(e instanceof oa||Array.from(e).length>0))throw new q("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}Rw.prototype.is=function(n,t){return t?t===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function nY(){return null}let Ns=class extends We(ia){constructor(e,r){super();w(this,"document");w(this,"_children",[]);w(this,"_customProperties",new Map);this.document=e,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,r){this._fireChange("children",this);let i=0;const o=rY(this.document,r);for(const s of o)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,i++;return i}_removeChildren(e,r=1){this._fireChange("children",this);for(let i=e;i<e+r;i++)this._children[i].parent=null;return this._children.splice(e,r)}_fireChange(e,r){this.fire("change:"+e,r)}_setCustomProperty(e,r){this._customProperties.set(e,r)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Ns.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function rY(n,t){return typeof t=="string"?[new ut(n,t)]:(dr(t)||(t=[t]),Array.from(t).map(e=>typeof e=="string"?new ut(n,e):e instanceof li?new ut(n,e.data):e))}class KO{constructor(t){w(this,"document");w(this,"_cloneGroups",new Map);w(this,"_slotFactory",null);this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new Ns(this.document,t)}createText(t){return new ut(this.document,t)}createAttributeElement(t,e,r={}){const i=new Is(this.document,t,e);return typeof r.priority=="number"&&(i._priority=r.priority),r.id&&(i._id=r.id),r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createContainerElement(t,e,r={},i={}){let o=null;Mn(r)?i=r:o=r;const s=new Gu(this.document,t,e,o);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createEditableElement(t,e,r={}){const i=new Dg(this.document,t,e);return r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createEmptyElement(t,e,r={}){const i=new Pw(this.document,t,e);return r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}createUIElement(t,e,r){const i=new Bg(this.document,t,e);return r&&(i.render=r),i}createRawElement(t,e,r,i={}){const o=new Rw(this.document,t,e);return r&&(o.render=r),i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}setAttribute(t,e,r){r._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,r){Mn(t)&&r===void 0?e._setStyle(t):r._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,r){r._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof ue?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new q("view-writer-break-non-container-element",this.document);if(!e.parent)throw new q("view-writer-break-root",this.document);if(t.isAtStart)return ue._createBefore(e);if(!t.isAtEnd){const r=e._clone(!1);this.insert(ue._createAfter(e),r);const i=new Ne(t,ue._createAt(e,"end")),o=new ue(r,0);this.move(i,o)}return ue._createAfter(e)}mergeAttributes(t){const e=t.offset,r=t.parent;if(r.is("$text"))return t;if(r.is("attributeElement")&&r.childCount===0){const s=r.parent,a=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new ue(s,a))}const i=r.getChild(e-1),o=r.getChild(e);if(!i||!o)return t;if(i.is("$text")&&o.is("$text"))return L2(i,o);if(i.is("attributeElement")&&o.is("attributeElement")&&i.isSimilar(o)){const s=i.childCount;return i._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new ue(i,s))}return t}mergeContainers(t){const e=t.nodeBefore,r=t.nodeAfter;if(!e||!r||!e.is("containerElement")||!r.is("containerElement"))throw new q("view-writer-merge-containers-invalid-position",this.document);const i=e.getChild(e.childCount-1),o=i instanceof ut?ue._createAt(i,"end"):ue._createAt(e,"end");return this.move(Ne._createIn(r),ue._createAt(e,"end")),this.remove(Ne._createOn(r)),o}insert(t,e){e=dr(e)?[...e]:[e],ZO(e,this.document);const r=e.reduce((s,a)=>{const l=s[s.length-1],c=!a.is("uiElement");return!l||l.breakAttributes!=c?s.push({breakAttributes:c,nodes:[a]}):l.nodes.push(a),s},[]);let i=null,o=t;for(const{nodes:s,breakAttributes:a}of r){const l=this._insertNodes(o,s,a);i||(i=l.start),o=l.end}return i?new Ne(i,o):new Ne(t)}remove(t){const e=t instanceof Ne?t:Ne._createOn(t);if(xc(e,this.document),e.isCollapsed)return new Ns(this.document);const{start:r,end:i}=this._breakAttributesRange(e,!0),o=r.parent,s=i.offset-r.offset,a=o._removeChildren(r.offset,s);for(const c of a)this._removeFromClonedElementsGroup(c);const l=this.mergeAttributes(r);return e.start=l,e.end=l.clone(),new Ns(this.document,a)}clear(t,e){xc(t,this.document);const r=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of r){const o=i.item;let s;if(o.is("element")&&e.isSimilar(o))s=Ne._createOn(o);else if(!i.nextPosition.isAfter(t.start)&&o.is("$textProxy")){const a=o.getAncestors().find(l=>l.is("element")&&e.isSimilar(l));a&&(s=Ne._createIn(a))}s&&(s.end.isAfter(t.end)&&(s.end=t.end),s.start.isBefore(t.start)&&(s.start=t.start),this.remove(s))}}move(t,e){let r;if(e.isAfter(t.end)){e=this._breakAttributes(e,!0);const i=e.parent,o=i.childCount;t=this._breakAttributesRange(t,!0),r=this.remove(t),e.offset+=i.childCount-o}else r=this.remove(t);return this.insert(e,r)}wrap(t,e){if(!(e instanceof Is))throw new q("view-writer-wrap-invalid-attribute",this.document);if(xc(t,this.document),t.isCollapsed){let r=t.start;r.parent.is("element")&&!iY(r.parent)&&(r=r.getLastMatchingPosition(o=>o.item.is("uiElement"))),r=this._wrapPosition(r,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(r),new Ne(r)}else return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof Is))throw new q("view-writer-unwrap-invalid-attribute",this.document);if(xc(t,this.document),t.isCollapsed)return t;const{start:r,end:i}=this._breakAttributesRange(t,!0),o=r.parent,s=this._unwrapChildren(o,r.offset,i.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const l=this.mergeAttributes(s.end);return new Ne(a,l)}rename(t,e){const r=new Gu(this.document,t,e.getAttributes());return this.insert(ue._createAfter(e),r),this.move(Ne._createIn(e),ue._createAt(r,0)),this.remove(Ne._createOn(e)),r}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return ue._createAt(t,e)}createPositionAfter(t){return ue._createAfter(t)}createPositionBefore(t){return ue._createBefore(t)}createRange(t,e){return new Ne(t,e)}createRangeOn(t){return Ne._createOn(t)}createRangeIn(t){return Ne._createIn(t)}createSelection(...t){return new Vi(...t)}createSlot(t="children"){if(!this._slotFactory)throw new q("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,r){let i;if(r?i=Ev(t):i=t.parent.is("$text")?t.parent.parent:t.parent,!i)throw new q("view-writer-invalid-position-container",this.document);let o;r?o=this._breakAttributes(t,!0):o=t.parent.is("$text")?u0(t):t;const s=i._insertChild(o.offset,e);for(const u of e)this._addToClonedElementsGroup(u);const a=o.getShiftedBy(s),l=this.mergeAttributes(o);l.isEqual(o)||a.offset--;const c=this.mergeAttributes(a);return new Ne(l,c)}_wrapChildren(t,e,r,i){let o=e;const s=[];for(;o<r;){const l=t.getChild(o),c=l.is("$text"),u=l.is("attributeElement");if(u&&this._wrapAttributeElement(i,l))s.push(new ue(t,o));else if(c||!u||oY(i,l)){const d=i._clone();l._remove(),d._appendChild(l),t._insertChild(o,d),this._addToClonedElementsGroup(d),s.push(new ue(t,o))}else this._wrapChildren(l,0,l.childCount,i);o++}let a=0;for(const l of s){if(l.offset-=a,l.offset==e)continue;this.mergeAttributes(l).isEqual(l)||(a++,r--)}return Ne._createFromParentsAndOffsets(t,e,t,r)}_unwrapChildren(t,e,r,i){let o=e;const s=[];for(;o<r;){const l=t.getChild(o);if(!l.is("attributeElement")){o++;continue}if(l.isSimilar(i)){const c=l.getChildren(),u=l.childCount;l._remove(),t._insertChild(o,c),this._removeFromClonedElementsGroup(l),s.push(new ue(t,o),new ue(t,o+u)),o+=u,r+=u-1;continue}if(this._unwrapAttributeElement(i,l)){s.push(new ue(t,o),new ue(t,o+1)),o++;continue}this._unwrapChildren(l,0,l.childCount,i),o++}let a=0;for(const l of s){if(l.offset-=a,l.offset==e||l.offset==r)continue;this.mergeAttributes(l).isEqual(l)||(a++,r--)}return Ne._createFromParentsAndOffsets(t,e,t,r)}_wrapRange(t,e){const{start:r,end:i}=this._breakAttributesRange(t,!0),o=r.parent,s=this._wrapChildren(o,r.offset,i.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const l=this.mergeAttributes(s.end);return new Ne(a,l)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return M2(t.clone());t.parent.is("$text")&&(t=u0(t));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,t.parent._insertChild(t.offset,r);const i=new Ne(t,t.getShiftedBy(1));this.wrap(i,e);const o=new ue(r.parent,r.index);r._remove();const s=o.nodeBefore,a=o.nodeAfter;return s instanceof ut&&a instanceof ut?L2(s,a):M2(o)}_wrapAttributeElement(t,e){if(!D2(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const r of t.getAttributeKeys())if(!(r==="class"||r==="style")&&e.hasAttribute(r)&&e.getAttribute(r)!==t.getAttribute(r))return!1;for(const r of t.getStyleNames())if(e.hasStyle(r)&&e.getStyle(r)!==t.getStyle(r))return!1;for(const r of t.getAttributeKeys())r==="class"||r==="style"||e.hasAttribute(r)||this.setAttribute(r,t.getAttribute(r),e);for(const r of t.getStyleNames())e.hasStyle(r)||this.setStyle(r,t.getStyle(r),e);for(const r of t.getClassNames())e.hasClass(r)||this.addClass(r,e);return!0}_unwrapAttributeElement(t,e){if(!D2(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const r of t.getAttributeKeys())if(!(r==="class"||r==="style")&&(!e.hasAttribute(r)||e.getAttribute(r)!==t.getAttribute(r)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const r of t.getStyleNames())if(!e.hasStyle(r)||e.getStyle(r)!==t.getStyle(r))return!1;for(const r of t.getAttributeKeys())r==="class"||r==="style"||this.removeAttribute(r,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const r=t.start,i=t.end;if(xc(t,this.document),t.isCollapsed){const l=this._breakAttributes(t.start,e);return new Ne(l,l)}const o=this._breakAttributes(i,e),s=o.parent.childCount,a=this._breakAttributes(r,e);return o.offset+=o.parent.childCount-s,new Ne(a,o)}_breakAttributes(t,e=!1){const r=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new q("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new q("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new q("view-writer-cannot-break-raw-element",this.document);if(!e&&i.is("$text")&&Tv(i.parent)||Tv(i))return t.clone();if(i.is("$text"))return this._breakAttributes(u0(t),e);const o=i.childCount;if(r==o){const s=new ue(i.parent,i.index+1);return this._breakAttributes(s,e)}else if(r===0){const s=new ue(i.parent,i.index);return this._breakAttributes(s,e)}else{const s=i.index+1,a=i._clone();i.parent._insertChild(s,a),this._addToClonedElementsGroup(a);const l=i.childCount-r,c=i._removeChildren(r,l);a._appendChild(c);const u=new ue(i.parent,s);return this._breakAttributes(u,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const i of t.getChildren())this._addToClonedElementsGroup(i);const e=t.id;if(!e)return;let r=this._cloneGroups.get(e);r||(r=new Set,this._cloneGroups.set(e,r)),r.add(t),t._clonesGroup=r}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const i of t.getChildren())this._removeFromClonedElementsGroup(i);const e=t.id;if(!e)return;const r=this._cloneGroups.get(e);r&&r.delete(t)}}function iY(n){return Array.from(n.getChildren()).some(t=>!t.is("uiElement"))}function Ev(n){let t=n.parent;for(;!Tv(t);){if(!t)return;t=t.parent}return t}function oY(n,t){return n.priority<t.priority?!0:n.priority>t.priority?!1:n.getIdentity()<t.getIdentity()}function M2(n){const t=n.nodeBefore;if(t&&t.is("$text"))return new ue(t,t.data.length);const e=n.nodeAfter;return e&&e.is("$text")?new ue(e,0):n}function u0(n){if(n.offset==n.parent.data.length)return new ue(n.parent.parent,n.parent.index+1);if(n.offset===0)return new ue(n.parent.parent,n.parent.index);const t=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new ut(n.root.document,t)),new ue(n.parent.parent,n.parent.index+1)}function L2(n,t){const e=n.data.length;return n._data+=t.data,t._remove(),new ue(n,e)}const sY=[ut,Is,Gu,Pw,Rw,Bg];function ZO(n,t){for(const e of n){if(!sY.some(r=>e instanceof r))throw new q("view-writer-insert-invalid-node-type",t);e.is("$text")||ZO(e.getChildren(),t)}}function Tv(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function xc(n,t){const e=Ev(n.start),r=Ev(n.end);if(!e||!r||e!==r)throw new q("view-writer-invalid-range-container",t)}function D2(n,t){return n.id===null&&t.id===null}const YO=n=>n.createTextNode(" "),JO=n=>{const t=n.createElement("span");return t.dataset.ckeFiller="true",t.innerText=" ",t},XO=n=>{const t=n.createElement("br");return t.dataset.ckeFiller="true",t},Hr=7,Ku="⁠".repeat(Hr);function Kn(n){return typeof n=="string"?n.substr(0,Hr)===Ku:gt(n)&&n.data.substr(0,Hr)===Ku}function Qa(n){return n.data.length==Hr&&Kn(n)}function B2(n){const t=typeof n=="string"?n:n.data;return Kn(n)?t.slice(Hr):t}function aY(n){n.document.on("arrowKey",lY,{priority:"low"})}function lY(n,t){if(t.keyCode==Me.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const r=e.getRangeAt(0).startContainer,i=e.getRangeAt(0).startOffset;Kn(r)&&i<=Hr&&e.collapse(r,0)}}}let cY=class extends Ke(){constructor(e,r){super();w(this,"domDocuments",new Set);w(this,"domConverter");w(this,"markedAttributes",new Set);w(this,"markedChildren",new Set);w(this,"markedTexts",new Set);w(this,"selection");w(this,"_inlineFiller",null);w(this,"_fakeSelectionContainer",null);this.domConverter=e,this.selection=r,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),Ee.isBlink&&!Ee.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,r){if(e==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(e==="attributes")this.markedAttributes.add(r);else if(e==="children")this.markedChildren.add(r);else throw new q("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!Ee.isAndroid)return;let e=null;const r=Ee.isBlink&&!Ee.isAndroid?!this.isSelecting:!0;for(const i of this.markedChildren)this._updateChildrenMappings(i);r?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=ue._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(r)if(e){const i=this.domConverter.viewPositionToDom(e),o=i.parent.ownerDocument;Kn(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=F2(o,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const r=this.domConverter.mapViewToDom(e);if(!r)return;const i=Array.from(r.childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(i,o),a=this._findUpdateActions(s,i,o,dY);if(a.indexOf("update")!==-1){const l={equal:0,insert:0,delete:0};for(const c of a)if(c==="update"){const u=l.equal+l.insert,d=l.equal+l.delete,h=e.getChild(u);h&&!h.is("uiElement")&&!h.is("rawElement")&&this._updateElementMappings(h,i[d]),k2(o[u]),l.equal++}else l[c]++}}_updateElementMappings(e,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?ue._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(e);return!!(r&&gt(r.parent)&&Kn(r.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Kn(e))throw new q("view-renderer-filler-was-lost",this);Qa(e)?e.remove():e.data=e.data.substr(Hr),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),r=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!uY(r))return!1;const o=e.nodeBefore,s=e.nodeAfter;return!(o instanceof ut||s instanceof ut||i===r.getFillerOffset()&&(!o||!o.is("element","br"))||Ee.isAndroid&&(o||s))}_updateText(e,r){const i=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const a=r.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(s=Ku+s),this._updateTextNode(i,s)}_updateAttrs(e){const r=this.domConverter.mapViewToDom(e);if(r){for(const i of r.attributes){const o=i.name;e.hasAttribute(o)||this.domConverter.removeDomElementAttribute(r,o)}for(const i of e.getAttributeKeys())this.domConverter.setDomElementAttribute(r,i,e.getAttribute(i),e)}}_updateChildren(e,r){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(Ee.isAndroid){let h=null;for(const f of Array.from(i.childNodes)){if(h&&gt(h)&&gt(f)){i.normalize();break}h=f}}const o=r.inlineFillerPosition,s=i.childNodes,a=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));o&&o.parent===e&&F2(i.ownerDocument,a,o.offset);const l=this._diffNodeLists(s,a),c=this._findUpdateActions(l,s,a,hY);let u=0;const d=new Set;for(const h of c)h==="delete"?(d.add(s[u]),k2(s[u])):(h==="equal"||h==="update")&&u++;u=0;for(const h of c)h==="insert"?(NO(i,u,a[u]),u++):h==="update"?(this._updateTextNode(s[u],a[u].data),u++):h==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(a[u])),u++);for(const h of d)h.parentNode||this.domConverter.unbindDomElement(h)}_diffNodeLists(e,r){return e=gY(e,this._fakeSelectionContainer),tu(e,r,fY.bind(null,this.domConverter))}_findUpdateActions(e,r,i,o){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],a=[],l=[];const c={equal:0,insert:0,delete:0};for(const u of e)u==="insert"?l.push(i[c.equal+c.insert]):u==="delete"?a.push(r[c.equal+c.delete]):(s=s.concat(tu(a,l,o).map(d=>d==="equal"?"update":d)),s.push("equal"),a=[],l=[]),c[u]++;return s.concat(tu(a,l,o).map(u=>u==="equal"?"update":u))}_updateTextNode(e,r){const i=e.data;i!=r&&(Ee.isAndroid&&this.isComposing&&i.replace(/\u00A0/g," ")==r.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,r))}_updateTextNodeInternal(e,r){const i=pO(e.data,r);for(const o of i)o.type==="insert"?e.insertData(o.index,o.values.join("")):e.deleteData(o.index,o.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const r of e.getChildren())this._markDescendantTextToSync(r)}}_updateSelection(){if(Ee.isBlink&&!Ee.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Ee.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const r=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=pY(r));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!i.parentElement||i.parentElement!=e)&&e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||" ";const o=r.getSelection(),s=r.createRange();o.removeAllRanges(),s.selectNodeContents(i),o.addRange(s)}_updateDomSelection(e){const r=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(r))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);r.setBaseAndExtent(i.parent,i.offset,o.parent,o.offset),Ee.isGecko&&mY(o,r)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const r=e&&this.domConverter.domSelectionToView(e);return!(r&&this.selection.isEqual(r)||!this.selection.isCollapsed&&this.selection.isSimilar(r))}_fakeSelectionNeedsUpdate(e){const r=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!r||r.parentElement!==e||i.anchorNode!==r&&!r.contains(i.anchorNode)?!0:r.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const r=e.getSelection();if(r.rangeCount){const i=e.activeElement,o=this.domConverter.mapDomToView(i);i&&o&&r.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function uY(n){if(n.getAttribute("contenteditable")=="false")return!1;const t=n.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||t.getAttribute("contenteditable")=="true"}function F2(n,t,e){const r=t instanceof Array?t:t.childNodes,i=r[e];if(gt(i))return i.data=Ku+i.data,i;{const o=n.createTextNode(Ku);return Array.isArray(t)?r.splice(e,0,o):NO(t,e,o),o}}function dY(n,t){return Yo(n)&&Yo(t)&&!gt(n)&&!gt(t)&&!iu(n)&&!iu(t)&&n.tagName.toLowerCase()===t.tagName.toLowerCase()}function hY(n,t){return Yo(n)&&Yo(t)&&gt(n)&&gt(t)}function fY(n,t,e){return t===e?!0:gt(t)&&gt(e)?t.data===e.data:!!(n.isBlockFiller(t)&&n.isBlockFiller(e))}function mY(n,t){let e=n.parent,r=n.offset;if(gt(e)&&Qa(e)&&(r=Vc(e)+1,e=e.parentNode),e.nodeType!=Node.ELEMENT_NODE||r!=e.childNodes.length-1)return;const i=e.childNodes[r];i&&i.tagName=="BR"&&t.addRange(t.getRangeAt(0))}function gY(n,t){const e=Array.from(n);return e.length==0||!t||e[e.length-1]==t&&e.pop(),e}function pY(n){const t=n.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent=" ",t}const bY=XO(fe.document),vY=YO(fe.document),yY=JO(fe.document),mh="data-ck-unsafe-attribute-",V2="data-ck-unsafe-element";class QO{constructor(t,{blockFillerMode:e,renderingMode:r="editing"}={}){w(this,"document");w(this,"renderingMode");w(this,"blockFillerMode");w(this,"preElements");w(this,"blockElements");w(this,"inlineObjectElements");w(this,"unsafeElements");w(this,"_domDocument");w(this,"_domToViewMapping",new WeakMap);w(this,"_viewToDomMapping",new WeakMap);w(this,"_fakeSelectionMapping",new WeakMap);w(this,"_rawContentElementMatcher",new qs);w(this,"_inlineObjectElementMatcher",new qs);w(this,"_elementsWithTemporaryCustomProperties",new Set);this.document=t,this.renderingMode=r,this.blockFillerMode=e||(r==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?fe.document:fe.document.implementation.createHTMLDocument("")}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Vi(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const r of t.children)this.unbindDomElement(r)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,r){return this.renderingMode==="data"?!0:(t=t.toLowerCase(),t.startsWith("on")||t==="srcdoc"&&e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:r==="img"&&(t==="src"||t==="srcset")||r==="source"&&t==="srcset"?!0:!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if(this.renderingMode==="data"){t.innerHTML=e;return}const r=new DOMParser().parseFromString(e,"text/html"),i=r.createDocumentFragment(),o=r.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);const s=r.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=s.nextNode();)a.push(l);for(const c of a){for(const d of c.getAttributeNames())this.setDomElementAttribute(c,d,c.getAttribute(d));const u=c.tagName.toLowerCase();this._shouldRenameElement(u)&&($2(u),c.replaceWith(this._createReplacementDomElement(u,c)))}for(;t.firstChild;)t.firstChild.remove();t.append(i)}viewToDom(t,e={}){if(t.is("$text")){const r=this._processDataFromViewText(t);return this._domDocument.createTextNode(r)}else{const r=t;if(this.mapViewToDom(r))if(r.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(r);else return this.mapViewToDom(r);let i;if(r.is("documentFragment"))i=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(i,r);else{if(r.is("uiElement"))return r.name==="$comment"?i=this._domDocument.createComment(r.getCustomProperty("$rawContent")):i=r.render(this._domDocument,this),e.bind&&this.bindElements(i,r),i;this._shouldRenameElement(r.name)?($2(r.name),i=this._createReplacementDomElement(r.name)):r.hasAttribute("xmlns")?i=this._domDocument.createElementNS(r.getAttribute("xmlns"),r.name):i=this._domDocument.createElement(r.name),r.is("rawElement")&&r.render(i,this),e.bind&&this.bindElements(i,r);for(const o of r.getAttributeKeys())this.setDomElementAttribute(i,o,r.getAttribute(o),r)}if(e.withChildren!==!1)for(const o of this.viewChildrenToDom(r,e))i instanceof HTMLTemplateElement?i.content.appendChild(o):i.appendChild(o);return i}}setDomElementAttribute(t,e,r,i){const o=this.shouldRenderAttribute(e,r,t.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(e);if(o||Ze("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:r}),!MO(e)){Ze("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:r});return}t.hasAttribute(e)&&!o?t.removeAttribute(e):t.hasAttribute(mh+e)&&o&&t.removeAttribute(mh+e),t.setAttribute(o?e:mh+e,r)}removeDomElementAttribute(t,e){e!=V2&&(t.removeAttribute(e),t.removeAttribute(mh+e))}*viewChildrenToDom(t,e={}){const r=t.getFillerOffset&&t.getFillerOffset();let i=0;for(const o of t.getChildren()){r===i&&(yield this._getBlockFiller());const s=o.is("element")&&!!o.getCustomProperty("dataPipeline:transparentRendering")&&!Dt(o.getAttributes());if(s&&this.renderingMode=="data")if(o.is("rawElement")){const a=this._domDocument.createElement(o.name);o.render(a,this),yield*[...a.childNodes]}else yield*this.viewChildrenToDom(o,e);else s&&Ze("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:o}),yield this.viewToDom(o,e);i++}r===i&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),r=this.viewPositionToDom(t.end),i=this._domDocument.createRange();return i.setStart(e.parent,e.offset),i.setEnd(r.parent,r.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const r=this.findCorrespondingDomText(e);if(!r)return null;let i=t.offset;return Kn(r)&&(i+=Hr),{parent:r,offset:i}}else{let r,i,o;if(t.offset===0){if(r=this.mapViewToDom(e),!r)return null;o=r.childNodes[0]}else{const a=t.nodeBefore;if(i=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!i)return null;r=i.parentNode,o=i.nextSibling}if(gt(o)&&Kn(o))return{parent:o,offset:Hr};const s=i?Vc(i)+1:0;return{parent:r,offset:s}}}domToView(t,e={}){const r=[],i=this._domToView(t,e,r),o=i.next().value;return!o||(i.next(),this._processDomInlineNodes(null,r,e),o.is("$text")&&o.data.length==0)?null:o}*domChildrenToView(t,e={},r=[]){let i=[];t instanceof HTMLTemplateElement?i=[...t.content.childNodes]:i=[...t.childNodes];for(let o=0;o<i.length;o++){const s=i[o],a=this._domToView(s,e,r),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(t,r,e),yield l,a.next())}this._processDomInlineNodes(t,r,e)}domSelectionToView(t){if(xY(t))return new Vi([]);if(t.rangeCount===1){let i=t.getRangeAt(0).startContainer;gt(i)&&(i=i.parentNode);const o=this.fakeSelectionToView(i);if(o)return o}const e=this.isDomSelectionBackward(t),r=[];for(let i=0;i<t.rangeCount;i++){const o=t.getRangeAt(i),s=this.domRangeToView(o);s&&r.push(s)}return new Vi(r,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),r=this.domPositionToView(t.endContainer,t.endOffset);return e&&r?new Ne(e,r):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Vc(t));const r=this.mapDomToView(t);if(r&&(r.is("uiElement")||r.is("rawElement")))return ue._createBefore(r);if(gt(t)){if(Qa(t))return this.domPositionToView(t.parentNode,Vc(t));const i=this.findCorrespondingViewText(t);let o=e;return i?(Kn(t)&&(o-=Hr,o=o<0?0:o),new ue(i,o)):null}else{if(e===0){const i=this.mapDomToView(t);if(i)return new ue(i,0)}else{const i=t.childNodes[e-1];if(gt(i)&&Qa(i)||i&&this.isBlockFiller(i))return this.domPositionToView(i.parentNode,Vc(i));const o=gt(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(o&&o.parent)return new ue(o.parent,o.index+1)}return null}}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Qa(t))return null;const e=this.getHostViewElement(t);if(e)return e;const r=t.previousSibling;if(r){if(!this.isElement(r))return null;const i=this.mapDomToView(r);if(i){const o=i.nextSibling;return o instanceof ut?o:null}}else{const i=this.mapDomToView(t.parentNode);if(i){const o=i.getChild(0);return o instanceof ut?o:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:r,scrollY:i}=fe.window,o=[];j2(e,s=>{const{scrollLeft:a,scrollTop:l}=s;o.push([a,l])}),e.focus(),j2(e,s=>{const[a,l]=o.shift();s.scrollLeft=a,s.scrollTop=l}),fe.window.scrollTo(r,i)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(e);r&&r.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(bY):t.tagName==="BR"&&eI(t,this.blockElements)&&t.parentNode.childNodes.length===1?!0:t.isEqualNode(yY)||_Y(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const r=e.collapsed;return e.detach(),r}getHostViewElement(t){const e=eZ(t);for(e.pop();e.length;){const r=e.pop(),i=this._domToViewMapping.get(r);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return YO(this._domDocument);case"markedNbsp":return JO(this._domDocument);case"br":return XO(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(gt(t)&&Kn(t)&&e<Hr||this.isElement(t)&&Kn(t.childNodes[e]))return!1;const r=this.mapDomToView(t);return!(r&&(r.is("uiElement")||r.is("rawElement")))}*_domToView(t,e,r){if(this.isBlockFiller(t))return null;const i=this.getHostViewElement(t);if(i)return i;if(iu(t)&&e.skipComments)return null;if(gt(t)){if(Qa(t))return null;{const o=t.data;if(o==="")return null;const s=new ut(this.document,o);return r.push(s),s}}else{let o=this.mapDomToView(t);if(o)return this._isInlineObjectElement(o)&&r.push(o),o;if(this.isDocumentFragment(t))o=new Ns(this.document),e.bind&&this.bindDocumentFragments(t,o);else{o=this._createViewElement(t,e),e.bind&&this.bindElements(t,o);const a=t.attributes;if(a)for(let l=a.length,c=0;c<l;c++)o._setAttribute(a[c].name,a[c].value);if(this._isViewElementWithRawContent(o,e))return o._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(o)||r.push(o),o;if(iu(t))return o._setCustomProperty("$rawContent",t.data),o}yield o;const s=[];if(e.withChildren!==!1)for(const a of this.domChildrenToView(t,e,s))o._appendChild(a);if(this._isInlineObjectElement(o))r.push(o);else for(const a of s)r.push(a)}}_processDomInlineNodes(t,e,r){if(!e.length||t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let i=!1;for(let o=0;o<e.length;o++){const s=e[o];if(!s.is("$text")){i=!1;continue}let a,l=!1;if(this._isPreFormatted(s))a=B2(s.data);else{a=s.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const c=o>0?e[o-1]:null,u=o+1<e.length?e[o+1]:null,d=!c||c.is("element")&&c.name=="br"||i,h=u?!1:!Kn(s.data);r.withChildren!==!1&&(d&&(a=a.replace(/^ /,"")),h&&(a=a.replace(/ $/,""))),a=B2(a),a=a.replace(/ \u00A0/g,"  ");const f=u&&u.is("element")&&u.name!="br",m=u&&u.is("$text")&&u.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!u||f||m)&&(a=a.replace(/\u00A0$/," ")),(d||c&&c.is("element")&&c.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&s.parent?(s._remove(),e.splice(o,1),o--):(s._data=a,i=l)}e.length=0}_processDataFromViewText(t){let e=t.data;if(this._isPreFormatted(t))return e;if(e.charAt(0)==" "){const r=this._getTouchingInlineViewNode(t,!1);(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r)||!r)&&(e=" "+e.substr(1))}if(e.charAt(e.length-1)==" "){const r=this._getTouchingInlineViewNode(t,!0),i=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";(e.charAt(e.length-2)==" "||!r||i)&&(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(this._isPreFormatted(t))return!1;const e=this._processDataFromViewText(t);return e.charAt(e.length-1)==" "}_isPreFormatted(t){if(wY(t,this.preElements))return!0;for(const e of t.getAncestors({parentFirst:!0}))if(!(!e.is("element")||!e.hasStyle("white-space")||e.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(e.getStyle("white-space"));return!1}_getTouchingInlineViewNode(t,e){const r=new Ts({startPosition:e?ue._createAfter(t):ue._createBefore(t),direction:e?"forward":"backward"});for(const{item:i}of r){if(i.is("$textProxy"))return i;if(i.is("element")&&i.getCustomProperty("dataPipeline:transparentRendering"))continue;if(i.is("element","br"))return null;if(this._isInlineObjectElement(i))return i;if(i.is("containerElement"))return null}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return t.is("element")?t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t):!1}_createViewElement(t,e){if(iu(t))return new Bg(this.document,"$comment");const r=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Zr(this.document,r)}_isViewElementWithRawContent(t,e){return e.withChildren!==!1&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const r=this._domDocument.createElement("span");if(r.setAttribute(V2,t),e){for(;e.firstChild;)r.appendChild(e.firstChild);for(const i of e.getAttributeNames())r.setAttribute(i,e.getAttribute(i))}return r}}function wY(n,t){return n.getAncestors().some(e=>e.is("element")&&t.includes(e.name))}function j2(n,t){let e=n;for(;e;)t(e),e=e.parentElement}function _Y(n,t){return n.isEqualNode(vY)&&eI(n,t)&&n.parentNode.childNodes.length===1}function eI(n,t){const e=n.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function $2(n){n==="script"&&Ze("domconverter-unsafe-script-element-detected"),n==="style"&&Ze("domconverter-unsafe-style-element-detected")}function xY(n){if(!Ee.isGecko||!n.rangeCount)return!1;const t=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch{return!0}return!1}let so=class extends br(){constructor(e){super();w(this,"view");w(this,"document");w(this,"_isEnabled",!1);this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}};class Il{constructor(t,e,r){w(this,"view");w(this,"document");w(this,"domEvent");w(this,"domTarget");this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,SR(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ss extends so{constructor(){super(...arguments);w(this,"useCapture",!1);w(this,"usePassive",!1)}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(o,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,r,i){this.isEnabled&&this.document.fire(e,new Il(this.view,r,i))}}class kY extends ss{constructor(){super(...arguments);w(this,"domEventType",["keydown","keyup"])}onDomEvent(e){const r={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Ol(this)}};this.fire(e.type,e,r)}}class CY extends so{constructor(e){super(e);w(this,"_fireSelectionChangeDoneDebounced");this._fireSelectionChangeDoneDebounced=Ir(r=>{this.document.fire("selectionChangeDone",r)},200)}observe(){const e=this.document;e.on("arrowKey",(r,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(r,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const r=this.document.selection,i=new Vi(r.getRanges(),{backward:r.isBackward,fake:!1});(e==Me.arrowleft||e==Me.arrowup)&&i.setTo(i.getFirstPosition()),(e==Me.arrowright||e==Me.arrowdown)&&i.setTo(i.getLastPosition());const o={oldSelection:r,newSelection:i,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}let tI=class extends so{constructor(e){super(e);w(this,"domConverter");w(this,"_config");w(this,"_domElements");w(this,"_mutationObserver");this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const r=this.domConverter,i=new Set,o=new Set;for(const a of e){const l=r.mapDomToView(a.target);l&&(l.is("uiElement")||l.is("rawElement")||a.type==="childList"&&!this._isBogusBrMutation(a)&&o.add(l))}for(const a of e){const l=r.mapDomToView(a.target);if(!(l&&(l.is("uiElement")||l.is("rawElement")))&&a.type==="characterData"){const c=r.findCorrespondingViewText(a.target);c&&!o.has(c.parent)?i.add(c):!c&&Kn(a.target)&&o.add(r.mapDomToView(a.target.parentNode))}}const s=[];for(const a of i)s.push({type:"text",node:a});for(const a of o){const l=r.mapViewToDom(a),c=Array.from(a.getChildren()),u=Array.from(r.domChildrenToView(l,{withChildren:!1}));mK(c,u,EY)||s.push({type:"children",node:a})}s.length&&this.document.fire("mutations",{mutations:s})}_isBogusBrMutation(e){let r=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(r=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),r&&r.is("element","br")}};function EY(n,t){if(!Array.isArray(n))return n===t?!0:n.is("$text")&&t.is("$text")?n.data===t.data:!1}class gm extends ss{constructor(e){super(e);w(this,"_renderTimeoutId",null);w(this,"_isFocusChanging",!1);w(this,"domEventType",["focus","blur"]);this.useCapture=!0;const r=this.document;r.on("focus",()=>this._handleFocus()),r.on("blur",(i,o)=>this._handleBlur(o)),r.on("beforeinput",()=>{r.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const r=this.document.selection.editableElement;(r===null||r===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class TY extends so{constructor(e){super(e);w(this,"mutationObserver");w(this,"focusObserver");w(this,"selection");w(this,"domConverter");w(this,"_documents");w(this,"_fireSelectionChangeDoneDebounced");w(this,"_clearInfiniteLoopInterval");w(this,"_documentIsSelectingInactivityTimeoutDebounced");w(this,"_loopbackCounter");this.mutationObserver=e.getObserver(tI),this.focusObserver=e.getObserver(gm),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ir(r=>{this.document.fire("selectionChangeDone",r)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ir(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const r=e.ownerDocument,i=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},o=()=>{this.document.isSelecting&&(this._handleSelectionChange(r),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",i,{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),!this._documents.has(r)&&(this.listenTo(r,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(r,"selectionchange",()=>{this.document.isComposing&&!Ee.isAndroid||(this._handleSelectionChange(r),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(r)},{priority:"lowest"}),this._documents.add(r))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const r=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(r.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(r);if(i.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(r))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(i))this.view.forceRender();else{const o={oldSelection:this.selection,newSelection:i,domSelection:r};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class SY extends ss{constructor(e){super(e);w(this,"domEventType",["compositionstart","compositionupdate","compositionend"]);const r=this.document;r.on("compositionstart",()=>{r.isComposing=!0},{priority:"low"}),r.on("compositionend",()=>{r.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nI{constructor(t,e={}){w(this,"_files");w(this,"_native");this._files=e.cacheFiles?z2(t):null,this._native=t}get files(){return this._files||(this._files=z2(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,r){this._native.setDragImage(t,e,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function z2(n){const t=Array.from(n.files||[]),e=Array.from(n.items||[]);return t.length?t:e.filter(r=>r.kind==="file").map(r=>r.getAsFile())}class AY extends ss{constructor(){super(...arguments);w(this,"domEventType","beforeinput")}onDomEvent(e){const r=e.getTargetRanges(),i=this.view,o=i.document;let s=null,a=null,l=[];if(e.dataTransfer&&(s=new nI(e.dataTransfer)),e.data!==null?a=e.data:s&&(a=s.getData("text/plain")),o.selection.isFake)l=Array.from(o.selection.getRanges());else if(r.length)l=r.map(c=>{const u=i.domConverter.domPositionToView(c.startContainer,c.startOffset),d=i.domConverter.domPositionToView(c.endContainer,c.endOffset);if(u)return i.createRange(u,d);if(d)return i.createRange(d)}).filter(c=>!!c);else if(Ee.isAndroid){const c=e.target.ownerDocument.defaultView.getSelection();l=Array.from(i.domConverter.domSelectionToView(c).getRanges())}if(Ee.isAndroid&&e.inputType=="insertCompositionText"&&a&&a.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(l[0].end)]});return}if(e.inputType=="insertText"&&a&&a.includes(`
`)){const c=a.split(/\n{1,2}/g);let u=l;for(let d=0;d<c.length;d++){const h=c[d];h!=""&&(this.fire(e.type,e,{data:h,dataTransfer:s,targetRanges:u,inputType:e.inputType,isComposing:e.isComposing}),u=[o.selection.getFirstRange()]),d+1<c.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:u}),u=[o.selection.getFirstRange()])}return}this.fire(e.type,e,{data:a,dataTransfer:s,targetRanges:l,inputType:e.inputType,isComposing:e.isComposing})}}class PY extends so{constructor(t){super(t),this.document.on("keydown",(e,r)=>{if(this.isEnabled&&hZ(r.keyCode)){const i=new Yl(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(i,r),i.stop.called&&e.stop()}})}observe(){}stopObserving(){}}class RY extends so{constructor(t){super(t);const e=this.document;e.on("keydown",(r,i)=>{if(!this.isEnabled||i.keyCode!=Me.tab||i.ctrlKey)return;const o=new Yl(e,"tab",e.selection.getFirstRange());e.fire(o,i),o.stop.called&&r.stop()})}observe(){}stopObserving(){}}let OY=class extends Ke(){constructor(e){super();w(this,"document");w(this,"domConverter");w(this,"domRoots",new Map);w(this,"_renderer");w(this,"_initialDomRootAttributes",new WeakMap);w(this,"_observers",new Map);w(this,"_writer");w(this,"_ongoingChange",!1);w(this,"_postFixersInProgress",!1);w(this,"_renderingDisabled",!1);w(this,"_hasChangedSinceTheLastRendering",!1);this.document=new GO(e),this.domConverter=new QO(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new cY(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new KO(this.document),this.addObserver(tI),this.addObserver(gm),this.addObserver(TY),this.addObserver(kY),this.addObserver(CY),this.addObserver(SY),this.addObserver(PY),this.addObserver(AY),this.addObserver(RY),aY(this),QZ(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),Ee.isiOS&&this.listenTo(this.document,"blur",(r,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(r,{mutations:i})=>{i.forEach(o=>this._renderer.markToSync(o.type,o.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,r="main"){const i=this.document.getRoot(r);i._name=e.tagName.toLowerCase();const o={};for(const{name:a,value:l}of Array.from(e.attributes))o[a]=l,a==="class"?this._writer.addClass(l.split(" "),i):i.hasAttribute(a)||this._writer.setAttribute(a,l,i);this._initialDomRootAttributes.set(e,o);const s=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};s(),this.domRoots.set(r,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(a,l)=>this._renderer.markToSync("children",l)),i.on("change:attributes",(a,l)=>this._renderer.markToSync("attributes",l)),i.on("change:text",(a,l)=>this._renderer.markToSync("text",l)),i.on("change:isReadOnly",()=>this.change(s)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const a of this._observers.values())a.observe(e,r)}detachDomRoot(e){const r=this.domRoots.get(e);Array.from(r.attributes).forEach(({name:o})=>r.removeAttribute(o));const i=this._initialDomRootAttributes.get(r);for(const o in i)r.setAttribute(o,i[o]);this.domRoots.delete(e),this.domConverter.unbindDomElement(r);for(const o of this._observers.values())o.stopObserving(r)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let r=this._observers.get(e);if(r)return r;r=new e(this),this._observers.set(e,r);for(const[i,o]of this.domRoots)r.observe(o,i);return r.enable(),r}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:r,viewportOffset:i=20,ancestorOffset:o=20}={}){const s=this.document.selection.getFirstRange();if(!s)return;const a=Nr({alignToTop:e,forceScroll:r,viewportOffset:i,ancestorOffset:o});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const l={target:this.domConverter.viewRangeToDom(s),viewportOffset:i,ancestorOffset:o,alignToTop:e,forceScroll:r};this.fire("scrollToTheSelection",l,a),DO(l)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new q("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const r=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(r){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(r,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(gm).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,r){return ue._createAt(e,r)}createPositionAfter(e){return ue._createAfter(e)}createPositionBefore(e){return ue._createBefore(e)}createRange(e,r){return new Ne(e,r)}createRangeOn(e){return Ne._createOn(e)}createRangeIn(e){return Ne._createIn(e)}createSelection(...e){return new Vi(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class as{is(){throw new Error("is() method is abstract")}}let sa=class extends as{constructor(e){super();w(this,"parent",null);w(this,"_attrs");this._attrs=Zi(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new q("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new q("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let r=this;for(;r.parent;)e.unshift(r.startOffset),r=r.parent;return e}getAncestors(e={}){const r=[];let i=e.includeSelf?this:this.parent;for(;i;)r[e.parentFirst?"push":"unshift"](i),i=i.parent;return r}getCommonAncestor(e,r={}){const i=this.getAncestors(r),o=e.getAncestors(r);let s=0;for(;i[s]==o[s]&&i[s];)s++;return s===0?null:i[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const r=this.getPath(),i=e.getPath(),o=wn(r,i);switch(o){case"prefix":return!0;case"extension":return!1;default:return r[o]<i[o]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((r,i)=>(r[i[0]]=i[1],r),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,r){this._attrs.set(e,r)}_setAttributesTo(e){this._attrs=Zi(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};sa.prototype.is=function(n){return n==="node"||n==="model:node"};class ou{constructor(t){w(this,"_nodes",[]);t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return e==-1?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);if(e===null)return null;let r=0;for(let i=0;i<e;i++)r+=this._nodes[i].offsetSize;return r}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new q("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const r of this._nodes){if(t>=e&&t<e+r.offsetSize)return this.getNodeIndex(r);e+=r.offsetSize}if(e!=t)throw new q("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const r of e)if(!(r instanceof sa))throw new q("model-nodelist-insertnodes-not-node",this);this._nodes=TZ(this._nodes,Array.from(e),t,0)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}let lt=class Sv extends sa{constructor(e,r){super(r);w(this,"_data");this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Sv(this.data,this.getAttributes())}static fromJSON(e){return new Sv(e.data,e.attributes)}};lt.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};class Ur extends as{constructor(e,r,i){super();w(this,"textNode");w(this,"data");w(this,"offsetInText");if(this.textNode=e,r<0||r>e.offsetSize)throw new q("model-textproxy-wrong-offsetintext",this);if(i<0||r+i>e.offsetSize)throw new q("model-textproxy-wrong-length",this);this.data=e.data.substring(r,r+i),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const r=[];let i=e.includeSelf?this:this.parent;for(;i;)r[e.parentFirst?"push":"unshift"](i),i=i.parent;return r}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Ur.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};let at=class lf extends sa{constructor(e,r,i){super(r);w(this,"name");w(this,"_children",new ou);this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let r=this;for(const i of e)r=r.getChild(r.offsetToIndex(i));return r}findAncestor(e,r={}){let i=r.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const r of this._children)e.children.push(r.toJSON())}return e}_clone(e=!1){const r=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new lf(this.name,this.getAttributes(),r)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,r){const i=IY(r);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,r=1){const i=this._children._removeNodes(e,r);for(const o of i)o.parent=null;return i}static fromJSON(e){let r;if(e.children){r=[];for(const i of e.children)i.name?r.push(lf.fromJSON(i)):r.push(lt.fromJSON(i))}return new lf(e.name,e.attributes,r)}};at.prototype.is=function(n,t){return t?t===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function IY(n){return typeof n=="string"?[new lt(n)]:(dr(n)||(n=[n]),Array.from(n).map(t=>typeof t=="string"?new lt(t):t instanceof Ur?new lt(t.data,t.getAttributes()):t))}class Bi{constructor(t){w(this,"direction");w(this,"boundaries");w(this,"singleCharacters");w(this,"shallow");w(this,"ignoreElementEnd");w(this,"_position");w(this,"_boundaryStartParent");w(this,"_boundaryEndParent");w(this,"_visitedParent");if(!t||!t.boundaries&&!t.startPosition)throw new q("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if(e!="forward"&&e!="backward")throw new q("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=re._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,r,i,o;do i=this.position,o=this._visitedParent,{done:e,value:r}=this.next();while(!e&&t(r));e||(this._position=i,this._visitedParent=o)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),r=this._visitedParent;if(r.parent===null&&e.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=su(e,r),o=i||rI(e,r,i);if(o instanceof at){if(!this.shallow)e.path.push(0),this._visitedParent=o;else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,ds("elementStart",o,t,e,1)}if(o instanceof lt){let s;if(this.singleCharacters)s=1;else{let c=o.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),s=c-e.offset}const a=e.offset-o.startOffset,l=new Ur(o,a,s);return e.offset+=s,this._position=e,ds("text",l,t,e,s)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():ds("elementEnd",r,t,e)}_previous(){const t=this.position,e=this.position.clone(),r=this._visitedParent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=e.parent,o=su(e,i),s=o||iI(e,i,o);if(s instanceof at)return e.offset--,this.shallow?(this._position=e,ds("elementStart",s,t,e,1)):(e.path.push(s.maxOffset),this._position=e,this._visitedParent=s,this.ignoreElementEnd?this._previous():ds("elementEnd",s,t,e));if(s instanceof lt){let a;if(this.singleCharacters)a=1;else{let u=s.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),a=e.offset-u}const l=e.offset-s.startOffset,c=new Ur(s,l-a,a);return e.offset-=a,this._position=e,ds("text",c,t,e,a)}return e.path.pop(),this._position=e,this._visitedParent=r.parent,ds("elementStart",r,t,e,1)}}function ds(n,t,e,r,i){return{done:!1,value:{type:n,item:t,previousPosition:e,nextPosition:r,length:i}}}class re extends as{constructor(e,r,i="toNone"){super();w(this,"root");w(this,"path");w(this,"stickiness");if(!e.is("element")&&!e.is("documentFragment"))throw new q("model-position-root-invalid",e);if(!(r instanceof Array)||r.length===0)throw new q("model-position-path-incorrect-format",e,{path:r});e.is("rootElement")?r=r.slice():(r=[...e.getPath(),...r],e=e.root),this.root=e,this.path=r,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let r=0;r<this.path.length-1;r++)if(e=e.getChild(e.offsetToIndex(this.path[r])),!e)throw new q("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new q("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return su(this,this.parent)}get nodeAfter(){const e=this.parent;return rI(this,e,su(this,e))}get nodeBefore(){const e=this.parent;return iI(this,e,su(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const r=wn(this.path,e.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<e.path[r]?"before":"after"}}getLastMatchingPosition(e,r={}){r.startPosition=this;const i=new Bi(r);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const r=this.parent;return r.is("element")?r.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const r=wn(this.path,e.path),i=typeof r=="string"?Math.min(this.path.length,e.path.length):r;return this.path.slice(0,i)}getCommonAncestor(e){const r=this.getAncestors(),i=e.getAncestors();let o=0;for(;r[o]==i[o]&&r[o];)o++;return o===0?null:r[o-1]}getShiftedBy(e){const r=this.clone(),i=r.offset+e;return r.offset=i<0?0:i,r}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const r=Math.min(this.path.length,e.path.length);for(let i=0;i<r;i++){const o=this.path[i]-e.path[i];if(o<-1||o>1)return!1;if(o===1)return H2(e,this,i);if(o===-1)return H2(this,e,i)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?Av(this.path,r):Av(e.path,r)}hasSameParentAs(e){if(this.root!==e.root)return!1;const r=this.getParentPath(),i=e.getParentPath();return wn(r,i)=="same"}getTransformedByOperation(e){let r;switch(e.type){case"insert":r=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(e);break;case"split":r=this._getTransformedBySplitOperation(e);break;case"merge":r=this._getTransformedByMergeOperation(e);break;default:r=re._createAt(this);break}return r}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const r=e.movedRange,i=r.containsPosition(this)||r.start.isEqual(this);let o;return i?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?o=re._createAt(e.deletionPosition):o=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,r){const i=re._createAt(this);if(this.root!=e.root)return i;if(wn(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+r>this.offset)return null;i.offset-=r}}else if(wn(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+r>this.path[o])return null;i.path[o]-=r}}return i}_getTransformedByInsertion(e,r){const i=re._createAt(this);if(this.root!=e.root)return i;if(wn(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=r);else if(wn(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;e.offset<=this.path[o]&&(i.path[o]+=r)}return i}_getTransformedByMove(e,r,i){if(r=r._getTransformedByDeletion(e,i),e.isEqual(r))return re._createAt(this);const o=this._getTransformedByDeletion(e,i);return o===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,r):o._getTransformedByInsertion(r,i)}_getCombined(e,r){const i=e.path.length-1,o=re._createAt(r);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[i]-e.offset,o.path=[...o.path,...this.path.slice(i+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,r,i="toNone"){if(e instanceof re)return new re(e.root,e.path,e.stickiness);{const o=e;if(r=="end")r=o.maxOffset;else{if(r=="before")return this._createBefore(o,i);if(r=="after")return this._createAfter(o,i);if(r!==0&&!r)throw new q("model-createpositionat-offset-required",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new q("model-position-parent-incorrect",[this,e]);const s=o.getPath();return s.push(r),new this(o.root,s,i)}}static _createAfter(e,r){if(!e.parent)throw new q("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,r)}static _createBefore(e,r){if(!e.parent)throw new q("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,r)}static fromJSON(e,r){if(e.root==="$graveyard"){const i=new re(r.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!r.getRoot(e.root))throw new q("model-position-fromjson-no-root",r,{rootName:e.root});return new re(r.getRoot(e.root),e.path,e.stickiness)}}re.prototype.is=function(n){return n==="position"||n==="model:position"};function su(n,t){const e=t.getChild(t.offsetToIndex(n.offset));return e&&e.is("$text")&&e.startOffset<n.offset?e:null}function rI(n,t,e){return e!==null?null:t.getChild(t.offsetToIndex(n.offset))}function iI(n,t,e){return e!==null?null:t.getChild(t.offsetToIndex(n.offset)-1)}function H2(n,t,e){return!(e+1===n.path.length||!Av(t.path,e+1)||!NY(n,e+1))}function Av(n,t){for(;t<n.length;){if(n[t]!==0)return!1;t++}return!0}function NY(n,t){let e=n.parent,r=n.path.length-1,i=0;for(;r>=t;){if(n.path[r]+i!==e.maxOffset)return!1;i=1,r--,e=e.parent}return!0}class Q extends as{constructor(e,r){super();w(this,"start");w(this,"end");this.start=re._createAt(e),this.end=r?re._createAt(r):re._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Bi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),r=this.end.getParentPath();return wn(e,r)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,r=!1){e.isCollapsed&&(r=!1);const i=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return i&&o}containsItem(e){const r=re._createBefore(e);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new Q(this.start,e.start)),this.containsPosition(e.end)&&r.push(new Q(e.end,this.end))):r.push(new Q(this.start,this.end)),r}getIntersection(e){if(this.isIntersecting(e)){let r=this.start,i=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(i=e.end),new Q(r,i)}return null}getJoined(e,r=!1){let i=this.isIntersecting(e);if(i||(this.start.isBefore(e.start)?i=r?this.end.isTouching(e.start):this.end.isEqual(e.start):i=r?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let o=this.start,s=this.end;return e.start.isBefore(o)&&(o=e.start),e.end.isAfter(s)&&(s=e.end),new Q(o,s)}getMinimalFlatRanges(){const e=[],r=this.start.getCommonPath(this.end).length,i=re._createAt(this.start);let o=i.parent;for(;i.path.length>r+1;){const s=o.maxOffset-i.offset;s!==0&&e.push(new Q(i,i.getShiftedBy(s))),i.path=i.path.slice(0,-1),i.offset++,o=o.parent}for(;i.path.length<=this.end.path.length;){const s=this.end.path[i.path.length-1],a=s-i.offset;a!==0&&e.push(new Q(i,i.getShiftedBy(a))),i.offset=s,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Bi(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const r=new Bi(e);for(const i of r)yield i.item}*getPositions(e={}){e.boundaries=this;const r=new Bi(e);yield r.position;for(const i of r)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Q(this.start,this.end)]}getTransformedByOperations(e){const r=[new Q(this.start,this.end)];for(const i of e)for(let o=0;o<r.length;o++){const s=r[o].getTransformedByOperation(i);r.splice(o,1,...s),o+=s.length-1}for(let i=0;i<r.length;i++){const o=r[i];for(let s=i+1;s<r.length;s++){const a=r[s];(o.containsRange(a)||a.containsRange(o)||o.isEqual(a))&&r.splice(s,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,r=this.end.nodeBefore;return e&&e.is("element")&&e===r?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,r=!1){return this._getTransformedByInsertion(e.position,e.howMany,r)}_getTransformedByMoveOperation(e,r=!1){const i=e.sourcePosition,o=e.howMany,s=e.targetPosition;return this._getTransformedByMove(i,s,o,r)}_getTransformedBySplitOperation(e){const r=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),r.root!=i.root&&(i=this.end.getShiftedBy(-1)),new Q(r,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Q(this.start);let r=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return r.root!=i.root&&(i=this.end.getShiftedBy(-1)),r.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(r=re._createAt(i),r.offset=0):(e.deletionPosition.isEqual(r)||(i=e.deletionPosition),r=e.targetPosition),new Q(r,i)):new Q(r,i)}_getTransformedByInsertion(e,r,i=!1){if(i&&this.containsPosition(e))return[new Q(this.start,e),new Q(e.getShiftedBy(r),this.end._getTransformedByInsertion(e,r))];{const o=new Q(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,r),o.end=o.end._getTransformedByInsertion(e,r),[o]}}_getTransformedByMove(e,r,i,o=!1){if(this.isCollapsed){const h=this.start._getTransformedByMove(e,r,i);return[new Q(h)]}const s=Q._createFromPositionAndShift(e,i),a=r._getTransformedByDeletion(e,i);if(this.containsPosition(r)&&!o&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const h=this.start._getTransformedByMove(e,r,i),f=this.end._getTransformedByMove(e,r,i);return[new Q(h,f)]}let l;const c=this.getDifference(s);let u=null;const d=this.getIntersection(s);if(c.length==1?u=new Q(c[0].start._getTransformedByDeletion(e,i),c[0].end._getTransformedByDeletion(e,i)):c.length==2&&(u=new Q(this.start,this.end._getTransformedByDeletion(e,i))),u?l=u._getTransformedByInsertion(a,i,d!==null||o):l=[],d){const h=new Q(d.start._getCombined(s.start,a),d.end._getCombined(s.start,a));l.length==2?l.splice(1,0,h):l.push(h)}return l}_getTransformedByDeletion(e,r){let i=this.start._getTransformedByDeletion(e,r),o=this.end._getTransformedByDeletion(e,r);return i==null&&o==null?null:(i==null&&(i=e),o==null&&(o=e),new Q(i,o))}static _createFromPositionAndShift(e,r){const i=e,o=e.getShiftedBy(r);return r>0?new this(i,o):new this(o,i)}static _createIn(e){return new this(re._createAt(e,0),re._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(re._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new q("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const r=e[0];e.sort((s,a)=>s.start.isAfter(a.start)?1:-1);const i=e.indexOf(r),o=new this(r.start,r.end);for(let s=i-1;s>=0&&e[s].end.isEqual(o.start);s--)o.start=re._createAt(e[s].start);for(let s=i+1;s<e.length&&e[s].start.isEqual(o.end);s++)o.end=re._createAt(e[s].end);return o}static fromJSON(e,r){return new this(re.fromJSON(e.start,r),re.fromJSON(e.end,r))}}Q.prototype.is=function(n){return n==="range"||n==="model:range"};class oI extends We(){constructor(){super();w(this,"_modelToViewMapping",new WeakMap);w(this,"_viewToModelMapping",new WeakMap);w(this,"_viewToModelLengthCallbacks",new Map);w(this,"_markerNameToElements",new Map);w(this,"_elementToMarkerNames",new Map);w(this,"_deferredBindingRemovals",new Map);w(this,"_unboundMarkerNames",new Set);this.on("modelToViewPosition",(e,r)=>{if(r.viewPosition)return;const i=this._modelToViewMapping.get(r.modelPosition.parent);if(!i)throw new q("mapping-model-position-view-parent-not-found",this,{modelPosition:r.modelPosition});r.viewPosition=this.findPositionIn(i,r.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,r)=>{if(r.modelPosition)return;const i=this.findMappedViewAncestor(r.viewPosition),o=this._viewToModelMapping.get(i),s=this._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,i);r.modelPosition=re._createAt(o,s)},{priority:"low"})}bindElements(e,r){this._modelToViewMapping.set(e,r),this._viewToModelMapping.set(r,e)}unbindViewElement(e,r={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const o of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(o);r.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const r=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(r)==e&&this._viewToModelMapping.delete(r)}bindElementToMarker(e,r){const i=this._markerNameToElements.get(r)||new Set;i.add(e);const o=this._elementToMarkerNames.get(e)||new Set;o.add(r),this._markerNameToElements.set(r,i),this._elementToMarkerNames.set(e,o)}unbindElementFromMarkerName(e,r){const i=this._markerNameToElements.get(r);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(r));const o=this._elementToMarkerNames.get(e);o&&(o.delete(r),o.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,r]of this._deferredBindingRemovals)e.root==r&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Q(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ne(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const r={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}toViewPosition(e,r={}){const i={modelPosition:e,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const r=this._markerNameToElements.get(e);if(!r)return null;const i=new Set;for(const o of r)if(o.is("attributeElement"))for(const s of o.getElementsWithSameId())i.add(s);else i.add(o);return i}registerViewToModelLength(e,r){this._viewToModelLengthCallbacks.set(e,r)}findMappedViewAncestor(e){let r=e.parent;for(;!this._viewToModelMapping.has(r);)r=r.parent;return r}_toModelOffset(e,r,i){if(i!=e){const s=this._toModelOffset(e.parent,e.index,i),a=this._toModelOffset(e,r,e);return s+a}if(e.is("$text"))return r;let o=0;for(let s=0;s<r;s++)o+=this.getModelLength(e.getChild(s));return o}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let r=0;for(const i of e.getChildren())r+=this.getModelLength(i);return r}}findPositionIn(e,r){let i,o=0,s=0,a=0;if(e.is("$text"))return new ue(e,r);for(;s<r;)i=e.getChild(a),o=this.getModelLength(i),s+=o,a++;return s==r?this._moveViewPositionToTextNode(new ue(e,a)):this.findPositionIn(i,r-(s-o))}_moveViewPositionToTextNode(e){const r=e.nodeBefore,i=e.nodeAfter;return r instanceof ut?new ue(r,r.data.length):i instanceof ut?new ue(i,0):e}}class MY{constructor(){w(this,"_consumable",new Map);w(this,"_textProxyRegistry",new Map)}add(t,e){e=gh(e),t instanceof Ur&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=gh(e),t instanceof Ur&&(t=this._getSymbolForTextProxy(t)),this.test(t,e)?(this._consumable.get(t).set(e,!1),!0):!1}test(t,e){e=gh(e),t instanceof Ur&&(t=this._getSymbolForTextProxy(t));const r=this._consumable.get(t);if(r===void 0)return null;const i=r.get(e);return i===void 0?null:i}revert(t,e){e=gh(e),t instanceof Ur&&(t=this._getSymbolForTextProxy(t));const r=this.test(t,e);return r===!1?(this._consumable.get(t).set(e,!0),!0):r===!0?!1:null}verifyAllConsumed(t){const e=[];for(const[r,i]of this._consumable)for(const[o,s]of i){const a=o.split(":")[0];s&&t==a&&e.push({event:o,item:r.name||r.description})}if(e.length)throw new q("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const r=this._textProxyRegistry.get(t.startOffset);if(r){const i=r.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,r=t.endOffset,i=t.parent,o=Symbol("$textProxy:"+t.data);let s,a;return s=this._textProxyRegistry.get(e),s||(s=new Map,this._textProxyRegistry.set(e,s)),a=s.get(r),a||(a=new Map,s.set(r,a)),a.set(i,o),o}}function gh(n){const t=n.split(":");return t[0]=="insert"?t[0]:t[0]=="addMarker"||t[0]=="removeMarker"?n:t.length>1?t[0]+":"+t[1]:t[0]}class sI extends We(){constructor(e){super();w(this,"_conversionApi");w(this,"_firedEventsMap");this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,r,i){const o=this._createConversionApi(i,e.getRefreshedItems());for(const a of e.getMarkersToRemove())this._convertMarkerRemove(a.name,a.range,o);const s=this._reduceChanges(e.getChanges());for(const a of s)a.type==="insert"?this._convertInsert(Q._createFromPositionAndShift(a.position,a.length),o):a.type==="reinsert"?this._convertReinsert(Q._createFromPositionAndShift(a.position,a.length),o):a.type==="remove"?this._convertRemove(a.position,a.length,a.name,o):this._convertAttribute(a.range,a.attributeKey,a.attributeOldValue,a.attributeNewValue,o);o.mapper.flushDeferredBindings();for(const a of o.mapper.flushUnboundMarkerNames()){const l=r.get(a).getRange();this._convertMarkerRemove(a,l,o),this._convertMarkerAdd(a,l,o)}for(const a of e.getMarkersToAdd())this._convertMarkerAdd(a.name,a.range,o);o.consumable.verifyAllConsumed("insert")}convert(e,r,i,o={}){const s=this._createConversionApi(i,void 0,o);this._convertInsert(e,s);for(const[a,l]of r)this._convertMarkerAdd(a,l,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,r,i){const o=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},o);const s=e.getFirstPosition().root;if(!o.mapper.toViewElement(s))return;const a=Array.from(r.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(o.consumable,e,a),this.fire("selection",{selection:e},o),!!e.isCollapsed){for(const l of a)if(o.consumable.test(e,"addMarker:"+l.name)){const c=l.getRange();if(!LY(e.getFirstPosition(),l,o.mapper))continue;const u={item:e,markerName:l.name,markerRange:c};this.fire(`addMarker:${l.name}`,u,o)}for(const l of e.getAttributeKeys())if(o.consumable.test(e,"attribute:"+l)){const c={item:e,range:e.getFirstRange(),attributeKey:l,attributeOldValue:null,attributeNewValue:e.getAttribute(l)};this.fire(`attribute:${l}:$text`,c,o)}}}_convertInsert(e,r,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(r.consumable,e);for(const o of Array.from(e.getWalker({shallow:!0})).map(U2))this._testAndFire("insert",o,r)}_convertRemove(e,r,i,o){this.fire(`remove:${i}`,{position:e,length:r},o)}_convertAttribute(e,r,i,o,s){this._addConsumablesForRange(s.consumable,e,`attribute:${r}`);for(const a of e){const l={item:a.item,range:Q._createFromPositionAndShift(a.previousPosition,a.length),attributeKey:r,attributeOldValue:i,attributeNewValue:o};this._testAndFire(`attribute:${r}`,l,s)}}_convertReinsert(e,r){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(r.consumable,i);for(const o of i.map(U2))this._testAndFire("insert",{...o,reconversion:!0},r)}_convertMarkerAdd(e,r,i){if(r.root.rootName=="$graveyard")return;const o=`addMarker:${e}`;if(i.consumable.add(r,o),this.fire(o,{markerName:e,markerRange:r},i),!!i.consumable.consume(r,o)){this._addConsumablesForRange(i.consumable,r,o);for(const s of r.getItems()){if(!i.consumable.test(s,o))continue;const a={item:s,range:Q._createOn(s),markerName:e,markerRange:r};this.fire(o,a,i)}}}_convertMarkerRemove(e,r,i){r.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:r},i)}_reduceChanges(e){const r={changes:e};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(e,r){for(const i of r){const o=i.item;if(e.test(o,"insert")===null){e.add(o,"insert");for(const s of o.getAttributeKeys())e.add(o,"attribute:"+s)}}return e}_addConsumablesForRange(e,r,i){for(const o of r.getItems())e.add(o,i);return e}_addConsumablesForSelection(e,r,i){e.add(r,"selection");for(const o of i)e.add(r,"addMarker:"+o.name);for(const o of r.getAttributeKeys())e.add(r,"attribute:"+o);return e}_testAndFire(e,r,i){const o=DY(e,r),s=r.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(r.item):r.item,a=this._firedEventsMap.get(i),l=a.get(s);if(!l)a.set(s,new Set([o]));else if(!l.has(o))l.add(o);else return;this.fire(o,r,i)}_testAndFireAddAttributes(e,r){const i={item:e,range:Q._createOn(e)};for(const o of i.item.getAttributeKeys())i.attributeKey=o,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(o),this._testAndFire(`attribute:${o}`,i,r)}_createConversionApi(e,r=new Set,i={}){const o={...this._conversionApi,consumable:new MY,writer:e,options:i,convertItem:s=>this._convertInsert(Q._createOn(s),o),convertChildren:s=>this._convertInsert(Q._createIn(s),o,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,o),canReuseView:s=>!r.has(o.mapper.toModelElement(s))};return this._firedEventsMap.set(o,new Map),o}}function LY(n,t,e){const r=t.getRange(),i=Array.from(n.getAncestors());return i.shift(),i.reverse(),!i.some(s=>{if(r.containsItem(s))return!!e.toViewElement(s).getCustomProperty("addHighlight")})}function DY(n,t){const e=t.item.is("element")?t.item.name:"$text";return`${n}:${e}`}function U2(n){const t=n.item,e=Q._createFromPositionAndShift(n.previousPosition,n.length);return{item:t,range:e}}class Yn extends We(as){constructor(...e){super();w(this,"_lastRangeBackward",!1);w(this,"_attrs",new Map);w(this,"_ranges",[]);e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const r of this._ranges){let i=!1;for(const o of e._ranges)if(r.isEqual(o)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Q(e.start,e.end)}getFirstRange(){let e=null;for(const r of this._ranges)(!e||r.start.isBefore(e.start))&&(e=r);return e?new Q(e.start,e.end):null}getLastRange(){let e=null;for(const r of this._ranges)(!e||r.end.isAfter(e.end))&&(e=r);return e?new Q(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[r,i,o]=e;if(typeof i=="object"&&(o=i,i=void 0),r===null)this._setRanges([]);else if(r instanceof Yn)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof Q)this._setRanges([r],!!o&&!!o.backward);else if(r instanceof re)this._setRanges([new Q(r)]);else if(r instanceof sa){const s=!!o&&!!o.backward;let a;if(i=="in")a=Q._createIn(r);else if(i=="on")a=Q._createOn(r);else if(i!==void 0)a=new Q(re._createAt(r,i));else throw new q("model-selection-setto-required-second-parameter",[this,r]);this._setRanges([a],s)}else if(dr(r))this._setRanges(r,o&&!!o.backward);else throw new q("model-selection-setto-not-selectable",[this,r])}_setRanges(e,r=!1){const i=Array.from(e),o=i.some(s=>{if(!(s instanceof Q))throw new q("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(a=>!a.isEqual(s))});i.length===this._ranges.length&&!o||(this._replaceAllRanges(i),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(e,r){if(this.anchor===null)throw new q("model-selection-setfocus-no-ranges",[this,e]);const i=re._createAt(e,r);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(o)=="before"?(this._pushRange(new Q(i,o)),this._lastRangeBackward=!0):(this._pushRange(new Q(o,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,r){this.getAttribute(e)!==r&&(this._attrs.set(e,r),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const r of this.getRanges()){const i=W2(r.start,e);FY(i,r)&&(yield i);for(const s of r.getWalker()){const a=s.item;s.type=="elementEnd"&&BY(a,e,r)&&(yield a)}const o=W2(r.end,e);VY(o,r)&&(yield o)}}containsEntireContent(e=this.anchor.root){const r=re._createAt(e,0),i=re._createAt(e,"end");return r.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Q(e.start,e.end))}_checkRange(e){for(let r=0;r<this._ranges.length;r++)if(e.isIntersecting(this._ranges[r]))throw new q("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[r]})}_replaceAllRanges(e){this._removeAllRanges();for(const r of e)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Yn.prototype.is=function(n){return n==="selection"||n==="model:selection"};function aI(n,t){return t.has(n)?!1:(t.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function BY(n,t,e){return aI(n,t)&&Ow(n,e)}function W2(n,t){const r=n.parent.root.document.model.schema,i=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const s=i.find(a=>o?!1:(o=r.isLimit(a),!o&&aI(a,t)));return i.forEach(a=>t.add(a)),s}function Ow(n,t){const e=jY(n);return e?!t.containsRange(Q._createOn(e),!0):!0}function FY(n,t){return n?t.isCollapsed||n.isEmpty?!0:t.start.isTouching(re._createAt(n,n.maxOffset))?!1:Ow(n,t):!1}function VY(n,t){return n?t.isCollapsed||n.isEmpty?!0:t.end.isTouching(re._createAt(n,0))?!1:Ow(n,t):!1}function jY(n){const t=n.root.document.model.schema;let e=n.parent;for(;e;){if(t.isBlock(e))return e;e=e.parent}}class tr extends We(Q){constructor(t,e){super(t,e),$Y.call(this)}detach(){this.stopListening()}toRange(){return new Q(this.start,this.end)}static fromRange(t){return new tr(t.start,t.end)}}tr.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function $Y(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&zY.call(this,e)},{priority:"low"})}function zY(n){const t=this.getTransformedByOperation(n),e=Q._createFromRanges(t),r=!e.isEqual(this),i=HY(this,n);let o=null;if(r){e.root.rootName=="$graveyard"&&(n.type=="remove"?o=n.sourcePosition:o=n.deletionPosition);const s=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",s,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}function HY(n,t){switch(t.type){case"insert":return n.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(t.sourcePosition)||n.start.isEqual(t.sourcePosition)||n.containsPosition(t.targetPosition);case"split":return n.containsPosition(t.splitPosition)||n.containsPosition(t.insertionPosition)}return!1}const Zu="selection:";class Yr extends We(as){constructor(e){super();w(this,"_selection");this._selection=new UY(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,r){this._selection.setFocus(e,r)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,r){this._selection.setAttribute(e,r)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Zu+e}static _isStoreAttributeKey(e){return e.startsWith(Zu)}}Yr.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class UY extends Yn{constructor(e){super();w(this,"markers",new zt({idProperty:"name"}));w(this,"_model");w(this,"_document");w(this,"_attributePriority",new Map);w(this,"_selectionRestorePosition",null);w(this,"_hasChangedRange",!1);w(this,"_overriddenGravityRegister",new Set);w(this,"_observedMarkers",new Set);this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(r,i)=>{const o=i[0];!o.isDocumentOperation||o.type=="marker"||o.type=="rename"||o.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,i,o,s)=>{this._updateMarker(i,s)}),this.listenTo(this._document,"change",(r,i)=>{WY(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,r){super.setFocus(e,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,r){if(this._setAttribute(e,r)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const e=ur();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new q("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const r=this._prepareRange(e);r&&this._ranges.push(r)}_validateSelectionRanges(e){for(const r of e)if(!this._document._validateSelectionRange(r))throw new q("document-selection-wrong-position",this,{range:r})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const r=tr.fromRange(e);return r.on("change:range",(i,o,s)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const a=this._ranges.indexOf(r);this._ranges.splice(a,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let r=!1;for(const o of this._model.markers){const s=o.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const a=o.getRange();for(const l of this.getRanges())a.containsRange(l,!l.isCollapsed)&&e.push(o)}const i=Array.from(this.markers);for(const o of e)this.markers.has(o)||(this.markers.add(o),r=!0);for(const o of Array.from(this.markers))e.includes(o)||(this.markers.remove(o),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,r){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let o=!1;const s=Array.from(this.markers),a=this.markers.has(e);if(!r)a&&(this.markers.remove(e),o=!0);else{let l=!1;for(const c of this.getRanges())if(r.containsRange(c,!c.isCollapsed)){l=!0;break}l&&!a?(this.markers.add(e),o=!0):!l&&a&&(this.markers.remove(e),o=!0)}o&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const r=Zi(this._getSurroundingAttributes()),i=Zi(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,a]of this._attributePriority)a=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(r);const o=[];for(const[s,a]of this.getAttributes())(!i.has(s)||i.get(s)!==a)&&o.push(s);for(const[s]of i)this.hasAttribute(s)||o.push(s);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(e,r,i=!0){const o=i?"normal":"low";return o=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===r?!1:(this._attrs.set(e,r),this._attributePriority.set(e,o),!0)}_removeAttribute(e,r=!0){const i=r?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,i),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const r=new Set;for(const[i,o]of this.getAttributes())e.get(i)!==o&&this._removeAttribute(i,!1);for(const[i,o]of e)this._setAttribute(i,o,!1)&&r.add(i);return r}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const r of e.getAttributeKeys())r.startsWith(Zu)&&(yield[r.substr(Zu.length),e.getAttribute(r)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),r=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const o=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=kc(o,r)),i||(i=kc(s,r)),!this.isGravityOverridden&&!i){let a=o;for(;a&&!i;)a=a.previousSibling,i=kc(a,r)}if(!i){let a=s;for(;a&&!i;)a=a.nextSibling,i=kc(a,r)}i||(i=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const s of o){if(s.item.is("element")&&r.isObject(s.item)){i=kc(s.item,r);break}if(s.type=="text"){i=s.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const r=this._model.schema.getNearestSelectionRange(e);r&&this._pushRange(r)}}function kc(n,t){if(!n)return null;if(n instanceof Ur||n instanceof lt)return n.getAttributes();if(!t.isInline(n))return null;if(!t.isObject(n))return[];const e=[];for(const[r,i]of n.getAttributes())t.checkAttribute("$text",r)&&t.getAttributeProperties(r).copyFromObject!==!1&&e.push([r,i]);return e}function WY(n,t){const e=n.document.differ;for(const r of e.getChanges()){if(r.type!="insert")continue;const i=r.position.parent;r.length===i.maxOffset&&n.enqueueChange(t,s=>{const a=Array.from(i.getAttributeKeys()).filter(l=>l.startsWith(Zu));for(const l of a)s.removeAttribute(l,i)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lI{constructor(t){w(this,"_dispatchers");this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class qY extends lI{elementToElement(t){return this.add(uJ(t))}elementToStructure(t){return this.add(dJ(t))}attributeToElement(t){return this.add(hJ(t))}attributeToAttribute(t){return this.add(fJ(t))}markerToElement(t){return this.add(mJ(t))}markerToHighlight(t){return this.add(pJ(t))}markerToData(t){return this.add(gJ(t))}}function cI(){return(n,t,e)=>{if(!e.consumable.consume(t.item,n.name))return;const r=e.writer,i=e.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)}}function uI(){return(n,t,e)=>{e.convertAttributes(t.item),!t.reconversion&&t.item.is("element")&&!t.item.isEmpty&&e.convertChildren(t.item)}}function GY(){return(n,t,e)=>{const r=e.mapper.toViewPosition(t.position),i=t.position.getShiftedBy(t.length),o=e.mapper.toViewPosition(i,{isPhantom:!0}),s=e.writer.createRange(r,o),a=e.writer.remove(s.getTrimmed());for(const l of e.writer.createRangeIn(a).getItems())e.mapper.unbindViewElement(l,{defer:!0})}}function dI(n,t){const e=n.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),typeof t.priority=="number"&&(e._priority=t.priority),e._id=t.id,e}function KY(){return(n,t,e)=>{const r=t.selection;if(r.isCollapsed||!e.consumable.consume(r,"selection"))return;const i=[];for(const o of r.getRanges())i.push(e.mapper.toViewRange(o));e.writer.setSelection(i,{backward:r.isBackward})}}function ZY(){return(n,t,e)=>{const r=t.selection;if(!r.isCollapsed||!e.consumable.consume(r,"selection"))return;const i=e.writer,o=r.getFirstPosition(),s=e.mapper.toViewPosition(o),a=i.breakAttributes(s);i.setSelection(a)}}function YY(){return(n,t,e)=>{const r=e.writer,i=r.document.selection;for(const o of i.getRanges())o.isCollapsed&&o.end.parent.isAttached()&&e.writer.mergeAttributes(o.start);r.setSelection(null)}}function JY(n){return(t,e,r)=>{if(!r.consumable.test(e.item,t.name))return;const i=n(e.attributeOldValue,r,e),o=n(e.attributeNewValue,r,e);if(!i&&!o)return;r.consumable.consume(e.item,t.name);const s=r.writer,a=s.document.selection;if(e.item instanceof Yn||e.item instanceof Yr)s.wrap(a.getFirstRange(),o);else{let l=r.mapper.toViewRange(e.range);e.attributeOldValue!==null&&i&&(l=s.unwrap(l,i)),e.attributeNewValue!==null&&o&&s.wrap(l,o)}}}function XY(n,t=kJ){return(e,r,i)=>{if(!t(r.item,i.consumable,{preflight:!0}))return;const o=n(r.item,i,r);if(!o)return;t(r.item,i.consumable);const s=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(s,o),i.convertAttributes(r.item),pI(o,r.item.getChildren(),i,{reconversion:r.reconversion})}}function QY(n,t){return(e,r,i)=>{if(!t(r.item,i.consumable,{preflight:!0}))return;const o=new Map;i.writer._registerSlotFactory(yJ(r.item,o,i));const s=n(r.item,i,r);if(i.writer._clearSlotFactory(),!s)return;wJ(r.item,o,i),t(r.item,i.consumable);const a=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,s),i.writer.insert(a,s),i.convertAttributes(r.item),_J(s,o,i,{reconversion:r.reconversion})}}function eJ(n){return(t,e,r)=>{e.isOpening=!0;const i=n(e,r);e.isOpening=!1;const o=n(e,r);if(!i||!o)return;const s=e.markerRange;if(s.isCollapsed&&!r.consumable.consume(s,t.name))return;for(const c of s)if(!r.consumable.consume(c.item,t.name))return;const a=r.mapper,l=r.writer;l.insert(a.toViewPosition(s.start),i),r.mapper.bindElementToMarker(i,e.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),o),r.mapper.bindElementToMarker(o,e.markerName)),t.stop()}}function tJ(){return(n,t,e)=>{const r=e.mapper.markerNameToElements(t.markerName);if(r){for(const i of r)e.mapper.unbindElementFromMarkerName(i,t.markerName),e.writer.clear(e.writer.createRangeOn(i),i);e.writer.clearClonedElementsGroup(t.markerName),n.stop()}}}function nJ(n){return(t,e,r)=>{const i=n(e.markerName,r);if(!i)return;const o=e.markerRange;r.consumable.consume(o,t.name)&&(q2(o,!1,r,e,i),q2(o,!0,r,e,i),t.stop())}}function q2(n,t,e,r,i){const o=t?n.start:n.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,a=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||a){let c,u;t&&s||!t&&!a?(c=s,u=!0):(c=a,u=!1);const d=e.mapper.toViewElement(c);if(d){rJ(d,t,u,e,r,i);return}}const l=e.mapper.toViewPosition(o);iJ(l,t,e,r,i)}function rJ(n,t,e,r,i,o){const s=`data-${o.group}-${t?"start":"end"}-${e?"before":"after"}`,a=n.hasAttribute(s)?n.getAttribute(s).split(","):[];a.unshift(o.name),r.writer.setAttribute(s,a.join(","),n),r.mapper.bindElementToMarker(n,i.markerName)}function iJ(n,t,e,r,i){const o=`${i.group}-${t?"start":"end"}`,s=i.name?{name:i.name}:null,a=e.writer.createUIElement(o,s);e.writer.insert(n,a),e.mapper.bindElementToMarker(a,r.markerName)}function oJ(n){return(t,e,r)=>{const i=n(e.markerName,r);if(!i)return;const o=r.mapper.markerNameToElements(e.markerName);if(!o)return;for(const a of o)r.mapper.unbindElementFromMarkerName(a,e.markerName),a.is("containerElement")?(s(`data-${i.group}-start-before`,a),s(`data-${i.group}-start-after`,a),s(`data-${i.group}-end-before`,a),s(`data-${i.group}-end-after`,a)):r.writer.clear(r.writer.createRangeOn(a),a);r.writer.clearClonedElementsGroup(e.markerName),t.stop();function s(a,l){if(l.hasAttribute(a)){const c=new Set(l.getAttribute(a).split(","));c.delete(i.name),c.size==0?r.writer.removeAttribute(a,l):r.writer.setAttribute(a,Array.from(c).join(","),l)}}}}function sJ(n){return(t,e,r)=>{if(!r.consumable.test(e.item,t.name))return;const i=n(e.attributeOldValue,r,e),o=n(e.attributeNewValue,r,e);if(!i&&!o)return;r.consumable.consume(e.item,t.name);const s=r.mapper.toViewElement(e.item),a=r.writer;if(!s)throw new q("conversion-attribute-to-attribute-on-text",r.dispatcher,e);if(e.attributeOldValue!==null&&i)if(i.key=="class"){const l=typeof i.value=="string"?i.value.split(/\s+/):i.value;for(const c of l)a.removeClass(c,s)}else if(i.key=="style")if(typeof i.value=="string"){const l=new mm(a.document.stylesProcessor);l.setTo(i.value);for(const[c]of l.getStylesEntries())a.removeStyle(c,s)}else{const l=Object.keys(i.value);for(const c of l)a.removeStyle(c,s)}else a.removeAttribute(i.key,s);if(e.attributeNewValue!==null&&o)if(o.key=="class"){const l=typeof o.value=="string"?o.value.split(/\s+/):o.value;for(const c of l)a.addClass(c,s)}else if(o.key=="style")if(typeof o.value=="string"){const l=new mm(a.document.stylesProcessor);l.setTo(o.value);for(const[c,u]of l.getStylesEntries())a.setStyle(c,u,s)}else{const l=Object.keys(o.value);for(const c of l)a.setStyle(c,o.value[c],s)}else a.setAttribute(o.key,o.value,s)}}function aJ(n){return(t,e,r)=>{if(!e.item||!(e.item instanceof Yn||e.item instanceof Yr)&&!e.item.is("$textProxy"))return;const i=Iw(n,e,r);if(!i||!r.consumable.consume(e.item,t.name))return;const o=r.writer,s=dI(o,i),a=o.document.selection;if(e.item instanceof Yn||e.item instanceof Yr)o.wrap(a.getFirstRange(),s);else{const l=r.mapper.toViewRange(e.range),c=o.wrap(l,s);for(const u of c.getItems())if(u.is("attributeElement")&&u.isSimilar(s)){r.mapper.bindElementToMarker(u,e.markerName);break}}}}function lJ(n){return(t,e,r)=>{if(!e.item||!(e.item instanceof at))return;const i=Iw(n,e,r);if(!i||!r.consumable.test(e.item,t.name))return;const o=r.mapper.toViewElement(e.item);if(o&&o.getCustomProperty("addHighlight")){r.consumable.consume(e.item,t.name);for(const a of Q._createIn(e.item))r.consumable.consume(a.item,t.name);o.getCustomProperty("addHighlight")(o,i,r.writer),r.mapper.bindElementToMarker(o,e.markerName)}}}function cJ(n){return(t,e,r)=>{if(e.markerRange.isCollapsed)return;const i=Iw(n,e,r);if(!i)return;const o=dI(r.writer,i),s=r.mapper.markerNameToElements(e.markerName);if(s){for(const a of s)r.mapper.unbindElementFromMarkerName(a,e.markerName),a.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(a),o):a.getCustomProperty("removeHighlight")(a,i.id,r.writer);r.writer.clearClonedElementsGroup(e.markerName),t.stop()}}}function uJ(n){const t=hI(n.model),e=Yu(n.view,"container");return t.attributes.length&&(t.children=!0),r=>{r.on(`insert:${t.name}`,XY(e,gI(t)),{priority:n.converterPriority||"normal"}),(t.children||t.attributes.length)&&r.on("reduceChanges",mI(t),{priority:"low"})}}function dJ(n){const t=hI(n.model),e=Yu(n.view,"container");return t.children=!0,r=>{if(r._conversionApi.schema.checkChild(t.name,"$text"))throw new q("conversion-element-to-structure-disallowed-text",r,{elementName:t.name});r.on(`insert:${t.name}`,QY(e,gI(t)),{priority:n.converterPriority||"normal"}),r.on("reduceChanges",mI(t),{priority:"low"})}}function hJ(n){n=Nr(n);let t=n.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const i of t.values)n.view[i]=Yu(n.view[i],"attribute");else n.view=Yu(n.view,"attribute");const r=fI(n);return i=>{i.on(e,JY(r),{priority:n.converterPriority||"normal"})}}function fJ(n){n=Nr(n);let t=n.model;typeof t=="string"&&(t={key:t});let e=`attribute:${t.key}`;if(t.name&&(e+=":"+t.name),t.values)for(const i of t.values)n.view[i]=G2(n.view[i]);else n.view=G2(n.view);const r=fI(n);return i=>{i.on(e,sJ(r),{priority:n.converterPriority||"normal"})}}function mJ(n){const t=Yu(n.view,"ui");return e=>{e.on(`addMarker:${n.model}`,eJ(t),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,tJ(),{priority:n.converterPriority||"normal"})}}function gJ(n){n=Nr(n);const t=n.model;let e=n.view;return e||(e=r=>({group:t,name:r.substr(n.model.length+1)})),r=>{r.on(`addMarker:${t}`,nJ(e),{priority:n.converterPriority||"normal"}),r.on(`removeMarker:${t}`,oJ(e),{priority:n.converterPriority||"normal"})}}function pJ(n){return t=>{t.on(`addMarker:${n.model}`,aJ(n.view),{priority:n.converterPriority||"normal"}),t.on(`addMarker:${n.model}`,lJ(n.view),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,cJ(n.view),{priority:n.converterPriority||"normal"})}}function hI(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?pt(n.attributes):[],children:!!n.children}}function Yu(n,t){return typeof n=="function"?n:(e,r)=>bJ(n,r,t)}function bJ(n,t,e){typeof n=="string"&&(n={name:n});let r;const i=t.writer,o=Object.assign({},n.attributes);if(e=="container")r=i.createContainerElement(n.name,o);else if(e=="attribute"){const s={priority:n.priority||Is.DEFAULT_PRIORITY};r=i.createAttributeElement(n.name,o,s)}else r=i.createUIElement(n.name,o);if(n.styles){const s=Object.keys(n.styles);for(const a of s)i.setStyle(a,n.styles[a],r)}if(n.classes){const s=n.classes;if(typeof s=="string")i.addClass(s,r);else for(const a of s)i.addClass(a,r)}return r}function fI(n){return n.model.values?(t,e,r)=>{const i=n.view[t];return i?i(t,e,r):null}:n.view}function G2(n){return typeof n=="string"?t=>({key:n,value:t}):typeof n=="object"?n.value?()=>n:t=>({key:n.key,value:t}):n}function Iw(n,t,e){const r=typeof n=="function"?n(t,e):n;return r?(r.priority||(r.priority=10),r.id||(r.id=t.markerName),r):null}function vJ(n){return(t,e)=>{if(!t.is("element",n.name))return!1;if(e.type=="attribute"){if(n.attributes.includes(e.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function mI(n){const t=vJ(n);return(e,r)=>{const i=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const o of r.changes){const s=o.type=="attribute"?o.range.start.nodeAfter:o.position.parent;if(!s||!t(s,o)){i.push(o);continue}if(!r.reconvertedElements.has(s)){r.reconvertedElements.add(s);const a=re._createBefore(s);let l=i.length;for(let c=i.length-1;c>=0;c--){const u=i[c],h=(u.type=="attribute"?u.range.start:u.position).compareWith(a);if(h=="before"||u.type=="remove"&&h=="same")break;l=c}i.splice(l,0,{type:"remove",name:s.name,position:a,length:1},{type:"reinsert",name:s.name,position:a,length:1})}}r.changes=i}}function gI(n){return(t,e,r={})=>{const i=["insert"];for(const o of n.attributes)t.hasAttribute(o)&&i.push(`attribute:${o}`);return i.every(o=>e.test(t,o))?(r.preflight||i.forEach(o=>e.consume(t,o)),!0):!1}}function yJ(n,t,e){return(r,i)=>{const o=r.createContainerElement("$slot");let s=null;if(i==="children")s=Array.from(n.getChildren());else if(typeof i=="function")s=Array.from(n.getChildren()).filter(a=>i(a));else throw new q("conversion-slot-mode-unknown",e.dispatcher,{modeOrFilter:i});return t.set(o,s),o}}function wJ(n,t,e){const r=Array.from(t.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new q("conversion-slot-filter-overlap",e.dispatcher,{element:n});if(i.size!=n.childCount)throw new q("conversion-slot-filter-incomplete",e.dispatcher,{element:n})}function _J(n,t,e,r){e.mapper.on("modelToViewPosition",s,{priority:"highest"});let i=null,o=null;for([i,o]of t)pI(n,o,e,r),e.writer.move(e.writer.createRangeIn(i),e.writer.createPositionBefore(i)),e.writer.remove(i);e.mapper.off("modelToViewPosition",s);function s(a,l){const c=l.modelPosition.nodeAfter,u=o.indexOf(c);u<0||(l.viewPosition=l.mapper.findPositionIn(i,u))}}function pI(n,t,e,r){for(const i of t)xJ(n.root,i,e,r)||e.convertItem(i)}function xJ(n,t,e,r){const{writer:i,mapper:o}=e;if(!r.reconversion)return!1;const s=o.toViewElement(t);return!s||s.root==n||!e.canReuseView(s)?!1:(i.move(i.createRangeOn(s),o.toViewPosition(re._createBefore(t))),!0)}function kJ(n,t,{preflight:e}={}){return e?t.test(n,"insert"):t.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function bI(n){const{schema:t,document:e}=n.model;for(const r of e.getRoots())if(r.isEmpty&&!t.checkChild(r,"$text")&&t.checkChild(r,"paragraph"))return n.insertElement("paragraph",r),!0;return!1}function vI(n,t,e){const r=e.createContext(n);return!(!e.checkChild(r,"paragraph")||!e.checkChild(r.push("paragraph"),t))}function yI(n,t){const e=t.createElement("paragraph");return t.insert(e,n),t.createPositionAt(e,0)}class CJ extends lI{elementToElement(t){return this.add(wI(t))}elementToAttribute(t){return this.add(SJ(t))}attributeToAttribute(t){return this.add(AJ(t))}elementToMarker(t){return this.add(PJ(t))}dataToMarker(t){return this.add(RJ(t))}}function K2(){return(n,t,e)=>{if(!t.modelRange&&e.consumable.consume(t.viewItem,{name:!0})){const{modelRange:r,modelCursor:i}=e.convertChildren(t.viewItem,t.modelCursor);t.modelRange=r,t.modelCursor=i}}}function EJ(){return(n,t,{schema:e,consumable:r,writer:i})=>{let o=t.modelCursor;if(!r.test(t.viewItem))return;if(!e.checkChild(o,"$text")){if(!vI(o,"$text",e)||t.viewItem.data.trim().length==0)return;o=yI(o,i)}r.consume(t.viewItem);const s=i.createText(t.viewItem.data);i.insert(s,o),t.modelRange=i.createRange(o,o.getShiftedBy(s.offsetSize)),t.modelCursor=t.modelRange.end}}function TJ(n,t){return(e,r)=>{const i=r.newSelection,o=[];for(const a of i.getRanges())o.push(t.toModelRange(a));const s=n.createSelection(o,{backward:i.isBackward});s.isEqual(n.document.selection)||n.change(a=>{a.setSelection(s)})}}function wI(n){n=Nr(n);const t=Pv(n),e=Nw(n.view),r=e?`element:${e}`:"element";return i=>{i.on(r,t,{priority:n.converterPriority||"normal"})}}function SJ(n){n=Nr(n),_I(n);const t=xI(n,!1),e=Nw(n.view),r=e?`element:${e}`:"element";return i=>{i.on(r,t,{priority:n.converterPriority||"low"})}}function AJ(n){n=Nr(n);let t=null;(typeof n.view=="string"||n.view.key)&&(t=NJ(n)),_I(n,t);const e=xI(n,!0);return r=>{r.on("element",e,{priority:n.converterPriority||"low"})}}function PJ(n){const t=DJ(n.model);return wI({...n,model:t})}function RJ(n){n=Nr(n),n.model||(n.model=i=>i?n.view+":"+i:n.view);const t={view:n.view,model:n.model},e=Pv(Z2(t,"start")),r=Pv(Z2(t,"end"));return i=>{i.on(`element:${n.view}-start`,e,{priority:n.converterPriority||"normal"}),i.on(`element:${n.view}-end`,r,{priority:n.converterPriority||"normal"});const o=er.low,s=er.highest,a=er.get(n.converterPriority)/s;i.on("element",OJ(t),{priority:o+a})}}function OJ(n){return(t,e,r)=>{const i=`data-${n.view}`;if(!r.consumable.test(e.viewItem,{attributes:i+"-end-after"})&&!r.consumable.test(e.viewItem,{attributes:i+"-start-after"})&&!r.consumable.test(e.viewItem,{attributes:i+"-end-before"})&&!r.consumable.test(e.viewItem,{attributes:i+"-start-before"}))return;e.modelRange||Object.assign(e,r.convertChildren(e.viewItem,e.modelCursor)),r.consumable.consume(e.viewItem,{attributes:i+"-end-after"})&&o(e.modelRange.end,e.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(e.viewItem,{attributes:i+"-start-after"})&&o(e.modelRange.end,e.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(e.viewItem,{attributes:i+"-end-before"})&&o(e.modelRange.start,e.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(e.viewItem,{attributes:i+"-start-before"})&&o(e.modelRange.start,e.viewItem.getAttribute(i+"-start-before").split(","));function o(s,a){for(const l of a){const c=n.model(l,r),u=r.writer.createElement("$marker",{"data-name":c});r.writer.insert(u,s),e.modelCursor.isEqual(s)?e.modelCursor=e.modelCursor.getShiftedBy(1):e.modelCursor=e.modelCursor._getTransformedByInsertion(s,1),e.modelRange=e.modelRange._getTransformedByInsertion(s,1)[0]}}}}function Nw(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Pv(n){const t=new qs(n.view);return(e,r,i)=>{const o=t.match(r.viewItem);if(!o)return;const s=o.match;if(s.name=!0,!i.consumable.test(r.viewItem,s))return;const a=IJ(n.model,r.viewItem,i);a&&i.safeInsert(a,r.modelCursor)&&(i.consumable.consume(r.viewItem,s),i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r))}}function IJ(n,t,e){return n instanceof Function?n(t,e):e.writer.createElement(n)}function NJ(n){typeof n.view=="string"&&(n.view={key:n.view});const t=n.view.key,e=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let r;return t=="class"||t=="style"?r={[t=="class"?"classes":"styles"]:e}:r={attributes:{[t]:e}},n.view.name&&(r.name=n.view.name),n.view=r,t}function _I(n,t=null){const e=t===null?!0:o=>o.getAttribute(t),r=typeof n.model!="object"?n.model:n.model.key,i=typeof n.model!="object"||typeof n.model.value>"u"?e:n.model.value;n.model={key:r,value:i}}function xI(n,t){const e=new qs(n.view);return(r,i,o)=>{if(!i.modelRange&&t)return;const s=e.match(i.viewItem);if(!s||(MJ(n.view,i.viewItem)?s.match.name=!0:delete s.match.name,!o.consumable.test(i.viewItem,s.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(i.viewItem,o):n.model.value;if(l===null)return;i.modelRange||Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor)),LJ(i.modelRange,{key:a,value:l},t,o)&&(o.consumable.test(i.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(i.viewItem,s.match))}}function MJ(n,t){const e=typeof n=="function"?n(t):n;return typeof e=="object"&&!Nw(e)?!1:!e.classes&&!e.attributes&&!e.styles}function LJ(n,t,e,r){let i=!1;for(const o of Array.from(n.getItems({shallow:e})))r.schema.checkAttribute(o,t.key)&&(i=!0,!o.hasAttribute(t.key)&&r.writer.setAttribute(t.key,t.value,o));return i}function DJ(n){return(t,e)=>{const r=typeof n=="string"?n:n(t,e);return e.writer.createElement("$marker",{"data-name":r})}}function Z2(n,t){const e=(r,i)=>{const o=r.getAttribute("name"),s=n.model(o,i);return i.writer.createElement("$marker",{"data-name":s})};return{view:`${n.view}-${t}`,model:e}}function BJ(n){n.document.registerPostFixer(t=>FJ(t,n))}function FJ(n,t){const e=t.document.selection,r=t.schema,i=[];let o=!1;for(const s of e.getRanges()){const a=kI(s,r);a&&!a.isEqual(s)?(i.push(a),o=!0):i.push(s)}return o&&n.setSelection(zJ(i),{backward:e.isBackward}),!1}function kI(n,t){return n.isCollapsed?VJ(n,t):jJ(n,t)}function VJ(n,t){const e=n.start,r=t.getNearestSelectionRange(e);if(!r){const o=e.getAncestors().reverse().find(s=>t.isObject(s));return o?Q._createOn(o):null}if(!r.isCollapsed)return r;const i=r.start;return e.isEqual(i)?null:new Q(i)}function jJ(n,t){const{start:e,end:r}=n,i=t.checkChild(e,"$text"),o=t.checkChild(r,"$text"),s=t.getLimitElement(e),a=t.getLimitElement(r);if(s===a){if(i&&o)return null;if($J(e,r,t)){const d=e.nodeAfter&&t.isSelectable(e.nodeAfter)?null:t.getNearestSelectionRange(e,"forward"),f=r.nodeBefore&&t.isSelectable(r.nodeBefore)?null:t.getNearestSelectionRange(r,"backward"),m=d?d.start:e,g=f?f.end:r;return new Q(m,g)}}const l=s&&!s.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const u=e.nodeAfter&&r.nodeBefore&&e.nodeAfter.parent===r.nodeBefore.parent,d=l&&(!u||!J2(e.nodeAfter,t)),h=c&&(!u||!J2(r.nodeBefore,t));let f=e,m=r;return d&&(f=re._createBefore(Y2(s,t))),h&&(m=re._createAfter(Y2(a,t))),new Q(f,m)}return null}function Y2(n,t){let e=n,r=e;for(;t.isLimit(r)&&r.parent;)e=r,r=r.parent;return e}function $J(n,t,e){const r=n.nodeAfter&&!e.isLimit(n.nodeAfter)||e.checkChild(n,"$text"),i=t.nodeBefore&&!e.isLimit(t.nodeBefore)||e.checkChild(t,"$text");return r||i}function zJ(n){const t=[...n],e=new Set;let r=1;for(;r<t.length;){const o=t[r],s=t.slice(0,r);for(const[a,l]of s.entries())if(!e.has(a)){if(o.isEqual(l))e.add(a);else if(o.isIntersecting(l)){e.add(a),e.add(r);const c=o.getJoined(l);t.push(c)}}r++}return t.filter((o,s)=>!e.has(s))}function J2(n,t){return n&&t.isSelectable(n)}class HJ extends Ke(){constructor(e,r){super();w(this,"model");w(this,"view");w(this,"mapper");w(this,"downcastDispatcher");this.model=e,this.view=new OY(r),this.mapper=new oI,this.downcastDispatcher=new sI({mapper:this.mapper,schema:e.schema});const i=this.model.document,o=i.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(a=>{this.downcastDispatcher.convertChanges(i.differ,s,a),this.downcastDispatcher.convertSelection(o,s,a)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",TJ(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",UJ(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",cI(),{priority:"lowest"}),this.downcastDispatcher.on("insert",uI(),{priority:"lowest"}),this.downcastDispatcher.on("remove",GY(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",YY()),this.downcastDispatcher.on("selection",KY(),{priority:"low"}),this.downcastDispatcher.on("selection",ZY(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(a=>{if(a.rootName=="$graveyard")return null;const l=new UO(this.view.document,a.name);return l.rootName=a.rootName,this.mapper.bindElements(a,l),l})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const r=typeof e=="string"?e:e.name,i=this.model.markers.get(r);if(!i)throw new q("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:r});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function UJ(n,t,e){return(r,i)=>{if(!(e.document.isComposing&&!Ee.isAndroid))for(let o=0;o<i.targetRanges.length;o++){const s=i.targetRanges[o],a=n.toModelRange(s),l=kI(a,t);!l||l.isEqual(a)||(i.targetRanges[o]=n.toViewRange(l))}}}class au{constructor(){w(this,"_consumables",new Map)}add(t,e){let r;if(t.is("$text")||t.is("documentFragment")){this._consumables.set(t,!0);return}this._consumables.has(t)?r=this._consumables.get(t):(r=new WJ(t),this._consumables.set(t,r)),r.add(e)}test(t,e){const r=this._consumables.get(t);return r===void 0?null:t.is("$text")||t.is("documentFragment")?r:r.test(e)}consume(t,e){return this.test(t,e)?(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0):!1}revert(t,e){const r=this._consumables.get(t);r!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):r.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},r=t.getAttributeKeys();for(const s of r)s=="style"||s=="class"||e.attributes.push(s);const i=t.getClassNames();for(const s of i)e.classes.push(s);const o=t.getStyleNames();for(const s of o)e.styles.push(s);return e}static createFrom(t,e){if(e||(e=new au),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,au.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const r of t.getChildren())e=au.createFrom(r,e);return e}}const ph=["attributes","classes","styles"];class WJ{constructor(t){w(this,"element");w(this,"_canConsumeName");w(this,"_consumables");this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of ph)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of ph)if(e in t){const r=this._test(e,t[e]);if(r!==!0)return r}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of ph)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of ph)e in t&&this._revert(e,t[e])}_add(t,e){const r=pt(e),i=this._consumables[t];for(const o of r){if(t==="attributes"&&(o==="class"||o==="style"))throw new q("viewconsumable-invalid-attribute",this);if(i.set(o,!0),t==="styles")for(const s of this.element.document.stylesProcessor.getRelatedStyles(o))i.set(s,!0)}}_test(t,e){const r=pt(e),i=this._consumables[t];for(const o of r)if(t==="attributes"&&(o==="class"||o==="style")){const s=o=="class"?"classes":"styles",a=this._test(s,[...this._consumables[s].keys()]);if(a!==!0)return a}else{const s=i.get(o);if(s===void 0)return null;if(!s)return!1}return!0}_consume(t,e){const r=pt(e),i=this._consumables[t];for(const o of r)if(t==="attributes"&&(o==="class"||o==="style")){const s=o=="class"?"classes":"styles";this._consume(s,[...this._consumables[s].keys()])}else if(i.set(o,!1),t=="styles")for(const s of this.element.document.stylesProcessor.getRelatedStyles(o))i.set(s,!1)}_revert(t,e){const r=pt(e),i=this._consumables[t];for(const o of r)if(t==="attributes"&&(o==="class"||o==="style")){const s=o=="class"?"classes":"styles";this._revert(s,[...this._consumables[s].keys()])}else i.get(o)===!1&&i.set(o,!0)}}class qJ extends Ke(){constructor(){super();w(this,"_sourceDefinitions",{});w(this,"_attributeProperties",Object.create(null));w(this,"_customChildChecks",new Map);w(this,"_customAttributeChecks",new Map);w(this,"_genericCheckSymbol",Symbol("$generic"));w(this,"_compiledDefinitions");this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,r)=>{r[0]=new $o(r[0])},{priority:"highest"}),this.on("checkChild",(e,r)=>{r[0]=new $o(r[0]),r[1]=this.getDefinition(r[1])},{priority:"highest"})}register(e,r){if(this._sourceDefinitions[e])throw new q("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},r)],this._clearCache()}extend(e,r){if(!this._sourceDefinitions[e])throw new q("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},r)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let r;return typeof e=="string"?r=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?r="$text":r=e.name,this.getDefinitions()[r]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const r=this.getDefinition(e);return!!(r&&r.isBlock)}isLimit(e){const r=this.getDefinition(e);return r?!!(r.isLimit||r.isObject):!1}isObject(e){const r=this.getDefinition(e);return r?!!(r.isObject||r.isLimit&&r.isSelectable&&r.isContent):!1}isInline(e){const r=this.getDefinition(e);return!!(r&&r.isInline)}isSelectable(e){const r=this.getDefinition(e);return r?!!(r.isSelectable||r.isObject):!1}isContent(e){const r=this.getDefinition(e);return r?!!(r.isContent||r.isObject):!1}checkChild(e,r){return r?this._checkContextMatch(e,r):!1}checkAttribute(e,r){const i=this.getDefinition(e.last);if(!i)return!1;const o=this._evaluateAttributeChecks(e,r);return o!==void 0?o:i.allowAttributes.includes(r)}checkMerge(e,r){if(e instanceof re){const i=e.nodeBefore,o=e.nodeAfter;if(!(i instanceof at))throw new q("schema-check-merge-no-element-before",this);if(!(o instanceof at))throw new q("schema-check-merge-no-element-after",this);return this.checkMerge(i,o)}if(this.isLimit(e)||this.isLimit(r))return!1;for(const i of r.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e,r){const i=r!==void 0?r:this._genericCheckSymbol,o=this._customChildChecks.get(i)||[];o.push(e),this._customChildChecks.set(i,o)}addAttributeCheck(e,r){const i=r!==void 0?r:this._genericCheckSymbol,o=this._customAttributeChecks.get(i)||[];o.push(e),this._customAttributeChecks.set(i,o)}setAttributeProperties(e,r){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),r)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let r;for(e instanceof re?r=e.parent:r=(e instanceof Q?[e]:Array.from(e.getRanges())).reduce((o,s)=>{const a=s.getCommonAncestor();return o?o.getCommonAncestor(a,{includeSelf:!0}):a},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}checkAttributeInSelection(e,r){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new lt("",e.getAttributes())];return this.checkAttribute(o,r)}else{const i=e.getRanges();for(const o of i)for(const s of o)if(this.checkAttribute(s.item,r))return!0}return!1}*getValidRanges(e,r){e=lX(e);for(const i of e)yield*this._getValidRangesForRange(i,r)}getNearestSelectionRange(e,r="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Q(e);let i,o;const s=e.getAncestors().reverse().find(a=>this.isLimit(a))||e.root;(r=="both"||r=="backward")&&(i=new Bi({boundaries:Q._createIn(s),startPosition:e,direction:"backward"})),(r=="both"||r=="forward")&&(o=new Bi({boundaries:Q._createIn(s),startPosition:e}));for(const a of aX(i,o)){const l=a.walker==i?"elementEnd":"elementStart",c=a.value;if(c.type==l&&this.isObject(c.item))return Q._createOn(c.item);if(this.checkChild(c.nextPosition,"$text"))return new Q(c.nextPosition)}return null}findAllowedParent(e,r){let i=e.parent;for(;i;){if(this.checkChild(i,r))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,r,i){const o=i.model;for(const[s,a]of Object.entries(r))o.schema.checkAttribute(e,s)&&i.setAttribute(s,a,e)}removeDisallowedAttributes(e,r){for(const i of e)if(i.is("$text"))X2(this,i,r);else{const s=Q._createIn(i).getPositions();for(const a of s){const l=a.nodeBefore||a.parent;X2(this,l,r)}}}getAttributesWithProperty(e,r,i){const o={};for(const[s,a]of e.getAttributes()){const l=this.getAttributeProperties(s);l[r]!==void 0&&(i===void 0||i===l[r])&&(o[s]=a)}return o}createContext(e){return new $o(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},r=this._sourceDefinitions,i=Object.keys(r);for(const s of i)e[s]=GJ(r[s],s);const o=Object.values(e);for(const s of o)KJ(e,s),ZJ(e,s),YJ(e,s),JJ(e,s);for(const s of o)XJ(e,s);for(const s of o)QJ(e,s);for(const s of o)eX(e,s);for(const s of o)nX(e,s);for(const s of o)rX(e,s);this._compiledDefinitions=tX(e)}_checkContextMatch(e,r){const i=e.last;let o=this._evaluateChildChecks(e,r);if(o=o!==void 0?o:r.allowIn.includes(i.name),!o)return!1;const s=this.getDefinition(i),a=e.trimLast();return s?a.length==0?!0:this._checkContextMatch(a,s):!1}_evaluateChildChecks(e,r){const i=this._customChildChecks.get(this._genericCheckSymbol)||[],o=this._customChildChecks.get(r.name)||[];for(const s of[...i,...o]){const a=s(e,r);if(a!==void 0)return a}}_evaluateAttributeChecks(e,r){const i=this._customAttributeChecks.get(this._genericCheckSymbol)||[],o=this._customAttributeChecks.get(r)||[];for(const s of[...i,...o]){const a=s(e,r);if(a!==void 0)return a}}*_getValidRangesForRange(e,r){let i=e.start,o=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(Q._createIn(s),r)),this.checkAttribute(s,r)||(i.isEqual(o)||(yield new Q(i,o)),i=re._createAfter(s)),o=re._createAfter(s);i.isEqual(o)||(yield new Q(i,o))}findOptimalInsertionRange(e,r){const i=e.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return r=="before"||r=="after"?new Q(re._createAt(i,r)):Q._createOn(i);const o=Dt(e.getSelectedBlocks());if(!o)return new Q(e.focus);if(o.isEmpty)return new Q(re._createAt(o,0));const s=re._createAfter(o);return e.focus.isTouching(s)?new Q(s):new Q(re._createBefore(o))}}class $o{constructor(t){w(this,"_items");if(t instanceof $o)return t;let e;typeof t=="string"?e=[t]:Array.isArray(t)?e=t:e=t.getAncestors({includeSelf:!0}),this._items=e.map(sX)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new $o([t]);return e._items=[...this._items,...e._items],e}trimLast(){const t=new $o([]);return t._items=this._items.slice(0,-1),t}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function GJ(n,t){const e={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return iX(n,e),ni(n,e,"allowIn"),ni(n,e,"allowChildren"),ni(n,e,"disallowIn"),ni(n,e,"disallowChildren"),ni(n,e,"allowContentOf"),ni(n,e,"allowWhere"),ni(n,e,"allowAttributes"),ni(n,e,"disallowAttributes"),ni(n,e,"allowAttributesOf"),ni(n,e,"inheritTypesFrom"),oX(n,e),e}function KJ(n,t){for(const e of t.allowIn){const r=n[e];r?r.allowChildren.add(t.name):t.allowIn.delete(e)}}function ZJ(n,t){for(const e of t.allowChildren){const r=n[e];r?r.allowIn.add(t.name):t.allowChildren.delete(e)}}function YJ(n,t){for(const e of t.disallowIn){const r=n[e];r?r.disallowChildren.add(t.name):t.disallowIn.delete(e)}}function JJ(n,t){for(const e of t.disallowChildren){const r=n[e];r?r.disallowIn.add(t.name):t.disallowChildren.delete(e)}}function XJ(n,t){for(const e of t.disallowChildren)t.allowChildren.delete(e);for(const e of t.disallowIn)t.allowIn.delete(e);for(const e of t.disallowAttributes)t.allowAttributes.delete(e)}function QJ(n,t){for(const e of t.allowContentOf){const r=n[e];r&&(r.disallowChildren.forEach(i=>{t.allowChildren.has(i)||(t.disallowChildren.add(i),n[i].disallowIn.add(t.name))}),r.allowChildren.forEach(i=>{t.disallowChildren.has(i)||(t.allowChildren.add(i),n[i].allowIn.add(t.name))}))}}function eX(n,t){for(const e of t.allowWhere){const r=n[e];r&&(r.disallowIn.forEach(i=>{t.allowIn.has(i)||(t.disallowIn.add(i),n[i].disallowChildren.add(t.name))}),r.allowIn.forEach(i=>{t.disallowIn.has(i)||(t.allowIn.add(i),n[i].allowChildren.add(t.name))}))}}function tX(n){const t={};for(const e of Object.values(n))t[e.name]={name:e.name,isBlock:!!e.isBlock,isContent:!!e.isContent,isInline:!!e.isInline,isLimit:!!e.isLimit,isObject:!!e.isObject,isSelectable:!!e.isSelectable,allowIn:Array.from(e.allowIn).filter(r=>!!n[r]),allowChildren:Array.from(e.allowChildren).filter(r=>!!n[r]),allowAttributes:Array.from(e.allowAttributes)};return t}function nX(n,t){for(const e of t.allowAttributesOf){const r=n[e];if(!r)return;r.allowAttributes.forEach(i=>{t.disallowAttributes.has(i)||t.allowAttributes.add(i)})}}function rX(n,t){for(const e of t.inheritTypesFrom){const r=n[e];if(r){const i=Object.keys(r).filter(o=>o.startsWith("is"));for(const o of i)o in t||(t[o]=r[o])}}}function iX(n,t){for(const e of n){const r=Object.keys(e).filter(i=>i.startsWith("is"));for(const i of r)t[i]=!!e[i]}}function ni(n,t,e){for(const r of n){let i=r[e];typeof i=="string"&&(i=[i]),Array.isArray(i)&&i.forEach(o=>t[e].add(o))}}function oX(n,t){for(const e of n){const r=e.inheritAllFrom;r&&(t.allowContentOf.add(r),t.allowWhere.add(r),t.allowAttributesOf.add(r),t.inheritTypesFrom.add(r))}}function sX(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(t){return n.getAttribute(t)}}}function*aX(n,t){let e=!1;for(;!e;){if(e=!0,n){const r=n.next();r.done||(e=!1,yield{walker:n,value:r.value})}if(t){const r=t.next();r.done||(e=!1,yield{walker:t,value:r.value})}}}function*lX(n){for(const t of n)yield*t.getMinimalFlatRanges()}function X2(n,t,e){for(const r of t.getAttributeKeys())n.checkAttribute(t,r)||e.removeAttribute(r,t)}class cX extends We(){constructor(e){super();w(this,"conversionApi");w(this,"_splitParts",new Map);w(this,"_cursorParents",new Map);w(this,"_modelCursor",null);w(this,"_emptyElementsToKeep",new Set);this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(r,i)=>this._convertItem(r,i),convertChildren:(r,i)=>this._convertChildren(r,i),safeInsert:(r,i)=>this._safeInsert(r,i),updateConversionResult:(r,i)=>this._updateConversionResult(r,i),splitToAllowedParent:(r,i)=>this._splitToAllowedParent(r,i),getSplitParts:r=>this._getSplitParts(r),keepEmptyElement:r=>this._keepEmptyElement(r)}}convert(e,r,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=dX(i,r),this.conversionApi.writer=r,this.conversionApi.consumable=au.createFrom(e),this.conversionApi.store={};const{modelRange:o}=this._convertItem(e,this._modelCursor),s=r.createDocumentFragment();if(o){this._removeEmptyElements();for(const a of Array.from(this._modelCursor.parent.getChildren()))r.append(a,s);s.markers=uX(s,r)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,r){const i={viewItem:e,modelCursor:r,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof Q))throw new q("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,r){let i=r.is("position")?r:re._createAt(r,0);const o=new Q(i);for(const s of Array.from(e.getChildren())){const a=this._convertItem(s,i);a.modelRange instanceof Q&&(o.end=a.modelRange.end,i=a.modelCursor)}return{modelRange:o,modelCursor:i}}_safeInsert(e,r){const i=this._splitToAllowedParent(e,r);return i?(this.conversionApi.writer.insert(e,i.position),!0):!1}_updateConversionResult(e,r){const i=this._getSplitParts(e),o=this.conversionApi.writer;r.modelRange||(r.modelRange=o.createRange(o.createPositionBefore(e),o.createPositionAfter(i[i.length-1])));const s=this._cursorParents.get(e);s?r.modelCursor=o.createPositionAt(s,0):r.modelCursor=r.modelRange.end}_splitToAllowedParent(e,r){const{schema:i,writer:o}=this.conversionApi;let s=i.findAllowedParent(r,e);if(s){if(s===r.parent)return{position:r};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return vI(r,e,i)?{position:yI(r,o)}:null;const a=this.conversionApi.writer.split(r,s),l=[];for(const u of a.range.getWalker())if(u.type=="elementEnd")l.push(u.item);else{const d=l.pop(),h=u.item;this._registerSplitPair(d,h)}const c=a.range.end.parent;return this._cursorParents.set(e,c),{position:a.position,cursorParent:c}}_registerSplitPair(e,r){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(r,i),i.push(r)}_getSplitParts(e){let r;return this._splitParts.has(e)?r=this._splitParts.get(e):r=[e],r}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const r of this._splitParts.keys())r.isEmpty&&!this._emptyElementsToKeep.has(r)&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),e=!0);e&&this._removeEmptyElements()}}function uX(n,t){const e=new Set,r=new Map,i=Q._createIn(n).getItems();for(const o of i)o.is("element","$marker")&&e.add(o);for(const o of e){const s=o.getAttribute("data-name"),a=t.createPositionBefore(o);r.has(s)?r.get(s).end=a.clone():r.set(s,new Q(a.clone())),t.remove(o)}return r}function dX(n,t){let e;for(const r of new $o(n)){const i={};for(const s of r.getAttributeKeys())i[s]=r.getAttribute(s);const o=t.createElement(r.name,i);e&&t.insert(o,e),e=re._createAt(o,0)}return e}class hX{getHtml(t){const r=fe.document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(t),r.innerHTML}}class CI{constructor(t){w(this,"domParser");w(this,"domConverter");w(this,"htmlWriter");w(this,"skipComments",!0);this.domParser=new DOMParser,this.domConverter=new QO(t,{renderingMode:"data"}),this.htmlWriter=new hX}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4))||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),r=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);return r}}class fX extends We(){constructor(e,r){super();w(this,"model");w(this,"mapper");w(this,"downcastDispatcher");w(this,"upcastDispatcher");w(this,"viewDocument");w(this,"stylesProcessor");w(this,"htmlProcessor");w(this,"processor");w(this,"_viewWriter");this.model=e,this.mapper=new oI,this.downcastDispatcher=new sI({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",cI(),{priority:"lowest"}),this.downcastDispatcher.on("insert",uI(),{priority:"lowest"}),this.upcastDispatcher=new cX({schema:e.schema}),this.viewDocument=new GO(r),this.stylesProcessor=r,this.htmlProcessor=new CI(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new KO(this.viewDocument),this.upcastDispatcher.on("text",EJ(),{priority:"lowest"}),this.upcastDispatcher.on("element",K2(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",K2(),{priority:"lowest"}),Ke().prototype.decorate.call(this,"init"),Ke().prototype.decorate.call(this,"set"),Ke().prototype.decorate.call(this,"get"),Ke().prototype.decorate.call(this,"toView"),Ke().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},bI)},{priority:"lowest"})}get(e={}){const{rootName:r="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([r]))throw new q("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(r);return o.isAttached()||Ze("datacontroller-get-detached-root",this),i==="empty"&&!this.model.hasContent(o,{ignoreWhitespaces:!0})?"":this.stringify(o,e)}stringify(e,r={}){const i=this.toView(e,r);return this.processor.toData(i)}toView(e,r={}){const i=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const s=Q._createIn(e),a=new Ns(i);this.mapper.bindElements(e,a);const l=e.is("documentFragment")?e.markers:mX(e);return this.downcastDispatcher.convert(s,l,o,r),a}init(e){if(this.model.document.version)throw new q("datacontroller-init-document-not-empty",this);let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new q("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const o of Object.keys(r)){const s=this.model.document.getRoot(o);i.insert(this.parse(r[o],s),s,0)}}),Promise.resolve()}set(e,r={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new q("datacontroller-set-non-existent-root",this);this.model.enqueueChange(r.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(i)){const a=this.model.document.getRoot(s);o.remove(o.createRangeIn(a)),o.insert(this.parse(i[s],a),a,0)}})}parse(e,r="$root"){const i=this.processor.toView(e);return this.toModel(i,r)}toModel(e,r="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,r))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const r of e)if(!this.model.document.getRoot(r))return!1;return!0}}function mX(n){const t=[],e=n.root.document;if(!e)return new Map;const r=Q._createIn(n);for(const i of e.model.markers){const o=i.getRange(),s=o.isCollapsed,a=o.start.isEqual(r.start)||o.end.isEqual(r.end);if(s&&a)t.push([i.name,o]);else{const l=r.getIntersection(o);l&&t.push([i.name,l])}}return t.sort(([i,o],[s,a])=>{if(o.end.compareWith(a.start)!=="after")return 1;if(o.start.compareWith(a.end)!=="before")return-1;switch(o.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(o.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return s.localeCompare(i)}}}),new Map(t)}class gX{constructor(t,e){w(this,"_helpers",new Map);w(this,"_downcast");w(this,"_upcast");this._downcast=pt(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=pt(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const r=this._downcast.includes(e);if(!this._upcast.includes(e)&&!r)throw new q("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:r})}for(t){if(!this._helpers.has(t))throw new q("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:r}of d0(t))this.for("upcast").elementToElement({model:e,view:r,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:r}of d0(t))this.for("upcast").elementToAttribute({view:r,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:r}of d0(t))this.for("upcast").attributeToAttribute({view:r,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:r}){if(this._helpers.has(t))throw new q("conversion-group-exists",this);const i=r?new qY(e):new CJ(e);this._helpers.set(t,i)}}function*d0(n){if(n.model.values)for(const t of n.model.values){const e={key:n.model.key,value:t},r=n.view[t],i=n.upcastAlso?n.upcastAlso[t]:void 0;yield*Q2(e,r,i)}else yield*Q2(n.model,n.view,n.upcastAlso)}function*Q2(n,t,e){if(yield{model:n,view:t},e)for(const r of pt(e))yield{model:n,view:r}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hr{constructor(t){w(this,"baseVersion");w(this,"isDocumentOperation");w(this,"batch");this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function Mw(n,t){const e=TI(t),r=e.reduce((s,a)=>s+a.offsetSize,0),i=n.parent;Qu(n);const o=n.index;return i._insertChild(o,e),Xu(i,o+e.length),Xu(i,o),new Q(n,n.getShiftedBy(r))}function EI(n){if(!n.isFlat)throw new q("operation-utils-remove-range-not-flat",this);const t=n.start.parent;Qu(n.start),Qu(n.end);const e=t._removeChildren(n.start.index,n.end.index-n.start.index);return Xu(t,n.start.index),e}function Ju(n,t){if(!n.isFlat)throw new q("operation-utils-move-range-not-flat",this);const e=EI(n);return t=t._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),Mw(t,e)}function pX(n,t,e){Qu(n.start),Qu(n.end);for(const r of n.getItems({shallow:!0})){const i=r.is("$textProxy")?r.textNode:r;e!==null?i._setAttribute(t,e):i._removeAttribute(t),Xu(i.parent,i.index)}Xu(n.end.parent,n.end.index)}function TI(n){const t=[];function e(r){if(typeof r=="string")t.push(new lt(r));else if(r instanceof Ur)t.push(new lt(r.data,r.getAttributes()));else if(r instanceof sa)t.push(r);else if(dr(r))for(const i of r)e(i)}e(n);for(let r=1;r<t.length;r++){const i=t[r],o=t[r-1];i instanceof lt&&o instanceof lt&&SI(i,o)&&(t.splice(r-1,2,new lt(o.data+i.data,o.getAttributes())),r--)}return t}function Xu(n,t){const e=n.getChild(t-1),r=n.getChild(t);if(e&&r&&e.is("$text")&&r.is("$text")&&SI(e,r)){const i=new lt(e.data+r.data,e.getAttributes());n._removeChildren(t-1,2),n._insertChild(t-1,i)}}function Qu(n){const t=n.textNode,e=n.parent;if(t){const r=n.offset-t.startOffset,i=t.index;e._removeChildren(i,1);const o=new lt(t.data.substr(0,r),t.getAttributes()),s=new lt(t.data.substr(r),t.getAttributes());e._insertChild(i,[o,s])}}function SI(n,t){const e=n.getAttributes(),r=t.getAttributes();for(const i of e){if(i[1]!==t.getAttribute(i[0]))return!1;r.next()}return r.next().done}class Fe extends hr{constructor(e,r,i,o){super(o);w(this,"sourcePosition");w(this,"howMany");w(this,"targetPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Q._createFromPositionAndShift(this.sourcePosition,this.howMany),Q._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Fe(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Fe(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,r=this.targetPosition.parent,i=this.sourcePosition.offset,o=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new q("move-operation-nodes-do-not-exist",this);if(e===r&&i<o&&o<i+this.howMany)throw new q("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&wn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=i&&this.targetPosition.path[s]<i+this.howMany)throw new q("move-operation-node-into-itself",this)}}_execute(){Ju(Q._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,r){const i=re.fromJSON(e.sourcePosition,r),o=re.fromJSON(e.targetPosition,r);return new this(i,e.howMany,o,e.baseVersion)}}class Jt extends hr{constructor(e,r,i){super(i);w(this,"position");w(this,"nodes");w(this,"shouldReceiveAttributes");this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new ou(TI(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new ou([...this.nodes].map(i=>i._clone(!0))),r=new Jt(this.position,e,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const e=this.position.root.document.graveyard,r=new re(e,[0]);return new Fe(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new q("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new ou([...e].map(r=>r._clone(!0))),Mw(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,r){const i=[];for(const s of e.nodes)s.name?i.push(at.fromJSON(s)):i.push(lt.fromJSON(s));const o=new Jt(re.fromJSON(e.position,r),i,e.baseVersion);return o.shouldReceiveAttributes=e.shouldReceiveAttributes,o}}class Ue extends hr{constructor(e,r,i,o,s){super(s);w(this,"splitPosition");w(this,"howMany");w(this,"insertionPosition");w(this,"graveyardPosition");this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=i,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new re(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Q(this.splitPosition,e)}get affectedSelectable(){const e=[Q._createFromPositionAndShift(this.splitPosition,0),Q._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Q._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Ue(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,r=new re(e,[0]);return new Ct(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,r=this.splitPosition.offset;if(!e||e.maxOffset<r)throw new q("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new q("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new q("split-operation-graveyard-position-invalid",this)}else throw new q("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Ju(Q._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();Mw(this.insertionPosition,i)}const r=new Q(re._createAt(e,this.splitPosition.offset),re._createAt(e,e.maxOffset));Ju(r,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const r=e.path.slice(0,-1);return r[r.length-1]++,new re(e.root,r,"toPrevious")}static fromJSON(e,r){const i=re.fromJSON(e.splitPosition,r),o=re.fromJSON(e.insertionPosition,r),s=e.graveyardPosition?re.fromJSON(e.graveyardPosition,r):null;return new this(i,e.howMany,o,s,e.baseVersion)}}class Ct extends hr{constructor(e,r,i,o,s){super(s);w(this,"sourcePosition");w(this,"howMany");w(this,"targetPosition");w(this,"graveyardPosition");this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new re(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Q(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Q._createOn(e),Q._createFromPositionAndShift(this.targetPosition,0),Q._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Ct(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),i=new re(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new Ue(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,r=this.targetPosition.parent;if(e.parent)if(r.parent){if(this.howMany!=e.maxOffset)throw new q("merge-operation-how-many-invalid",this)}else throw new q("merge-operation-target-position-invalid",this);else throw new q("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,r=Q._createIn(e);Ju(r,this.targetPosition),Ju(Q._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,r){const i=re.fromJSON(e.sourcePosition,r),o=re.fromJSON(e.targetPosition,r),s=re.fromJSON(e.graveyardPosition,r);return new this(i,e.howMany,o,s,e.baseVersion)}}class xn extends hr{constructor(e,r,i,o,s,a){super(a);w(this,"name");w(this,"oldRange");w(this,"newRange");w(this,"affectsData");w(this,"_markers");this.name=e,this.oldRange=r?r.clone():null,this.newRange=i?i.clone():null,this.affectsData=s,this._markers=o}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new xn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new xn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,r){return new xn(e.name,e.oldRange?Q.fromJSON(e.oldRange,r):null,e.newRange?Q.fromJSON(e.newRange,r):null,r.model.markers,e.affectsData,e.baseVersion)}}class Ot extends hr{constructor(e,r,i,o,s){super(s);w(this,"range");w(this,"key");w(this,"oldValue");w(this,"newValue");this.range=e.clone(),this.key=r,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Ot(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ot(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new q("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Rl(e.getAttribute(this.key),this.oldValue))throw new q("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new q("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Rl(this.oldValue,this.newValue)||pX(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,r){return new Ot(Q.fromJSON(e.range,r),e.key,e.oldValue,e.newValue,e.baseVersion)}}class jt extends hr{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new jt(this.baseVersion)}getReversed(){return new jt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class $n extends hr{constructor(e,r,i,o){super(o);w(this,"position");w(this,"oldName");w(this,"newName");this.position=e,this.position.stickiness="toNext",this.oldName=r,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new $n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new $n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof at){if(e.name!==this.oldName)throw new q("rename-operation-wrong-name",this)}else throw new q("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,r){return new $n(re.fromJSON(e.position,r),e.oldName,e.newName,e.baseVersion)}}class ji extends hr{constructor(e,r,i,o,s){super(s);w(this,"root");w(this,"key");w(this,"oldValue");w(this,"newValue");this.root=e,this.key=r,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new ji(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ji(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new q("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new q("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new q("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,r){if(!r.getRoot(e.root))throw new q("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new ji(r.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class bi extends hr{constructor(e,r,i,o,s){super(s);w(this,"rootName");w(this,"elementName");w(this,"isAdd");w(this,"_document");if(this.rootName=e,this.elementName=r,this.isAdd=i,this._document=o,!this._document.getRoot(this.rootName)){const a=this._document.createRoot(this.elementName,this.rootName);a._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new bi(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new bi(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,r){return new bi(e.rootName,e.elementName,e.isAdd,r,e.baseVersion)}}const Mr={};Mr[Ot.className]=Ot;Mr[Jt.className]=Jt;Mr[xn.className]=xn;Mr[Fe.className]=Fe;Mr[jt.className]=jt;Mr[hr.className]=hr;Mr[$n.className]=$n;Mr[ji.className]=ji;Mr[bi.className]=bi;Mr[Ue.className]=Ue;Mr[Ct.className]=Ct;class bX{static fromJSON(t,e){return Mr[t.__className].fromJSON(t,e)}}const Rv=new Map;function De(n,t,e){let r=Rv.get(n);r||(r=new Map,Rv.set(n,r)),r.set(t,e)}function vX(n,t){const e=Rv.get(n);return e&&e.has(t)?e.get(t):yX}function yX(n){return[n]}function eC(n,t,e={}){const r=vX(n.constructor,t.constructor);try{return n=n.clone(),r(n,t,e)}catch(i){throw i}}function wX(n,t,e){n=n.slice(),t=t.slice();const r=new _X(e.document,e.useRelations,e.forceWeakRemove);r.setOriginalOperations(n),r.setOriginalOperations(t);const i=r.originalOperations;if(n.length==0||t.length==0)return{operationsA:n,operationsB:t,originalOperations:i};const o=new WeakMap;for(const l of n)o.set(l,0);const s={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:t.length};let a=0;for(;a<n.length;){const l=n[a],c=o.get(l);if(c==t.length){a++;continue}const u=t[c],d=eC(l,u,r.getContext(l,u,!0)),h=eC(u,l,r.getContext(u,l,!1));r.updateRelation(l,u),r.setOriginalOperations(d,l),r.setOriginalOperations(h,u);for(const f of d)o.set(f,c+h.length);n.splice(a,1,...d),t.splice(c,1,...h)}return nC(n),nC(t),tC(n,s.nextBaseVersionB),tC(t,s.nextBaseVersionA),{operationsA:n,operationsB:t,originalOperations:i}}class _X{constructor(t,e,r=!1){w(this,"originalOperations");w(this,"_history");w(this,"_useRelations");w(this,"_forceWeakRemove");w(this,"_relations");this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(t,e=null){const r=e?this.originalOperations.get(e):null;for(const i of t)this.originalOperations.set(i,r||i)}updateRelation(t,e){if(t instanceof Fe)e instanceof Ct?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof Fe&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof Ue){if(e instanceof Ct)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof Fe)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const r=Q._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){const i=r.end.offset-t.splitPosition.offset,o=t.splitPosition.offset-r.start.offset;this._setRelation(t,e,{howMany:i,offset:o})}}}else if(t instanceof Ct)e instanceof Ct?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof Ue?t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource"):e instanceof Fe&&e.howMany>0&&(t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))&&this._setRelation(t,e,"mergeSourceAffected"),t.targetPosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeTargetWasBefore"));else if(t instanceof xn){const r=t.newRange;if(!r)return;if(e instanceof Ct){const i=r.start.isEqual(e.targetPosition),o=r.start.isEqual(e.deletionPosition),s=r.end.isEqual(e.deletionPosition),a=r.end.isEqual(e.sourcePosition);(i||o||s||a)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:s,wasInRightElement:a})}}}getContext(t,e,r){return{aIsStrong:r,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const r=this.originalOperations.get(e),i=this._history.getUndoneOperation(r);if(!i)return null;const o=this.originalOperations.get(t),s=this._relations.get(o);return s&&s.get(i)||null}_setRelation(t,e,r){const i=this.originalOperations.get(t),o=this.originalOperations.get(e);let s=this._relations.get(i);s||(s=new Map,this._relations.set(i,s)),s.set(o,r)}}function tC(n,t){for(const e of n)e.baseVersion=t++}function nC(n){const t=new Map;for(let e=0;e<n.length;e++){const r=n[e];r instanceof xn&&(r.baseVersion!==-1?t.set(r.name,{op:r,ranges:r.newRange?[r.newRange]:[]}):(r.newRange&&t.get(r.name).ranges.push(r.newRange),n.splice(e,1),e--))}for(const{op:e,ranges:r}of t.values())r.length?e.newRange=Q._createFromRanges(r):e.newRange=null}De(Ot,Ot,(n,t,e)=>{if(n.key===t.key&&n.range.start.hasSameParentAs(t.range.start)){const r=n.range.getDifference(t.range).map(o=>new Ot(o,n.key,n.oldValue,n.newValue,0)),i=n.range.getIntersection(t.range);return i&&e.aIsStrong&&r.push(new Ot(i,t.key,t.newValue,n.newValue,0)),r.length==0?[new jt(0)]:r}else return[n]});De(Ot,Jt,(n,t)=>{if(n.range.start.hasSameParentAs(t.position)&&n.range.containsPosition(t.position)){const r=n.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(i=>new Ot(i,n.key,n.oldValue,n.newValue,n.baseVersion));if(t.shouldReceiveAttributes){const i=AI(t,n.key,n.oldValue);i&&r.unshift(i)}return r}return n.range=n.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[n]});function AI(n,t,e){const i=n.nodes.getNode(0).getAttribute(t);if(i==e)return null;const o=new Q(n.position,n.position.getShiftedBy(n.howMany));return new Ot(o,t,i,e,0)}De(Ot,Ct,(n,t)=>{const e=[];n.range.start.hasSameParentAs(t.deletionPosition)&&(n.range.containsPosition(t.deletionPosition)||n.range.start.isEqual(t.deletionPosition))&&e.push(Q._createFromPositionAndShift(t.graveyardPosition,1));const r=n.range._getTransformedByMergeOperation(t);return r.isCollapsed||e.push(r),e.map(i=>new Ot(i,n.key,n.oldValue,n.newValue,n.baseVersion))});De(Ot,Fe,(n,t)=>xX(n.range,t).map(r=>new Ot(r,n.key,n.oldValue,n.newValue,n.baseVersion)));function xX(n,t){const e=Q._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=null,i=[];e.containsRange(n,!0)?r=n:n.start.hasSameParentAs(e.start)?(i=n.getDifference(e),r=n.getIntersection(e)):i=[n];const o=[];for(let s of i){s=s._getTransformedByDeletion(t.sourcePosition,t.howMany);const a=t.getMovedRangeStart(),l=s.start.hasSameParentAs(a),c=s._getTransformedByInsertion(a,t.howMany,l);o.push(...c)}return r&&o.push(r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),o}De(Ot,Ue,(n,t)=>{if(n.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(t.splitPosition)&&n.range.containsPosition(t.splitPosition)){const e=n.clone();return e.range=new Q(t.moveTargetPosition.clone(),n.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),n.range.end=t.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,e]}return n.range=n.range._getTransformedBySplitOperation(t),[n]});De(Jt,Ot,(n,t)=>{const e=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(n.position)){const r=AI(n,t.key,t.newValue);r&&e.push(r)}return e});De(Jt,Jt,(n,t,e)=>n.position.isEqual(t.position)&&e.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(t),[n]));De(Jt,Fe,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n]));De(Jt,Ue,(n,t)=>(n.position=n.position._getTransformedBySplitOperation(t),[n]));De(Jt,Ct,(n,t)=>(n.position=n.position._getTransformedByMergeOperation(t),[n]));De(xn,Jt,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(t)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(t)[0]),[n]));De(xn,xn,(n,t,e)=>{if(n.name==t.name)if(e.aIsStrong)n.oldRange=t.newRange?t.newRange.clone():null;else return[new jt(0)];return[n]});De(xn,Ct,(n,t)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(t)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(t)),[n]));De(xn,Fe,(n,t)=>{const e=[n];if(n.oldRange&&(n.oldRange=Q._createFromRanges(n.oldRange._getTransformedByMoveOperation(t))),n.newRange){const r=n.newRange._getTransformedByMoveOperation(t);n.newRange=r[0];for(let i=1;i<r.length;i++){const o=n.clone();o.oldRange=null,o.newRange=r[i],o.baseVersion=-1,e.push(o)}}return e});De(xn,Ue,(n,t,e)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(t)),n.newRange){if(e.abRelation){const r=n.newRange._getTransformedBySplitOperation(t);return n.newRange.start.isEqual(t.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?n.newRange.start=re._createAt(t.insertionPosition):n.newRange.start.isEqual(t.splitPosition)&&!e.abRelation.wasInLeftElement?n.newRange.start=re._createAt(t.moveTargetPosition):n.newRange.start=r.start,n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasInRightElement?n.newRange.end=re._createAt(t.moveTargetPosition):n.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?n.newRange.end=re._createAt(t.insertionPosition):n.newRange.end=r.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(t)}return[n]});De(Ct,Jt,(n,t)=>(n.sourcePosition.hasSameParentAs(t.position)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(t),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t),[n]));De(Ct,Ct,(n,t,e)=>{if(n.sourcePosition.isEqual(t.sourcePosition)&&n.targetPosition.isEqual(t.targetPosition))if(e.bWasUndone){const r=t.graveyardPosition.path.slice();return r.push(0),n.sourcePosition=new re(t.graveyardPosition.root,r),n.howMany=0,[n]}else return[new jt(0)];if(n.sourcePosition.isEqual(t.sourcePosition)&&!n.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){const r=n.targetPosition.root.rootName=="$graveyard",i=t.targetPosition.root.rootName=="$graveyard";if(i&&!r||!(r&&!i)&&e.aIsStrong){const l=t.targetPosition._getTransformedByMergeOperation(t),c=n.targetPosition._getTransformedByMergeOperation(t);return[new Fe(l,n.howMany,c,0)]}else return[new jt(0)]}return n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(t),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),(!n.graveyardPosition.isEqual(t.graveyardPosition)||!e.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]});De(Ct,Fe,(n,t,e)=>{const r=Q._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!e.bWasUndone&&n.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(n.sourcePosition)?[new jt(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(n.sourcePosition)&&e.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=t.howMany):t.targetPosition.isEqual(n.targetPosition)&&e.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=t.howMany):(n.sourcePosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.sourcePosition.hasSameParentAs(t.sourcePosition)&&(n.howMany-=t.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(t),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(t),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(t.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)),[n])});De(Ct,Ue,(n,t,e)=>{if(t.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),n.deletionPosition.isEqual(t.graveyardPosition)&&(n.howMany=t.howMany)),n.targetPosition.isEqual(t.splitPosition)&&(t.graveyardPosition&&n.deletionPosition.isEqual(t.graveyardPosition)||e.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),[n];if(n.sourcePosition.isEqual(t.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n];if(e.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=t.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]}return n.sourcePosition.hasSameParentAs(t.splitPosition)&&(n.howMany=t.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(t),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(t),[n]});De(Fe,Jt,(n,t)=>{const r=Q._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(t,!1)[0];return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition.isEqual(t.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(t)),[n]});De(Fe,Fe,(n,t,e)=>{const r=Q._createFromPositionAndShift(n.sourcePosition,n.howMany),i=Q._createFromPositionAndShift(t.sourcePosition,t.howMany);let o=e.aIsStrong,s=!e.aIsStrong;e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?s=!0:(e.abRelation=="insertAfter"||e.baRelation=="insertBefore")&&(s=!1);let a;if(n.targetPosition.isEqual(t.targetPosition)&&s?a=n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):a=n.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),rC(n,t)&&rC(t,n))return[t.getReversed()];if(r.containsPosition(t.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),el([r],a);if(i.containsPosition(n.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),el([r],a);const u=wn(n.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(u=="prefix"||u=="extension")return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),el([r],a);n.type=="remove"&&t.type!="remove"&&!e.aWasUndone&&!e.forceWeakRemove?o=!0:n.type!="remove"&&t.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&(o=!1);const d=[],h=r.getDifference(i);for(const m of h){m.start=m.start._getTransformedByDeletion(t.sourcePosition,t.howMany),m.end=m.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const g=wn(m.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",v=m._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,g);d.push(...v)}const f=r.getIntersection(i);return f!==null&&o&&(f.start=f.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),f.end=f.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),d.length===0?d.push(f):d.length==1?i.start.isBefore(r.start)||i.start.isEqual(r.start)?d.unshift(f):d.push(f):d.splice(1,0,f)),d.length===0?[new jt(n.baseVersion)]:el(d,a)});De(Fe,Ue,(n,t,e)=>{let r=n.targetPosition.clone();(!n.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||e.abRelation=="moveTargetAfter")&&(r=n.targetPosition._getTransformedBySplitOperation(t));const i=Q._createFromPositionAndShift(n.sourcePosition,n.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||n.howMany++,n.targetPosition=r,[n];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){let a=new Q(t.splitPosition,i.end);a=a._getTransformedBySplitOperation(t);const l=[new Q(i.start,t.splitPosition),a];return el(l,r)}n.targetPosition.isEqual(t.splitPosition)&&e.abRelation=="insertAtSource"&&(r=t.moveTargetPosition),n.targetPosition.isEqual(t.insertionPosition)&&e.abRelation=="insertBetween"&&(r=n.targetPosition);const s=[i._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const a=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);n.howMany>1&&a&&!e.aWasUndone&&s.push(Q._createFromPositionAndShift(t.insertionPosition,1))}return el(s,r)});De(Fe,Ct,(n,t,e)=>{const r=Q._createFromPositionAndShift(n.sourcePosition,n.howMany);if(t.deletionPosition.hasSameParentAs(n.sourcePosition)&&r.containsPosition(t.sourcePosition)){if(n.type=="remove"&&!e.forceWeakRemove){if(!e.aWasUndone){const s=[];let a=t.graveyardPosition.clone(),l=t.targetPosition._getTransformedByMergeOperation(t);const c=n.targetPosition.getTransformedByOperation(t);n.howMany>1&&(s.push(new Fe(n.sourcePosition,n.howMany-1,c,0)),a=a._getTransformedByMove(n.sourcePosition,c,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,c,n.howMany-1));const u=t.deletionPosition._getCombined(n.sourcePosition,c),d=new Fe(a,1,u,0),h=d.getMovedRangeStart().path.slice();h.push(0);const f=new re(d.targetPosition.root,h);l=l._getTransformedByMove(a,u,1);const m=new Fe(l,t.howMany,f,0);return s.push(d),s.push(m),s}}else if(n.howMany==1)return e.bWasUndone?(n.sourcePosition=t.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]):[new jt(0)]}const o=Q._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(t);return n.sourcePosition=o.start,n.howMany=o.end.offset-o.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(t),[n]});De($n,Jt,(n,t)=>(n.position=n.position._getTransformedByInsertOperation(t),[n]));De($n,Ct,(n,t)=>n.position.isEqual(t.deletionPosition)?(n.position=t.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(t),[n]));De($n,Fe,(n,t)=>(n.position=n.position._getTransformedByMoveOperation(t),[n]));De($n,$n,(n,t,e)=>{if(n.position.isEqual(t.position))if(e.aIsStrong)n.oldName=t.newName;else return[new jt(0)];return[n]});De($n,Ue,(n,t)=>{const e=n.position.path,r=t.splitPosition.getParentPath();if(wn(e,r)=="same"&&!t.graveyardPosition){const i=new $n(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,i]}return n.position=n.position._getTransformedBySplitOperation(t),[n]});De(ji,ji,(n,t,e)=>{if(n.root===t.root&&n.key===t.key){if(!e.aIsStrong||n.newValue===t.newValue)return[new jt(0)];n.oldValue=t.newValue}return[n]});De(bi,bi,(n,t)=>n.rootName===t.rootName&&n.isAdd===t.isAdd?[new jt(0)]:[n]);De(Ue,Jt,(n,t)=>(n.splitPosition.hasSameParentAs(t.position)&&n.splitPosition.offset<t.position.offset&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(t),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(t),[n]));De(Ue,Ct,(n,t,e)=>{if(!n.graveyardPosition&&!e.bWasUndone&&n.splitPosition.hasSameParentAs(t.sourcePosition)){const r=t.graveyardPosition.path.slice();r.push(0);const i=new re(t.graveyardPosition.root,r),o=Ue.getInsertionPosition(new re(t.graveyardPosition.root,r)),s=new Ue(i,0,o,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=Ue.getInsertionPosition(n.splitPosition),n.graveyardPosition=s.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[s,n]}return n.splitPosition.hasSameParentAs(t.deletionPosition)&&!n.splitPosition.isAfter(t.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(t.targetPosition)&&(n.howMany+=t.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(t),n.insertionPosition=Ue.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(t)),[n]});De(Ue,Fe,(n,t,e)=>{const r=Q._createFromPositionAndShift(t.sourcePosition,t.howMany);if(n.graveyardPosition){const o=r.start.isEqual(n.graveyardPosition)||r.containsPosition(n.graveyardPosition);if(!e.bWasUndone&&o){const s=n.splitPosition._getTransformedByMoveOperation(t),a=n.graveyardPosition._getTransformedByMoveOperation(t),l=a.path.slice();l.push(0);const c=new re(a.root,l);return[new Fe(s,n.howMany,c,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(t)}const i=n.splitPosition.isEqual(t.targetPosition);if(i&&(e.baRelation=="insertAtSource"||e.abRelation=="splitBefore"))return n.howMany+=t.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),n.insertionPosition=Ue.getInsertionPosition(n.splitPosition),[n];if(i&&e.abRelation&&e.abRelation.howMany){const{howMany:o,offset:s}=e.abRelation;return n.howMany+=o,n.splitPosition=n.splitPosition.getShiftedBy(s),[n]}if(n.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(n.splitPosition)){const o=t.howMany-(n.splitPosition.offset-t.sourcePosition.offset);return n.howMany-=o,n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany),n.splitPosition=t.sourcePosition.clone(),n.insertionPosition=Ue.getInsertionPosition(n.splitPosition),[n]}return t.sourcePosition.isEqual(t.targetPosition)||(n.splitPosition.hasSameParentAs(t.sourcePosition)&&n.splitPosition.offset<=t.sourcePosition.offset&&(n.howMany-=t.howMany),n.splitPosition.hasSameParentAs(t.targetPosition)&&n.splitPosition.offset<t.targetPosition.offset&&(n.howMany+=t.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(t),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(t):n.insertionPosition=Ue.getInsertionPosition(n.splitPosition),[n]});De(Ue,Ue,(n,t,e)=>{if(n.splitPosition.isEqual(t.splitPosition)){if(!n.graveyardPosition&&!t.graveyardPosition)return[new jt(0)];if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition))return[new jt(0)];if(e.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t),[n]}if(n.graveyardPosition&&t.graveyardPosition&&n.graveyardPosition.isEqual(t.graveyardPosition)){const r=n.splitPosition.root.rootName=="$graveyard",i=t.splitPosition.root.rootName=="$graveyard";if(i&&!r||!(r&&!i)&&e.aIsStrong){const l=[];return t.howMany&&l.push(new Fe(t.moveTargetPosition,t.howMany,t.splitPosition,0)),n.howMany&&l.push(new Fe(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new jt(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(t)),n.splitPosition.isEqual(t.insertionPosition)&&e.abRelation=="splitBefore")return n.howMany++,[n];if(t.splitPosition.isEqual(n.insertionPosition)&&e.baRelation=="splitBefore"){const r=t.insertionPosition.path.slice();r.push(0);const i=new re(t.insertionPosition.root,r),o=new Fe(n.insertionPosition,1,i,0);return[n,o]}return n.splitPosition.hasSameParentAs(t.splitPosition)&&n.splitPosition.offset<t.splitPosition.offset&&(n.howMany-=t.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(t),n.insertionPosition=Ue.getInsertionPosition(n.splitPosition),[n]});function rC(n,t){return n.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function el(n,t){const e=[];for(let r=0;r<n.length;r++){const i=n[r],o=new Fe(i.start,i.end.offset-i.start.offset,t,0);e.push(o);for(let s=r+1;s<n.length;s++)n[s]=n[s]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return e}class Sn extends We(re){constructor(t,e,r="toNone"){if(super(t,e,r),!this.root.is("rootElement"))throw new q("model-liveposition-root-not-rootelement",t);kX.call(this)}detach(){this.stopListening()}toPosition(){return new re(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}Sn.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function kX(){this.listenTo(this.root.document.model,"applyOperation",(n,t)=>{const e=t[0];e.isDocumentOperation&&CX.call(this,e)},{priority:"low"})}function CX(n){const t=this.getTransformedByOperation(n);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}class va{constructor(t={}){w(this,"operations");w(this,"isUndoable");w(this,"isLocal");w(this,"isUndo");w(this,"isTyping");typeof t=="string"&&(t=t==="transparent"?{isUndoable:!1}:{},Ze("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:r=!0,isUndo:i=!1,isTyping:o=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=r,this.isUndo=i,this.isTyping=o}get type(){return Ze("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}const gu=class gu{constructor(t){w(this,"_markerCollection");w(this,"_changesInElement",new Map);w(this,"_elementsSnapshots",new Map);w(this,"_elementChildrenSnapshots",new Map);w(this,"_elementState",new Map);w(this,"_changedMarkers",new Map);w(this,"_changedRoots",new Map);w(this,"_changeCount",0);w(this,"_cachedChanges",null);w(this,"_cachedChangesWithGraveyard",null);w(this,"_refreshedItems",new Set);this._markerCollection=t}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(t){const e=t;switch(e.type){case"insert":{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const r of e.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break}case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const r=this._isInInsertedElement(e.sourcePosition.parent),i=this._isInInsertedElement(e.targetPosition.parent);r||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),i||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);const o=Q._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const s of o.getItems({shallow:!0}))this._setElementState(s,"move");break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const r=Q._createFromPositionAndShift(e.position,1);for(const i of this._markerCollection.getMarkersIntersectingRange(r)){const o=i.getData();this.bufferMarkerChange(i.name,o,o)}this._setElementState(e.position.nodeAfter,"rename");break}case"split":{const r=e.splitPosition.parent;if(!this._isInInsertedElement(r)){this._markRemove(r,e.splitPosition.offset,e.howMany);const i=Q._createFromPositionAndShift(e.splitPosition,e.howMany);for(const o of i.getItems({shallow:!0}))this._setElementState(o,"move")}this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&(this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1),this._setElementState(e.graveyardPosition.nodeAfter,"move"));break}case"merge":{const r=e.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const i=e.graveyardPosition.parent;this._markInsert(i,e.graveyardPosition.offset,1),this._setElementState(r,"move");const o=e.targetPosition.parent;if(!this._isInInsertedElement(o)){this._markInsert(o,e.targetPosition.offset,r.maxOffset);const s=Q._createFromPositionAndShift(e.sourcePosition,e.howMany);for(const a of s.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const r=e.affectedSelectable;if(!r._isLoaded||r.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const r=e.root.rootName;this._bufferRootAttributeChange(r,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,r){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let i=this._changedMarkers.get(t);i?i.newMarkerData=r:(i={newMarkerData:r,oldMarkerData:e},this._changedMarkers.set(t,i)),i.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,r]of this._changedMarkers)r.oldMarkerData.range!=null&&t.push({name:e,range:r.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,r]of this._changedMarkers)r.newMarkerData.range!=null&&t.push({name:e,range:r.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const r=t.range&&!e.range,i=!t.range&&e.range,o=t.range&&e.range&&!t.range.isEqual(e.range);if(r||i||o)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const r of this._changesInElement.keys()){const i=this._changesInElement.get(r).sort((u,d)=>u.offset===d.offset?u.type!=d.type?u.type=="remove"?-1:1:0:u.offset<d.offset?-1:1),o=this._elementChildrenSnapshots.get(r),s=oC(r.getChildren()),a=EX(o.length,i);let l=0,c=0;for(const u of a)if(u==="i"){const d=this._getDiffActionForNode(s[l].node,"insert"),h=this._elementsSnapshots.get(s[l].node),f=this._getInsertDiff(r,l,d,s[l],h);e.push(f),l++}else if(u==="r"){const d=this._getDiffActionForNode(o[c].node,"remove"),h=this._getRemoveDiff(r,l,d,o[c]);e.push(h),c++}else if(u==="a"){const d=o[c].attributes,h=s[l].attributes;let f;if(s[l].name=="$text")f=new Q(re._createAt(r,l),re._createAt(r,l+1));else{const g=r.offsetToIndex(l);f=new Q(re._createAt(r,l),re._createAt(r.getChild(g),0))}const m=this._getAttributesDiff(f,d,h);e.push(...m),l++,c++}else l++,c++}e.sort((r,i)=>r.position.root!=i.position.root?r.position.root.rootName<i.position.root.rootName?-1:1:r.position.isEqual(i.position)?r.changeCount-i.changeCount:r.position.isBefore(i.position)?-1:1);for(let r=1,i=0;r<e.length;r++){const o=e[i],s=e[r],a=o.type=="remove"&&s.type=="remove"&&o.name=="$text"&&s.name=="$text"&&o.position.isEqual(s.position),l=o.type=="insert"&&s.type=="insert"&&o.name=="$text"&&s.name=="$text"&&o.position.parent==s.position.parent&&o.position.offset+o.length==s.position.offset,c=o.type=="attribute"&&s.type=="attribute"&&o.position.parent==s.position.parent&&o.range.isFlat&&s.range.isFlat&&o.position.offset+o.length==s.position.offset&&o.attributeKey==s.attributeKey&&o.attributeOldValue==s.attributeOldValue&&o.attributeNewValue==s.attributeNewValue;a||l||c?(o.length++,c&&(o.range.end=o.range.end.getShiftedBy(1)),e[r]=null):i=r}e=e.filter(r=>r);for(const r of e)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(TX),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(t=>{const e={...t};return e.state!==void 0&&delete e.attributes,e})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t),this._setElementState(t,"refresh");const e=Q._createOn(t);for(const r of this._markerCollection.getMarkersIntersectingRange(e)){const i=r.getData();this.bufferMarkerChange(r.name,i,i)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const r=e.getData();this.bufferMarkerChange(e.name,{...r,range:null},r)}}}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t)){this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});return}const r=this._changedRoots.get(t);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(t)):r.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,r,i){const o=this._changedRoots.get(t)||{name:t},s=o.attributes||{};if(s[e]){const a=s[e];i===a.oldValue?delete s[e]:a.newValue=i}else s[e]={oldValue:r,newValue:i};Object.entries(s).length===0?(delete o.attributes,o.state===void 0&&this._changedRoots.delete(t)):(o.attributes=s,this._changedRoots.set(t,o))}_markInsert(t,e,r){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const i={type:"insert",offset:e,howMany:r,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,r){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const i={type:"remove",offset:e,howMany:r,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,r)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshots(t);const r=this._getChangesForElement(t);this._handleChange(e,r),r.push(e);for(let i=0;i<r.length;i++)r[i].howMany<1&&(r.splice(i,1),i--)}_setElementState(t,e){if(!t.is("element"))return;const r=gu._statesPriority.indexOf(this._elementState.get(t));gu._statesPriority.indexOf(e)>r&&this._elementState.set(t,e)}_getDiffActionForNode(t,e){if(!t.is("element")||!this._elementsSnapshots.has(t))return e;const r=this._elementState.get(t);return!r||r=="move"?e:r}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshots(t){if(this._elementChildrenSnapshots.has(t))return;const e=oC(t.getChildren());this._elementChildrenSnapshots.set(t,e);for(const r of e)this._elementsSnapshots.set(r.node,r)}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const r of e){const i=t.offset+t.howMany,o=r.offset+r.howMany;if(t.type=="insert"&&(r.type=="insert"&&(t.offset<=r.offset?r.offset+=t.howMany:t.offset<o&&(r.howMany+=t.nodesToHandle,t.nodesToHandle=0)),r.type=="remove"&&t.offset<r.offset&&(r.offset+=t.howMany),r.type=="attribute")){if(t.offset<=r.offset)r.offset+=t.howMany;else if(t.offset<o){const s=r.howMany;r.howMany=t.offset-r.offset,e.unshift({type:"attribute",offset:i,howMany:s-r.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(r.type=="insert"){if(i<=r.offset)r.offset-=t.howMany;else if(i<=o)if(t.offset<r.offset){const s=i-r.offset;r.offset=t.offset,r.howMany-=s,t.nodesToHandle-=s}else r.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=r.offset)t.nodesToHandle-=r.howMany,r.howMany=0;else if(t.offset<o){const s=o-t.offset;r.howMany-=s,t.nodesToHandle-=s}}if(r.type=="remove"&&(i<=r.offset?r.offset-=t.howMany:t.offset<r.offset&&(t.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(i<=r.offset)r.offset-=t.howMany;else if(t.offset<r.offset){const s=i-r.offset;r.offset=t.offset,r.howMany-=s}else if(t.offset<o)if(i<=o){const s=r.howMany;r.howMany=t.offset-r.offset;const a=s-r.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:a,count:this._changeCount++})}else r.howMany-=o-t.offset}}if(t.type=="attribute"){if(r.type=="insert")if(t.offset<r.offset&&i>r.offset){if(i>o){const s={type:"attribute",offset:o,howMany:i-o,count:this._changeCount++};this._handleChange(s,e),e.push(s)}t.nodesToHandle=r.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=r.offset&&t.offset<o&&(i>o?(t.nodesToHandle=i-o,t.offset=o):t.nodesToHandle=0);if(r.type=="remove"&&t.offset<r.offset&&i>r.offset){const s={type:"attribute",offset:r.offset,howMany:i-r.offset,count:this._changeCount++};this._handleChange(s,e),e.push(s),t.nodesToHandle=r.offset-t.offset,t.howMany=t.nodesToHandle}r.type=="attribute"&&(t.offset>=r.offset&&i<=o?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=r.offset&&i>=o&&(r.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,r,i,o){const s={type:"insert",position:re._createAt(t,e),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,action:r};return r!="insert"&&o&&(s.before={name:o.name,attributes:new Map(o.attributes)}),s}_getRemoveDiff(t,e,r,i){return{type:"remove",action:r,position:re._createAt(t,e),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,r){const i=[];r=new Map(r);for(const[o,s]of e){const a=r.has(o)?r.get(o):null;a!==s&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:o,attributeOldValue:s,attributeNewValue:a,changeCount:this._changeCount++}),r.delete(o)}for(const[o,s]of r)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:o,attributeOldValue:null,attributeNewValue:s,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const r=this._changesInElement.get(e),i=t.startOffset;if(r){for(const o of r)if(o.type=="insert"&&i>=o.offset&&i<o.offset+o.howMany)return!0}return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,r){const i=new Q(re._createAt(t,e),re._createAt(t,e+r));for(const o of i.getItems({shallow:!0}))o.is("element")&&(this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}};w(gu,"_statesPriority",[void 0,"refresh","rename","move"]);let Ov=gu;function iC(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function oC(n){const t=[];for(const e of n)if(e.is("$text"))for(let r=0;r<e.data.length;++r)t.push(iC(e));else t.push(iC(e));return t}function EX(n,t){const e=[];let r=0,i=0;for(const o of t){if(o.offset>r){for(let s=0;s<o.offset-r;s++)e.push("e");i+=o.offset-r}if(o.type=="insert"){for(let s=0;s<o.howMany;s++)e.push("i");r=o.offset+o.howMany}else if(o.type=="remove"){for(let s=0;s<o.howMany;s++)e.push("r");r=o.offset,i+=o.howMany}else{if(o.howMany>1500)for(let s=0;s<o.howMany;s++)e.push("a");else e.push(..."a".repeat(o.howMany).split(""));r=o.offset+o.howMany,i+=o.howMany}}if(i<n)for(let o=0;o<n-i-r;o++)e.push("e");return e}function TX(n){const t="position"in n&&n.position.root.rootName=="$graveyard",e="range"in n&&n.range.root.rootName=="$graveyard";return!t&&!e}class SX{constructor(){w(this,"_operations",[]);w(this,"_undoPairs",new Map);w(this,"_undoneOperations",new Set);w(this,"_baseVersionToOperationIndex",new Map);w(this,"_version",0);w(this,"_gaps",new Map)}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new q("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const r=this._operations[0];t===void 0&&(t=r.baseVersion);let i=e-1;for(const[a,l]of this._gaps)t>a&&t<l&&(t=l),i>a&&i<l&&(i=a-1);if(i<r.baseVersion||t>this.lastOperation.baseVersion)return[];let o=this._baseVersionToOperationIndex.get(t);o===void 0&&(o=0);let s=this._baseVersionToOperationIndex.get(i);return s===void 0&&(s=this._operations.length-1),this._operations.slice(o,s+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(e!==void 0)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class pm extends at{constructor(e,r,i="main"){super(r);w(this,"rootName");w(this,"_document");w(this,"_isAttached",!0);w(this,"_isLoaded",!0);this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}pm.prototype.is=function(n,t){return t?t===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const sC="$graveyard";class AX extends We(){constructor(e){super();w(this,"model");w(this,"history");w(this,"selection");w(this,"roots");w(this,"differ");w(this,"isReadOnly");w(this,"_postFixers");w(this,"_hasSelectionChangedFromTheLastChangeBlock");this.model=e,this.history=new SX,this.selection=new Yr(this),this.roots=new zt({idProperty:"rootName"}),this.differ=new Ov(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",sC),this.listenTo(e,"applyOperation",(r,i)=>{const o=i[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(e,"applyOperation",(r,i)=>{const o=i[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(r,i,o,s,a)=>{const l={...i.getData(),range:s};this.differ.bufferMarkerChange(i.name,a,l),o===null&&i.on("change",(c,u)=>{const d=i.getData();this.differ.bufferMarkerChange(i.name,{...d,range:u},d)})}),this.registerPostFixer(r=>{let i=!1;for(const o of this.roots)!o.isAttached()&&!o.isEmpty&&(r.remove(r.createRangeIn(o)),i=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(r.removeMarker(o),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(sC)}createRoot(e="$root",r="main"){if(this.roots.get(r))throw new q("model-document-createroot-name-exists",this,{name:r});const i=new pm(this,e,r);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(r=>r.rootName)}getRoots(e=!1){return this.roots.filter(r=>r!=this.graveyard&&(e||r.isAttached())&&r._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=lO(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),r=this.model,i=r.schema,o=r.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(o)||r.createRange(o)}_validateSelectionRange(e){return aC(e.start)&&aC(e.end)}_callPostFixers(e){let r=!1;do for(const i of this._postFixers)if(this.selection.refresh(),r=i(e),r)break;while(r)}}function aC(n){const t=n.textNode;if(t){const e=t.data,r=n.offset-t.startOffset;return!Ew(e,r)&&!Tw(e,r)}return!0}class PX extends We(){constructor(){super(...arguments);w(this,"_markers",new Map)}[Symbol.iterator](){return this._markers.values()}has(e){const r=e instanceof Ra?e.name:e;return this._markers.has(r)}get(e){return this._markers.get(e)||null}_set(e,r,i=!1,o=!1){const s=e instanceof Ra?e.name:e;if(s.includes(","))throw new q("markercollection-incorrect-marker-name",this);const a=this._markers.get(s);if(a){const u=a.getData(),d=a.getRange();let h=!1;return d.isEqual(r)||(a._attachLiveRange(tr.fromRange(r)),h=!0),i!=a.managedUsingOperations&&(a._managedUsingOperations=i,h=!0),typeof o=="boolean"&&o!=a.affectsData&&(a._affectsData=o,h=!0),h&&this.fire(`update:${s}`,a,d,r,u),a}const l=tr.fromRange(r),c=new Ra(s,l,i,o);return this._markers.set(s,c),this.fire(`update:${s}`,c,null,r,{...c.getData(),range:null}),c}_remove(e){const r=e instanceof Ra?e.name:e,i=this._markers.get(r);return i?(this._markers.delete(r),this.fire(`update:${r}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0):!1}_refresh(e){const r=e instanceof Ra?e.name:e,i=this._markers.get(r);if(!i)throw new q("markercollection-refresh-marker-not-exists",this);const o=i.getRange();this.fire(`update:${r}`,i,o,o,i.getData())}*getMarkersAtPosition(e){for(const r of this)r.getRange().containsPosition(e)&&(yield r)}*getMarkersIntersectingRange(e){for(const r of this)r.getRange().getIntersection(e)!==null&&(yield r)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const r of this._markers.values())r.name.startsWith(e+":")&&(yield r)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ra extends We(as){constructor(e,r,i,o){super();w(this,"name");w(this,"_managedUsingOperations");w(this,"_affectsData");w(this,"_liveRange");this.name=e,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=i,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ra.prototype.is=function(n){return n==="marker"||n==="model:marker"};class RX extends hr{constructor(e,r){super(null);w(this,"sourcePosition");w(this,"howMany");this.sourcePosition=e.clone(),this.howMany=r}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new q("detach-operation-on-document-node",this)}_execute(){EI(Q._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Ii extends as{constructor(e){super();w(this,"markers",new Map);w(this,"_children",new ou);e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let r=this;for(const i of e)r=r.getChild(r.offsetToIndex(i));return r}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const r of this._children)e.push(r.toJSON());return e}static fromJSON(e){const r=[];for(const i of e)i.name?r.push(at.fromJSON(i)):r.push(lt.fromJSON(i));return new Ii(r)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,r){const i=OX(r);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,r=1){const i=this._children._removeNodes(e,r);for(const o of i)o.parent=null;return i}}Ii.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function OX(n){return typeof n=="string"?[new lt(n)]:(dr(n)||(n=[n]),Array.from(n).map(t=>typeof t=="string"?new lt(t):t instanceof Ur?new lt(t.data,t.getAttributes()):t))}class IX{constructor(t,e){w(this,"model");w(this,"batch");this.model=t,this.batch=e}createText(t,e){return new lt(t,e)}createElement(t,e){return new at(t,e)}createDocumentFragment(){return new Ii}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,r=0){if(this._assertWriterUsedCorrectly(),t instanceof lt&&t.data=="")return;const i=re._createAt(e,r);if(t.parent)if(uC(t.root,i.root)){this.move(Q._createOn(t),i);return}else{if(t.root.document)throw new q("model-writer-insert-forbidden-move",this);this.remove(t)}const o=i.root.document?i.root.document.version:null,s=new Jt(i,t,o);if(t instanceof lt&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),t instanceof Ii)for(const[a,l]of t.markers){const c=re._createAt(l.root,0),d={range:new Q(l.start._getCombined(c,i),l.end._getCombined(c,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,d):this.addMarker(a,d)}}insertText(t,e,r,i){e instanceof Ii||e instanceof at||e instanceof re?this.insert(this.createText(t),e,r):this.insert(this.createText(t,e),r,i)}insertElement(t,e,r,i){e instanceof Ii||e instanceof at||e instanceof re?this.insert(this.createElement(t),e,r):this.insert(this.createElement(t,e),r,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,r){e instanceof Ii||e instanceof at?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),r,"end")}appendElement(t,e,r){e instanceof Ii||e instanceof at?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),r,"end")}setAttribute(t,e,r){if(this._assertWriterUsedCorrectly(),r instanceof Q){const i=r.getMinimalFlatRanges();for(const o of i)lC(this,t,e,o)}else cC(this,t,e,r)}setAttributes(t,e){for(const[r,i]of Zi(t))this.setAttribute(r,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Q){const r=e.getMinimalFlatRanges();for(const i of r)lC(this,t,null,i)}else cC(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=r=>{for(const i of r.getAttributeKeys())this.removeAttribute(i,r)};if(!(t instanceof Q))e(t);else for(const r of t.getItems())e(r)}move(t,e,r){if(this._assertWriterUsedCorrectly(),!(t instanceof Q))throw new q("writer-move-invalid-range",this);if(!t.isFlat)throw new q("writer-move-range-not-flat",this);const i=re._createAt(e,r);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!uC(t.root,i.root))throw new q("writer-move-different-document",this);const o=t.root.document?t.root.document.version:null,s=new Fe(t.start,t.end.offset-t.start.offset,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}remove(t){this._assertWriterUsedCorrectly();const r=(t instanceof Q?t:Q._createOn(t)).getMinimalFlatRanges().reverse();for(const i of r)this._addOperationForAffectedMarkers("move",i),NX(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,r=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof at))throw new q("writer-merge-no-element-before",this);if(!(r instanceof at))throw new q("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,r){return this.model.createPositionFromPath(t,e,r)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,r=t.nodeAfter;this.move(Q._createIn(r),re._createAt(e,"end")),this.remove(r)}_merge(t){const e=re._createAt(t.nodeBefore,"end"),r=re._createAt(t.nodeAfter,0),i=t.root.document.graveyard,o=new re(i,[0]),s=t.root.document.version,a=new Ct(r,t.nodeAfter.maxOffset,e,o,s);this.batch.addOperation(a),this.model.applyOperation(a)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof at))throw new q("writer-rename-not-element-instance",this);const r=t.root.document?t.root.document.version:null,i=new $n(re._createBefore(t),t.name,e,r);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let r=t.parent;if(!r.parent)throw new q("writer-split-element-no-parent",this);if(e||(e=r.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new q("writer-split-invalid-limit-element",this);let i,o;do{const s=r.root.document?r.root.document.version:null,a=r.maxOffset-t.offset,l=Ue.getInsertionPosition(t),c=new Ue(t,a,l,null,s);this.batch.addOperation(c),this.model.applyOperation(c),!i&&!o&&(i=r,o=t.parent.nextSibling),t=this.createPositionAfter(t.parent),r=t.parent}while(r!==e);return{position:t,range:new Q(re._createAt(i,"end"),re._createAt(o,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new q("writer-wrap-range-not-flat",this);const r=e instanceof at?e:new at(e);if(r.childCount>0)throw new q("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new q("writer-wrap-element-attached",this);this.insert(r,t.start);const i=new Q(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,re._createAt(r,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new q("writer-unwrap-element-no-parent",this);this.move(Q._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||typeof e.usingOperation!="boolean")throw new q("writer-addmarker-no-usingoperation",this);const r=e.usingOperation,i=e.range,o=e.affectsData===void 0?!1:e.affectsData;if(this.model.markers.has(t))throw new q("writer-addmarker-marker-exists",this);if(!i)throw new q("writer-addmarker-no-range",this);return r?(Cc(this,t,null,i,o),this.model.markers.get(t)):this.model.markers._set(t,i,r,o)}updateMarker(t,e){this._assertWriterUsedCorrectly();const r=typeof t=="string"?t:t.name,i=this.model.markers.get(r);if(!i)throw new q("writer-updatemarker-marker-not-exists",this);if(!e){Ze("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),this.model.markers._refresh(i);return}const o=typeof e.usingOperation=="boolean",s=typeof e.affectsData=="boolean",a=s?e.affectsData:i.affectsData;if(!o&&!e.range&&!s)throw new q("writer-updatemarker-wrong-options",this);const l=i.getRange(),c=e.range?e.range:l;if(o&&e.usingOperation!==i.managedUsingOperations){e.usingOperation?Cc(this,r,null,c,a):(Cc(this,r,l,null,a),this.model.markers._set(r,c,void 0,a));return}i.managedUsingOperations?Cc(this,r,l,c,a):this.model.markers._set(r,c,void 0,a)}removeMarker(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?t:t.name;if(!this.model.markers.has(e))throw new q("writer-removemarker-no-marker",this);const r=this.model.markers.get(e);if(!r.managedUsingOperations){this.model.markers._remove(e);return}const i=r.getRange();Cc(this,e,i,null,r.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(t);if(r&&r.isAttached())throw new q("writer-addroot-root-exists",this);const i=this.model.document,o=new bi(t,e,!0,i,i.version);return this.batch.addOperation(o),this.model.applyOperation(o),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e=typeof t=="string"?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new q("writer-detachroot-no-root",this);for(const o of this.model.markers)o.getRange().root===e&&this.removeMarker(o);for(const o of e.getAttributeKeys())this.removeAttribute(o,e);this.remove(this.createRangeIn(e));const r=this.model.document,i=new bi(e.rootName,e.name,!1,r,r.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,e);else for(const[r,i]of Zi(t))this._setSelectionAttribute(r,i)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const i=Yr._getStoreAttributeKey(t);this.setAttribute(i,e,r.anchor.parent)}r._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const r=Yr._getStoreAttributeKey(t);this.removeAttribute(r,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new q("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const i=r.getRange();let o=!1;if(t==="move"){const s=e;o=s.containsPosition(i.start)||s.start.isEqual(i.start)||s.containsPosition(i.end)||s.end.isEqual(i.end)}else{const s=e,a=s.nodeBefore,l=s.nodeAfter,c=i.start.parent==a&&i.start.isAtEnd,u=i.end.parent==l&&i.end.offset==0,d=i.end.nodeAfter==l,h=i.start.nodeAfter==l;o=c||u||d||h}o&&this.updateMarker(r.name,{range:i})}}}function lC(n,t,e,r){const i=n.model,o=i.document;let s=r.start,a,l,c;for(const d of r.getWalker({shallow:!0}))c=d.item.getAttribute(t),a&&l!=c&&(l!=e&&u(),s=a),a=d.nextPosition,l=c;a instanceof re&&a!=s&&l!=e&&u();function u(){const d=new Q(s,a),h=d.root.document?o.version:null,f=new Ot(d,t,l,e,h);n.batch.addOperation(f),i.applyOperation(f)}}function cC(n,t,e,r){const i=n.model,o=i.document,s=r.getAttribute(t);let a,l;if(s!=e){if(r.root===r){const u=r.document?o.version:null;l=new ji(r,t,s,e,u)}else{a=new Q(re._createBefore(r),n.createPositionAfter(r));const u=a.root.document?o.version:null;l=new Ot(a,t,s,e,u)}n.batch.addOperation(l),i.applyOperation(l)}}function Cc(n,t,e,r,i){const o=n.model,s=o.document,a=new xn(t,e,r,o.markers,!!i,s.version);n.batch.addOperation(a),o.applyOperation(a)}function NX(n,t,e,r){let i;if(n.root.document){const o=r.document,s=new re(o.graveyard,[0]);i=new Fe(n,t,s,o.version)}else i=new RX(n,t);e.addOperation(i),r.applyOperation(i)}function uC(n,t){return n===t||n instanceof pm&&t instanceof pm}function MX(n,t,e={}){if(t.isCollapsed)return;const r=t.getFirstRange();if(r.root.rootName=="$graveyard")return;const i=n.schema;n.change(o=>{if(!e.doNotResetEntireContent&&HX(i,t)){zX(o,t);return}const s={};if(!e.doNotAutoparagraph){const c=t.getSelectedElement();c&&Object.assign(s,i.getAttributesWithProperty(c,"copyOnReplace",!0))}const[a,l]=LX(r);a.isTouching(l)||o.remove(o.createRange(a,l)),e.leaveUnmerged||(BX(o,a,l),i.removeDisallowedAttributes(a.parent.getChildren(),o)),II(o,t,a),!e.doNotAutoparagraph&&jX(i,a)&&OI(o,a,t,s),a.detach(),l.detach()})}function LX(n){const t=n.root.document.model,e=n.start;let r=n.end;if(t.hasContent(n,{ignoreMarkers:!0})){const i=DX(r);if(i&&r.isTouching(t.createPositionAt(i,0))){const o=t.createSelection(n);t.modifySelection(o,{direction:"backward"});const s=o.getLastPosition(),a=t.createRange(s,r);t.hasContent(a,{ignoreMarkers:!0})||(r=s)}}return[Sn.fromPosition(e,"toPrevious"),Sn.fromPosition(r,"toNext")]}function DX(n){const t=n.parent,e=t.root.document.model.schema,r=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const i of r){if(e.isLimit(i))return null;if(e.isBlock(i))return i}}function BX(n,t,e){const r=n.model;if(!Lw(n.model.schema,t,e))return;const[i,o]=VX(t,e);!i||!o||(!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(o,{ignoreMarkers:!0})?RI(n,t,e,i.parent):PI(n,t,e,i.parent))}function PI(n,t,e,r){const i=t.parent,o=e.parent;if(!(i==r||o==r)){for(t=n.createPositionAfter(i),e=n.createPositionBefore(o),e.isEqual(t)||n.insert(o,t),n.merge(t);e.parent.isEmpty;){const s=e.parent;e=n.createPositionBefore(s),n.remove(s)}Lw(n.model.schema,t,e)&&PI(n,t,e,r)}}function RI(n,t,e,r){const i=t.parent,o=e.parent;if(!(i==r||o==r)){for(t=n.createPositionAfter(i),e=n.createPositionBefore(o),e.isEqual(t)||n.insert(i,e);t.parent.isEmpty;){const s=t.parent;t=n.createPositionBefore(s),n.remove(s)}e=n.createPositionBefore(o),FX(n,e),Lw(n.model.schema,t,e)&&RI(n,t,e,r)}}function FX(n,t){const e=t.nodeBefore,r=t.nodeAfter;e.name!=r.name&&n.rename(e,r.name),n.clearAttributes(e),n.setAttributes(Object.fromEntries(r.getAttributes()),e),n.merge(t)}function Lw(n,t,e){const r=t.parent,i=e.parent;return r==i||n.isLimit(r)||n.isLimit(i)?!1:$X(t,e,n)}function VX(n,t){const e=n.getAncestors(),r=t.getAncestors();let i=0;for(;e[i]&&e[i]==r[i];)i++;return[e[i],r[i]]}function jX(n,t){const e=n.checkChild(t,"$text"),r=n.checkChild(t,"paragraph");return!e&&r}function $X(n,t,e){const r=new Q(n,t);for(const i of r.getWalker())if(e.isLimit(i.item))return!1;return!0}function OI(n,t,e,r={}){const i=n.createElement("paragraph");n.model.schema.setAllowedAttributes(i,r,n),n.insert(i,t),II(n,e,n.createPositionAt(i,0))}function zX(n,t){const e=n.model.schema.getLimitElement(t);n.remove(n.createRangeIn(e)),OI(n,n.createPositionAt(e,0),t)}function HX(n,t){const e=n.getLimitElement(t);if(!t.containsEntireContent(e))return!1;const r=t.getFirstRange();return r.start.parent==r.end.parent?!1:n.checkChild(e,"paragraph")}function II(n,t,e){t instanceof Yr?n.setSelection(e):t.setTo(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function UX(n,t){return n.change(e=>{const r=e.createDocumentFragment(),i=t.getFirstRange();if(!i||i.isCollapsed)return r;const o=i.start.root,s=i.start.getCommonPath(i.end),a=o.getNodeByPath(s);let l;i.start.parent==i.end.parent?l=i:l=e.createRange(e.createPositionAt(a,i.start.path[s.length]),e.createPositionAt(a,i.end.path[s.length]+1));const c=l.end.offset-l.start.offset;for(const u of l.getItems({shallow:!0}))u.is("$textProxy")?e.appendText(u.data,u.getAttributes(),r):e.append(e.cloneElement(u,!0),r);if(l!=i){const u=i._getTransformedByMove(l.start,e.createPositionAt(r,0),c)[0],d=e.createRange(e.createPositionAt(r,0),u.start),h=e.createRange(u.end,e.createPositionAt(r,"end"));dC(h,e),dC(d,e)}return r})}function dC(n,t){const e=[];Array.from(n.getItems({direction:"backward"})).map(r=>t.createRangeOn(r)).filter(r=>(r.start.isAfter(n.start)||r.start.isEqual(n.start))&&(r.end.isBefore(n.end)||r.end.isEqual(n.end))).forEach(r=>{e.push(r.start.parent),t.remove(r)}),e.forEach(r=>{let i=r;for(;i.parent&&i.isEmpty;){const o=t.createRangeOn(i);i=i.parent,t.remove(o)}})}function WX(n,t,e){return n.change(r=>{const i=e||n.document.selection;i.isCollapsed||n.deleteContent(i,{doNotAutoparagraph:!0});const o=new qX(n,r,i.anchor),s=[];let a;if(t.is("documentFragment")){if(t.markers.size){const u=[];for(const[d,h]of t.markers){const{start:f,end:m}=h,g=f.isEqual(m);u.push({position:f,name:d,isCollapsed:g},{position:m,name:d,isCollapsed:g})}u.sort(({position:d},{position:h})=>d.isBefore(h)?1:-1);for(const{position:d,name:h,isCollapsed:f}of u){let m=null,g=null;const v=d.parent===t&&d.isAtStart,p=d.parent===t&&d.isAtEnd;!v&&!p?(m=r.createElement("$marker"),r.insert(m,d)):f&&(g=v?"start":"end"),s.push({name:h,element:m,collapsed:g})}}a=t.getChildren()}else a=[t];o.handleNodes(a);let l=o.getSelectionRange();if(t.is("documentFragment")&&s.length){const u=l?tr.fromRange(l):null,d={};for(let h=s.length-1;h>=0;h--){const{name:f,element:m,collapsed:g}=s[h],v=!d[f];if(v&&(d[f]=[]),m){const p=r.createPositionAt(m,"before");d[f].push(p),r.remove(m)}else{const p=o.getAffectedRange();if(!p){g&&d[f].push(o.position);continue}g?d[f].push(p[g]):d[f].push(v?p.start:p.end)}}for(const[h,[f,m]]of Object.entries(d))f&&m&&f.root===m.root&&f.root.document&&!r.model.markers.has(h)&&r.addMarker(h,{usingOperation:!0,affectsData:!0,range:new Q(f,m)});u&&(l=u.toRange(),u.detach())}/* istanbul ignore else -- @preserve */l&&(i instanceof Yr?r.setSelection(l):i.setTo(l));const c=o.getAffectedRange()||n.createRange(i.anchor);return o.destroy(),c})}class qX{constructor(t,e,r){w(this,"model");w(this,"writer");w(this,"position");w(this,"canMergeWith");w(this,"schema");w(this,"_documentFragment");w(this,"_documentFragmentPosition");w(this,"_firstNode",null);w(this,"_lastNode",null);w(this,"_lastAutoParagraph",null);w(this,"_filterAttributesOf",[]);w(this,"_affectedStart",null);w(this,"_affectedEnd",null);w(this,"_nodeToSelect",null);this.model=t,this.writer=e,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(t);if(r.isAfter(e)){this._lastNode=t;/* istanbul ignore if -- @preserve */if(this.position.parent!=t||!this.position.isAtEnd)throw new q("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Q._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Q(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(!this._checkAndSplitToAllowedPosition(t)){this.schema.isObject(t)||this._handleDisallowedNode(t);return}this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Sn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleDisallowedNode(t){t.is("element")&&this.handleNodes(t.getChildren())}_appendToFragment(t){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,t))throw new q("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Sn.fromPosition(t,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(t))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Sn.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof at)||!this._canMergeLeft(t))return;const e=Sn._createBefore(t);e.stickiness="toNext";const r=Sn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Sn._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Sn._createAt(e.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof at)||!this._canMergeRight(t))return;const e=Sn._createAfter(t);e.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(e))throw new q("insertcontent-invalid-insertion-position",this);this.position=re._createAt(e.nodeBefore,"end");const r=Sn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Sn._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Sn._createAt(e.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof at&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof at&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_insertAutoParagraph(){this._insertPartialFragment();const t=this.writer.createElement("paragraph");this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0)}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===e&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,t)||this._insertAutoParagraph(),!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)||this.schema.checkChild(t,"paragraph")&&this.schema.checkChild("paragraph",e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function GX(n,t,e,r={}){if(!n.schema.isObject(t))throw new q("insertobject-element-not-an-object",n,{object:t});const i=e||n.document.selection;let o=i;r.findOptimalPosition&&n.schema.isBlock(t)&&(o=n.createSelection(n.schema.findOptimalInsertionRange(i,r.findOptimalPosition)));const s=Dt(i.getSelectedBlocks()),a={};return s&&Object.assign(a,n.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),n.change(l=>{o.isCollapsed||n.deleteContent(o,{doNotAutoparagraph:!0});let c=t;const u=o.anchor.parent;!n.schema.checkChild(u,t)&&n.schema.checkChild(u,"paragraph")&&n.schema.checkChild("paragraph",t)&&(c=l.createElement("paragraph"),l.insert(t,c)),n.schema.setAllowedAttributes(c,a,l);const d=n.insertContent(c,o);return d.isCollapsed||r.setSelection&&KX(l,t,r.setSelection,a),d})}function KX(n,t,e,r){const i=n.model;if(e=="on"){n.setSelection(t,"on");return}if(e!="after")throw new q("insertobject-invalid-place-parameter-value",i);let o=t.nextSibling;if(i.schema.isInline(t)){n.setSelection(t,"after");return}!(o&&i.schema.checkChild(o,"$text"))&&i.schema.checkChild(t.parent,"paragraph")&&(o=n.createElement("paragraph"),i.schema.setAllowedAttributes(o,r,n),i.insertContent(o,n.createPositionAfter(t))),o&&n.setSelection(o,0)}const ZX=' ,.?!:;"-()';function YX(n,t,e={}){const r=n.schema,i=e.direction!="backward",o=e.unit?e.unit:"character",s=!!e.treatEmojiAsSingleUnit,a=t.focus,l=new Bi({boundaries:eQ(a,i),singleCharacters:!0,direction:i?"forward":"backward"}),c={walker:l,schema:r,isForward:i,unit:o,treatEmojiAsSingleUnit:s};let u;for(;u=l.next();){if(u.done)return;const d=JX(c,u.value);if(d){t instanceof Yr?n.change(h=>{h.setSelectionFocus(d)}):t.setFocus(d);return}}}function JX(n,t){const{isForward:e,walker:r,unit:i,schema:o,treatEmojiAsSingleUnit:s}=n,{type:a,item:l,nextPosition:c}=t;if(a=="text")return n.unit==="word"?QX(r,e):XX(r,i,s);if(a==(e?"elementStart":"elementEnd")){if(o.isSelectable(l))return re._createAt(l,e?"after":"before");if(o.checkChild(c,"$text"))return c}else{if(o.isLimit(l)){r.skip(()=>!0);return}if(o.checkChild(c,"$text"))return c}}function XX(n,t,e){const r=n.position.textNode;if(r){const i=r.data;let o=n.position.offset-r.startOffset;for(;Ew(i,o)||t=="character"&&Tw(i,o)||e&&$O(i,o);)n.next(),o=n.position.offset-r.startOffset}return n.position}function QX(n,t){let e=n.position.textNode;for(e||(e=t?n.position.nodeAfter:n.position.nodeBefore);e&&e.is("$text");){const r=n.position.offset-e.startOffset;if(nQ(e,r,t))e=t?n.position.nodeAfter:n.position.nodeBefore;else{if(tQ(e.data,r,t))break;n.next()}}return n.position}function eQ(n,t){const e=n.root,r=re._createAt(e,t?"end":0);return t?new Q(n,r):new Q(r,n)}function tQ(n,t,e){const r=t+(e?0:-1);return ZX.includes(n.charAt(r))}function nQ(n,t,e){return t===(e?n.offsetSize:0)}let rQ=class extends Ke(){constructor(){super();w(this,"markers");w(this,"document");w(this,"schema");w(this,"_pendingChanges");w(this,"_currentWriter");this.markers=new PX,this.document=new AX(this),this.schema=new qJ,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),BJ(this),this.document.registerPostFixer(bI),this.on("insertContent",(e,[r,i])=>{e.return=WX(this,r,i)}),this.on("insertObject",(e,[r,i,o])=>{e.return=GX(this,r,i,o)}),this.on("canEditAt",e=>{const r=!this.document.isReadOnly;e.return=r,r||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new va,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(r){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(r,this)}}enqueueChange(e,r){try{e?typeof e=="function"?(r=e,e=new va):e instanceof va||(e=new va(e)):e=new va,this._pendingChanges.push({batch:e,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,r,i,...o){const s=h0(r,i);return this.fire("insertContent",[e,s,i,...o])}insertObject(e,r,i,o,...s){const a=h0(r,i);return this.fire("insertObject",[e,a,o,o,...s])}deleteContent(e,r){MX(this,e,r)}modifySelection(e,r){YX(this,e,r)}getSelectedContent(e){return UX(this,e)}hasContent(e,r={}){const i=e instanceof Q?e:Q._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:s=!1}=r;if(!s){for(const a of this.markers.getMarkersIntersectingRange(i))if(a.affectsData)return!0}for(const a of i.getItems())if(this.schema.isContent(a))if(a.is("$textProxy"))if(o){if(a.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const r=h0(e);return this.fire("canEditAt",[r])}createPositionFromPath(e,r,i){return new re(e,r,i)}createPositionAt(e,r){return re._createAt(e,r)}createPositionAfter(e){return re._createAfter(e)}createPositionBefore(e){return re._createBefore(e)}createRange(e,r){return new Q(e,r)}createRangeIn(e){return Q._createIn(e)}createRangeOn(e){return Q._createOn(e)}createSelection(...e){return new Yn(...e)}createBatch(e){return new va(e)}createOperationFromJSON(e){return bX.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const r=this._pendingChanges[0].batch;this._currentWriter=new IX(this,r);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function h0(n,t){if(n)return n instanceof Yn||n instanceof Yr?n:n instanceof sa?t||t===0?new Yn(n,t):n.is("rootElement")?new Yn(n,"in"):new Yn(n,"on"):new Yn(n)}class iQ extends ss{constructor(){super(...arguments);w(this,"domEventType","click")}onDomEvent(e){this.fire(e.type,e)}}class Dw extends ss{constructor(){super(...arguments);w(this,"domEventType",["mousedown","mouseup","mouseover","mouseout"])}onDomEvent(e){this.fire(e.type,e)}}class Fg{constructor(t){w(this,"document");this.document=t}createDocumentFragment(t){return new Ns(this.document,t)}createElement(t,e,r){return new Zr(this.document,t,e,r)}createText(t){return new ut(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,r){return r._insertChild(t,e)}removeChildren(t,e,r){return r._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const r=t.parent;if(r){const i=r.getChildIndex(t);return this.removeChildren(i,1,r),this.insertChild(i,e,r),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const r=e.getChildIndex(t);this.remove(t),this.insertChild(r,t.getChildren(),e)}}rename(t,e){const r=new Zr(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,r)?r:null}setAttribute(t,e,r){r._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,r){Mn(t)&&r===void 0?e._setStyle(t):r._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,r){r._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return ue._createAt(t,e)}createPositionAfter(t){return ue._createAfter(t)}createPositionBefore(t){return ue._createBefore(t)}createRange(t,e){return new Ne(t,e)}createRangeOn(t){return Ne._createOn(t)}createRangeIn(t){return Ne._createIn(t)}createSelection(...t){return new Vi(...t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const oQ=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,sQ=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,aQ=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,lQ=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,cQ=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,uQ=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,dQ=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function NI(n){return n.startsWith("#")?oQ.test(n):n.startsWith("rgb")?sQ.test(n)||aQ.test(n):n.startsWith("hsl")?lQ.test(n)||cQ.test(n):dQ.has(n.toLowerCase())}const hQ=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function fQ(n){return hQ.includes(n)}const mQ=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Vg(n){return mQ.test(n)}const gQ=/^[+-]?[0-9]*([.][0-9]+)?%$/;function MI(n){return gQ.test(n)}const pQ=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function bQ(n){return pQ.includes(n)}const vQ=["center","top","bottom","left","right"];function yQ(n){return vQ.includes(n)}const wQ=["fixed","scroll","local"];function _Q(n){return wQ.includes(n)}const xQ=/^url\(/;function kQ(n){return xQ.test(n)}function lu(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const t=Bw(n),e=t[0],r=t[2]||e,i=t[1]||e,o=t[3]||i;return{top:e,bottom:r,right:i,left:o}}function cu(n){return t=>{const{top:e,right:r,bottom:i,left:o}=t,s=[];return[e,r,o,i].every(a=>!!a)?s.push([n,CQ(t)]):(e&&s.push([n+"-top",e]),r&&s.push([n+"-right",r]),i&&s.push([n+"-bottom",i]),o&&s.push([n+"-left",o])),s}}function CQ({top:n,right:t,bottom:e,left:r}){const i=[];return r!==t?i.push(n,t,e,r):e!==n?i.push(n,t,e):t!==n?i.push(n,t):i.push(n),i.join(" ")}function LI(n){return t=>({path:n,value:lu(t)})}function Bw(n){const t=n.trim().slice(0,1500).matchAll(uQ);return Array.from(t).map(e=>e[0])}function Fw(n){n.setNormalizer("background",EQ()),n.setNormalizer("background-color",TQ()),n.setReducer("background",SQ()),n.setStyleRelation("background",["background-color"])}function EQ(){return n=>{const t={},e=Bw(n);for(const r of e)bQ(r)?(t.repeat=t.repeat||[],t.repeat.push(r)):yQ(r)?(t.position=t.position||[],t.position.push(r)):_Q(r)?t.attachment=r:NI(r)?t.color=r:kQ(r)&&(t.image=r);return{path:"background",value:t}}}function TQ(){return n=>({path:"background.color",value:n})}function SQ(){return n=>{const t=[];return t.push(["background-color",n.color]),t}}function DI(n){n.setNormalizer("border",AQ()),n.setNormalizer("border-top",bh("top")),n.setNormalizer("border-right",bh("right")),n.setNormalizer("border-bottom",bh("bottom")),n.setNormalizer("border-left",bh("left")),n.setNormalizer("border-color",f0("color")),n.setNormalizer("border-width",f0("width")),n.setNormalizer("border-style",f0("style")),n.setNormalizer("border-top-color",yr("color","top")),n.setNormalizer("border-top-style",yr("style","top")),n.setNormalizer("border-top-width",yr("width","top")),n.setNormalizer("border-right-color",yr("color","right")),n.setNormalizer("border-right-style",yr("style","right")),n.setNormalizer("border-right-width",yr("width","right")),n.setNormalizer("border-bottom-color",yr("color","bottom")),n.setNormalizer("border-bottom-style",yr("style","bottom")),n.setNormalizer("border-bottom-width",yr("width","bottom")),n.setNormalizer("border-left-color",yr("color","left")),n.setNormalizer("border-left-style",yr("style","left")),n.setNormalizer("border-left-width",yr("width","left")),n.setExtractor("border-top",vh("top")),n.setExtractor("border-right",vh("right")),n.setExtractor("border-bottom",vh("bottom")),n.setExtractor("border-left",vh("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",cu("border-color")),n.setReducer("border-style",cu("border-style")),n.setReducer("border-width",cu("border-width")),n.setReducer("border-top",yh("top")),n.setReducer("border-right",yh("right")),n.setReducer("border-bottom",yh("bottom")),n.setReducer("border-left",yh("left")),n.setReducer("border",RQ()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function AQ(){return n=>{const{color:t,style:e,width:r}=BI(n);return{path:"border",value:{color:lu(t),style:lu(e),width:lu(r)}}}}function bh(n){return t=>{const{color:e,style:r,width:i}=BI(t),o={};return e!==void 0&&(o.color={[n]:e}),r!==void 0&&(o.style={[n]:r}),i!==void 0&&(o.width={[n]:i}),{path:"border",value:o}}}function f0(n){return t=>({path:"border",value:PQ(t,n)})}function PQ(n,t){return{[t]:lu(n)}}function yr(n,t){return e=>({path:"border",value:{[n]:{[t]:e}}})}function vh(n){return(t,e)=>{if(e.border)return jc(e.border,n)}}function jc(n,t){const e={};return n.width&&n.width[t]&&(e.width=n.width[t]),n.style&&n.style[t]&&(e.style=n.style[t]),n.color&&n.color[t]&&(e.color=n.color[t]),e}function BI(n){const t={},e=Bw(n);for(const r of e)Vg(r)||/thin|medium|thick/.test(r)?t.width=r:fQ(r)?t.style=r:t.color=r;return t}function RQ(){return t=>{const e=jc(t,"top"),r=jc(t,"right"),i=jc(t,"bottom"),o=jc(t,"left"),s=[e,r,i,o],a={width:n(s,"width"),style:n(s,"style"),color:n(s,"color")},l=Oa(a,"all");return l.length?l:[...Object.entries(a).reduce((u,[d,h])=>(h&&(u.push([`border-${d}`,h]),s.forEach(f=>delete f[d])),u),[]),...Oa(e,"top"),...Oa(r,"right"),...Oa(i,"bottom"),...Oa(o,"left")]};function n(t,e){return t.map(r=>r[e]).reduce((r,i)=>r==i?r:null)}}function yh(n){return t=>Oa(t,n)}function Oa(n,t){const e=[];if(n&&n.width&&e.push("width"),n&&n.style&&e.push("style"),n&&n.color&&e.push("color"),e.length==3){const r=e.map(i=>n[i]).join(" ");return[t=="all"?["border",r]:[`border-${t}`,r]]}return t=="all"?[]:e.map(r=>[`border-${t}-${r}`,n[r]])}function OQ(n){n.setNormalizer("margin",LI("margin")),n.setNormalizer("margin-top",t=>({path:"margin.top",value:t})),n.setNormalizer("margin-right",t=>({path:"margin.right",value:t})),n.setNormalizer("margin-bottom",t=>({path:"margin.bottom",value:t})),n.setNormalizer("margin-left",t=>({path:"margin.left",value:t})),n.setReducer("margin",cu("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function IQ(n){n.setNormalizer("padding",LI("padding")),n.setNormalizer("padding-top",t=>({path:"padding.top",value:t})),n.setNormalizer("padding-right",t=>({path:"padding.right",value:t})),n.setNormalizer("padding-bottom",t=>({path:"padding.bottom",value:t})),n.setNormalizer("padding-left",t=>({path:"padding.left",value:t})),n.setReducer("padding",cu("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FI{constructor(t){w(this,"crashes",[]);w(this,"state","initializing");w(this,"_crashNumberLimit");w(this,"_now",Date.now);w(this,"_minimumNonErrorTimePeriod");w(this,"_boundErrorHandler");w(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const r="error"in e?e.error:e.reason;r instanceof Error&&this._handleError(r,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(r=>r!==e)}_fire(t,...e){const r=this._listeners[t]||[];for(const i of r)i.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,e=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-e)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Iv(n,t=new Set){const e=[n],r=new Set;let i=0;for(;e.length>i;){const o=e[i++];if(!(r.has(o)||!NQ(o)||t.has(o)))if(r.add(o),Symbol.iterator in o)try{for(const s of o)e.push(s)}catch{}else for(const s in o)s!=="defaultValue"&&e.push(o[s])}return r}function NQ(n){const t=Object.prototype.toString.call(n),e=typeof n;return!(e==="number"||e==="boolean"||e==="string"||e==="symbol"||e==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function VI(n,t,e=new Set){if(n===t&&MQ(n))return!0;const r=Iv(n,e),i=Iv(t,e);for(const o of r)if(i.has(o))return!0;return!1}function MQ(n){return typeof n=="object"&&n!==null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jI extends FI{constructor(e,r={}){super(r);w(this,"_editor",null);w(this,"_lifecyclePromise",null);w(this,"_throttledSave");w(this,"_data");w(this,"_lastDocumentVersion");w(this,"_elementOrData");w(this,"_initUsingData",!0);w(this,"_editables",{});w(this,"_config");w(this,"_excludedProps");this._throttledSave=Wu(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),e&&(this._creator=(i,o)=>e.create(i,o)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},r=[],i=this._config.rootsAttributes||{},o={};for(const[a,l]of Object.entries(this._data.roots))l.isLoaded?(e[a]="",o[a]=i[a]||{}):r.push(a);const s={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:o,_watchdogInitialData:this._data};return delete s.initialData,s.extraPlugins.push(LQ),this._initUsingData?this.create(e,s,s.context):Ws(this._elementOrData)?this.create(this._elementOrData,s,s.context):this.create(this._editables,s,s.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,r=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(r)||{},this._config.context=i,this._creator(e,this._config))).then(o=>{this._editor=o,o.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=o.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,r=e.model.document.roots.filter(l=>l.isAttached()&&l.rootName!="$graveyard"),{plugins:i}=e,o=i.has("CommentsRepository")&&i.get("CommentsRepository"),s=i.has("TrackChanges")&&i.get("TrackChanges"),a={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(l=>{a.roots[l.rootName]={content:JSON.stringify(Array.from(l.getChildren())),attributes:JSON.stringify(Array.from(l.getAttributes())),isLoaded:l._isLoaded}});for(const l of e.model.markers)l._affectsData&&(a.markers[l.name]={rangeJSON:l.getRange().toJSON(),usingOperation:l._managedUsingOperations,affectsData:l._affectsData});return o&&(a.commentThreads=JSON.stringify(o.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),s&&(a.suggestions=JSON.stringify(s.getSuggestions({toJSON:!0,skipNotAttached:!0}))),a}_getEditables(){const e={};for(const r of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(r);i&&(e[r]=i)}return e}_isErrorComingFromThisItem(e){return VI(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return pw(e,(r,i)=>{if(Ws(r)||i==="context")return r})}}class LQ{constructor(t){w(this,"editor");w(this,"_data");this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},e=>{this._restoreCollaborationData(),this._restoreEditorData(e)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,e){if("name"in e){const r=t.createElement(e.name,e.attributes);if(e.children)for(const i of e.children)r._appendChild(this._createNode(t,i));return r}else return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach(([r,{content:i,attributes:o}])=>{const s=JSON.parse(i),a=JSON.parse(o),l=e.model.document.getRoot(r);for(const[c,u]of a)t.setAttribute(c,u,l);for(const c of s){const u=this._createNode(t,c);t.insert(u,l,"end")}}),Object.entries(this._data.markers).forEach(([r,i])=>{const{document:o}=e.model,{rangeJSON:{start:s,end:a},...l}=i,c=o.getRoot(s.root),u=t.createPositionFromPath(c,s.path,s.stickiness),d=t.createPositionFromPath(c,a.path,a.stickiness),h=t.createRange(u,d);t.addMarker(r,{range:h,...l})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach(r=>{const i=this.editor.config.get("collaboration.channelId"),o=this.editor.plugins.get("CommentsRepository");o.hasCommentThread(r.threadId)&&o.getCommentThread(r.threadId).remove(),o.addCommentThread({channelId:i,...r})}),e.forEach(r=>{const i=this.editor.plugins.get("TrackChangesEditing");if(i.hasSuggestion(r.id)){const o=i.getSuggestion(r.id);o.attributes=r.attributes}else i.addSuggestionData(r)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const uu=Symbol("MainQueueId");class DQ extends FI{constructor(e,r={}){super(r);w(this,"_watchdogs",new Map);w(this,"_watchdogConfig");w(this,"_context",null);w(this,"_contextProps",new Set);w(this,"_actionQueues",new BQ);w(this,"_contextConfig");w(this,"_item");this._watchdogConfig=r,this._creator=i=>e.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(uu,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const r=hC(e);return Promise.all(r.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let o;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return o=new jI(null,this._watchdogConfig),o.setCreator(i.creator),o._setExcludedProperties(this._contextProps),i.destructor&&o.setDestructor(i.destructor),this._watchdogs.set(i.id,o),o.on("error",(s,{error:a,causesRestart:l})=>{this._fire("itemError",{itemId:i.id,error:a}),l&&this._actionQueues.enqueue(i.id,()=>new Promise(c=>{const u=()=>{o.off("restart",u),this._fire("itemRestart",{itemId:i.id}),c()};o.on("restart",u)}))}),o.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(e){const r=hC(e);return Promise.all(r.map(i=>this._actionQueues.enqueue(i,()=>{const o=this._getWatchdog(i);return this._watchdogs.delete(i),o.destroy()})))}destroy(){return this._actionQueues.enqueue(uu,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(uu,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Iv(this._context),Promise.all(Array.from(this._watchdogs.values()).map(r=>(r._setExcludedProperties(this._contextProps),r.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(r=>r.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const r=this._watchdogs.get(e);if(!r)throw new Error(`Item with the given id was not registered: ${e}.`);return r}_isErrorComingFromThisItem(e){for(const r of this._watchdogs.values())if(r._isErrorComingFromThisItem(e))return!1;return VI(this._context,e.context)}}class BQ{constructor(){w(this,"_onEmptyCallbacks",[]);w(this,"_queues",new Map);w(this,"_activeActions",0)}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const r=t===uu;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const o=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(uu),this._queues.get(t)])).then(e),s=o.catch(()=>{});return this._queues.set(t,s),o.finally(()=>{this._activeActions--,this._queues.get(t)===s&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function hC(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class X extends Ke(){constructor(e){super();w(this,"editor");w(this,"_disableStack",new Set);this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",fC,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",fC),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function fC(n){n.return=!1,n.stop()}class Ae extends Ke(){constructor(e){super();w(this,"editor");w(this,"_isEnabledBasedOnSelection");w(this,"_affectsData");w(this,"_disableStack");this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",r=>{if(!this.affectsData)return;const i=e.model.document.selection,s=!(i.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(i);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(r.return=!1,r.stop())},{priority:"highest"}),this.on("execute",r=>{this.isEnabled||r.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",mC,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",mC),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function mC(n){n.return=!1,n.stop()}class gC extends Ae{constructor(){super(...arguments);w(this,"_childCommandsDefinitions",[])}refresh(){}execute(...e){const r=this._getFirstEnabledCommand();return!!r&&r.execute(e)}registerChildCommand(e,r={}){bO(this._childCommandsDefinitions,{command:e,priority:r.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:r})=>r.isEnabled);return e&&e.command}}class $I extends We(){constructor(e,r=[],i=[]){super();w(this,"_context");w(this,"_plugins",new Map);w(this,"_availablePlugins");w(this,"_contextPlugins");this._context=e,this._availablePlugins=new Map;for(const o of r)o.pluginName&&this._availablePlugins.set(o.pluginName,o);this._contextPlugins=new Map;for(const[o,s]of i)this._contextPlugins.set(o,s),this._contextPlugins.set(s,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const r=this._plugins.get(e);if(!r){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new q("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return r}has(e){return this._plugins.has(e)}init(e,r=[],i=[]){const o=this,s=this._context;m(e),v(e);const a=e.filter(E=>!h(E,r)),l=[...g(a)];S(l,i);const c=y(l);return k(c,"init").then(()=>k(c,"afterInit")).then(()=>c);function u(E){return typeof E=="function"}function d(E){return u(E)&&!!E.isContextPlugin}function h(E,C){return C.some(O=>O===E||f(E)===O||f(O)===E)}function f(E){return u(E)?E.pluginName||E.name:E}function m(E,C=new Set){E.forEach(O=>{u(O)&&(C.has(O)||(C.add(O),O.pluginName&&!o._availablePlugins.has(O.pluginName)&&o._availablePlugins.set(O.pluginName,O),O.requires&&m(O.requires,C)))})}function g(E,C=new Set){return E.map(O=>u(O)?O:o._availablePlugins.get(O)).reduce((O,T)=>C.has(T)?O:(C.add(T),T.requires&&(v(T.requires,T),g(T.requires,C).forEach(A=>O.add(A))),O.add(T)),new Set)}function v(E,C=null){E.map(O=>u(O)?O:o._availablePlugins.get(O)||O).forEach(O=>{p(O,C),b(O,C),_(O,C)})}function p(E,C){if(!u(E))throw C?new q("plugincollection-soft-required",s,{missingPlugin:E,requiredBy:f(C)}):new q("plugincollection-plugin-not-found",s,{plugin:E})}function b(E,C){if(d(C)&&!d(E))throw new q("plugincollection-context-required",s,{plugin:f(E),requiredBy:f(C)})}function _(E,C){if(C&&h(E,r))throw new q("plugincollection-required",s,{plugin:f(E),requiredBy:f(C)})}function y(E){return E.map(C=>{let O=o._contextPlugins.get(C);return O=O||new C(s),o._add(C,O),O})}function k(E,C){return E.reduce((O,T)=>!T[C]||o._contextPlugins.has(T)?O:O.then(T[C].bind(T)),Promise.resolve())}function S(E,C){for(const O of C){if(typeof O!="function")throw new q("plugincollection-replace-plugin-invalid-type",null,{pluginItem:O});const T=O.pluginName;if(!T)throw new q("plugincollection-replace-plugin-missing-name",null,{pluginItem:O});if(O.requires&&O.requires.length)throw new q("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:T});const A=o._availablePlugins.get(T);if(!A)throw new q("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:T});const P=E.indexOf(A);if(P===-1){if(o._contextPlugins.has(A))return;throw new q("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:T})}if(A.requires&&A.requires.length)throw new q("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:T});E.splice(P,1,O),o._availablePlugins.set(T,O)}}}destroy(){const e=[];for(const[,r]of this)typeof r.destroy=="function"&&!this._contextPlugins.has(r)&&e.push(r.destroy());return Promise.all(e)}_add(e,r){this._plugins.set(e,r);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new q("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,r)}}}class bm{constructor(t){w(this,"config");w(this,"plugins");w(this,"locale");w(this,"t");w(this,"editors");w(this,"_contextOwner",null);const{translations:e,...r}=t||{};this.config=new TO(r,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new $I(this,i);const o=this.config.get("language")||{};this.locale=new xZ({uiLanguage:typeof o=="string"?o:o.ui,contentLanguage:this.config.get("language.content"),translations:e}),this.t=this.locale.t,this.editors=new zt}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const r of t.concat(e)){if(typeof r!="function")throw new q("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new q("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new q("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const r=new this(t);e(r.initPlugins().then(()=>r))})}}w(bm,"defaultConfig"),w(bm,"builtinPlugins");class FQ extends Ke(){constructor(e){super();w(this,"context");this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class VQ{constructor(){w(this,"_commands");this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const r=this.get(t);if(!r)throw new q("commandcollection-command-not-found",this,{commandName:t});return r.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class jQ extends Nt{constructor(e){super();w(this,"editor");this.editor=e}set(e,r,i={}){if(typeof r=="string"){const o=r;r=(s,a)=>{this.editor.execute(o),a()}}super.set(e,r,i)}}const m0="contentEditing",pC="common";class $Q{constructor(t){w(this,"keystrokeInfos",new Map);w(this,"_editor");this._editor=t;const e=t.config.get("menuBar.isVisible"),r=t.locale.t;this.addKeystrokeInfoCategory({id:m0,label:r("Content editing keystrokes"),description:r("These keyboard shortcuts allow for quick access to content editing features.")});const i=[{label:r("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:r("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:r("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:r("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:r("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:r("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];e&&i.push({label:r("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:r("User interface and content navigation keystrokes"),description:r("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:i}]})}addKeystrokeInfoCategory({id:t,label:e,description:r,groups:i}){this.keystrokeInfos.set(t,{id:t,label:e,description:r,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:pC}),i&&i.forEach(o=>{this.addKeystrokeInfoGroup({categoryId:t,...o})})}addKeystrokeInfoGroup({categoryId:t=m0,id:e,label:r,keystrokes:i}){const o=this.keystrokeInfos.get(t);if(!o)throw new q("accessibility-unknown-keystroke-info-category",this._editor,{groupId:e,categoryId:t});o.groups.set(e,{id:e,label:r,keystrokes:i||[]})}addKeystrokeInfos({categoryId:t=m0,groupId:e=pC,keystrokes:r}){if(!this.keystrokeInfos.has(t))throw new q("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:r});const i=this.keystrokeInfos.get(t);if(!i.groups.has(e))throw new q("accessibility-unknown-keystroke-info-group",this._editor,{groupId:e,categoryId:t,keystrokes:r});i.groups.get(e).keystrokes.push(...r)}}class Ia extends Ke(){constructor(e={}){super();w(this,"accessibility");w(this,"commands");w(this,"config");w(this,"conversion");w(this,"data");w(this,"editing");w(this,"locale");w(this,"model");w(this,"plugins");w(this,"keystrokes");w(this,"t");w(this,"_context");w(this,"_readOnlyLocks");if("sanitizeHtml"in e)throw new q("editor-config-sanitizehtml-not-supported");const r=this.constructor,{translations:i,...o}=r.defaultConfig||{},{translations:s=i,...a}=e,l=e.language||o.language;this._context=e.context||new bm({language:l,translations:s}),this._context._addEditor(this,!e.context);const c=Array.from(r.builtinPlugins||[]);this.config=new TO(a,o),this.config.define("plugins",c),this.config.define(this._context._getEditorConfig()),this.plugins=new $I(this,c,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new VQ,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new rQ,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const u=new WZ;this.data=new fX(this.model,u),this.editing=new HJ(this.model,u),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new gX([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new jQ(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new $Q(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new q("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new q("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,r=e.get("plugins"),i=e.get("removePlugins")||[],o=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(r.concat(o),i,s)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(r=>this.once("ready",r))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...r){try{return this.commands.execute(e,...r)}catch(i){/* istanbul ignore next -- @preserve */q.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}w(Ia,"defaultConfig"),w(Ia,"builtinPlugins"),w(Ia,"Context",bm),w(Ia,"EditorWatchdog",jI),w(Ia,"ContextWatchdog",DQ);function zQ(n){if(!Hs(n.updateSourceElement))throw new q("attachtoform-missing-elementapi-interface",n);const t=n.sourceElement;if(HQ(t)&&t.form){let e;const r=t.form,i=()=>n.updateSourceElement();Hs(r.submit)&&(e=r.submit,r.submit=()=>{i(),e.apply(r)}),r.addEventListener("submit",i),n.on("destroy",()=>{r.removeEventListener("submit",i),e&&(r.submit=e)})}}function HQ(n){return!!n&&n.tagName.toLowerCase()==="textarea"}function Nv(n){class t extends n{constructor(){super(...arguments);w(this,"sourceElement")}updateSourceElement(i){if(!this.sourceElement)throw new q("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!o&&!s){_2(this.sourceElement,"");return}const a=typeof i=="string"?i:this.data.get();_2(this.sourceElement,a)}}return t}Nv.updateSourceElement=Nv(Object).prototype.updateSourceElement;class vm extends FQ{constructor(){super(...arguments);w(this,"_actions")}static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new zt({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new q("pendingactions-add-invalid-message",this);const r=new(Ke());return r.set("message",e),this._actions.add(r),this.hasAny=!0,r}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}var UQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',WQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',qQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',GQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',KQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',ZQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',YQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',JQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',XQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',QQ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',eee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',tee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',nee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',ree='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',iee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',oee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',see='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',aee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',lee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',cee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',uee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',dee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',hee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',fee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',mee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',gee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',bee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',vee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',yee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',wee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',_ee='<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',xee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',kee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',Cee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',Eee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',Tee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',See='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',Aee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',Pee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',Ree='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',Oee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',Iee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',Nee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',Mee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',Lee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',Dee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Bee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',Fee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Vee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',jee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',$ee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',zee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',Hee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',Uee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',Wee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',qee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',Gee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',Kee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',Zee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',Yee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Jee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',Xee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>';const be={bold:Ree,cancel:UQ,caption:WQ,check:qQ,cog:GQ,colorPalette:KQ,eraser:ZQ,history:YQ,image:nee,imageUpload:ree,imageAssetManager:iee,imageUrl:oee,lowVision:JQ,textAlternative:XQ,loupe:QQ,previousArrow:eee,nextArrow:tee,importExport:Mee,paragraph:Oee,plus:Iee,text:Nee,alignBottom:see,alignMiddle:aee,alignTop:lee,alignLeft:cee,alignCenter:uee,alignRight:dee,alignJustify:hee,objectLeft:vee,objectCenter:mee,objectRight:yee,objectFullWidth:pee,objectInline:bee,objectBlockLeft:fee,objectBlockRight:gee,objectSizeCustom:_ee,objectSizeFull:wee,objectSizeLarge:xee,objectSizeSmall:kee,objectSizeMedium:Cee,pencil:Eee,pilcrow:Tee,quote:See,threeVerticalDots:Aee,dragIndicator:Pee,redo:Lee,undo:Dee,bulletedList:Bee,numberedList:Fee,todoList:Vee,codeBlock:jee,browseFiles:$ee,heading1:zee,heading2:Hee,heading3:Uee,heading4:Wee,heading5:qee,heading6:Gee,horizontalLine:Kee,html:Zee,indent:Yee,outdent:Jee,table:Xee};var zI={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const bC=xi(zI);var vC={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function yC(n){var t,e=[],r=1,i;if(typeof n=="string")if(bC[n])e=bC[n].slice(),i="rgb";else if(n==="transparent")r=0,i="rgb",e=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(n)){var o=n.slice(1),s=o.length,a=s<=4;r=1,a?(e=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],s===4&&(r=parseInt(o[3]+o[3],16)/255)):(e=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],s===8&&(r=parseInt(o[6]+o[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),i="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(n)){var l=t[1],c=l==="rgb",o=l.replace(/a$/,"");i=o;var s=o==="cmyk"?4:o==="gray"?1:3;e=t[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,f){if(/%$/.test(h))return f===s?parseFloat(h)/100:o==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(o[f]==="h"){if(/deg$/.test(h))return parseFloat(h);if(vC[h]!==void 0)return vC[h]}return parseFloat(h)}),l===o&&e.push(1),r=c||e[s]===void 0?1:e[s],e=e.slice(0,s)}else n.length>10&&/[0-9](?:\s|\/)/.test(n)&&(e=n.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),i=n.match(/([a-z])/ig).join("").toLowerCase());else isNaN(n)?Array.isArray(n)||n.length?(e=[n[0],n[1],n[2]],i="rgb",r=n.length===4?n[3]:1):n instanceof Object&&(n.r!=null||n.red!=null||n.R!=null?(i="rgb",e=[n.r||n.red||n.R||0,n.g||n.green||n.G||0,n.b||n.blue||n.B||0]):(i="hsl",e=[n.h||n.hue||n.H||0,n.s||n.saturation||n.S||0,n.l||n.lightness||n.L||n.b||n.brightness]),r=n.a||n.alpha||n.opacity||1,n.opacity!=null&&(r/=100)):(i="rgb",e=[n>>>16,(n&65280)>>>8,n&255]);return{space:i,values:e,alpha:r}}const ed=zI,HI={};for(const n of Object.keys(ed))HI[ed[n]]=n;const ve={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var UI=ve;for(const n of Object.keys(ve)){if(!("channels"in ve[n]))throw new Error("missing channels property: "+n);if(!("labels"in ve[n]))throw new Error("missing channel labels property: "+n);if(ve[n].labels.length!==ve[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:t,labels:e}=ve[n];delete ve[n].channels,delete ve[n].labels,Object.defineProperty(ve[n],"channels",{value:t}),Object.defineProperty(ve[n],"labels",{value:e})}ve.rgb.hsl=function(n){const t=n[0]/255,e=n[1]/255,r=n[2]/255,i=Math.min(t,e,r),o=Math.max(t,e,r),s=o-i;let a,l;o===i?a=0:t===o?a=(e-r)/s:e===o?a=2+(r-t)/s:r===o&&(a=4+(t-e)/s),a=Math.min(a*60,360),a<0&&(a+=360);const c=(i+o)/2;return o===i?l=0:c<=.5?l=s/(o+i):l=s/(2-o-i),[a,l*100,c*100]};ve.rgb.hsv=function(n){let t,e,r,i,o;const s=n[0]/255,a=n[1]/255,l=n[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),d=function(h){return(c-h)/6/u+1/2};return u===0?(i=0,o=0):(o=u/c,t=d(s),e=d(a),r=d(l),s===c?i=r-e:a===c?i=1/3+t-r:l===c&&(i=2/3+e-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,c*100]};ve.rgb.hwb=function(n){const t=n[0],e=n[1];let r=n[2];const i=ve.rgb.hsl(n)[0],o=1/255*Math.min(t,Math.min(e,r));return r=1-1/255*Math.max(t,Math.max(e,r)),[i,o*100,r*100]};ve.rgb.cmyk=function(n){const t=n[0]/255,e=n[1]/255,r=n[2]/255,i=Math.min(1-t,1-e,1-r),o=(1-t-i)/(1-i)||0,s=(1-e-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function Qee(n,t){return(n[0]-t[0])**2+(n[1]-t[1])**2+(n[2]-t[2])**2}ve.rgb.keyword=function(n){const t=HI[n];if(t)return t;let e=1/0,r;for(const i of Object.keys(ed)){const o=ed[i],s=Qee(n,o);s<e&&(e=s,r=i)}return r};ve.keyword.rgb=function(n){return ed[n]};ve.rgb.xyz=function(n){let t=n[0]/255,e=n[1]/255,r=n[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=t*.4124+e*.3576+r*.1805,o=t*.2126+e*.7152+r*.0722,s=t*.0193+e*.1192+r*.9505;return[i*100,o*100,s*100]};ve.rgb.lab=function(n){const t=ve.rgb.xyz(n);let e=t[0],r=t[1],i=t[2];e/=95.047,r/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,s=500*(e-r),a=200*(r-i);return[o,s,a]};ve.hsl.rgb=function(n){const t=n[0]/360,e=n[1]/100,r=n[2]/100;let i,o,s;if(e===0)return s=r*255,[s,s,s];r<.5?i=r*(1+e):i=r+e-r*e;const a=2*r-i,l=[0,0,0];for(let c=0;c<3;c++)o=t+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,l[c]=s*255;return l};ve.hsl.hsv=function(n){const t=n[0];let e=n[1]/100,r=n[2]/100,i=e;const o=Math.max(r,.01);r*=2,e*=r<=1?r:2-r,i*=o<=1?o:2-o;const s=(r+e)/2,a=r===0?2*i/(o+i):2*e/(r+e);return[t,a*100,s*100]};ve.hsv.rgb=function(n){const t=n[0]/60,e=n[1]/100;let r=n[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),s=255*r*(1-e),a=255*r*(1-e*o),l=255*r*(1-e*(1-o));switch(r*=255,i){case 0:return[r,l,s];case 1:return[a,r,s];case 2:return[s,r,l];case 3:return[s,a,r];case 4:return[l,s,r];case 5:return[r,s,a]}};ve.hsv.hsl=function(n){const t=n[0],e=n[1]/100,r=n[2]/100,i=Math.max(r,.01);let o,s;s=(2-e)*r;const a=(2-e)*i;return o=e*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,o*100,s*100]};ve.hwb.rgb=function(n){const t=n[0]/360;let e=n[1]/100,r=n[2]/100;const i=e+r;let o;i>1&&(e/=i,r/=i);const s=Math.floor(6*t),a=1-r;o=6*t-s,s&1&&(o=1-o);const l=e+o*(a-e);let c,u,d;switch(s){default:case 6:case 0:c=a,u=l,d=e;break;case 1:c=l,u=a,d=e;break;case 2:c=e,u=a,d=l;break;case 3:c=e,u=l,d=a;break;case 4:c=l,u=e,d=a;break;case 5:c=a,u=e,d=l;break}return[c*255,u*255,d*255]};ve.cmyk.rgb=function(n){const t=n[0]/100,e=n[1]/100,r=n[2]/100,i=n[3]/100,o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[o*255,s*255,a*255]};ve.xyz.rgb=function(n){const t=n[0]/100,e=n[1]/100,r=n[2]/100;let i,o,s;return i=t*3.2406+e*-1.5372+r*-.4986,o=t*-.9689+e*1.8758+r*.0415,s=t*.0557+e*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};ve.xyz.lab=function(n){let t=n[0],e=n[1],r=n[2];t/=95.047,e/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*e-16,o=500*(t-e),s=200*(e-r);return[i,o,s]};ve.lab.xyz=function(n){const t=n[0],e=n[1],r=n[2];let i,o,s;o=(t+16)/116,i=e/500+o,s=o-r/200;const a=o**3,l=i**3,c=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};ve.lab.lch=function(n){const t=n[0],e=n[1],r=n[2];let i;i=Math.atan2(r,e)*360/2/Math.PI,i<0&&(i+=360);const s=Math.sqrt(e*e+r*r);return[t,s,i]};ve.lch.lab=function(n){const t=n[0],e=n[1],i=n[2]/360*2*Math.PI,o=e*Math.cos(i),s=e*Math.sin(i);return[t,o,s]};ve.rgb.ansi16=function(n,t=null){const[e,r,i]=n;let o=t===null?ve.rgb.hsv(n)[2]:t;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return o===2&&(s+=60),s};ve.hsv.ansi16=function(n){return ve.rgb.ansi16(ve.hsv.rgb(n),n[2])};ve.rgb.ansi256=function(n){const t=n[0],e=n[1],r=n[2];return t===e&&e===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(r/255*5)};ve.ansi16.rgb=function(n){let t=n%10;if(t===0||t===7)return n>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const e=(~~(n>50)+1)*.5,r=(t&1)*e*255,i=(t>>1&1)*e*255,o=(t>>2&1)*e*255;return[r,i,o]};ve.ansi256.rgb=function(n){if(n>=232){const o=(n-232)*10+8;return[o,o,o]}n-=16;let t;const e=Math.floor(n/36)/5*255,r=Math.floor((t=n%36)/6)/5*255,i=t%6/5*255;return[e,r,i]};ve.rgb.hex=function(n){const e=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(e.length)+e};ve.hex.rgb=function(n){const t=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let e=t[0];t[0].length===3&&(e=e.split("").map(a=>a+a).join(""));const r=parseInt(e,16),i=r>>16&255,o=r>>8&255,s=r&255;return[i,o,s]};ve.rgb.hcg=function(n){const t=n[0]/255,e=n[1]/255,r=n[2]/255,i=Math.max(Math.max(t,e),r),o=Math.min(Math.min(t,e),r),s=i-o;let a,l;return s<1?a=o/(1-s):a=0,s<=0?l=0:i===t?l=(e-r)/s%6:i===e?l=2+(r-t)/s:l=4+(t-e)/s,l/=6,l%=1,[l*360,s*100,a*100]};ve.hsl.hcg=function(n){const t=n[1]/100,e=n[2]/100,r=e<.5?2*t*e:2*t*(1-e);let i=0;return r<1&&(i=(e-.5*r)/(1-r)),[n[0],r*100,i*100]};ve.hsv.hcg=function(n){const t=n[1]/100,e=n[2]/100,r=t*e;let i=0;return r<1&&(i=(e-r)/(1-r)),[n[0],r*100,i*100]};ve.hcg.rgb=function(n){const t=n[0]/360,e=n[1]/100,r=n[2]/100;if(e===0)return[r*255,r*255,r*255];const i=[0,0,0],o=t%1*6,s=o%1,a=1-s;let l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-e)*r,[(e*i[0]+l)*255,(e*i[1]+l)*255,(e*i[2]+l)*255]};ve.hcg.hsv=function(n){const t=n[1]/100,e=n[2]/100,r=t+e*(1-t);let i=0;return r>0&&(i=t/r),[n[0],i*100,r*100]};ve.hcg.hsl=function(n){const t=n[1]/100,r=n[2]/100*(1-t)+.5*t;let i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[n[0],i*100,r*100]};ve.hcg.hwb=function(n){const t=n[1]/100,e=n[2]/100,r=t+e*(1-t);return[n[0],(r-t)*100,(1-r)*100]};ve.hwb.hcg=function(n){const t=n[1]/100,r=1-n[2]/100,i=r-t;let o=0;return i<1&&(o=(r-i)/(1-i)),[n[0],i*100,o*100]};ve.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};ve.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};ve.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};ve.gray.hsl=function(n){return[0,0,n[0]]};ve.gray.hsv=ve.gray.hsl;ve.gray.hwb=function(n){return[0,100,n[0]]};ve.gray.cmyk=function(n){return[0,0,0,n[0]]};ve.gray.lab=function(n){return[n[0],0,0]};ve.gray.hex=function(n){const t=Math.round(n[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r};ve.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};const ym=UI;function ete(){const n={},t=Object.keys(ym);for(let e=t.length,r=0;r<e;r++)n[t[r]]={distance:-1,parent:null};return n}function tte(n){const t=ete(),e=[n];for(t[n].distance=0;e.length;){const r=e.pop(),i=Object.keys(ym[r]);for(let o=i.length,s=0;s<o;s++){const a=i[s],l=t[a];l.distance===-1&&(l.distance=t[r].distance+1,l.parent=r,e.unshift(a))}}return t}function nte(n,t){return function(e){return t(n(e))}}function rte(n,t){const e=[t[n].parent,n];let r=ym[t[n].parent][n],i=t[n].parent;for(;t[i].parent;)e.unshift(t[i].parent),r=nte(ym[t[i].parent][i],r),i=t[i].parent;return r.conversion=e,r}var ite=function(n){const t=tte(n),e={},r=Object.keys(t);for(let i=r.length,o=0;o<i;o++){const s=r[o];t[s].parent!==null&&(e[s]=rte(s,t))}return e};const Mv=UI,ote=ite,Na={},ste=Object.keys(Mv);function ate(n){const t=function(...e){const r=e[0];return r==null?r:(r.length>1&&(e=r),n(e))};return"conversion"in n&&(t.conversion=n.conversion),t}function lte(n){const t=function(...e){const r=e[0];if(r==null)return r;r.length>1&&(e=r);const i=n(e);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in n&&(t.conversion=n.conversion),t}ste.forEach(n=>{Na[n]={},Object.defineProperty(Na[n],"channels",{value:Mv[n].channels}),Object.defineProperty(Na[n],"labels",{value:Mv[n].labels});const t=ote(n);Object.keys(t).forEach(r=>{const i=t[r];Na[n][r]=lte(i),Na[n][r].raw=ate(i)})});var WI=Na;const cte=xi(WI),qI=E5({__proto__:null,default:cte},[WI]),td=(n,t=0,e=1)=>n>e?e:n<t?t:n,rn=(n,t=0,e=Math.pow(10,t))=>Math.round(e*n)/e,ute=n=>gte(Lv(n)),Lv=n=>(n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?rn(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?rn(parseInt(n.substring(6,8),16)/255,2):1}),dte=n=>mte(fte(n)),hte=({h:n,s:t,v:e,a:r})=>{const i=(200-t)*e/100;return{h:rn(n),s:rn(i>0&&i<200?t*e/100/(i<=100?i:200-i)*100:0),l:rn(i/2),a:rn(r,2)}},Dv=n=>{const{h:t,s:e,l:r}=hte(n);return`hsl(${t}, ${e}%, ${r}%)`},fte=({h:n,s:t,v:e,a:r})=>{n=n/360*6,t=t/100,e=e/100;const i=Math.floor(n),o=e*(1-t),s=e*(1-(n-i)*t),a=e*(1-(1-n+i)*t),l=i%6;return{r:rn([e,s,o,o,a,e][l]*255),g:rn([a,e,e,s,o,o][l]*255),b:rn([o,o,a,e,e,s][l]*255),a:rn(r,2)}},wh=n=>{const t=n.toString(16);return t.length<2?"0"+t:t},mte=({r:n,g:t,b:e,a:r})=>{const i=r<1?wh(rn(r*255)):"";return"#"+wh(n)+wh(t)+wh(e)+i},gte=({r:n,g:t,b:e,a:r})=>{const i=Math.max(n,t,e),o=i-Math.min(n,t,e),s=o?i===n?(t-e)/o:i===t?2+(e-n)/o:4+(n-t)/o:0;return{h:rn(60*(s<0?s+6:s)),s:rn(i?o/i*100:0),v:rn(i/255*100),a:r}},GI=(n,t)=>{if(n===t)return!0;for(const e in n)if(n[e]!==t[e])return!1;return!0},pte=(n,t)=>n.toLowerCase()===t.toLowerCase()?!0:GI(Lv(n),Lv(t)),wC={},KI=n=>{let t=wC[n];return t||(t=document.createElement("template"),t.innerHTML=n,wC[n]=t),t},Vw=(n,t,e)=>{n.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))};let fl=!1;const Bv=n=>"touches"in n,bte=n=>fl&&!Bv(n)?!1:(fl||(fl=Bv(n)),!0),_C=(n,t)=>{const e=Bv(t)?t.touches[0]:t,r=n.el.getBoundingClientRect();Vw(n.el,"move",n.getMove({x:td((e.pageX-(r.left+window.pageXOffset))/r.width),y:td((e.pageY-(r.top+window.pageYOffset))/r.height)}))},vte=(n,t)=>{const e=t.keyCode;e>40||n.xy&&e<37||e<33||(t.preventDefault(),Vw(n.el,"move",n.getMove({x:e===39?.01:e===37?-.01:e===34?.05:e===33?-.05:e===35?1:e===36?-1:0,y:e===40?.01:e===38?-.01:0},!0)))};class ZI{constructor(t,e,r,i){const o=KI(`<div role="slider" tabindex="0" part="${e}" ${r}><div part="${e}-pointer"></div></div>`);t.appendChild(o.content.cloneNode(!0));const s=t.querySelector(`[part=${e}]`);s.addEventListener("mousedown",this),s.addEventListener("touchstart",this),s.addEventListener("keydown",this),this.el=s,this.xy=i,this.nodes=[s.firstChild,s]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(fl?"touchmove":"mousemove",this),e(fl?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!bte(t)||!fl&&t.button!=0)return;this.el.focus(),_C(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),_C(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":vte(this,t);break}}style(t){t.forEach((e,r)=>{for(const i in e)this.nodes[r].style.setProperty(i,e[i])})}}class yte extends ZI{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:Dv({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${rn(t)}`)}getMove(t,e){return{h:e?td(this.h+t.x*360,0,360):360*t.x}}}class wte extends ZI{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:Dv(t)},{"background-color":Dv({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${rn(t.s)}%, Brightness ${rn(t.v)}%`)}getMove(t,e){return{s:e?td(this.hsva.s+t.x*100,0,100):t.x*100,v:e?td(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const _te=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',xte="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",kte="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",_h=Symbol("same"),g0=Symbol("color"),xC=Symbol("hsva"),p0=Symbol("update"),kC=Symbol("parts"),CC=Symbol("css"),EC=Symbol("sliders");class Cte extends HTMLElement{static get observedAttributes(){return["color"]}get[CC](){return[_te,xte,kte]}get[EC](){return[wte,yte]}get color(){return this[g0]}set color(t){if(!this[_h](t)){const e=this.colorModel.toHsva(t);this[p0](e),this[g0]=t}}constructor(){super();const t=KI(`<style>${this[CC].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[kC]=this[EC].map(r=>new r(e))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,r){const i=this.colorModel.fromAttr(r);this[_h](i)||(this.color=i)}handleEvent(t){const e=this[xC],r={...e,...t.detail};this[p0](r);let i;!GI(r,e)&&!this[_h](i=this.colorModel.fromHsva(r))&&(this[g0]=i,Vw(this,"color-changed",{value:i}))}[_h](t){return this.color&&this.colorModel.equal(t,this.color)}[p0](t){this[xC]=t,this[kC].forEach(e=>e.update(t))}}const Ete={defaultColor:"#000",toHsva:ute,fromHsva:({h:n,s:t,v:e})=>dte({h:n,s:t,v:e,a:1}),equal:pte,fromAttr:n=>n};class Tte extends Cte{get colorModel(){return Ete}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class En extends zt{constructor(e=[]){super(e,{idProperty:"viewUid"});w(this,"_parentElement");this.on("add",(r,i,o)=>{this._renderViewIntoCollectionParent(i,o)}),this.on("remove",(r,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...e){if(!e.length||!Ste(e))throw new q("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const i of this)for(const o of e)i.delegate(o).to(r);this.on("add",(i,o)=>{for(const s of e)o.delegate(s).to(r)}),this.on("remove",(i,o)=>{for(const s of e)o.stopDelegating(s,r)})}}}_renderViewIntoCollectionParent(e,r){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[r])}remove(e){return super.remove(e)}}function Ste(n){return n.every(t=>typeof t=="string")}const Ate="http://www.w3.org/1999/xhtml";class Tr extends We(){constructor(e){super();w(this,"ns");w(this,"tag");w(this,"text");w(this,"attributes");w(this,"children");w(this,"eventListeners");w(this,"_isRendered");w(this,"_revertData");Object.assign(this,SC(TC(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=RC(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new q("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(r){if(r.children)for(const i of r.children)wm(i)?yield i:jw(i)&&(yield*e(i))}yield*e(this)}static bind(e,r){return{to(i,o){return new Pte({eventNameOrFunction:i,attribute:i,observable:e,emitter:r,callback:o})},if(i,o,s){return new YI({observable:e,emitter:r,attribute:i,valueIfTrue:o,callback:s})}}}static extend(e,r){if(e._isRendered)throw new q("template-extend-render",[this,e]);e6(e,SC(TC(r)))}_renderNode(e){let r;if(e.node?r=this.tag&&this.text:r=this.tag?this.text:!this.text,r)throw new q("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let r=e.node;return r||(r=e.node=document.createElementNS(this.ns||Ate,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),r}_renderText(e){let r=e.node;return r?e.revertData.text=r.textContent:r=e.node=document.createTextNode(""),cf(this.text)?this._bindToObservable({schema:this.text,updater:Ote(r),data:e}):r.textContent=this.text.join(""),r}_renderAttributes(e){if(!this.attributes)return;const r=e.node,i=e.revertData;for(const o in this.attributes){const s=r.getAttribute(o),a=this.attributes[o];i&&(i.attributes[o]=s);const l=PC(a)?a[0].ns:null;if(cf(a)){const c=PC(a)?a[0].value:a;i&&OC(o)&&c.unshift(s),this._bindToObservable({schema:c,updater:Ite(r,o,l),data:e})}else if(o=="style"&&typeof a[0]!="string")this._renderStyleAttribute(a[0],e);else{i&&s&&OC(o)&&a.unshift(s);const c=a.map(u=>u&&(u.value||u)).reduce((u,d)=>u.concat(d),[]).reduce(QI,"");Nl(c)||r.setAttributeNS(l,o,c)}}}_renderStyleAttribute(e,r){const i=r.node;for(const o in e){const s=e[o];cf(s)?this._bindToObservable({schema:[s],updater:Nte(i,o),data:r}):i.style[o]=s}}_renderElementChildren(e){const r=e.node,i=e.intoFragment?document.createDocumentFragment():r,o=e.isApplying;let s=0;for(const a of this.children)if($w(a)){if(!o){a.setParent(r);for(const l of a)i.appendChild(l.element)}}else if(wm(a))o||(a.isRendered||a.render(),i.appendChild(a.element));else if(Yo(a))i.appendChild(a);else if(o){const l=e.revertData,c=RC();l.children.push(c),a._renderNode({intoFragment:!1,node:i.childNodes[s++],isApplying:!0,revertData:c})}else i.appendChild(a.render());e.intoFragment&&r.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const r in this.eventListeners){const i=this.eventListeners[r].map(o=>{const[s,a]=r.split("@");return o.activateDomEventListener(s,a,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:r,data:i}){const o=i.revertData;JI(e,r,i);const s=e.filter(a=>!Nl(a)).filter(a=>a.observable).map(a=>a.activateAttributeListener(e,r,i));o&&o.bindings.push(s)}_revertTemplateFromNode(e,r){for(const o of r.bindings)for(const s of o)s();if(r.text){e.textContent=r.text;return}const i=e;for(const o in r.attributes){const s=r.attributes[o];s===null?i.removeAttribute(o):i.setAttribute(o,s)}for(let o=0;o<r.children.length;++o)this._revertTemplateFromNode(i.childNodes[o],r.children[o])}}class Od{constructor(t){w(this,"attribute");w(this,"observable");w(this,"emitter");w(this,"callback");this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,r){const i=()=>JI(t,e,r);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class Pte extends Od{constructor(e){super(e);w(this,"eventNameOrFunction");this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,r,i){const o=(s,a)=>{(!r||a.target.matches(r))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(a):this.observable.fire(this.eventNameOrFunction,a))};return this.emitter.listenTo(i.node,e,o),()=>{this.emitter.stopListening(i.node,e,o)}}}class YI extends Od{constructor(e){super(e);w(this,"valueIfTrue");this.valueIfTrue=e.valueIfTrue}getValue(e){const r=super.getValue(e);return Nl(r)?!1:this.valueIfTrue||!0}}function cf(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(cf):n instanceof Od):!1}function Rte(n,t){return n.map(e=>e instanceof Od?e.getValue(t):e)}function JI(n,t,{node:e}){const r=Rte(n,e);let i;n.length==1&&n[0]instanceof YI?i=r[0]:i=r.reduce(QI,""),Nl(i)?t.remove():t.set(i)}function Ote(n){return{set(t){n.textContent=t},remove(){n.textContent=""}}}function Ite(n,t,e){return{set(r){n.setAttributeNS(e,t,r)},remove(){n.removeAttributeNS(e,t)}}}function Nte(n,t){return{set(e){n.style[t]=e},remove(){n.style[t]=null}}}function TC(n){return pw(n,e=>{if(e&&(e instanceof Od||jw(e)||wm(e)||$w(e)))return e})}function SC(n){if(typeof n=="string"?n=Dte(n):n.text&&Bte(n),n.on&&(n.eventListeners=Lte(n.on),delete n.on),!n.text){n.attributes&&Mte(n.attributes);const t=[];if(n.children)if($w(n.children))t.push(n.children);else for(const e of n.children)jw(e)||wm(e)||Yo(e)?t.push(e):t.push(new Tr(e));n.children=t}return n}function Mte(n){for(const t in n)n[t].value&&(n[t].value=pt(n[t].value)),XI(n,t)}function Lte(n){for(const t in n)XI(n,t);return n}function Dte(n){return{text:[n]}}function Bte(n){n.text=pt(n.text)}function XI(n,t){n[t]=pt(n[t])}function QI(n,t){return Nl(t)?n:Nl(n)?t:`${n} ${t}`}function AC(n,t){for(const e in t)n[e]?n[e].push(...t[e]):n[e]=t[e]}function e6(n,t){if(t.attributes&&(n.attributes||(n.attributes={}),AC(n.attributes,t.attributes)),t.eventListeners&&(n.eventListeners||(n.eventListeners={}),AC(n.eventListeners,t.eventListeners)),t.text&&n.text.push(...t.text),t.children&&t.children.length){if(n.children.length!=t.children.length)throw new q("ui-template-extend-children-mismatch",n);let e=0;for(const r of t.children)e6(n.children[e++],r)}}function Nl(n){return!n&&n!==0}function wm(n){return n instanceof ce}function jw(n){return n instanceof Tr}function $w(n){return n instanceof En}function PC(n){return et(n[0])&&n[0].ns}function RC(){return{children:[],bindings:[],attributes:{}}}function OC(n){return n=="class"||n=="style"}class ce extends br(Ke()){constructor(e){super();w(this,"element");w(this,"isRendered");w(this,"locale");w(this,"t");w(this,"template");w(this,"_viewCollections");w(this,"_unboundChildren");w(this,"_bindTemplate");this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new zt,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Tr.bind(this,this)}createCollection(e){const r=new En(e);return this._viewCollections.add(r),r}registerChild(e){dr(e)||(e=[e]);for(const r of e)this._unboundChildren.add(r)}deregisterChild(e){dr(e)||(e=[e]);for(const r of e)this._unboundChildren.remove(r)}setTemplate(e){this.template=new Tr(e)}extendTemplate(e){Tr.extend(this.template,e)}render(){if(this.isRendered)throw new q("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Id({emitter:n,activator:t,callback:e,contextElements:r,listenerOptions:i}){n.listenTo(document,"mousedown",(o,s)=>{if(!t())return;const a=typeof s.composedPath=="function"?s.composedPath():[],l=typeof r=="function"?r():r;for(const c of l)if(c.contains(s.target)||a.includes(c))return;e()},i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function t6(n){class t extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...r){super(...r),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jg({view:n}){n.listenTo(n.element,"submit",(t,e)=>{e.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $g({keystrokeHandler:n,focusTracker:t,gridItems:e,numberOfColumns:r,uiLanguageDirection:i}){const o=typeof r=="number"?()=>r:r;n.set("arrowright",s((c,u)=>i==="rtl"?l(c,u.length):a(c,u.length))),n.set("arrowleft",s((c,u)=>i==="rtl"?a(c,u.length):l(c,u.length))),n.set("arrowup",s((c,u)=>{let d=c-o();return d<0&&(d=c+o()*Math.floor(u.length/o()),d>u.length-1&&(d-=o())),d})),n.set("arrowdown",s((c,u)=>{let d=c+o();return d>u.length-1&&(d=c%o()),d}));function s(c){return u=>{const d=e.find(m=>m.element===t.focusedElement),h=e.getIndex(d),f=c(h,e);e.get(f).focus(),u.stopPropagation(),u.preventDefault()}}function a(c,u){return c===u-1?0:c+1}function l(c,u){return c===0?u-1:c-1}}const Jm=class Jm extends ce{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),r=e.getAttribute("viewBox");r&&(this.viewBox=r);for(const{name:i,value:o}of Array.from(e.attributes))Jm.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,o);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}};w(Jm,"presentationalAttributeNames",["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]);let Yi=Jm;class n6 extends ce{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}class we extends ce{constructor(e,r=new n6){super(e);w(this,"children");w(this,"labelView");w(this,"iconView");w(this,"keystrokeView");w(this,"_focusDelayed",null);const i=this.bindTemplate,o=ur();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${o}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(r),this.iconView=new Yi,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",a=>!a),i.if("isVisible","ck-hidden",a=>!a),i.to("isOn",a=>a?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",a=>a||"button"),tabindex:i.to("tabindex"),"aria-checked":i.to("_ariaChecked"),"aria-pressed":i.to("_ariaPressed"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,a=>!a),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(a=>{this.isEnabled?this.fire("execute"):a.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(a,l,c)=>!l||IC(c)?!1:String(!!a)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(a,l,c)=>!l||!IC(c)?!1:String(!!a)),Ee.isSafari&&(this._focusDelayed||(this._focusDelayed=Cw(()=>this.focus(),0)),s.on.mousedown=i.to(()=>{this._focusDelayed()}),s.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(s)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new ce;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>fm(r))}]}),e}_getTooltipString(e,r,i){return e?typeof e=="string"?e:(i&&(i=fm(i)),e instanceof Function?e(r,i):`${r}${i?` (${i})`:""}`):""}}function IC(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class zg extends ce{constructor(e,r={}){super(e);w(this,"children");w(this,"iconView");const i=this.bindTemplate;this.set("label",r.label||""),this.set("class",r.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),r.icon&&(this.iconView=new Yi,this.iconView.content=r.icon,this.children.add(this.iconView));const o=new ce(e);o.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(o)}}class zn extends We(){constructor(e){super();w(this,"focusables");w(this,"focusTracker");w(this,"keystrokeHandler");w(this,"actions");if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const r in e.actions){let i=e.actions[r];typeof i=="string"&&(i=[i]);for(const o of i)e.keystrokeHandler.set(o,(s,a)=>{this[r](),a()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(b0)||null}get last(){return this.focusables.filter(b0).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((r,i)=>{const o=r.element===this.focusTracker.focusedElement;return o&&(e=i),o}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const r=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",i=>{const o=r();this.focusNext(),o!==r()&&i.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",i=>{const o=r();this.focusPrevious(),o!==r()&&i.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,r){e&&this.focusTracker.focusedElement!==e.element&&e.focus(r)}_getDomFocusableItem(e){const r=this.focusables.length;if(!r)return null;const i=this.current;if(i===null)return this[e===1?"first":"last"];let o=this.focusables.get(i),s=(i+r+e)%r;do{const a=this.focusables.get(s);if(b0(a)){o=a;break}s=(s+r+e)%r}while(s!==i);return o}}function b0(n){return Nd(n)&&_i(n.element)}function Nd(n){return"focus"in n&&typeof n.focus=="function"}function Fte(n){return Nd(n)&&"focusCycler"in n&&n.focusCycler instanceof zn}function Vte(n){class t extends n{constructor(...i){super(...i);w(this,"_onDragBound",this._onDrag.bind(this));w(this,"_onDragEndBound",this._onDragEnd.bind(this));w(this,"_lastDraggingCoordinates",{x:0,y:0});this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(fe.document,"mouseup",this._onDragEndBound),this.listenTo(fe.document,"touchend",this._onDragEndBound),this.listenTo(fe.document,"mousemove",this._onDragBound),this.listenTo(fe.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(fe.document,"mouseup",this._onDragEndBound),this.stopListening(fe.document,"touchend",this._onDragEndBound),this.stopListening(fe.document,"mousemove",this._onDragBound),this.stopListening(fe.document,"touchmove",this._onDragBound)}_onDragStart(i,o){if(!this._isHandleElementPressed(o))return;this._attachDragListeners();let s=0,a=0;o instanceof MouseEvent?(s=o.clientX,a=o.clientY):(s=o.touches[0].clientX,a=o.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:a},this.isDragging=!0}_onDrag(i,o){if(!this.isDragging){this._detachDragListeners();return}let s=0,a=0;o instanceof MouseEvent?(s=o.clientX,a=o.clientY):(s=o.touches[0].clientX,a=o.touches[0].clientY),o.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(a-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:a}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return this.dragHandleElement?this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target):!1}}return t}class jte extends ce{constructor(e){super(e);w(this,"children");w(this,"keystrokes");w(this,"focusCycler");w(this,"_focusTracker");w(this,"_focusables");this.children=this.createCollection(),this.keystrokes=new Nt,this._focusTracker=new yt,this._focusables=new En,this.focusCycler=new zn({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const r of e){const i=new we(this.locale);let o;i.on("execute",()=>r.onExecute()),r.onCreate&&r.onCreate(i);for(o in r)o!="onExecute"&&o!="onCreate"&&i.set(o,r[o]);this.children.add(i)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class $te extends ce{constructor(e){super(e);w(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const Un={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},NC=Rd("px"),Xm=class Xm extends Vte(ce){constructor(e,{getCurrentDomRoot:r,getViewportOffset:i}){super(e);w(this,"parts");w(this,"headerView");w(this,"closeButtonView");w(this,"actionsView");w(this,"contentView");w(this,"keystrokes");w(this,"focusTracker");w(this,"wasMoved",!1);w(this,"_getCurrentDomRoot");w(this,"_getViewportOffset");w(this,"_focusables");w(this,"_focusCycler");const o=this.bindTemplate,s=e.t;this.set("className",""),this.set("ariaLabel",s("Editor dialog")),this.set("isModal",!1),this.set("position",Un.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=r,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Nt,this.focusTracker=new yt,this._focusables=new En,this._focusCycler=new zn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",a=>!a),o.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",a=>NC(a)),left:o.to("_left",a=>NC(a)),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,r)=>{this.fire("close",{source:"escKeyPress"}),r()}),this.on("drag",(e,{deltaX:r,deltaY:i})=>{this.wasMoved=!0,this.moveBy(r,i)}),this.listenTo(fe.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(fe.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,r,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:e,title:r,hasCloseButton:i=!0,content:o,actionButtons:s}){r&&(this.headerView=new zg(this.locale,{icon:e}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=r,this.ariaLabel=r,this.parts.add(this.headerView,0)),o&&(o instanceof ce&&(o=[o]),this.contentView=new $te(this.locale),this.contentView.children.addMany(o),this.parts.add(this.contentView)),s&&(this.actionsView=new jte(this.locale),this.actionsView.setButtons(s),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,r){const i=this._getViewportRect(),o=this._getDialogRect();e+o.width>i.right&&(e=i.right-o.width),e<i.left&&(e=i.left),r<i.top&&(r=i.top),this._moveTo(e,r)}_moveTo(e,r){this._left=e,this._top=r}moveBy(e,r){this.moveTo(this._left+e,this._top+r)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let r=this.position,i;this._getCurrentDomRoot()?i=this._getVisibleDomRootRect(e):r=Un.SCREEN_CENTER;const o=Xm.defaultOffset,s=this._getDialogRect();switch(r){case Un.EDITOR_TOP_SIDE:{if(i){const a=this.locale.contentLanguageDirection==="ltr"?i.right-s.width-o:i.left+o;this.moveTo(a,i.top+o)}else this._moveOffScreen();break}case Un.EDITOR_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),Math.round(i.top+i.height/2-s.height/2)):this._moveOffScreen();break}case Un.SCREEN_CENTER:{this.moveTo(Math.round((e.width-s.width)/2),Math.round((e.height-s.height)/2));break}case Un.EDITOR_TOP_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),i.top+o):this._moveOffScreen();break}case Un.EDITOR_BOTTOM_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),i.bottom-s.height-o):this._moveOffScreen();break}case Un.EDITOR_ABOVE_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),i.top-s.height-o):this._moveOffScreen();break}case Un.EDITOR_BELOW_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),i.bottom+o):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let r=new Re(this._getCurrentDomRoot()).getVisible();if(r){if(r=e.getIntersection(r),!r)return null}else return null;return r}_getDialogRect(){return new Re(this.element.firstElementChild)}_getViewportRect(){return zte(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const r of this.contentView.children)Nd(r)&&e.push(r);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element),Fte(r)&&this._focusCycler.chain(r.focusCycler)})}_createCloseButton(){const e=new we(this.locale),r=this.locale.t;return e.set({label:r("Close"),tooltip:!0,icon:be.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}};w(Xm,"defaultOffset",15);let nd=Xm;function zte(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const t=new Re(fe.window);return t.top+=n.top,t.height-=n.top,t.bottom-=n.bottom,t.height-=n.bottom,t.left+=n.left,t.right-=n.right,t.width-=n.left+n.right,t}const ai=class ai extends X{constructor(e){super(e);w(this,"view");w(this,"_onHide");const r=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:r("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,r)=>{this._show(r)}),this.on("show",(e,r)=>{r.onShow&&r.onShow(this)},{priority:"low"}),this.on("hide",()=>{ai._visibleDialogPlugin&&ai._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(r,i)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),i())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const r=e.document.differ.getChangedRoots();for(const i of r)i.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:r,title:i,hasCloseButton:o=!0,content:s,actionButtons:a,className:l,isModal:c,position:u,onHide:d}){const h=this.editor;this.view=new nd(h.locale,{getCurrentDomRoot:()=>h.editing.view.getDomRoot(h.model.document.selection.anchor.root.rootName),getViewportOffset:()=>h.ui.viewportOffset});const f=this.view;f.on("close",()=>{this.hide()}),h.ui.view.body.add(f),h.keystrokes.listenTo(f.element),u||(u=c?Un.SCREEN_CENTER:Un.EDITOR_CENTER),f.set({position:u,_isVisible:!0,className:l,isModal:c}),f.setupParts({icon:r,title:i,hasCloseButton:o,content:s,actionButtons:a}),this.id=e,d&&(this._onHide=d),this.isOpen=!0,ai._visibleDialogPlugin=this}hide(){ai._visibleDialogPlugin&&ai._visibleDialogPlugin.fire(`hide:${ai._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,r=this.view;r.contentView&&r.contentView.reset(),e.ui.view.body.remove(r),e.ui.focusTracker.remove(r.element),e.keystrokes.stopListening(r.element),r.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,ai._visibleDialogPlugin=null}};w(ai,"_visibleDialogPlugin");let rd=ai;class Ml extends we{constructor(e,r=new n6){super(e,r);w(this,"_checkIconHolderView",new Hte);this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",i.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(o,s)=>o||s)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,r,i)=>{const{children:o,_checkIconHolderView:s}=this;i?o.add(s,0):o.remove(s)})}}class Hte extends ce{constructor(){super();w(this,"children");w(this,"_checkIconView",this._createCheckIconView());const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",r=>r?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,r,i)=>{const{children:o,_checkIconView:s}=this;i&&!o.has(s)?o.add(s):!i&&o.has(s)&&o.remove(s)})}_createCheckIconView(){const e=new Yi;return e.content=be.check,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class ze extends Ml{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class nr extends ce{constructor(e){super(e);w(this,"id");this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ur()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}class Ute extends ce{constructor(t,e){super(t);const r=t.t,i=new nr;i.text=r("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":i.id,role:"document",tabindex:-1},children:[Kt(document,"p",{},r("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),i]})}focus(){this.element.focus()}_createCategories(t){return t.map(e=>{const r=[Kt(document,"h3",{},e.label),...Array.from(e.groups.values()).map(i=>this._createGroup(i)).flat()];return e.description&&r.splice(1,0,Kt(document,"p",{},e.description)),Kt(document,"section",{},r)})}_createGroup(t){const e=t.keystrokes.sort((i,o)=>i.label.localeCompare(o.label)).map(i=>this._createGroupRow(i)).flat(),r=[Kt(document,"dl",{},e)];return t.label&&r.unshift(Kt(document,"h4",{},t.label)),r}_createGroupRow(t){const e=this.locale.t,r=Kt(document,"dt"),i=Kt(document,"dd"),o=qte(t.keystroke),s=[];for(const a of o)s.push(a.map(Wte).join(""));return r.innerHTML=t.label,i.innerHTML=s.join(", ")+(t.mayRequireFn&&Ee.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""),[r,i]}}function Wte(n){return fm(n).split("+").map(t=>`<kbd>${t}</kbd>`).join("+")}function qte(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}var MC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class r6 extends X{constructor(){super(...arguments);w(this,"contentView",null)}static get requires(){return[rd]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,r=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const i=this._createButton(we);return i.set({tooltip:!0,withText:!1,label:r("Accessibility help")}),i}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const i=this._createButton(ze);return i.label=r("Accessibility"),i}),e.keystrokes.set("Alt+0",(i,o)=>{this._toggleDialog(),o()}),this._setupRootLabels()}_createButton(e){const r=this.editor,i=r.plugins.get("Dialog"),o=r.locale,s=new e(o);return s.set({keystroke:"Alt+0",icon:MC,isToggleable:!0}),s.on("execute",()=>this._toggleDialog()),s.bind("isOn").to(i,"id",a=>a==="accessibilityHelp"),s}_setupRootLabels(){const e=this.editor,r=e.editing.view,i=e.t;e.ui.on("ready",()=>{r.change(s=>{for(const a of r.document.roots)o(s,a)}),e.on("addRoot",(s,a)=>{const l=e.editing.view.document.getRoot(a.rootName);r.change(c=>o(c,l))},{priority:"low"})});function o(s,a){const c=[a.getAttribute("aria-label"),i("Press %0 for help.",[fm("Alt+0")])].filter(u=>u).join(". ");s.setAttribute("aria-label",c,a)}}_toggleDialog(){const e=this.editor,r=e.plugins.get("Dialog"),i=e.locale.t;this.contentView||(this.contentView=new Ute(e.locale,e.accessibility.keystrokeInfos)),r.id==="accessibilityHelp"?r.hide():r.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:MC,hasCloseButton:!0,content:this.contentView})}}class Gte extends En{constructor(e,r=[]){super(r);w(this,"locale");w(this,"_bodyCollectionContainer");this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Tr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Kt(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}class Ll extends we{constructor(e){super(e);w(this,"toggleSwitchView");this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new ce;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class Kte extends Zte(Ml){}function Zte(n){class t extends n{constructor(...i){super(...i);w(this,"buttonView");w(this,"_fileInputView");this.buttonView=this,this._fileInputView=new Yte(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return t}class Yte extends ce{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var Hg='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Jte extends ce{constructor(e,r){super(e);w(this,"buttonView");w(this,"children");const i=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),r&&this.children.addMany(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",i.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:i.if("isCollapsed","hidden"),"aria-labelledby":i.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new we(this.locale),r=e.bindTemplate;return e.set({withText:!0,icon:Hg}),e.extendTemplate({attributes:{"aria-expanded":r.to("isOn",i=>String(i))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",i=>!i),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function id(n,t){const e=n.t,r={Black:e("Black"),"Dim grey":e("Dim grey"),Grey:e("Grey"),"Light grey":e("Light grey"),White:e("White"),Red:e("Red"),Orange:e("Orange"),Yellow:e("Yellow"),"Light green":e("Light green"),Green:e("Green"),Aquamarine:e("Aquamarine"),Turquoise:e("Turquoise"),"Light blue":e("Light blue"),Blue:e("Blue"),Purple:e("Purple")};return t.map(i=>{const o=r[i.label];return o&&o!=i.label&&(i.label=o),i})}function od(n){return n.map(Xte).filter(t=>!!t)}function Xte(n){return typeof n=="string"?{model:n,label:n,hasBorder:!1,view:{name:"span",styles:{color:n}}}:{model:n.color,label:n.label||n.color,hasBorder:n.hasBorder===void 0?!1:n.hasBorder,view:{name:"span",styles:{color:`${n.color}`}}}}var Qte='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>';class i6 extends we{constructor(t){super(t);const e=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=Qte,this.extendTemplate({attributes:{style:{backgroundColor:e.to("color",r=>Ee.isMediaForcedColors?null:r)},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class LC extends ce{constructor(e,r){super(e);w(this,"columns");w(this,"items");w(this,"focusTracker");w(this,"keystrokes");const i=r&&r.colorDefinitions?r.colorDefinitions:[];this.columns=r&&r.columns?r.columns:5;const o={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new yt,this.keystrokes=new Nt,this.items.on("add",(s,a)=>{a.isOn=a.color===this.selectedColor}),i.forEach(s=>{const a=new i6;a.set({color:s.color,label:s.label,tooltip:!0,hasBorder:s.options.hasBorder}),a.on("execute",()=>{this.fire("execute",{value:s.color,hasBorder:s.options.hasBorder,label:s.label})}),this.items.add(a)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:o}}),this.on("change:selectedColor",(s,a,l)=>{for(const c of this.items)c.isOn=c.color===l})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(e,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),$g({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function o6(n,t){if(!n)return"";const e=s6(n);if(!e)return"";if(e.space===t)return n;if(!rne(e))return"";const i=qI[e.space][t];if(!i)return"";const o=i(e.space==="hex"?e.hexValue:e.values);return nne(o,t)}function ene(n){if(!n)return"";const t=s6(n);return t?t.space==="hex"?t.hexValue:o6(n,"hex"):"#000"}function tne(n,t){customElements.get(n)===void 0&&customElements.define(n,t)}function nne(n,t){switch(t){case"hex":return`#${n}`;case"rgb":return`rgb( ${n[0]}, ${n[1]}, ${n[2]} )`;case"hsl":return`hsl( ${n[0]}, ${n[1]}%, ${n[2]}% )`;case"hwb":return`hwb( ${n[0]}, ${n[1]}, ${n[2]} )`;case"lab":return`lab( ${n[0]}% ${n[1]} ${n[2]} )`;case"lch":return`lch( ${n[0]}% ${n[1]} ${n[2]} )`;default:return""}}function s6(n){if(n.startsWith("#")){const e=yC(n);return{space:"hex",values:e.values,hexValue:n,alpha:e.alpha}}const t=yC(n);return t.space?t:null}function rne(n){return Object.keys(qI).includes(n.space)}class tn extends ce{constructor(e,r){super(e);w(this,"fieldView");w(this,"labelView");w(this,"statusView");w(this,"fieldWrapperChildren");const i=`ck-labeled-field-view-${ur()}`,o=`ck-labeled-field-view-status-${ur()}`;this.fieldView=r(this,i,o),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(o),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(a,l)=>a||l);const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",a=>!a),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const r=new nr(this.locale);return r.for=e,r.bind("text").to(this,"label"),r}_createStatusView(e){const r=new ce(this.locale),i=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",o=>!o)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),r}focus(e){this.fieldView.focus(e)}}class ine extends ce{constructor(e){super(e);w(this,"focusTracker");this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new yt,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),tabindex:r.to("tabIndex"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById"),"aria-label":r.to("ariaLabel")},on:{input:r.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,r,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=one(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function one(n){return!n.value}class sne extends ine{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class a6 extends sne{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class ane extends ce{constructor(e){super(e);w(this,"children");const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",i=>`ck-dropdown__panel_${i}`),r.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:r.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Ze("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const tl=class tl extends ce{constructor(e,r,i){super(e);w(this,"buttonView");w(this,"panelView");w(this,"focusTracker");w(this,"keystrokes");w(this,"listView");w(this,"toolbarView");w(this,"menuView");const o=this.bindTemplate;this.buttonView=r,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Nt,this.focusTracker=new yt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",s=>!s)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[r,i]}),r.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(r,i,o)=>{if(o)if(this.panelPosition==="auto"){const s=tl._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(r,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(r,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(r,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:r,southEast:i,southWest:o,northEast:s,northWest:a,southMiddleEast:l,southMiddleWest:c,northMiddleEast:u,northMiddleWest:d}=tl.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,o,l,c,e,s,a,u,d,r]:[o,i,c,l,e,a,s,d,u,r]}};w(tl,"defaultPanelPositions",{south:(e,r)=>({top:e.bottom,left:e.left-(r.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,r)=>({top:e.bottom,left:e.left-r.width+e.width,name:"sw"}),southMiddleEast:(e,r)=>({top:e.bottom,left:e.left-(r.width-e.width)/4,name:"sme"}),southMiddleWest:(e,r)=>({top:e.bottom,left:e.left-(r.width-e.width)*3/4,name:"smw"}),north:(e,r)=>({top:e.top-r.height,left:e.left-(r.width-e.width)/2,name:"n"}),northEast:(e,r)=>({top:e.top-r.height,left:e.left,name:"ne"}),northWest:(e,r)=>({top:e.top-r.height,left:e.left-r.width+e.width,name:"nw"}),northMiddleEast:(e,r)=>({top:e.top-r.height,left:e.left-(r.width-e.width)/4,name:"nme"}),northMiddleWest:(e,r)=>({top:e.top-r.height,left:e.left-(r.width-e.width)*3/4,name:"nmw"})}),w(tl,"_getOptimalPosition",ww);let _m=tl;class lne extends we{constructor(e){super(e);w(this,"arrowView");this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Yi;return e.content=Hg,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Jo extends ce{constructor(e){super(e);w(this,"children");const r=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",r.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Ug extends ce{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class uf extends ce{constructor(e,r=new nr){super(e);w(this,"labelView");w(this,"items");w(this,"children");const i=this.bindTemplate,o=new zw(e);this.set({label:"",isVisible:!0}),this.labelView=r,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,o]),o.set({role:"group",ariaLabelledBy:r.id}),o.focusTracker.destroy(),o.keystrokes.destroy(),this.items=o.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",s=>!s)]},children:this.children})}focus(){if(this.items){const e=this.items.find(r=>!(r instanceof Ug));e&&e.focus()}}}class zw extends ce{constructor(e){super(e);w(this,"focusables");w(this,"items");w(this,"focusTracker");w(this,"keystrokes");w(this,"_focusCycler");w(this,"_listItemGroupToChangeListeners",new WeakMap);const r=this.bindTemplate;this.focusables=new En,this.items=this.createCollection(),this.focusTracker=new yt,this.keystrokes=new Nt,this._focusCycler=new zn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:r.to("role"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof uf?this._registerFocusableItemsGroup(e):e instanceof Jo&&this._registerFocusableListItem(e);this.items.on("change",(e,r)=>{for(const i of r.removed)i instanceof uf?this._deregisterFocusableItemsGroup(i):i instanceof Jo&&this._deregisterFocusableListItem(i);for(const i of Array.from(r.added).reverse())i instanceof uf?this._registerFocusableItemsGroup(i,r.index):this._registerFocusableListItem(i,r.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,r){this.focusTracker.add(e.element),this.focusables.add(e,r)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(r,i)=>{for(const o of i.removed)this._deregisterFocusableListItem(o);for(const o of Array.from(i.added).reverse())this._registerFocusableListItem(o,this.items.getIndex(e)+i.index)}}_registerFocusableItemsGroup(e,r){Array.from(e.items).forEach((o,s)=>{const a=typeof r<"u"?r+s:void 0;this._registerFocusableListItem(o,a)});const i=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,i),e.items.on("change",i)}_deregisterFocusableItemsGroup(e){for(const r of e.items)this._deregisterFocusableListItem(r);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}const DC=Rd("px"),cne={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Hn=class Hn extends ce{constructor(e){super(e);w(this,"content");w(this,"_pinWhenIsVisibleCallback");w(this,"_resizeObserver");const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",r.to("position",i=>`ck-balloon-panel_${i}`),r.if("isVisible","ck-balloon-panel_visible"),r.if("withArrow","ck-balloon-panel_with-arrow"),r.to("class")],style:{top:r.to("top",DC),left:r.to("left",DC)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const r=df(e.target);if(r&&!_i(r))return!1;this.show();const i=Hn.defaultPositions,o=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:fe.document.body,fitInViewport:!0},e),s=Hn._getOptimalPosition(o)||cne,a=parseInt(s.left),l=parseInt(s.top),c=s.name,u=s.config||{},{withArrow:d=!0}=u;return this.top=l,this.left=a,this.position=c,this.withArrow=d,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let r=df(e.target);const i=e.limiter?df(e.limiter):fe.document.body;if(this.listenTo(fe.document,"scroll",(o,s)=>{const a=s.target,l=r&&a.contains(r),c=i&&a.contains(i);(l||c||!r||!i)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(fe.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(r&&gt(r)&&(r=r.parentElement),r)){const o=()=>{_i(r)||this.unpin()};this._resizeObserver=new yw(r,o)}return!0}_stopPinning(){this.stopListening(fe.document,"scroll"),this.stopListening(fe.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:r=Hn.arrowSideOffset,heightOffset:i=Hn.arrowHeightOffset,stickyVerticalOffset:o=Hn.stickyVerticalOffset,config:s}=e;return{northWestArrowSouthWest:(c,u)=>({top:a(c,u),left:c.left-r,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(c,u)=>({top:a(c,u),left:c.left-u.width*.25-r,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(c,u)=>({top:a(c,u),left:c.left-u.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(c,u)=>({top:a(c,u),left:c.left-u.width*.75+r,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(c,u)=>({top:a(c,u),left:c.left-u.width+r,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(c,u)=>({top:a(c,u),left:c.left+c.width/2-r,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(c,u)=>({top:a(c,u),left:c.left+c.width/2-u.width*.25-r,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(c,u)=>({top:a(c,u),left:c.left+c.width/2-u.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(c,u)=>({top:a(c,u),left:c.left+c.width/2-u.width*.75+r,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(c,u)=>({top:a(c,u),left:c.left+c.width/2-u.width+r,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(c,u)=>({top:a(c,u),left:c.right-r,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(c,u)=>({top:a(c,u),left:c.right-u.width*.25-r,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(c,u)=>({top:a(c,u),left:c.right-u.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(c,u)=>({top:a(c,u),left:c.right-u.width*.75+r,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(c,u)=>({top:a(c,u),left:c.right-u.width+r,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:c=>({top:l(c),left:c.left-r,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(c,u)=>({top:l(c),left:c.left-u.width*.25-r,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(c,u)=>({top:l(c),left:c.left-u.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(c,u)=>({top:l(c),left:c.left-u.width*.75+r,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(c,u)=>({top:l(c),left:c.left-u.width+r,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:c=>({top:l(c),left:c.left+c.width/2-r,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(c,u)=>({top:l(c),left:c.left+c.width/2-u.width*.25-r,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(c,u)=>({top:l(c),left:c.left+c.width/2-u.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(c,u)=>({top:l(c),left:c.left+c.width/2-u.width*.75+r,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(c,u)=>({top:l(c),left:c.left+c.width/2-u.width+r,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:c=>({top:l(c),left:c.right-r,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(c,u)=>({top:l(c),left:c.right-u.width*.25-r,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(c,u)=>({top:l(c),left:c.right-u.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(c,u)=>({top:l(c),left:c.right-u.width*.75+r,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(c,u)=>({top:l(c),left:c.right-u.width+r,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(c,u)=>({top:c.top+c.height/2-u.height/2,left:c.left-u.width-i,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(c,u)=>({top:c.top+c.height/2-u.height/2,left:c.right+i,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(c,u,d,h)=>{const f=h||d;return!c.getIntersection(f)||f.height-c.height>o?null:{top:f.top+o,left:c.left+c.width/2-u.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function a(c,u){return c.top-u.height-i}function l(c){return c.bottom+i}}};w(Hn,"arrowSideOffset",25),w(Hn,"arrowHeightOffset",10),w(Hn,"stickyVerticalOffset",20),w(Hn,"_getOptimalPosition",ww),w(Hn,"defaultPositions",Hn.generatePositions());let On=Hn;function df(n){return Ws(n)?n:Lg(n)?n.commonAncestorContainer:typeof n=="function"?df(n()):null}class Hw extends ce{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class une extends ce{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function dne(n){return n.bindTemplate.to(t=>{t.target===n.element&&t.preventDefault()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function l6(n){if(Array.isArray(n))return{items:n,removeItems:[]};const t={items:[],removeItems:[]};return n?{...t,...n}:t}const hne={alignLeft:be.alignLeft,bold:be.bold,importExport:be.importExport,paragraph:be.paragraph,plus:be.plus,text:be.text,threeVerticalDots:be.threeVerticalDots,pilcrow:be.pilcrow,dragIndicator:be.dragIndicator};class Dl extends ce{constructor(e,r){super(e);w(this,"options");w(this,"items");w(this,"focusTracker");w(this,"keystrokes");w(this,"itemsView");w(this,"children");w(this,"focusables");w(this,"_focusCycler");w(this,"_behavior");const i=this.bindTemplate,o=this.t;this.options=r||{},this.set("ariaLabel",o("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new yt,this.keystrokes=new Nt,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new fne(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=e.uiLanguageDirection==="rtl";this._focusCycler=new zn({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const a=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&a.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:a,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:dne(this)}}),this._behavior=this.options.shouldGroupWhenFull?new gne(this):new mne(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(e,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,r,i){this.items.addMany(this._buildItemsFromConfig(e,r,i))}_buildItemsFromConfig(e,r,i){const o=l6(e),s=i||o.removeItems;return this._cleanItemsConfiguration(o.items,r,s).map(l=>et(l)?this._createNestedToolbarDropdown(l,r,s):l==="|"?new Hw:l==="-"?new une:r.create(l)).filter(l=>!!l)}_cleanItemsConfiguration(e,r,i){const o=e.filter((s,a,l)=>s==="|"?!0:i.indexOf(s)!==-1?!1:s==="-"?this.options.shouldGroupWhenFull?(Ze("toolbarview-line-break-ignored-when-grouping-items",l),!1):!0:!et(s)&&!r.has(s)?(Ze("toolbarview-item-unavailable",{item:s}),!1):!0);return this._cleanSeparatorsAndLineBreaks(o)}_cleanSeparatorsAndLineBreaks(e){const r=a=>a!=="-"&&a!=="|",i=e.length,o=e.findIndex(r);if(o===-1)return[];const s=i-e.slice().reverse().findIndex(r);return e.slice(o,s).filter((a,l,c)=>r(a)?!0:!(l>0&&c[l-1]===a))}_createNestedToolbarDropdown(e,r,i){let{label:o,icon:s,items:a,tooltip:l=!0,withText:c=!1}=e;if(a=this._cleanItemsConfiguration(a,r,i),!a.length)return null;const u=this.locale,d=gn(u);return o||Ze("toolbarview-nested-toolbar-dropdown-missing-label",e),d.class="ck-toolbar__nested-toolbar-dropdown",d.buttonView.set({label:o,tooltip:l,withText:!!c}),s!==!1?d.buttonView.icon=hne[s]||s||be.threeVerticalDots:d.buttonView.withText=!0,qg(d,()=>d.toolbarView._buildItemsFromConfig(a,r,i)),d}}class fne extends ce{constructor(e){super(e);w(this,"children");this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class mne{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(r=>r),t.focusables.bindTo(t.items).using(r=>Nd(r)?r:null),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class gne{constructor(t){w(this,"view");w(this,"viewChildren");w(this,"viewFocusables");w(this,"viewItemsView");w(this,"viewFocusTracker");w(this,"viewLocale");w(this,"ungroupedItems");w(this,"groupedItems");w(this,"groupedItemsDropdown");w(this,"resizeObserver",null);w(this,"cachedPadding",null);w(this,"shouldUpdateGroupingOnNextResize",!1);w(this,"viewElement");this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),t.children.on("change",this._updateFocusCyclableItems.bind(this)),t.items.on("change",(e,r)=>{const i=r.index,o=Array.from(r.added);for(const s of r.removed)i>=this.ungroupedItems.length?this.groupedItems.remove(s):this.ungroupedItems.remove(s);for(let s=i;s<i+o.length;s++){const a=o[s-i];s>this.ungroupedItems.length?this.groupedItems.add(a,s-this.ungroupedItems.length):this.ungroupedItems.add(a,s)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!_i(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,r=new Re(t.lastChild),i=new Re(t);if(!this.cachedPadding){const o=fe.window.getComputedStyle(t),s=e==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[s])}return e==="ltr"?r.right>i.right-this.cachedPadding:r.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new yw(this.viewElement,e=>{(!t||t!==e.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Hw),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,r=gn(t);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",qg(r,this.groupedItems),r.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:be.threeVerticalDots}),r}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{Nd(t)&&this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Wg extends ce{constructor(e,r){super(e);w(this,"children");w(this,"actionView");w(this,"arrowView");w(this,"keystrokes");w(this,"focusTracker");const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(r),this.arrowView=this._createArrowView(),this.keystrokes=new Nt,this.focusTracker=new yt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(e,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const r=e||new we;return e||r.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),r.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),r.delegate("execute").to(this),r}_createArrowView(){const e=new we,r=e.bindTemplate;return e.icon=Hg,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":r.to("isOn"),"aria-haspopup":!0,"aria-expanded":r.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function gn(n,t=lne){const e=typeof t=="function"?new t(n):t,r=new ane(n),i=new _m(n,e,r);return e.bind("isEnabled").to(i),e instanceof Wg?e.arrowView.bind("isOn").to(i,"isOpen"):e.bind("isOn").to(i,"isOpen"),pne(i),i}function qg(n,t,e={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?BC(n,t,e):n.once("change:isOpen",()=>BC(n,t,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&Uw(n,()=>n.toolbarView.items.find(r=>r.isOn))}function BC(n,t,e){const r=n.locale,i=r.t,o=n.toolbarView=new Dl(r),s=typeof t=="function"?t():t;o.ariaLabel=e.ariaLabel||i("Dropdown toolbar"),e.maxWidth&&(o.maxWidth=e.maxWidth),e.class&&(o.class=e.class),e.isCompact&&(o.isCompact=e.isCompact),e.isVertical&&(o.isVertical=!0),s instanceof En?o.items.bindTo(s).using(a=>a):o.items.addMany(s),n.panelView.children.add(o),o.items.delegate("execute").to(n)}function ls(n,t,e={}){n.isOpen?FC(n,t,e):n.once("change:isOpen",()=>FC(n,t,e),{priority:"highest"}),Uw(n,()=>n.listView.items.find(r=>r instanceof Jo?r.children.first.isOn:!1))}function FC(n,t,e){const r=n.locale,i=n.listView=new zw(r),o=typeof t=="function"?t():t;i.ariaLabel=e.ariaLabel,i.role=e.role,c6(n,i.items,o,r),n.panelView.children.add(i),i.items.delegate("execute").to(n)}function Uw(n,t){n.on("change:isOpen",()=>{if(!n.isOpen)return;const e=t();e&&(typeof e.focus=="function"?e.focus():Ze("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:er.low-10})}function pne(n){bne(n),vne(n),yne(n),wne(n),_ne(n),xne(n)}function bne(n){Id({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...n.focusTracker.elements]})}function vne(n){n.on("execute",t=>{t.source instanceof Ll||(n.isOpen=!1)})}function yne(n){n.focusTracker.on("change:isFocused",(t,e,r)=>{r||!n.isOpen||(n.isOpen=!1)})}function wne(n){n.keystrokes.set("arrowdown",(t,e)=>{n.isOpen&&(n.panelView.focus(),e())}),n.keystrokes.set("arrowup",(t,e)=>{n.isOpen&&(n.panelView.focusLast(),e())})}function _ne(n){n.on("change:isOpen",(t,e,r)=>{if(r)return;n.focusTracker.elements.some(o=>o.contains(fe.document.activeElement))&&n.buttonView.focus()})}function xne(n){n.on("change:isOpen",(t,e,r)=>{r&&n.panelView.focus()},{priority:"low"})}function c6(n,t,e,r){t.on("change",()=>{const i=[...t].reduce((s,a)=>(a instanceof Jo&&a.children.first instanceof Ml&&s.push(a.children.first),s),[]),o=i.some(s=>s.isToggleable);i.forEach(s=>{s.hasCheckSpace=o})}),t.bindTo(e).using(i=>{if(i.type==="separator")return new Ug(r);if(i.type==="group"){const o=new uf(r);return o.set({label:i.label}),c6(n,o.items,i.items,r),o.items.delegate("execute").to(n),o}else if(i.type==="button"||i.type==="switchbutton"){const o=i.model.role==="menuitemcheckbox"||i.model.role==="menuitemradio",s=new Jo(r);let a;return i.type==="button"?(a=new Ml(r),a.set({isToggleable:o})):a=new Ll(r),a.bind(...Object.keys(i.model)).to(i.model),a.delegate("execute").to(s),s.children.add(a),s}return null})}const di=(n,t,e)=>{const r=new a6(n.locale);return r.set({id:t,ariaDescribedById:e}),r.bind("isReadOnly").to(n,"isEnabled",i=>!i),r.bind("hasError").to(n,"errorText",i=>!!i),r.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(r),r},Ww=(n,t,e)=>{const r=gn(n.locale);return r.set({id:t,ariaDescribedById:e}),r.bind("isEnabled").to(n),r},kne=150;class Cne extends ce{constructor(e,r={}){super(e);w(this,"hexInputRow");w(this,"_debounceColorPickerEvent");w(this,"_config");this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const i=this.createCollection();r.hideInput||i.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:i}),this._config=r,this._debounceColorPickerEvent=Ir(o=>{this.set("color",o),this.fire("colorSelected",{color:this.color})},kne,{leading:!0}),this.on("set:color",(o,s,a)=>{o.return=o6(a,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=v0(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),v0(this.color)!=v0(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),tne("hex-color-picker",Tte),this.picker=fe.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const r=e.detail.value;this._debounceColorPickerEvent(r)})}focus(){/* istanbul ignore next -- @preserve */!this._config.hideInput&&(Ee.isGecko||Ee.isiOS||Ee.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const i=[...this.picker.shadowRoot.children].filter(o=>o.getAttribute("role")==="slider").map(o=>new Ene(o));this.slidersView=this.createCollection(),i.forEach(o=>{this.slidersView.add(o)})}_createInputRow(){const e=this._createColorInput();return new Sne(this.locale,e)}_createColorInput(){const e=new tn(this.locale,di),{t:r}=this.locale;return e.set({label:r("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",i=>e.isFocused?e.fieldView.value:i.startsWith("#")?i.substring(1):i),e.fieldView.on("input",()=>{const i=e.fieldView.element.value;if(i){const o=u6(i);o&&this._debounceColorPickerEvent(o)}}),e}isValid(){const{t:e}=this.locale;return this._config.hideInput?!0:(this.resetValidationStatus(),this.hexInputRow.getParsedColor()?!0:(this.hexInputRow.inputView.errorText=e('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function v0(n){let t=ene(n);return t||(t="#000"),t.length===4&&(t="#"+[t[1],t[1],t[2],t[2],t[3],t[3]].join("")),t.toLowerCase()}class Ene extends ce{constructor(t){super(),this.element=t}focus(){this.element.focus()}}class Tne extends ce{constructor(t){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class Sne extends ce{constructor(e,r){super(e);w(this,"children");w(this,"inputView");this.inputView=r,this.children=this.createCollection([new Tne,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return u6(this.inputView.fieldView.element.value)}}function u6(n){if(!n)return null;const t=n.trim().replace(/^#/,"");return![3,4,6,8].includes(t.length)||!/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(t)?null:`#${t}`}class Ane extends Ke(zt){constructor(t){super(t),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(t,e){return this.find(r=>r.color===t.color)?this:super.add(t,e)}hasColor(t){return!!this.find(e=>e.color===t)}}class Pne extends ce{constructor(e,{colors:r,columns:i,removeButtonLabel:o,documentColorsLabel:s,documentColorsCount:a,colorPickerLabel:l,focusTracker:c,focusables:u}){super(e);w(this,"items");w(this,"colorDefinitions");w(this,"focusTracker");w(this,"columns");w(this,"documentColors");w(this,"documentColorsCount");w(this,"staticColorsGrid");w(this,"documentColorsGrid");w(this,"colorPickerButtonView");w(this,"removeColorButtonView");w(this,"_focusables");w(this,"_documentColorsLabel");w(this,"_removeButtonLabel");w(this,"_colorPickerLabel");const d=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=c,this.items=this.createCollection(),this.colorDefinitions=r,this.columns=i,this.documentColors=new Ane,this.documentColorsCount=a,this._focusables=u,this._removeButtonLabel=o,this._colorPickerLabel=l,this._documentColorsLabel=s,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",d.if("isVisible","ck-hidden",h=>!h)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,r){const i=e.document,o=this.documentColorsCount;this.documentColors.clear();for(const s of i.getRoots()){const a=e.createRangeIn(s);for(const l of a.getItems())if(l.is("$textProxy")&&l.hasAttribute(r)&&(this._addColorToDocumentColors(l.getAttribute(r)),this.documentColors.length>=o))return}}updateSelectedColors(){const e=this.documentColorsGrid,r=this.staticColorsGrid,i=this.selectedColor;r.selectedColor=i,e&&(e.selectedColor=i)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=Tr.bind(this.documentColors,this.documentColors),r=new ce(this.locale);r.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(r),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new we,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:be.colorPalette,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new we;return e.set({withText:!0,icon:be.eraser,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new LC(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(r,i)=>{this.fire("execute",{value:i.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=Tr.bind(this.documentColors,this.documentColors),r=new LC(this.locale,{columns:this.columns});return r.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),r.items.bindTo(this.documentColors).using(i=>{const o=new i6;return o.set({color:i.color,hasBorder:i.options&&i.options.hasBorder}),i.label&&o.set({label:i.label,tooltip:!0}),o.on("execute",()=>{this.fire("execute",{value:i.color,source:"documentColorsGrid"})}),o}),this.documentColors.on("change:isEmpty",(i,o,s)=>{s&&(r.selectedColor=null)}),r}_addColorToDocumentColors(e){const r=this.colorDefinitions.find(i=>i.color===e);r?this.documentColors.add(Object.assign({},r)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class Rne extends ce{constructor(e,{focusTracker:r,focusables:i,keystrokes:o,colorPickerViewConfig:s}){super(e);w(this,"items");w(this,"colorPickerView");w(this,"saveButtonView");w(this,"cancelButtonView");w(this,"actionBarView");w(this,"focusTracker");w(this,"keystrokes");w(this,"_focusables");w(this,"_colorPickerViewConfig");this.items=this.createCollection(),this.focusTracker=r,this.keystrokes=o,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=i,this._colorPickerViewConfig=s;const a=this.bindTemplate,{saveButtonView:l,cancelButtonView:c}=this._createActionButtons();this.saveButtonView=l,this.cancelButtonView=c,this.actionBarView=this._createActionBarView({saveButtonView:l,cancelButtonView:c}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",a.if("isVisible","ck-hidden",u=>!u)]},children:this.items})}render(){super.render();const e=new Cne(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(r,i,o)=>{e.color=o}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=r=>r.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const r of this.colorPickerView.slidersView)this.focusTracker.add(r.element),this._focusables.add(r);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:r}){const i=new ce,o=this.createCollection();return o.add(e),o.add(r),i.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:o}),i}_createActionButtons(){const e=this.locale,r=e.t,i=new we(e),o=new we(e);return i.set({icon:be.check,class:"ck-button-save",type:"button",withText:!1,label:r("Accept")}),o.set({icon:be.cancel,class:"ck-button-cancel",type:"button",withText:!1,label:r("Cancel")}),i.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),o.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:i,cancelButtonView:o}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,r)=>{this.fire("execute",{value:r.color,source:"colorPicker"}),this.set("selectedColor",r.color)})}}class qw extends ce{constructor(e,{colors:r,columns:i,removeButtonLabel:o,documentColorsLabel:s,documentColorsCount:a,colorPickerLabel:l,colorPickerViewConfig:c}){super(e);w(this,"focusTracker");w(this,"keystrokes");w(this,"items");w(this,"colorGridsFragmentView");w(this,"colorPickerFragmentView");w(this,"_focusCycler");w(this,"_focusables");w(this,"_colorPickerViewConfig");this.items=this.createCollection(),this.focusTracker=new yt,this.keystrokes=new Nt,this._focusables=new En,this._colorPickerViewConfig=c,this._focusCycler=new zn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new Pne(e,{colors:r,columns:i,removeButtonLabel:o,documentColorsLabel:s,documentColorsCount:a,colorPickerLabel:l,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new Rne(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:c}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(u,d,h)=>{this.colorGridsFragmentView.set("selectedColor",h),this.colorPickerFragmentView.set("selectedColor",h)}),this.colorGridsFragmentView.on("change:selectedColor",(u,d,h)=>{this.set("selectedColor",h)}),this.colorPickerFragmentView.on("change:selectedColor",(u,d,h)=>{this.set("selectedColor",h)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible||(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,r){this.colorGridsFragmentView.updateDocumentColors(e,r)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class One{constructor(t){w(this,"editor");w(this,"_components",new Map);this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(y0(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new q("componentfactory-item-missing",this,{name:t});return this._components.get(y0(t)).callback(this.editor.locale)}has(t){return this._components.has(y0(t))}}function y0(n){return String(n).toLowerCase()}const VC="ck-tooltip",Ut=class Ut extends br(){constructor(e){super();w(this,"tooltipTextView");w(this,"balloonPanelView");w(this,"_currentElementWithTooltip",null);w(this,"_currentTooltipPosition",null);w(this,"_mutationObserver",null);w(this,"_pinTooltipDebounced");w(this,"_unpinTooltipDebounced");w(this,"_watchdogExcluded");if(Ut._editors.add(e),Ut._instance)return Ut._instance;Ut._instance=this,this.tooltipTextView=new ce(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new On(e.locale),this.balloonPanelView.class=VC,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=Ine(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Ir(this._pinTooltip,600),this._unpinTooltipDebounced=Ir(this._unpinTooltip,400),this.listenTo(fe.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(fe.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(fe.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(fe.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(fe.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(fe.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const r=e.ui.view&&e.ui.view.body;Ut._editors.delete(e),this.stopListening(e.ui),r&&r.has(this.balloonPanelView)&&r.remove(this.balloonPanelView),Ut._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ut._instance=null)}static getPositioningFunctions(e){const r=Ut.defaultBalloonPositions;return{s:[r.southArrowNorth,r.southArrowNorthEast,r.southArrowNorthWest],n:[r.northArrowSouth],e:[r.eastArrowWest],w:[r.westArrowEast],sw:[r.southArrowNorthEast],se:[r.southArrowNorthWest]}[e]}_onKeyDown(e,r){r.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),r.stopPropagation())}_onEnterOrFocus(e,{target:r}){const i=w0(r);if(!i){e.name==="focus"&&this._unpinTooltip();return}i!==this._currentElementWithTooltip&&(this._unpinTooltip(),e.name==="focus"&&!i.matches(":hover")?this._pinTooltip(i,_0(i)):this._pinTooltipDebounced(i,_0(i)))}_onLeaveOrBlur(e,{target:r,relatedTarget:i}){if(e.name==="mouseleave"){if(!Ws(r))return;const o=this.balloonPanelView.element,s=o&&(o===i||o.contains(i)),a=!s&&r===o;if(s){this._unpinTooltipDebounced.cancel();return}if(!a&&this._currentElementWithTooltip&&r!==this._currentElementWithTooltip)return;const l=w0(r),c=w0(i);(a||l&&l!==c)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&r!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,{target:r}){this._currentElementWithTooltip&&(r.contains(this.balloonPanelView.element)&&r.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:r,position:i,cssClass:o}){this._unpinTooltip();const s=Dt(Ut._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=r,this.balloonPanelView.class=[VC,o].filter(a=>a).join(" "),this.balloonPanelView.pin({target:e,positions:Ut.getPositioningFunctions(i)}),this._mutationObserver.attach(e);for(const a of Ut._editors)this.listenTo(a.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Ut._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=_0(this._currentElementWithTooltip);if(!_i(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ut.getPositioningFunctions(e.position)})}};w(Ut,"defaultBalloonPositions",On.generatePositions({heightOffset:5,sideOffset:13})),w(Ut,"_editors",new Set),w(Ut,"_instance",null);let Fv=Ut;function w0(n){return Ws(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function _0(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function Ine(n){const t=new MutationObserver(()=>{n()});return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}var Nne=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`;const Mne=53,Lne=10,Dne=50,Bne=350,Fne="Powered by";class Vne extends br(){constructor(e){super();w(this,"editor");w(this,"_balloonView");w(this,"_showBalloonThrottled");w(this,"_lastFocusedEditableElement");this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Wu(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor,r=!!e.config.get("ui.poweredBy.forceVisible");/* istanbul ignore next -- @preserve */!r&&SZ(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,o,s)=>{this._updateLastFocusedEditableElement(),s?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,o,s)=>{this._updateLastFocusedEditableElement(),s&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,r=this._balloonView=new On,i=h6(e),o=new jne(e.locale,i.label);r.content.add(o),r.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(r),this._balloonView=r}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=$ne(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,r=e.ui.focusTracker.isFocused,i=e.ui.focusTracker.focusedElement;if(!r||!i){this._lastFocusedEditableElement=null;return}const o=Array.from(e.ui.getEditableElementsNames()).map(s=>e.ui.getEditableElement(s));o.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=o[0]}}class jne extends ce{constructor(t,e){super(t);const r=new Yi,i=this.bindTemplate;r.set({content:Nne,isColorInherited:!1}),r.extendTemplate({attributes:{style:{width:Mne+"px",height:Lne+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],r],on:{dragstart:i.to(o=>o.preventDefault())}}]})}}function $ne(n,t){const e=h6(n),r=e.side==="right"?zne(t,e):Hne(t,e);return{target:t,positions:[r]}}function zne(n,t){return d6(n,t,(e,r)=>e.left+e.width-r.width-t.horizontalOffset)}function Hne(n,t){return d6(n,t,e=>e.left+t.horizontalOffset)}function d6(n,t,e){return(r,i)=>{const o=new Re(n);if(o.width<Bne||o.height<Dne)return null;let s;t.position==="inside"?s=o.bottom-i.height:s=o.bottom-i.height/2,s-=t.verticalOffset;const a=e(o,i),c=r.clone().moveTo(a,s).getIntersection(i.clone().moveTo(a,s)).getVisible();return!c||c.getArea()<i.getArea()?null:{top:s,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function h6(n){const t=n.config.get("ui.poweredBy"),e=t&&t.position||"border";return{position:e,label:Fne,verticalOffset:e==="inside"?5:0,horizontalOffset:5,side:n.locale.contentLanguageDirection==="ltr"?"right":"left",...t}}const jC={POLITE:"polite",ASSERTIVE:"assertive"};class Une{constructor(t){w(this,"editor");w(this,"view");this.editor=t,t.once("ready",()=>{for(const e of Object.values(jC))this.announce("",e)})}announce(t,e=jC.POLITE){const r=this.editor;if(!r.ui.view)return;this.view||(this.view=new Wne(r.locale),r.ui.view.body.add(this.view));const{politeness:i,isUnsafeHTML:o}=typeof e=="string"?{politeness:e}:e;let s=this.view.regionViews.find(a=>a.politeness===i);s||(s=new qne(r,i),this.view.regionViews.add(s)),s.announce({announcement:t,isUnsafeHTML:o})}}class Wne extends ce{constructor(e){super(e);w(this,"regionViews");this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class qne extends ce{constructor(e,r){super(e.locale);w(this,"politeness");w(this,"_domConverter");w(this,"_pruneAnnouncementsInterval");this.setTemplate({tag:"div",attributes:{"aria-live":r,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=r,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:r}){if(!e.trim().length)return;const i=document.createElement("li");r?this._domConverter.setContentOf(i,e):i.innerText=e,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}class Ji extends Jo{constructor(t,e){super(t);const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:r.to("mouseenter")}}),this.delegate("mouseenter").to(e)}}const xh=5,ya={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",t=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(const e of n.menus){const r=t.path[0],i=r instanceof Ji&&r.children.first===e;e.isOpen=(t.path.includes(e)||i)&&e.isEnabled}t.source.focus()}})},focusCycleMenusOnArrows(n){const t=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",r=>{e(r.source,t?-1:1)}),n.on("menu:arrowleft",r=>{e(r.source,t?1:-1)});function e(r,i){const o=n.children.getIndex(r),s=r.isOpen,a=n.children.length,l=n.children.get((o+a+i)%a);r.isOpen=!1,s&&(l.isOpen=!0),l.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(t=>{t.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(t,e,r)=>{r&&n.menus.filter(i=>t.source.parentMenuView===i.parentMenuView&&t.source!==i&&i.isOpen).forEach(i=>{i.isOpen=!1})})},closeOnClickOutside(n){Id({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(t=>t.element)})},enableFocusHighlightOnInteraction(n){let t=!1;n.on("change:isOpen",(e,r,i)=>{i||(t||(n.isFocusBorderEnabled=!1),t=!1)}),n.listenTo(n.element,"keydown",()=>{t=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{t=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{t&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},mo={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(t,e)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),e())})},openOnArrowRightKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(t,(e,r)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),r())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(t,e)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),e())})},closeOnArrowLeftKey(n){const t=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(t,(e,r)=>{n.isOpen&&(n.isOpen=!1,n.focus(),r())})},closeOnEscKey(n){n.keystrokes.set("esc",(t,e)=>{n.isOpen&&(n.isOpen=!1,n.focus(),e())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(t,e,r)=>{!r&&t.source===n.parentMenuView&&(n.isOpen=!1)})}},Gne={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,t)=>({top:n.bottom,left:n.left-t.width+n.width,name:"sw"}),northEast:(n,t)=>({top:n.top-t.height,left:n.left,name:"ne"}),northWest:(n,t)=>({top:n.top-t.height,left:n.left-t.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-xh,name:"es"}),eastNorth:(n,t)=>({top:n.top-t.height,left:n.right-xh,name:"en"}),westSouth:(n,t)=>({top:n.top,left:n.left-t.width+xh,name:"ws"}),westNorth:(n,t)=>({top:n.top-t.height,left:n.left-t.width+xh,name:"wn"})},Kne=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment","menuBar:insertMergeField"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function Zne(n){let t;return!("items"in n)||!n.items?t={items:Nr(Kne),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:t={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},t}function Yne({normalizedConfig:n,locale:t,componentFactory:e,extraItems:r}){const i=Nr(n);return $C(n,i,r),Jne(n,i),$C(n,i,i.addItems),Xne(n,i,e),f6(n,i),Qne(i,t),i}function Jne(n,t){const e=t.removeItems,r=[];t.items=t.items.filter(({menuId:i})=>e.includes(i)?(r.push(i),!1):!0),Jl(t.items,i=>{i.groups=i.groups.filter(({groupId:o})=>e.includes(o)?(r.push(o),!1):!0);for(const o of i.groups)o.items=o.items.filter(s=>{const a=m6(s);return e.includes(a)?(r.push(a),!1):!0})});for(const i of e)r.includes(i)||Ze("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:i})}function $C(n,t,e){const r=[];if(e.length!=0){for(const i of e){const o=nre(i.position),s=rre(i.position);if(ere(i))if(!s)o==="start"?(t.items.unshift(i.menu),r.push(i)):o==="end"&&(t.items.push(i.menu),r.push(i));else{const a=t.items.findIndex(l=>l.menuId===s);a!=-1?o==="before"?(t.items.splice(a,0,i.menu),r.push(i)):o==="after"&&(t.items.splice(a+1,0,i.menu),r.push(i)):zC(t,i.menu,s,o)&&r.push(i)}else tre(i)?Jl(t.items,a=>{if(a.menuId===s)o==="start"?(a.groups.unshift(i.group),r.push(i)):o==="end"&&(a.groups.push(i.group),r.push(i));else{const l=a.groups.findIndex(c=>c.groupId===s);l!==-1&&(o==="before"?(a.groups.splice(l,0,i.group),r.push(i)):o==="after"&&(a.groups.splice(l+1,0,i.group),r.push(i)))}}):zC(t,i.item,s,o)&&r.push(i)}for(const i of e)r.includes(i)||Ze("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:i})}}function zC(n,t,e,r){let i=!1;return Jl(n.items,o=>{for(const{groupId:s,items:a}of o.groups){if(i)return;if(s===e)r==="start"?(a.unshift(t),i=!0):r==="end"&&(a.push(t),i=!0);else{const l=a.findIndex(c=>m6(c)===e);l!==-1&&(r==="before"?(a.splice(l,0,t),i=!0):r==="after"&&(a.splice(l+1,0,t),i=!0))}}}),i}function Xne(n,t,e){Jl(t.items,r=>{for(const i of r.groups)i.items=i.items.filter(o=>{const s=typeof o=="string"&&!e.has(o);return s&&!t.isUsingDefaultConfig&&Ze("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:Nr(r),componentName:o}),!s})})}function f6(n,t){const e=t.isUsingDefaultConfig;let r=!1;if(t.items=t.items.filter(i=>i.groups.length?!0:(x0(n,i,e),!1)),!t.items.length){x0(n,n,e);return}Jl(t.items,i=>{i.groups=i.groups.filter(o=>o.items.length?!0:(r=!0,!1));for(const o of i.groups)o.items=o.items.filter(s=>g6(s)&&!s.groups.length?(x0(n,s,e),r=!0,!1):!0)}),r&&f6(n,t)}function x0(n,t,e){e||Ze("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:t})}function Qne(n,t){const e=t.t,r={File:e({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:e({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:e({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:e({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:e({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:e({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:e({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:e({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:e({string:"Font",id:"MENU_BAR_MENU_FONT"})};Jl(n.items,i=>{i.label in r&&(i.label=r[i.label])})}function Jl(n,t){if(Array.isArray(n))for(const r of n)e(r);function e(r){t(r);for(const i of r.groups)for(const o of i.items)g6(o)&&e(o)}}function ere(n){return typeof n=="object"&&"menu"in n}function tre(n){return typeof n=="object"&&"group"in n}function nre(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function rre(n){const t=n.match(/^[^:]+:(.+)/);return t?t[1]:null}function m6(n){return typeof n=="string"?n:n.menuId}function g6(n){return typeof n=="object"&&"menuId"in n}class ire extends Ke(){constructor(e){super();w(this,"editor");w(this,"componentFactory");w(this,"focusTracker");w(this,"tooltipManager");w(this,"poweredBy");w(this,"ariaLiveAnnouncer");w(this,"isReady",!1);w(this,"_editableElementsMap",new Map);w(this,"_focusableToolbarDefinitions",[]);w(this,"_extraMenuBarElements",[]);w(this,"_lastFocusedForeignElement",null);const r=e.editing.view;this.editor=e,this.componentFactory=new One(e),this.focusTracker=new yt,this.tooltipManager=new Fv(e),this.poweredBy=new Vne(e),this.ariaLiveAnnouncer=new Une(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(r.document,"layoutChanged",this.update.bind(this)),this.listenTo(r,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,r){this._editableElementsMap.set(e,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor),this.focusTracker.add(r);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(r)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const r=this._editableElementsMap.get(e);r&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(r),this.focusTracker.remove(r),r.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,r={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:r})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const r=e.element;this.focusTracker.add(r),this.editor.keystrokes.listenTo(r);const i=Zne(this.editor.config.get("menuBar")||{});e.fillFromConfig(i,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(o,s)=>{r.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),s())}),this.editor.keystrokes.set("Alt+F9",(o,s)=>{r.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),s())})}_readViewportOffsetFromConfig(){const e=this.editor,r=e.config.get("ui.viewportOffset");if(r)return r;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor;let r;e.keystrokes.set("Alt+F10",(i,o)=>{this._saveLastFocusedForeignElement();const s=this._getCurrentFocusedToolbarDefinition();(!s||!r)&&(r=this._getFocusableCandidateToolbarDefinitions());for(let a=0;a<r.length;a++){const l=r.shift();if(r.push(l),l!==s&&this._focusFocusableCandidateToolbar(l)){s&&s.options.afterBlur&&s.options.afterBlur();break}}o()}),e.keystrokes.set("Esc",(i,o)=>{const s=this._getCurrentFocusedToolbarDefinition();s&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),s.options.afterBlur&&s.options.afterBlur(),o())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const r of this._focusableToolbarDefinitions){const{toolbarView:i,options:o}=r;(_i(i.element)||o.beforeFocus)&&e.push(r)}return e.sort((r,i)=>HC(r)-HC(i)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:r,options:{beforeFocus:i}}=e;return i&&i(),_i(r.element)?(r.focus(),!0):!1}_handleScrollToTheSelection(e,r){const i={top:0,bottom:0,left:0,right:0,...this.viewportOffset};r.viewportOffset.top+=i.top,r.viewportOffset.bottom+=i.bottom,r.viewportOffset.left+=i.left,r.viewportOffset.right+=i.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const r of e)this.focusTracker.add(r.element);e.on("add",(r,i)=>{this.focusTracker.add(i.element)}),e.on("remove",(r,i)=>{this.focusTracker.remove(i.element)})}}function HC(n){const{toolbarView:t,options:e}=n;let r=10;return _i(t.element)&&r--,e.isContextual&&r--,r}class ore extends ce{constructor(e){super(e);w(this,"body");w(this,"menuBarView");this.body=new Gte(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class sre extends ore{constructor(e){super(e);w(this,"top");w(this,"main");w(this,"_voiceLabelView");this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,r=new nr;return r.text=e("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class are extends ce{constructor(e,r,i){super(e);w(this,"name",null);w(this,"_editingView");w(this,"_editableElement");w(this,"_hasExternalElement");this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?i(this):r(this);function r(o){e.change(s=>{const a=e.document.getRoot(o.name);s.addClass(o.isFocused?"ck-focused":"ck-blurred",a),s.removeClass(o.isFocused?"ck-blurred":"ck-focused",a)})}function i(o){e.once("change:isRenderingInProgress",(s,a,l)=>{l?i(o):r(o)})}}}class lre extends are{constructor(e,r,i,o={}){super(e,r,i);w(this,"_options");this._options=o,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(r=>{const i=e.document.getRoot(this.name);r.setAttribute("aria-label",this.getEditableAriaLabel(),i)})}getEditableAriaLabel(){const e=this.locale.t,r=this._options.label,i=this._editableElement,o=this.name;if(typeof r=="string")return r;if(typeof r=="object")return r[o];if(typeof r=="function")return r(this);if(i){const s=i.getAttribute("aria-label");if(s)return s}return e("Rich Text Editor. Editing area: %0",o)}}class aa extends Ke(){constructor(t,e){super(),e&&SR(this,e),t&&this.set(t)}}const kh=Rd("px");class Gs extends X{constructor(e){super(e);w(this,"positionLimiter");w(this,"visibleStack");w(this,"_viewToStack",new Map);w(this,"_idToStack",new Map);w(this,"_view",null);w(this,"_rotatorView",null);w(this,"_fakePanelsView",null);this.positionLimiter=()=>{const r=this.editor.editing.view,o=r.document.selection.editableElement;return o?r.domConverter.mapViewToDom(o.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new q("contextualballoon-add-view-exist",[this,e]);const r=e.stackId||"main";if(!this._idToStack.has(r)){this._idToStack.set(r,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(r);return}const i=this._idToStack.get(r);e.singleViewMode&&this.showStack(r),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new q("contextualballoon-remove-view-not-exist",[this,e]);const r=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(r.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),r.size===1?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;const r=this._idToStack.get(e);if(!r)throw new q("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}_createPanelView(){this._view=new On(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let r=e.indexOf(this._visibleStack)+1;e[r]||(r=0),this.showStack(this._getStackId(e[r]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let r=e.indexOf(this._visibleStack)-1;e[r]||(r=e.length-1),this.showStack(this._getStackId(e[r]))}_createRotatorView(){const e=new cre(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,o)=>!o&&i>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,o)=>{if(o<2)return"";const s=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[s,o])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new ure(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,i)=>!i&&r>=2?Math.min(r-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:r="",withArrow:i=!0,singleViewMode:o=!1}){this.view.class=r,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}}class cre extends ce{constructor(e){super(e);w(this,"focusTracker");w(this,"buttonPrevView");w(this,"buttonNextView");w(this,"content");const r=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new yt,this.buttonPrevView=this._createButtonView(r("Previous"),be.previousArrow),this.buttonNextView=this._createButtonView(r("Next"),be.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",o=>o?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,r){const i=new we(this.locale);return i.set({label:e,icon:r,tooltip:!0}),i}}class ure extends ce{constructor(e,r){super(e);w(this,"content");w(this,"_balloonPanelView");const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",o=>o?"":"ck-hidden")],style:{top:i.to("top",kh),left:i.to("left",kh),width:i.to("width",kh),height:i.to("height",kh)}},children:this.content}),this.on("change:numberOfPanels",(o,s,a,l)=>{a>l?this._addPanels(a-l):this._removePanels(l-a),this.updatePosition()})}_addPanels(e){for(;e--;){const r=new ce;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(e){for(;e--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:r}=this._balloonPanelView,{width:i,height:o}=new Re(this._balloonPanelView.element);Object.assign(this,{top:e,left:r,width:i,height:o})}}}const wa=Rd("px");class dre extends ce{constructor(e){super(e);w(this,"content");w(this,"contentPanelElement");w(this,"_contentPanelPlaceholder");const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Tr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",i=>i?"block":"none"),height:r.to("isSticky",i=>i?wa(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Tr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",i=>i?wa(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_stickyTopOffset",i=>i&&wa(i)),bottom:r.to("_stickyBottomOffset",i=>i&&wa(i)),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(fe.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new Re(this.limiterElement);let r=e.getVisible();if(r){const i=new Re(fe.window);i.top+=this.viewportTopOffset,i.height-=this.viewportTopOffset,r=r.getIntersection(i)}if(r&&e.top<r.top){const i=r.top;if(i+this._contentPanelRect.height+this.limiterBottomOffset>r.bottom){const o=Math.max(e.bottom-r.bottom,0)+this.limiterBottomOffset;e.bottom-o>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(o):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(i):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=wa(-fe.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=wa(-fe.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Re(this.contentPanelElement)}}class hre extends Ml{constructor(e){super(e);w(this,"arrowView");const r=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i)),"data-cke-tooltip-disabled":r.to("isOn")},on:{mouseenter:r.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Yi;return e.content=Hg,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class fre extends ce{constructor(e){super(e);w(this,"children");const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",r.to("position",i=>`ck-menu-bar__menu__panel_position_${i}`),r.if("isVisible","ck-hidden",i=>!i)],tabindex:"-1"},children:this.children,on:{selectstart:r.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}const Qm=class Qm extends ce{constructor(e){super(e);w(this,"buttonView");w(this,"panelView");w(this,"focusTracker");w(this,"keystrokes");const r=this.bindTemplate;this.buttonView=new hre(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new fre(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Nt,this.focusTracker=new yt,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",r.to("class"),r.if("isEnabled","ck-disabled",i=>!i),r.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),mo.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(mo.openOnButtonClick(this),mo.openOnArrowRightKey(this),mo.closeOnArrowLeftKey(this),mo.openAndFocusOnEnterKeyPress(this),mo.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),mo.openAndFocusPanelOnArrowDownKey(this),mo.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,r)=>{this.fire("arrowright"),r()}),this.keystrokes.set("arrowleft",(e,r)=>{this.fire("arrowleft"),r()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,r,i)=>{if(!i)return;const o=Qm._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:r,northEast:i,northWest:o,westSouth:s,eastSouth:a,westNorth:l,eastNorth:c}=Gne;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[a,c,s,l]:[e,r,i,o]:this.parentMenuView?[s,l,a,c]:[r,e,o,i]}};w(Qm,"_getOptimalPosition",ww);let ar=Qm;class Xo extends zw{constructor(t){super(t),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const t=Array.from(this.items).some(e=>{const r=UC(e);return r&&r.isToggleable});this.items.forEach(e=>{const r=UC(e);r&&(r.hasCheckSpace=t)})}}function UC(n){return n instanceof Jo?n.children.map(t=>mre(t)?t.buttonView:t).find(t=>t instanceof Ml):null}function mre(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof we}class gre extends Kte{constructor(t){super(t),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const WC=["mouseenter","arrowleft","arrowright","change:isOpen"];class pre extends ce{constructor(e){super(e);w(this,"children");w(this,"menus",[]);const r=e.t,i=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",i.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":r("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,r,i=[]){const o=this.locale,a=Yne({normalizedConfig:e,locale:o,componentFactory:r,extraItems:i}).items.map(l=>this._createMenu({componentFactory:r,menuDefinition:l}));this.children.addMany(a)}render(){super.render(),ya.toggleMenusAndFocusItemsOnHover(this),ya.closeMenusWhenTheBarCloses(this),ya.closeMenuWhenAnotherOnTheSameLevelOpens(this),ya.focusCycleMenusOnArrows(this),ya.closeOnClickOutside(this),ya.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,r=null){r?(e.delegate(...WC).to(r),e.parentMenuView=r):e.delegate(...WC).to(this,i=>"menu:"+i),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:r,parentMenuView:i}){const o=this.locale,s=new ar(o);return this.registerMenu(s,i),s.buttonView.set({label:r.label}),s.once("change:isOpen",()=>{const a=new Xo(o);a.ariaLabel=r.label,s.panelView.children.add(a),a.items.addMany(this._createMenuItems({menuDefinition:r,parentMenuView:s,componentFactory:e}))}),s}_createMenuItems({menuDefinition:e,parentMenuView:r,componentFactory:i}){const o=this.locale,s=[];for(const a of e.groups){for(const l of a.items){const c=new Ji(o,r);if(et(l))c.children.add(this._createMenu({componentFactory:i,menuDefinition:l,parentMenuView:r}));else{const u=this._createMenuItemContentFromFactory({componentName:l,componentFactory:i,parentMenuView:r});if(!u)continue;c.children.add(u)}s.push(c)}a!==e.groups[e.groups.length-1]&&s.push(new Ug(o))}return s}_createMenuItemContentFromFactory({componentName:e,parentMenuView:r,componentFactory:i}){const o=i.create(e);return o instanceof ar||o instanceof ze||o instanceof gre?(this._registerMenuTree(o,r),o.on("execute",()=>{this.close()}),o):(Ze("menu-bar-component-unsupported",{componentName:e,componentView:o}),null)}_registerMenuTree(e,r){if(!(e instanceof ar)){e.delegate("mouseenter").to(r);return}this.registerMenu(e,r);const i=e.panelView.children.filter(s=>s instanceof Xo)[0];if(!i){e.delegate("mouseenter").to(r);return}const o=i.items.filter(s=>s instanceof Jo);for(const s of o)this._registerMenuTree(s.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(r,i,o)=>{clearTimeout(e),o?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(s=>s.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Gw=["left","right","center","justify"];function p6(n){return Gw.includes(n)}function b6(n,t){return t.contentLanguageDirection=="rtl"?n==="right":n==="left"}function v6(n){const t=n.map(r=>{let i;return typeof r=="string"?i={name:r}:i=r,i}).filter(r=>{const i=Gw.includes(r.name);return i||Ze("alignment-config-name-not-recognized",{option:r}),i}),e=t.filter(r=>!!r.className).length;if(e&&e<t.length)throw new q("alignment-config-classnames-are-missing",{configuredOptions:n});return t.forEach((r,i,o)=>{const s=o.slice(i+1);if(s.some(l=>l.name==r.name))throw new q("alignment-config-name-already-defined",{option:r,configuredOptions:n});if(r.className&&s.some(c=>c.className==r.className))throw new q("alignment-config-classname-already-defined",{option:r,configuredOptions:n})}),t}const Kw="alignment";class bre extends Ae{refresh(){const e=this.editor.locale,r=Dt(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!r&&this._canBeAligned(r),this.isEnabled&&r.hasAttribute("alignment")?this.value=r.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(t={}){const e=this.editor,r=e.locale,i=e.model,o=i.document,s=t.value;i.change(a=>{const l=Array.from(o.selection.getSelectedBlocks()).filter(d=>this._canBeAligned(d)),c=l[0].getAttribute("alignment");b6(s,r)||c===s||!s?vre(l,a):yre(l,a,s)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,Kw)}}function vre(n,t){for(const e of n)t.removeAttribute(Kw,e)}function yre(n,t,e){for(const r of n)t.setAttribute(Kw,e,r)}class wre extends X{static get pluginName(){return"AlignmentEditing"}constructor(t){super(t),t.config.define("alignment",{options:Gw.map(e=>({name:e}))})}init(){const t=this.editor,e=t.locale,r=t.model.schema,o=v6(t.config.get("alignment.options")).filter(c=>p6(c.name)&&!b6(c.name,e)),s=o.some(c=>!!c.className);r.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),s?t.conversion.attributeToAttribute(Cre(o)):t.conversion.for("downcast").attributeToAttribute(_re(o));const a=xre(o);for(const c of a)t.conversion.for("upcast").attributeToAttribute(c);const l=kre(o);for(const c of l)t.conversion.for("upcast").attributeToAttribute(c);t.commands.add("alignment",new bre(t))}}function _re(n){const t={};for(const{name:r}of n)t[r]={key:"style",value:{"text-align":r}};return{model:{key:"alignment",values:n.map(r=>r.name)},view:t}}function xre(n){const t=[];for(const{name:e}of n)t.push({view:{key:"style",value:{"text-align":e}},model:{key:"alignment",value:e}});return t}function kre(n){const t=[];for(const{name:e}of n)t.push({view:{key:"align",value:e},model:{key:"alignment",value:e}});return t}function Cre(n){const t={};for(const r of n)t[r.name]={key:"class",value:r.className};return{model:{key:"alignment",values:n.map(r=>r.name)},view:t}}const Ec=new Map([["left",be.alignLeft],["right",be.alignRight],["center",be.alignCenter],["justify",be.alignJustify]]);class Ere extends X{get localizedOptionTitles(){const t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const t=this.editor,e=v6(t.config.get("alignment.options"));e.map(r=>r.name).filter(p6).forEach(r=>this._addButton(r)),this._addToolbarDropdown(e),this._addMenuBarMenu(e)}_addButton(t){this.editor.ui.componentFactory.add(`alignment:${t}`,r=>this._createButton(r,t))}_createButton(t,e,r={}){const i=this.editor,o=i.commands.get("alignment"),s=new we(t);return s.set({label:this.localizedOptionTitles[e],icon:Ec.get(e),tooltip:!0,isToggleable:!0,...r}),s.bind("isEnabled").to(o),s.bind("isOn").to(o,"value",a=>a===e),this.listenTo(s,"execute",()=>{i.execute("alignment",{value:e}),i.editing.view.focus()}),s}_addToolbarDropdown(t){const e=this.editor;e.ui.componentFactory.add("alignment",i=>{const o=gn(i),s=i.uiLanguageDirection==="rtl"?"w":"e",a=i.t;qg(o,()=>t.map(u=>this._createButton(i,u.name,{tooltipPosition:s})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:a("Text alignment toolbar")}),o.buttonView.set({label:a("Text alignment"),tooltip:!0}),o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const l=i.contentLanguageDirection==="rtl"?Ec.get("right"):Ec.get("left"),c=e.commands.get("alignment");return o.buttonView.bind("icon").to(c,"value",u=>Ec.get(u)||l),o.bind("isEnabled").to(c,"isEnabled"),this.listenTo(o,"execute",()=>{e.editing.view.focus()}),o})}_addMenuBarMenu(t){const e=this.editor;e.ui.componentFactory.add("menuBar:alignment",r=>{const i=e.commands.get("alignment"),o=r.t,s=new ar(r),a=new Xo(r);s.bind("isEnabled").to(i),a.set({ariaLabel:o("Text alignment"),role:"menu"}),s.buttonView.set({label:o("Text alignment")});for(const l of t){const c=new Ji(r,s),u=new ze(r);u.delegate("execute").to(s),u.set({label:this.localizedOptionTitles[l.name],icon:Ec.get(l.name),role:"menuitemcheckbox",isToggleable:!0}),u.on("execute",()=>{e.execute("alignment",{value:l.name}),e.editing.view.focus()}),u.bind("isOn").to(i,"value",d=>d===l.name),u.bind("isEnabled").to(i,"isEnabled"),c.children.add(u),a.items.add(c)}return s.panelView.children.add(a),s})}}class Tre extends X{static get requires(){return[wre,Ere]}static get pluginName(){return"Alignment"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class y6{constructor(t,e=20){w(this,"model");w(this,"limit");w(this,"_isLocked");w(this,"_size");w(this,"_batch",null);w(this,"_changeCallback");w(this,"_selectionChangeCallback");this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(r,i)=>{i.isLocal&&i.isUndoable&&i!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){(!this.isLocked||t)&&(this._batch=null,this._size=0)}}class Sre extends Ae{constructor(e,r){super(e);w(this,"_buffer");this._buffer=new y6(e.model,r),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const r=this.editor.model,i=r.document,o=e.text||"",s=o.length;let a=i.selection;if(e.selection?a=e.selection:e.range&&(a=r.createSelection(e.range)),!r.canEditAt(a))return;const l=e.resultRange;r.enqueueChange(this._buffer.batch,c=>{this._buffer.lock();const u=Array.from(i.selection.getAttributes());r.deleteContent(a),o&&r.insertContent(c.createText(o,u),a),l?c.setSelection(l):a.is("documentSelection")||c.setSelection(a),this._buffer.unlock(),this._buffer.input(s)})}}const w6=["insertText","insertReplacementText"],Are=[...w6,"insertCompositionText"];class Pre extends so{constructor(e){super(e);w(this,"focusObserver");this.focusObserver=e.getObserver(gm);const r=Ee.isAndroid?Are:w6,i=e.document;i.on("beforeinput",(o,s)=>{if(!this.isEnabled)return;const{data:a,targetRanges:l,inputType:c,domEvent:u}=s;if(!r.includes(c))return;this.focusObserver.flush();const d=new Ki(i,"insertText");i.fire(d,new Il(e,u,{text:a,selection:e.createSelection(l)})),d.stop.called&&o.stop()}),Ee.isAndroid||i.on("compositionend",(o,{data:s,domEvent:a})=>{this.isEnabled&&s&&i.fire("insertText",new Il(e,a,{text:s}))},{priority:"lowest"})}observe(){}stopObserving(){}}class _6 extends X{constructor(){super(...arguments);w(this,"_compositionQueue")}static get pluginName(){return"Input"}init(){const e=this.editor,r=e.model,i=e.editing.view,o=e.editing.mapper,s=r.document.selection;this._compositionQueue=new Rre(e),i.addObserver(Pre);const a=new Sre(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",a),e.commands.add("input",a),this.listenTo(i.document,"insertText",(l,c)=>{i.document.isComposing||c.preventDefault(),Ee.isAndroid&&i.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:u,selection:d}=c;let h;d?h=Array.from(d.getRanges()).map(g=>o.toModelRange(g)):h=Array.from(s.getRanges());let f=u;if(Ee.isAndroid){const g=Array.from(h[0].getItems()).reduce((v,p)=>v+(p.is("$textProxy")?p.data:""),"");if(g&&(g.length<=f.length?f.startsWith(g)&&(f=f.substring(g.length),h[0].start=h[0].start.getShiftedBy(g.length)):g.startsWith(f)&&(h[0].start=h[0].start.getShiftedBy(f.length),f="")),f.length==0&&h[0].isCollapsed)return}const m={text:f,selection:r.createSelection(h)};Ee.isAndroid&&i.document.isComposing?this._compositionQueue.push(m):(e.execute("insertText",m),i.scrollToTheSelection())}),Ee.isAndroid?this.listenTo(i.document,"keydown",(l,c)=>{s.isCollapsed||c.keyCode!=229||!i.document.isComposing||qC(r,a)}):this.listenTo(i.document,"compositionstart",()=>{s.isCollapsed||qC(r,a)}),Ee.isAndroid?(this.listenTo(i.document,"mutations",(l,{mutations:c})=>{if(i.document.isComposing)for(const{node:u}of c){const d=Ire(u,o),h=o.toModelElement(d);if(this._compositionQueue.isComposedElement(h)){this._compositionQueue.flush("mutations");return}}}),this.listenTo(i.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(i.document,"compositionend",()=>{const l=[];for(const c of this._compositionQueue.flushComposedElements()){const u=o.toViewElement(c);u&&l.push({type:"children",node:u})}l.length&&i.document.fire("mutations",{mutations:l})},{priority:"lowest"})):this.listenTo(i.document,"compositionend",()=>{i.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class Rre{constructor(t){w(this,"editor");w(this,"flushDebounced",Ir(()=>this.flush("timeout"),50));w(this,"_queue",[]);w(this,"_compositionElements",new Set);this.editor=t}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(t){const e={text:t.text};if(t.selection){e.selectionRanges=[];for(const r of t.selection.getRanges())e.selectionRanges.push(tr.fromRange(r)),this._compositionElements.add(r.start.parent)}this._queue.push(e),this.flushDebounced()}shift(){const t=this._queue.shift(),e={text:t.text};if(t.selectionRanges){const r=t.selectionRanges.map(i=>Ore(i)).filter(i=>!!i);r.length&&(e.selection=this.editor.model.createSelection(r))}return e}flush(t){const e=this.editor,r=e.model,i=e.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const s=e.commands.get("insertText").buffer;r.enqueueChange(s.batch,()=>{for(s.lock();this._queue.length;){const a=this.shift();e.execute("insertText",a)}s.unlock()}),i.scrollToTheSelection()}isComposedElement(t){return this._compositionElements.has(t)}flushComposedElements(){const t=Array.from(this._compositionElements);return this._compositionElements.clear(),t}}function qC(n,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),n.enqueueChange(e.batch,()=>{n.deleteContent(n.document.selection)}),e.unlock()}function Ore(n){const t=n.toRange();return n.detach(),t.root.rootName=="$graveyard"?null:t}function Ire(n,t){let e=n.is("$text")?n.parent:n;for(;!t.toModelElement(e);)e=e.parent;return e}class GC extends Ae{constructor(e,r){super(e);w(this,"direction");w(this,"_buffer");this.direction=r,this._buffer=new y6(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const r=this.editor.model,i=r.document;r.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const s=o.createSelection(e.selection||i.selection);if(!r.canEditAt(s))return;const a=e.sequence||1,l=s.isCollapsed;if(s.isCollapsed&&r.modifySelection(s,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(a)){this._replaceEntireContentWithParagraph(o);return}if(this._shouldReplaceFirstBlockWithParagraph(s,a)){this.editor.execute("paragraph",{selection:s});return}if(s.isCollapsed)return;let c=0;s.getFirstRange().getMinimalFlatRanges().forEach(u=>{c+=wv(u.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(s,{doNotResetEntireContent:l,direction:this.direction}),this._buffer.input(c),o.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const r=this.editor.model,o=r.document.selection,s=r.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(s))||!r.schema.checkChild(s,"paragraph"))return!1;const l=s.getChild(0);return!(l&&l.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const r=this.editor.model,o=r.document.selection,s=r.schema.getLimitElement(o),a=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(a,s),e.setSelection(a,0)}_shouldReplaceFirstBlockWithParagraph(e,r){const i=this.editor.model;if(r>1||this.direction!="backward"||!e.isCollapsed)return!1;const o=e.getFirstPosition(),s=i.schema.getLimitElement(o),a=s.getChild(0);return!(o.parent!=a||!e.containsEntireContent(a)||!i.schema.checkChild(s,"paragraph")||a.name=="paragraph")}}const Nre="character",KC="word",Mre="codePoint",Eo="selection",Ma="backward",$c="forward",x6={deleteContent:{unit:Eo,direction:Ma},deleteContentBackward:{unit:Mre,direction:Ma},deleteWordBackward:{unit:KC,direction:Ma},deleteHardLineBackward:{unit:Eo,direction:Ma},deleteSoftLineBackward:{unit:Eo,direction:Ma},deleteContentForward:{unit:Nre,direction:$c},deleteWordForward:{unit:KC,direction:$c},deleteHardLineForward:{unit:Eo,direction:$c},deleteSoftLineForward:{unit:Eo,direction:$c}};class Lre extends so{constructor(t){super(t);const e=t.document;let r=0;e.on("keydown",()=>{r++}),e.on("keyup",()=>{r=0}),e.on("beforeinput",(i,o)=>{if(!this.isEnabled)return;const{targetRanges:s,domEvent:a,inputType:l}=o,c=x6[l];if(!c)return;const u={direction:c.direction,unit:c.unit,sequence:r};u.unit==Eo&&(u.selectionToRemove=t.createSelection(s[0])),l==="deleteContentBackward"&&(Ee.isAndroid&&(u.sequence=1),Bre(s)&&(u.unit=Eo,u.selectionToRemove=t.createSelection(s)));const d=new Yl(e,"delete",s[0]);e.fire(d,new Il(t,a,u)),d.stop.called&&i.stop()}),Ee.isBlink&&Dre(this)}observe(){}stopObserving(){}}function Dre(n){const t=n.view,e=t.document;let r=null,i=!1;e.on("keydown",(a,{keyCode:l})=>{r=l,i=!1}),e.on("keyup",(a,{keyCode:l,domEvent:c})=>{const u=e.selection,d=n.isEnabled&&l==r&&o(l)&&!u.isCollapsed&&!i;if(r=null,d){const h=u.getFirstRange(),f=new Yl(e,"delete",h),m={unit:Eo,direction:s(l),selectionToRemove:u};e.fire(f,new Il(t,c,m))}}),e.on("beforeinput",(a,{inputType:l})=>{const c=x6[l];o(r)&&c&&c.direction==s(r)&&(i=!0)},{priority:"high"}),e.on("beforeinput",(a,{inputType:l,data:c})=>{r==Me.delete&&l=="insertText"&&c==""&&a.stop()},{priority:"high"});function o(a){return a==Me.backspace||a==Me.delete}function s(a){return a==Me.backspace?Ma:$c}}function Bre(n){if(n.length!=1||n[0].isCollapsed)return!1;const t=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let e=0;for(const{nextPosition:r,item:i}of t){if(r.parent.is("$text")){const o=r.parent.data,s=r.offset;if(Ew(o,s)||Tw(o,s)||$O(o,s))continue;e++}else(i.is("containerElement")||i.is("emptyElement"))&&e++;if(e>1)return!0}return!1}class Xl extends X{constructor(){super(...arguments);w(this,"_undoOnBackspace")}static get pluginName(){return"Delete"}init(){const e=this.editor,r=e.editing.view,i=r.document,o=e.model.document;r.addObserver(Lre),this._undoOnBackspace=!1;const s=new GC(e,"forward");e.commands.add("deleteForward",s),e.commands.add("forwardDelete",s),e.commands.add("delete",new GC(e,"backward")),this.listenTo(i,"delete",(a,l)=>{i.isComposing||l.preventDefault();const{direction:c,sequence:u,selectionToRemove:d,unit:h}=l,f=c==="forward"?"deleteForward":"delete",m={sequence:u};if(h=="selection"){const g=Array.from(d.getRanges()).map(v=>e.editing.mapper.toModelRange(v));m.selection=e.model.createSelection(g)}else m.unit=h;e.execute(f,m),r.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(a,l)=>{this._undoOnBackspace&&l.direction=="backward"&&l.sequence==1&&l.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),l.preventDefault(),a.stop())},{context:"$capture"}),this.listenTo(o,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class k6 extends X{static get requires(){return[_6,Xl]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function C6(n,t){let e=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((i,{item:o})=>o.is("$text")||o.is("$textProxy")?i+o.data:(e=t.createPositionAfter(o),""),""),range:t.createRange(e,n.end)}}class E6 extends Ke(){constructor(e,r){super();w(this,"model");w(this,"testCallback");w(this,"_hasMatch");this.model=e,this.testCallback=r,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const r=this.model.document;this.listenTo(r.selection,"change:range",(i,{directChange:o})=>{if(o){if(!r.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(r,"change:data",(i,o)=>{o.isUndo||!o.isLocal||this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(e,r={}){const i=this.model,s=i.document.selection,a=i.createRange(i.createPositionAt(s.focus.parent,0),s.focus),{text:l,range:c}=C6(a,i),u=this.testCallback(l);if(!u&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!u,u){const d=Object.assign(r,{text:l,range:c});typeof u=="object"&&Object.assign(d,u),this.fire(`matched:${e}`,d)}}}class xm extends X{constructor(e){super(e);w(this,"attributes");w(this,"_overrideUid");w(this,"_isNextGravityRestorationSkipped",!1);this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,r=e.model,i=e.editing.view,o=e.locale,s=r.document.selection;this.listenTo(i.document,"arrowKey",(a,l)=>{if(!s.isCollapsed||l.shiftKey||l.altKey||l.ctrlKey)return;const c=l.keyCode==Me.arrowright,u=l.keyCode==Me.arrowleft;if(!c&&!u)return;const d=o.contentLanguageDirection;let h=!1;d==="ltr"&&c||d==="rtl"&&u?h=this._handleForwardMovement(l):h=this._handleBackwardMovement(l),h===!0&&a.stop()},{context:"$text",priority:"highest"}),this.listenTo(s,"change:range",(a,l)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!l.directChange&&wr(s.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const r=this.attributes,i=this.editor.model,o=i.document.selection,s=o.getFirstPosition();return this._isGravityOverridden||s.isAtStart&&Ti(o,r)?!1:wr(s,r)?(Sc(e),Ti(o,r)&&wr(s,r,!0)?Tc(i,r):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const r=this.attributes,i=this.editor.model,o=i.document.selection,s=o.getFirstPosition();return this._isGravityOverridden?(Sc(e),this._restoreGravity(),wr(s,r,!0)?Tc(i,r):Ch(i,r,s),!0):s.isAtStart?Ti(o,r)?(Sc(e),Ch(i,r,s),!0):!1:!Ti(o,r)&&wr(s,r,!0)?(Sc(e),Ch(i,r,s),!0):ZC(s,r)?s.isAtEnd&&!Ti(o,r)&&wr(s,r)?(Sc(e),Ch(i,r,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,r=e.model,i=r.document.selection,o=e.editing.view.document;e.editing.view.addObserver(Dw);let s=!1;this.listenTo(o,"mousedown",()=>{s=!0}),this.listenTo(o,"selectionChange",()=>{const a=this.attributes;if(!s||(s=!1,!i.isCollapsed)||!Ti(i,a))return;const l=i.getFirstPosition();wr(l,a)&&(l.isAtStart||wr(l,a,!0)?Tc(r,a):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const r=this.editor.model,i=r.document.selection,o=this.attributes;this.listenTo(r,"insertContent",()=>{const s=i.getFirstPosition();Ti(i,o)&&wr(s,o)&&Tc(r,o)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,r=e.model,i=r.document.selection,o=e.editing.view;let s=!1,a=!1;this.listenTo(o.document,"delete",(l,c)=>{s=c.direction==="backward"},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{if(!s)return;const l=i.getFirstPosition();a=Ti(i,this.attributes)&&!ZC(l,this.attributes)},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{s&&(s=!1,!a&&e.model.enqueueChange(()=>{const l=i.getFirstPosition();Ti(i,this.attributes)&&wr(l,this.attributes)&&(l.isAtStart||wr(l,this.attributes,!0)?Tc(r,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Ti(n,t){for(const e of t)if(n.hasAttribute(e))return!0;return!1}function Ch(n,t,e){const r=e.nodeBefore;n.change(i=>{if(r){const o=[],s=n.schema.isObject(r)&&n.schema.isInline(r);for(const[a,l]of r.getAttributes())n.schema.checkAttribute("$text",a)&&(!s||n.schema.getAttributeProperties(a).copyFromObject!==!1)&&o.push([a,l]);i.setSelectionAttribute(o)}else i.removeSelectionAttribute(t)})}function Tc(n,t){n.change(e=>{e.removeSelectionAttribute(t)})}function Sc(n){n.preventDefault()}function ZC(n,t){const e=n.getShiftedBy(-1);return wr(e,t)}function wr(n,t,e=!1){const{nodeBefore:r,nodeAfter:i}=n;for(const o of t){const s=r?r.getAttribute(o):void 0,a=i?i.getAttribute(o):void 0;if(!(e&&(s===void 0||a===void 0))&&a!==s)return!0}return!1}const YC={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:_a('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:_a("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:_a("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:_a('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:_a('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:_a("'"),to:[null,"‚",null,"’"]}},JC={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Fre=["symbols","mathematical","typography","quotes"];class Vre extends X{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:Fre}})}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,r=t.plugins.get("Delete"),i=Hre(t.config.get("typing.transformations")),o=a=>{for(const l of i)if(l.from.test(a))return{normalizedTransformation:l}},s=new E6(t.model,o);s.on("matched:data",(a,l)=>{if(!l.batch.isTyping)return;const{from:c,to:u}=l.normalizedTransformation,d=c.exec(l.text),h=u(d.slice(1)),f=l.range;let m=d.index;e.enqueueChange(g=>{for(let v=1;v<d.length;v++){const p=d[v],b=h[v-1];if(b==null){m+=p.length;continue}const _=f.start.getShiftedBy(m),y=e.createRange(_,_.getShiftedBy(p.length)),k=zre(_);e.insertContent(g.createText(b,k),y),m+=b.length}e.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),s.bind("isEnabled").to(this)}}function jre(n){return typeof n=="string"?new RegExp(`(${mO(n)})$`):n}function $re(n){return typeof n=="string"?()=>[n]:n instanceof Array?()=>n:n}function zre(n){return(n.textNode?n.textNode:n.nodeAfter).getAttributes()}function _a(n){return new RegExp(`(^|\\s)(${n})([^${n}]*)(${n})$`)}function Hre(n){const t=n.extra||[],e=n.remove||[],r=o=>!e.includes(o),i=n.include.concat(t).filter(r);return Ure(i).filter(r).map(o=>typeof o=="string"&&YC[o]?YC[o]:o).filter(o=>typeof o=="object").map(o=>({from:jre(o.from),to:$re(o.to)}))}function Ure(n){const t=new Set;for(const e of n)if(typeof e=="string"&&JC[e])for(const r of JC[e])t.add(r);else t.add(e);return Array.from(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Md(n,t,e,r){return r.createRange(Vv(n,t,e,!0,r),Vv(n,t,e,!1,r))}function Vv(n,t,e,r,i){let o=n.textNode||(r?n.nodeBefore:n.nodeAfter),s=null;for(;o&&o.getAttribute(t)==e;)s=o,o=r?o.previousSibling:o.nextSibling;return s?i.createPositionAt(s,r?"before":"after"):n}function T6(n,t,e,r){const i=n.editing.view,o=new Set;i.document.registerPostFixer(s=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(t)){const c=Md(a.getFirstPosition(),t,a.getAttribute(t),n.model),u=n.editing.mapper.toViewRange(c);for(const d of u.getItems())d.is("element",e)&&!d.hasClass(r)&&(s.addClass(r,d),o.add(d),l=!0)}return l}),n.conversion.for("editingDowncast").add(s=>{s.on("insert",a,{priority:"highest"}),s.on("remove",a,{priority:"highest"}),s.on("attribute",a,{priority:"highest"}),s.on("selection",a,{priority:"highest"});function a(){i.change(l=>{for(const c of o.values())l.removeClass(r,c),o.delete(c)})}})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function go(n,t,e,r){let i,o=null;typeof r=="function"?i=r:(o=n.commands.get(r),i=()=>{n.execute(r)}),n.model.document.on("change:data",(s,a)=>{if(o&&!o.isEnabled||!t.isEnabled)return;const l=Dt(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const c=Array.from(n.model.document.differ.getChanges()),u=c[0];if(c.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)return;const d=u.position.parent;if(d.is("element","codeBlock")||d.is("element","listItem")&&typeof r!="function"&&!["numberedList","bulletedList","todoList"].includes(r)||o&&o.value===!0)return;const h=d.getChild(0),f=n.model.createRangeOn(h);if(!f.containsRange(l)&&!l.end.isEqual(f.end))return;const m=e.exec(h.data.substr(0,l.end.offset));m&&n.model.enqueueChange(g=>{const v=g.createPositionAt(d,0),p=g.createPositionAt(d,m[0].length),b=new tr(v,p);if(i({match:m})!==!1){g.remove(b);const y=n.model.document.selection.getFirstRange(),k=g.createRangeIn(d);d.isEmpty&&!k.isEqual(y)&&!k.containsRange(y,!0)&&g.remove(d)}b.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function xa(n,t,e,r){let i,o;e instanceof RegExp?i=e:o=e,o=o||(s=>{let a;const l=[],c=[];for(;(a=i.exec(s))!==null&&!(a&&a.length<4);){let{index:u,"1":d,"2":h,"3":f}=a;const m=d+h+f;u+=a[0].length-m.length;const g=[u,u+d.length],v=[u+d.length+h.length,u+d.length+h.length+f.length];l.push(g),l.push(v),c.push([u+d.length,u+d.length+h.length])}return{remove:l,format:c}}),n.model.document.on("change:data",(s,a)=>{if(a.isUndo||!a.isLocal||!t.isEnabled)return;const l=n.model,c=l.document.selection;if(!c.isCollapsed)return;const u=Array.from(l.document.differ.getChanges()),d=u[0];if(u.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1)return;const h=c.focus,f=h.parent,{text:m,range:g}=Wre(l.createRange(l.createPositionAt(f,0),h),l),v=o(m),p=XC(g.start,v.format,l),b=XC(g.start,v.remove,l);p.length&&b.length&&l.enqueueChange(_=>{if(r(_,p)!==!1){for(const k of b.reverse())_.remove(k);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function XC(n,t,e){return t.filter(r=>r[0]!==void 0&&r[1]!==void 0).map(r=>e.createRange(n.getShiftedBy(r[0]),n.getShiftedBy(r[1])))}function Wre(n,t){let e=n.start;return{text:Array.from(n.getItems()).reduce((i,o)=>!(o.is("$text")||o.is("$textProxy"))||o.getAttribute("code")?(e=t.createPositionAfter(o),""):i+o.data,""),range:t.createRange(e,n.end)}}class qre extends X{static get requires(){return[Xl]}static get pluginName(){return"Autoformat"}afterInit(){const t=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&go(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&go(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&go(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&go(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const e=Eh(this.editor,"bold");xa(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),xa(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(t.get("italic")){const e=Eh(this.editor,"italic");xa(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),xa(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(t.get("code")){const e=Eh(this.editor,"code");xa(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(t.get("strikethrough")){const e=Eh(this.editor,"strikethrough");xa(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const r=e[7],i=new RegExp(`^(#{${r}})\\s$`);go(this.editor,this,i,()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&go(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&go(t,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&go(this.editor,this,/^---$/,"horizontalLine")}}function Eh(n,t){return(e,r)=>{if(!n.commands.get(t).isEnabled)return!1;const o=n.model.schema.getValidRanges(r,t);for(const s of o)e.setAttribute(t,!0,s);e.removeSelectionAttribute(t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gre extends X{constructor(e){super(e);w(this,"adapter");w(this,"_debouncedSave");w(this,"_lastDocumentVersion");w(this,"_savePromise");w(this,"_domEmitter");w(this,"_config");w(this,"_pendingActions");w(this,"_makeImmediateSave");w(this,"_action",null);const r=e.config.get("autosave")||{},i=r.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=Ir(this._save.bind(this),i),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(br()),this._config=r,this._pendingActions=e.plugins.get(vm),this._makeImmediateSave=!1}static get pluginName(){return"Autosave"}static get requires(){return[vm]}init(){const e=this.editor,r=e.model.document;this.listenTo(e,"ready",()=>{this.listenTo(r,"change:data",(i,o)=>{this._saveCallbacks.length&&o.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"});/* istanbul ignore next -- @preserve */this._domEmitter.listenTo(window,"beforeunload",(i,o)=>{this._pendingActions.hasAny&&(o.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}),this._savePromise)}_setPendingAction(){const e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class la extends Ae{constructor(e,r){super(e);w(this,"attributeKey");this.attributeKey=r}refresh(){const e=this.editor.model,r=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(e={}){const r=this.editor.model,o=r.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;r.change(a=>{if(o.isCollapsed)s?a.setSelectionAttribute(this.attributeKey,!0):a.removeSelectionAttribute(this.attributeKey);else{const l=r.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const c of l)s?a.setAttribute(this.attributeKey,s,c):a.removeAttribute(this.attributeKey,c)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,r=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const o of i.getRanges())for(const s of o.getItems())if(r.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}const ka="bold";class Kre extends X{static get pluginName(){return"BoldEditing"}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:ka}),t.model.schema.setAttributeProperties(ka,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:ka,view:"strong",upcastAlso:["b",r=>{const i=r.getStyle("font-weight");return i&&(i=="bold"||Number(i)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(ka,new la(t,ka)),t.keystrokes.set("CTRL+B",ka),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Bold text"),keystroke:"CTRL+B"}]})}}function ca({editor:n,commandName:t,plugin:e,icon:r,label:i,keystroke:o}){return s=>{const a=n.commands.get(t),l=new s(n.locale);return l.set({label:i,icon:r,keystroke:o,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof ze?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),e.listenTo(l,"execute",()=>{n.execute(t),n.editing.view.focus()}),l}}const k0="bold";class Zre extends X{static get pluginName(){return"BoldUI"}init(){const t=this.editor,e=t.locale.t,r=ca({editor:t,commandName:k0,plugin:this,icon:be.bold,label:e("Bold"),keystroke:"CTRL+B"});t.ui.componentFactory.add(k0,()=>r(we)),t.ui.componentFactory.add("menuBar:"+k0,()=>r(ze))}}class Yre extends X{static get requires(){return[Kre,Zre]}static get pluginName(){return"Bold"}}const hs="code",Jre="ck-code_selected";class Xre extends X{static get pluginName(){return"CodeEditing"}static get requires(){return[xm]}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:hs}),t.model.schema.setAttributeProperties(hs,{isFormatting:!0,copyOnEnter:!1}),t.conversion.attributeToElement({model:hs,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),t.commands.add(hs,new la(t,hs)),t.plugins.get(xm).registerAttribute(hs),T6(t,hs,"code",Jre),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}var Qre='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>';const C0="code";class eie extends X{static get pluginName(){return"CodeUI"}init(){const t=this.editor,e=t.locale.t,r=ca({editor:t,commandName:C0,plugin:this,icon:Qre,label:e("Code")});t.ui.componentFactory.add(C0,()=>r(we)),t.ui.componentFactory.add("menuBar:"+C0,()=>r(ze))}}class tie extends X{static get requires(){return[Xre,eie]}static get pluginName(){return"Code"}}const Ca="italic";class nie extends X{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Ca}),t.model.schema.setAttributeProperties(Ca,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Ca,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(Ca,new la(t,Ca)),t.keystrokes.set("CTRL+I",Ca),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Italic text"),keystroke:"CTRL+I"}]})}}var rie='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';const E0="italic";class iie extends X{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,e=t.locale.t,r=ca({editor:t,commandName:E0,plugin:this,icon:rie,keystroke:"CTRL+I",label:e("Italic")});t.ui.componentFactory.add(E0,()=>r(we)),t.ui.componentFactory.add("menuBar:"+E0,()=>r(ze))}}class oie extends X{static get requires(){return[nie,iie]}static get pluginName(){return"Italic"}}const Ac="strikethrough";class sie extends X{static get pluginName(){return"StrikethroughEditing"}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Ac}),t.model.schema.setAttributeProperties(Ac,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Ac,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),t.commands.add(Ac,new la(t,Ac)),t.keystrokes.set("CTRL+SHIFT+X","strikethrough"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}var aie='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';const T0="strikethrough";class lie extends X{static get pluginName(){return"StrikethroughUI"}init(){const t=this.editor,e=t.locale.t,r=ca({editor:t,commandName:T0,plugin:this,icon:aie,keystroke:"CTRL+SHIFT+X",label:e("Strikethrough")});t.ui.componentFactory.add(T0,()=>r(we)),t.ui.componentFactory.add("menuBar:"+T0,()=>r(ze))}}class cie extends X{static get requires(){return[sie,lie]}static get pluginName(){return"Strikethrough"}}const Pc="subscript";class uie extends X{static get pluginName(){return"SubscriptEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Pc}),t.model.schema.setAttributeProperties(Pc,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Pc,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add(Pc,new la(t,Pc))}}var die='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>';const S0="subscript";class hie extends X{static get pluginName(){return"SubscriptUI"}init(){const t=this.editor,e=t.locale.t,r=ca({editor:t,commandName:S0,plugin:this,icon:die,label:e("Subscript")});t.ui.componentFactory.add(S0,()=>r(we)),t.ui.componentFactory.add("menuBar:"+S0,()=>r(ze))}}class fie extends X{static get requires(){return[uie,hie]}static get pluginName(){return"Subscript"}}const Rc="superscript";class mie extends X{static get pluginName(){return"SuperscriptEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Rc}),t.model.schema.setAttributeProperties(Rc,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Rc,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add(Rc,new la(t,Rc))}}var gie='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>';const A0="superscript";class pie extends X{static get pluginName(){return"SuperscriptUI"}init(){const t=this.editor,e=t.locale.t,r=ca({editor:t,commandName:A0,plugin:this,icon:gie,label:e("Superscript")});t.ui.componentFactory.add(A0,()=>r(we)),t.ui.componentFactory.add("menuBar:"+A0,()=>r(ze))}}class bie extends X{static get requires(){return[mie,pie]}static get pluginName(){return"Superscript"}}const Oc="underline";class vie extends X{static get pluginName(){return"UnderlineEditing"}init(){const t=this.editor,e=this.editor.t;t.model.schema.extend("$text",{allowAttributes:Oc}),t.model.schema.setAttributeProperties(Oc,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Oc,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add(Oc,new la(t,Oc)),t.keystrokes.set("CTRL+U","underline"),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Underline text"),keystroke:"CTRL+U"}]})}}var yie='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';const P0="underline";class wie extends X{static get pluginName(){return"UnderlineUI"}init(){const t=this.editor,e=t.locale.t,r=ca({editor:t,commandName:P0,plugin:this,icon:yie,label:e("Underline"),keystroke:"CTRL+U"});t.ui.componentFactory.add(P0,()=>r(we)),t.ui.componentFactory.add("menuBar:"+P0,()=>r(ze))}}class _ie extends X{static get requires(){return[vie,wie]}static get pluginName(){return"Underline"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*S6(n,t){for(const e of t)e&&n.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class xie extends Ae{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,r=e.document.selection,i=e.schema,o=r.isCollapsed,s=r.getFirstRange(),a=s.start.parent,l=s.end.parent;if(i.isLimit(a)||i.isLimit(l))return!o&&a==l&&e.deleteContent(r),!1;if(o){const c=S6(t.model.schema,r.getAttributes());return QC(t,s.start),t.setSelectionAttribute(c),!0}else{const c=!(s.start.isAtStart&&s.end.isAtEnd),u=a==l;if(e.deleteContent(r,{leaveUnmerged:c}),c){if(u)return QC(t,r.focus),!0;t.setSelection(l,0)}}return!1}}function QC(n,t){n.split(t),n.setSelection(t.parent.nextSibling,0)}const kie={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class A6 extends so{constructor(t){super(t);const e=this.document;let r=!1;e.on("keydown",(i,o)=>{r=o.shiftKey}),e.on("beforeinput",(i,o)=>{if(!this.isEnabled)return;let s=o.inputType;Ee.isSafari&&r&&s=="insertParagraph"&&(s="insertLineBreak");const a=o.domEvent,l=kie[s];if(!l)return;const c=new Yl(e,"enter",o.targetRanges[0]);e.fire(c,new Il(t,a,{isSoft:l.isSoft})),c.stop.called&&i.stop()})}observe(){}stopObserving(){}}class Gg extends X{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,r=e.document,i=this.editor.t;e.addObserver(A6),t.commands.add("enter",new xie(t)),this.listenTo(r,"enter",(o,s)=>{r.isComposing||s.preventDefault(),!s.isSoft&&(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class Cie extends Ae{execute(){const t=this.editor.model,e=t.document;t.change(r=>{Tie(t,r,e.selection),this.fire("afterExecute",{writer:r})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=Eie(t.schema,e.selection)}}function Eie(n,t){if(t.rangeCount>1)return!1;const e=t.anchor;if(!e||!n.checkChild(e,"softBreak"))return!1;const r=t.getFirstRange(),i=r.start.parent,o=r.end.parent;return!((jv(i,n)||jv(o,n))&&i!==o)}function Tie(n,t,e){const r=e.isCollapsed,i=e.getFirstRange(),o=i.start.parent,s=i.end.parent,a=o==s;if(r){const l=S6(n.schema,e.getAttributes());eE(n,t,i.end),t.removeSelectionAttribute(e.getAttributeKeys()),t.setSelectionAttribute(l)}else{const l=!(i.start.isAtStart&&i.end.isAtEnd);n.deleteContent(e,{leaveUnmerged:l}),a?eE(n,t,e.focus):l&&t.setSelection(s,0)}}function eE(n,t,e){const r=t.createElement("softBreak");n.insertContent(r,e),t.setSelection(r,"after")}function jv(n,t){return n.is("rootElement")?!1:t.isLimit(n)||jv(n.parent,t)}class P6 extends X{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,r=t.conversion,i=t.editing.view,o=i.document,s=this.editor.t;e.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),i.addObserver(A6),t.commands.add("shiftEnter",new Cie(t)),this.listenTo(o,"enter",(a,l)=>{o.isComposing||l.preventDefault(),l.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sie extends Ae{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,r=e.schema,i=e.document.selection,o=Array.from(i.getSelectedBlocks()),s=t.forceValue===void 0?!this.value:t.forceValue;e.change(a=>{if(!s)this._removeQuote(a,o.filter(Th));else{const l=o.filter(c=>Th(c)||nE(r,c));this._applyQuote(a,l)}})}_getValue(){const t=this.editor.model.document.selection,e=Dt(t.getSelectedBlocks());return!!(e&&Th(e))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,r=Dt(t.getSelectedBlocks());return r?nE(e,r):!1}_removeQuote(t,e){tE(t,e).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd){t.unwrap(r.start.parent);return}if(r.start.isAtStart){const o=t.createPositionBefore(r.start.parent);t.move(r,o);return}r.end.isAtEnd||t.split(r.end);const i=t.createPositionAfter(r.end.parent);t.move(r,i)})}_applyQuote(t,e){const r=[];tE(t,e).reverse().forEach(i=>{let o=Th(i.start);o||(o=t.createElement("blockQuote"),t.wrap(i,o)),r.push(o)}),r.reverse().reduce((i,o)=>i.nextSibling==o?(t.merge(t.createPositionAfter(i)),i):o)}}function Th(n){return n.parent.name=="blockQuote"?n.parent:null}function tE(n,t){let e,r=0;const i=[];for(;r<t.length;){const o=t[r],s=t[r+1];e||(e=n.createPositionBefore(o)),(!s||o.nextSibling!=s)&&(i.push(n.createRange(e,n.createPositionAfter(o))),e=null),r++}return i}function nE(n,t){const e=n.checkChild(t.parent,"blockQuote"),r=n.checkChild(["$root","blockQuote"],t);return e&&r}class Aie extends X{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Gg,Xl]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new Sie(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(s=>{const a=t.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const c=l.position.nodeAfter;if(!c)continue;if(c.is("element","blockQuote")&&c.isEmpty)return s.remove(c),!0;if(c.is("element","blockQuote")&&!e.checkChild(l.position,c))return s.unwrap(c),!0;if(c.is("element")){const u=s.createRangeIn(c);for(const d of u.getItems())if(d.is("element","blockQuote")&&!e.checkChild(s.createPositionBefore(d),d))return s.unwrap(d),!0}}else if(l.type=="remove"){const c=l.position.parent;if(c.is("element","blockQuote")&&c.isEmpty)return s.remove(c),!0}return!1});const r=this.editor.editing.view.document,i=t.model.document.selection,o=t.commands.get("blockQuote");this.listenTo(r,"enter",(s,a)=>{if(!i.isCollapsed||!o.value)return;i.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),s.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(s,a)=>{if(a.direction!="backward"||!i.isCollapsed||!o.value)return;const l=i.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),a.preventDefault(),s.stop())},{context:"blockquote"})}}class Pie extends X{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor;t.ui.componentFactory.add("blockQuote",()=>{const e=this._createButton(we);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:blockQuote",()=>{const e=this._createButton(ze);return e.set({role:"menuitemcheckbox"}),e})}_createButton(t){const e=this.editor,r=e.locale,i=e.commands.get("blockQuote"),o=new t(e.locale),s=r.t;return o.set({label:s("Block quote"),icon:be.quote,isToggleable:!0}),o.bind("isEnabled").to(i,"isEnabled"),o.bind("isOn").to(i,"value"),this.listenTo(o,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),o}}class Rie extends X{static get requires(){return[Aie,Pie]}static get pluginName(){return"BlockQuote"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oie extends We(){constructor(){super(...arguments);w(this,"_stack",[])}add(e,r){const i=this._stack,o=i[0];this._insertDescriptor(e);const s=i[0];o!==s&&!R0(o,s)&&this.fire("change:top",{oldDescriptor:o,newDescriptor:s,writer:r})}remove(e,r){const i=this._stack,o=i[0];this._removeDescriptor(e);const s=i[0];o!==s&&!R0(o,s)&&this.fire("change:top",{oldDescriptor:o,newDescriptor:s,writer:r})}_insertDescriptor(e){const r=this._stack,i=r.findIndex(s=>s.id===e.id);if(R0(e,r[i]))return;i>-1&&r.splice(i,1);let o=0;for(;r[o]&&Iie(r[o],e);)o++;r.splice(o,0,e)}_removeDescriptor(e){const r=this._stack,i=r.findIndex(o=>o.id===e);i>-1&&r.splice(i,1)}}function R0(n,t){return n&&t&&n.priority==t.priority&&km(n.classes)==km(t.classes)}function Iie(n,t){return n.priority>t.priority?!0:n.priority<t.priority?!1:km(n.classes)>km(t.classes)}function km(n){return Array.isArray(n)?n.sort().join(","):n}var Nie='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const Mie="ck-widget",rE="ck-widget_selected";function At(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function Ld(n,t,e={}){if(!n.is("containerElement"))throw new q("widget-to-widget-wrong-element-type",null,{element:n});return t.setAttribute("contenteditable","false",n),t.addClass(Mie,n),t.setCustomProperty("widget",!0,n),n.getFillerOffset=Vie,t.setCustomProperty("widgetLabel",[],n),e.label&&Bie(n,e.label),e.hasSelectionHandle&&jie(n,t),R6(n,t),n}function Lie(n,t,e){if(t.classes&&e.addClass(pt(t.classes),n),t.attributes)for(const r in t.attributes)e.setAttribute(r,t.attributes[r],n)}function Die(n,t,e){if(t.classes&&e.removeClass(pt(t.classes),n),t.attributes)for(const r in t.attributes)e.removeAttribute(r,n)}function R6(n,t,e=Lie,r=Die){const i=new Oie;i.on("change:top",(a,l)=>{l.oldDescriptor&&r(n,l.oldDescriptor,l.writer),l.newDescriptor&&e(n,l.newDescriptor,l.writer)});const o=(a,l,c)=>i.add(l,c),s=(a,l,c)=>i.remove(l,c);t.setCustomProperty("addHighlight",o,n),t.setCustomProperty("removeHighlight",s,n)}function Bie(n,t){n.getCustomProperty("widgetLabel").push(t)}function Fie(n){return n.getCustomProperty("widgetLabel").reduce((e,r)=>typeof r=="function"?e?e+". "+r():r():e?e+". "+r:r,"")}function O6(n,t,e={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),t.setAttribute("role","textbox",n),t.setAttribute("tabindex","-1",n),e.label&&t.setAttribute("aria-label",e.label,n),t.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(r,i,o)=>{t.setAttribute("contenteditable",o?"false":"true",n)}),n.on("change:isFocused",(r,i,o)=>{o?t.addClass("ck-editor__nested-editable_focused",n):t.removeClass("ck-editor__nested-editable_focused",n)}),R6(n,t),n}function I6(n,t){const e=n.getSelectedElement();if(e){const r=yo(n);if(r)return t.createRange(t.createPositionAt(e,r))}return t.schema.findOptimalInsertionRange(n)}function Vie(){return null}function jie(n,t){const e=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(r){const i=this.toDomElement(r),o=new Yi;return o.set("content",Nie),o.render(),i.appendChild(o.element),i});t.insert(t.createPositionAt(n,0),e),t.addClass(["ck-widget_with-selection-handle"],n)}const Pi="widget-type-around";function fs(n,t,e){return!!n&&At(n)&&!e.isInline(t)}function $ie(n){return n.closest(".ck-widget__type-around__button")}function zie(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function Hie(n,t){const e=n.closest(".ck-widget");return t.mapDomToView(e)}function yo(n){return n.getAttribute(Pi)}var Uie='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';const N6=["before","after"],Wie=new DOMParser().parseFromString(Uie,"image/svg+xml").firstChild,iE="ck-widget__type-around_disabled";class qie extends X{constructor(){super(...arguments);w(this,"_currentFakeCaretModelElement",null)}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Gg,Xl]}init(){const e=this.editor,r=e.editing.view;this.on("change:isEnabled",(i,o,s)=>{r.change(a=>{for(const l of r.document.roots)s?a.removeClass(iE,l):a.addClass(iE,l)}),s||e.model.change(a=>{a.removeSelectionAttribute(Pi)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,r){const i=this.editor,o=i.editing.view,s=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,r),attributes:s}),o.focus(),o.scrollToTheSelection()}_listenToIfEnabled(e,r,i,o){this.listenTo(e,r,(...s)=>{this.isEnabled&&i(...s)},o)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,o=yo(i);if(!o)return!1;const s=i.getSelectedElement();return this._insertParagraph(s,o),!0}_enableTypeAroundUIInjection(){const e=this.editor,r=e.model.schema,i=e.locale.t,o={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(s,a,l)=>{const c=l.mapper.toViewElement(a.item);c&&fs(c,a.item,r)&&(Gie(l.writer,o,c),c.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,r=e.model,i=r.document.selection,o=r.schema,s=e.editing.view;this._listenToIfEnabled(s.document,"arrowKey",(l,c)=>{this._handleArrowKeyPress(l,c)},{context:[At,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(l,c)=>{c.directChange&&e.model.change(u=>{u.removeSelectionAttribute(Pi)})}),this._listenToIfEnabled(r.document,"change:data",()=>{const l=i.getSelectedElement();if(l){const c=e.editing.mapper.toViewElement(l);if(fs(c,l,o))return}e.model.change(c=>{c.removeSelectionAttribute(Pi)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(l,c,u)=>{const d=u.writer;if(this._currentFakeCaretModelElement){const g=u.mapper.toViewElement(this._currentFakeCaretModelElement);g&&(d.removeClass(N6.map(a),g),this._currentFakeCaretModelElement=null)}const h=c.selection.getSelectedElement();if(!h)return;const f=u.mapper.toViewElement(h);if(!fs(f,h,o))return;const m=yo(c.selection);m&&(d.addClass(a(m),f),this._currentFakeCaretModelElement=h)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(l,c,u)=>{u||e.model.change(d=>{d.removeSelectionAttribute(Pi)})});function a(l){return`ck-widget_type-around_show-fake-caret_${l}`}}_handleArrowKeyPress(e,r){const i=this.editor,o=i.model,s=o.document.selection,a=o.schema,l=i.editing.view,c=r.keyCode,u=mZ(c,i.locale.contentLanguageDirection),d=l.document.selection.getSelectedElement(),h=i.editing.mapper.toModelElement(d);let f;fs(d,h,a)?f=this._handleArrowKeyPressOnSelectedWidget(u):s.isCollapsed?f=this._handleArrowKeyPressWhenSelectionNextToAWidget(u):r.shiftKey||(f=this._handleArrowKeyPressWhenNonCollapsedSelection(u)),f&&(r.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,o=i.document.selection,s=yo(o);return i.change(a=>{if(s){if(!(s===(e?"after":"before")))return a.removeSelectionAttribute(Pi),!0}else return a.setSelectionAttribute(Pi,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const r=this.editor,i=r.model,o=i.schema,s=r.plugins.get("Widget"),a=s._getObjectElementNextToSelection(e),l=r.editing.mapper.toViewElement(a);return fs(l,a,o)?(i.change(c=>{s._setSelectionOverElement(a),c.setSelectionAttribute(Pi,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const r=this.editor,i=r.model,o=i.schema,s=r.editing.mapper,a=i.document.selection,l=e?a.getLastPosition().nodeBefore:a.getFirstPosition().nodeAfter,c=s.toViewElement(l);return fs(c,l,o)?(i.change(u=>{u.setSelection(l,"on"),u.setSelectionAttribute(Pi,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,r=e.editing.view;this._listenToIfEnabled(r.document,"mousedown",(i,o)=>{const s=$ie(o.domTarget);if(!s)return;const a=zie(s),l=Hie(s,r.domConverter),c=e.editing.mapper.toModelElement(l);this._insertParagraph(c,a),o.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,r=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(o,s)=>{if(o.eventPhase!="atTarget")return;const a=r.getSelectedElement(),l=e.editing.mapper.toViewElement(a),c=e.model.schema;let u;this._insertParagraphAccordingToFakeCaretPosition()?u=!0:fs(l,a,c)&&(this._insertParagraph(a,s.isSoft?"before":"after"),u=!0),u&&(s.preventDefault(),o.stop())},{context:At})}_enableInsertingParagraphsOnTypingKeystroke(){const r=this.editor.editing.view.document;this._listenToIfEnabled(r,"insertText",(i,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=r.selection)},{priority:"high"}),Ee.isAndroid?this._listenToIfEnabled(r,"keydown",(i,o)=>{o.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(r,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,r=e.editing.view,i=e.model,o=i.schema;this._listenToIfEnabled(r.document,"delete",(s,a)=>{if(s.eventPhase!="atTarget")return;const l=yo(i.document.selection);if(!l)return;const c=a.direction,u=i.document.selection.getSelectedElement(),d=l==="before",h=c=="forward";if(d===h)e.execute("delete",{selection:i.createSelection(u,"on")});else{const m=o.getNearestSelectionRange(i.createPositionAt(u,l),c);if(m)if(!m.isCollapsed)i.change(g=>{g.setSelection(m),e.execute(h?"deleteForward":"delete")});else{const g=i.createSelection(m.start);if(i.modifySelection(g,{direction:c}),!g.focus.isEqual(m.start))i.change(v=>{v.setSelection(m),e.execute(h?"deleteForward":"delete")});else{const v=Yie(o,m.start.parent);i.deleteContent(i.createSelection(v,"on"),{doNotAutoparagraph:!0})}}}a.preventDefault(),s.stop()},{context:At})}_enableInsertContentIntegration(){const e=this.editor,r=this.editor.model,i=r.document.selection;this._listenToIfEnabled(e.model,"insertContent",(o,[s,a])=>{if(a&&!a.is("documentSelection"))return;const l=yo(i);if(l)return o.stop(),r.change(c=>{const u=i.getSelectedElement(),d=r.createPositionAt(u,l),h=c.createSelection(d),f=r.insertContent(s,h);return c.setSelection(h),f})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(o,s)=>{const[,a,l={}]=s;if(a&&!a.is("documentSelection"))return;const c=yo(i);c&&(l.findOptimalPosition=c,s[3]=l)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(o,[s])=>{if(s&&!s.is("documentSelection"))return;yo(i)&&o.stop()},{priority:"high"})}}function Gie(n,t,e){const r=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(i){const o=this.toDomElement(i);return Kie(o,t),Zie(o),o});n.insert(n.createPositionAt(e,"end"),r)}function Kie(n,t){for(const e of N6){const r=new Tr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${e}`],title:t[e],"aria-hidden":"true"},children:[n.ownerDocument.importNode(Wie,!0)]});n.appendChild(r.render())}}function Zie(n){const t=new Tr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(t.render())}function Yie(n,t){let e=t;for(const r of t.getAncestors({parentFirst:!0})){if(r.childCount>1||n.isLimit(r))break;e=r}return e}function Jie(n){const t=n.model;return(e,r)=>{const i=r.keyCode==Me.arrowup,o=r.keyCode==Me.arrowdown,s=r.shiftKey,a=t.document.selection;if(!i&&!o)return;const l=o;if(s&&eoe(a,l))return;const c=Xie(n,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(s)return}(c.isCollapsed||Qie(n,c,l))&&(t.change(u=>{const d=l?c.end:c.start;if(s){const h=t.createSelection(a.anchor);h.setFocus(d),u.setSelection(h)}else u.setSelection(d)}),e.stop(),r.preventDefault(),r.stopPropagation())}}}function Xie(n,t,e){const r=n.model;if(e){const i=t.isCollapsed?t.focus:t.getLastPosition(),o=oE(r,i,"forward");if(!o)return null;const s=r.createRange(i,o),a=sE(r.schema,s,"backward");return a?r.createRange(i,a):null}else{const i=t.isCollapsed?t.focus:t.getFirstPosition(),o=oE(r,i,"backward");if(!o)return null;const s=r.createRange(o,i),a=sE(r.schema,s,"forward");return a?r.createRange(a,i):null}}function oE(n,t,e){const r=n.schema,i=n.createRangeIn(t.root),o=e=="forward"?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:l}of i.getWalker({startPosition:t,direction:e})){if(r.isLimit(a)&&!r.isInline(a))return s;if(l==o&&r.isBlock(a))return null}return null}function sE(n,t,e){const r=e=="backward"?t.end:t.start;if(n.checkChild(r,"$text"))return r;for(const{nextPosition:i}of t.getWalker({direction:e}))if(n.checkChild(i,"$text"))return i;return null}function Qie(n,t,e){const r=n.model,i=n.view.domConverter;if(e){const c=r.createSelection(t.start);r.modifySelection(c),!c.focus.isAtEnd&&!t.start.isEqual(c.focus)&&(t=r.createRange(c.focus,t.end))}const o=n.mapper.toViewRange(t),s=i.viewRangeToDom(o),a=Re.getDomRangeRects(s);let l;for(const c of a){if(l===void 0){l=Math.round(c.bottom);continue}if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}return!0}function eoe(n,t){return!n.isCollapsed&&n.isBackward==t}class Dd extends X{constructor(){super(...arguments);w(this,"_previouslySelected",new Set)}static get pluginName(){return"Widget"}static get requires(){return[qie,Xl]}init(){const e=this.editor,r=e.editing.view,i=r.document,o=e.t;this.editor.editing.downcastDispatcher.on("selection",(s,a,l)=>{const c=l.writer,u=a.selection;if(u.isCollapsed)return;const d=u.getSelectedElement();if(!d)return;const h=e.editing.mapper.toViewElement(d);At(h)&&l.consumable.consume(u,"selection")&&c.setSelection(c.createRangeOn(h),{fake:!0,label:Fie(h)})}),this.editor.editing.downcastDispatcher.on("selection",(s,a,l)=>{this._clearPreviouslySelectedWidgets(l.writer);const c=l.writer,u=c.document.selection;let d=null;for(const h of u.getRanges())for(const f of h){const m=f.item;At(m)&&!roe(m,d)&&(c.addClass(rE,m),this._previouslySelected.add(m),d=m)}},{priority:"low"}),r.addObserver(Dw),this.listenTo(i,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(i,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[At,"$text"]}),this.listenTo(i,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(i,"arrowKey",Jie(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(s,a)=>{this._handleDelete(a.direction=="forward")&&(a.preventDefault(),s.stop())},{context:"$root"}),this.listenTo(i,"tab",(s,a)=>{s.eventPhase=="atTarget"&&(a.shiftKey||this._selectFirstNestedEditable()&&(a.preventDefault(),s.stop()))},{context:At,priority:"low"}),this.listenTo(i,"tab",(s,a)=>{a.shiftKey&&this._selectAncestorWidget()&&(a.preventDefault(),s.stop())},{priority:"low"}),this.listenTo(i,"keydown",(s,a)=>{a.keystroke==Me.esc&&this._selectAncestorWidget()&&(a.preventDefault(),s.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:o("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:o("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:o("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:o("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:o("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:o("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,r){const i=this.editor,o=i.editing.view,s=o.document;let a=r.target;if(!a)return;if(r.domEvent.detail>=3){this._selectBlockContent(a)&&r.preventDefault();return}if(!At(a)){const c=toe(a);if(!c)return;if(At(c))a=c;else{const u=noe(o,r);if(u&&At(u))a=u;else return}}Ee.isAndroid&&r.preventDefault(),s.isFocused||o.focus();const l=i.editing.mapper.toModelElement(a);this._setSelectionOverElement(l)}_selectBlockContent(e){const r=this.editor,i=r.model,o=r.editing.mapper,s=i.schema,a=o.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),l=ioe(o.toModelElement(a),i.schema);return l?(i.change(c=>{const u=s.isLimit(l)?null:ooe(c.createPositionAfter(l),s),d=c.createPositionAt(l,0),h=u?c.createPositionAt(u,0):c.createPositionAt(l,"end");c.setSelection(c.createRange(d,h))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,r){const i=r.keyCode,o=this.editor.model,s=o.schema,a=o.document.selection,l=a.getSelectedElement(),c=kw(i,this.editor.locale.contentLanguageDirection),u=c=="down"||c=="right",d=c=="up"||c=="down";if(l&&s.isObject(l)){const f=u?a.getLastPosition():a.getFirstPosition(),m=s.getNearestSelectionRange(f,u?"forward":"backward");m&&(o.change(g=>{g.setSelection(m)}),r.preventDefault(),e.stop());return}if(!a.isCollapsed&&!r.shiftKey){const f=a.getFirstPosition(),m=a.getLastPosition(),g=f.nodeAfter,v=m.nodeBefore;(g&&s.isObject(g)||v&&s.isObject(v))&&(o.change(p=>{p.setSelection(u?m:f)}),r.preventDefault(),e.stop());return}if(!a.isCollapsed)return;const h=this._getObjectElementNextToSelection(u);if(h&&s.isObject(h)){if(s.isInline(h)&&d)return;this._setSelectionOverElement(h),r.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,r){const i=this.editor.model,o=i.schema,s=i.document.selection.getSelectedElement();s&&o.isObject(s)&&(r.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);if(o)return this.editor.model.change(s=>{let a=i.anchor.parent;for(;a.isEmpty;){const l=a;a=l.parent,s.remove(l)}this._setSelectionOverElement(o)}),!0}_setSelectionOverElement(e){this.editor.model.change(r=>{r.setSelection(r.createRangeOn(e))})}_getObjectElementNextToSelection(e){const r=this.editor.model,i=r.schema,o=r.document.selection,s=r.createSelection(o);if(r.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(o))return null;const a=e?s.focus.nodeBefore:s.focus.nodeAfter;return a&&i.isObject(a)?a:null}_clearPreviouslySelectedWidgets(e){for(const r of this._previouslySelected)e.removeClass(rE,r);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const o of i.selection.getFirstRange().getItems())if(o.is("editableElement")){const s=e.editing.mapper.toModelElement(o);/* istanbul ignore next -- @preserve */if(!s)continue;const a=e.model.createPositionAt(s,0),l=e.model.schema.getNearestSelectionRange(a,"forward");return e.model.change(c=>{c.setSelection(l)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,r=e.editing.mapper,o=e.editing.view.document.selection.getFirstPosition().parent,a=(o.is("$text")?o.parent:o).findAncestor(At);if(!a)return!1;const l=r.toModelElement(a);/* istanbul ignore next -- @preserve */return l?(e.model.change(c=>{c.setSelection(l,"on")}),!0):!1}}function toe(n){let t=n;for(;t;){if(t.is("editableElement")||At(t))return t;t=t.parent}return null}function noe(n,t){const e=RO(t.domEvent);let r=null;if(e?r=n.domConverter.domRangeToView(e):r=n.createRange(n.createPositionAt(t.target,0)),!r)return null;const i=r.start;if(!i.parent)return null;let o=i.parent;return i.parent.is("editableElement")&&(i.isAtEnd&&i.nodeBefore?o=i.nodeBefore:i.isAtStart&&i.nodeAfter&&(o=i.nodeAfter)),o.is("$text")?o.parent:o}function roe(n,t){return t?Array.from(n.getAncestors()).includes(t):!1}function ioe(n,t){for(const e of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(e,"$text"))return e;if(t.isLimit(e)&&!t.isObject(e))break}return null}function ooe(n,t){const e=new Bi({startPosition:n});for(const{item:r}of e){if(t.isLimit(r)||!r.is("element"))return null;if(t.checkChild(r,"$text"))return r}return null}class aE extends X{constructor(){super(...arguments);w(this,"_toolbarDefinitions",new Map);w(this,"_balloon")}static get requires(){return[Gs]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const r=e.plugins.get("BalloonToolbar");this.listenTo(r,"show",i=>{soe(e.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:r,items:i,getRelatedElement:o,balloonClassName:s="ck-toolbar-container"}){if(!i.length){Ze("widget-toolbar-no-items",{toolbarId:e});return}const a=this.editor,l=a.t,c=new Dl(a.locale);if(c.ariaLabel=r||l("Widget toolbar"),this._toolbarDefinitions.has(e))throw new q("widget-toolbar-duplicated",this,{toolbarId:e});const u={view:c,getRelatedElement:o,balloonClassName:s,itemsConfig:i,initialized:!1};a.ui.addToolbar(c,{isContextual:!0,beforeFocus:()=>{const d=o(a.editing.view.document.selection);d&&this._showToolbar(u,d)},afterBlur:()=>{this._hideToolbar(u)}}),this._toolbarDefinitions.set(e,u)}_updateToolbarsVisibility(){let e=0,r=null,i=null;for(const o of this._toolbarDefinitions.values()){const s=o.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!s)this._isToolbarInBalloon(o)&&this._hideToolbar(o);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(o)&&this._hideToolbar(o);else{const a=s.getAncestors().length;a>e&&(e=a,r=s,i=o)}}i&&this._showToolbar(i,r)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,r){this._isToolbarVisible(e)?lE(this.editor,r):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:M6(this.editor,r),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const o=i.getRelatedElement(this.editor.editing.view.document.selection);lE(this.editor,o)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function lE(n,t){const e=n.plugins.get("ContextualBalloon"),r=M6(n,t);e.updatePosition(r)}function M6(n,t){const e=n.editing.view,r=On.defaultPositions;return{target:e.domConverter.mapViewToDom(t),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}function soe(n){const t=n.getSelectedElement();return!!(t&&At(t))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sd extends ss{constructor(e){super(e);w(this,"domEventType",["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]);const r=this.document;this.listenTo(r,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(r,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(r,"dragover",i("dragging"),{priority:"low"});function i(o){return(s,a)=>{a.preventDefault();const l=a.dropRange?[a.dropRange]:null,c=new Ki(r,o);r.fire(c,{dataTransfer:a.dataTransfer,method:s.name,targetRanges:l,target:a.target,domEvent:a.domEvent}),c.stop.called&&a.stopPropagation()}}}onDomEvent(e){const r="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",o={dataTransfer:new nI(r,{cacheFiles:i})};if(e.type=="drop"||e.type=="dragover"){const s=RO(e);o.dropRange=s&&this.view.domConverter.domRangeToView(s)}this.fire(e.type,e,o)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function aoe(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function loe(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>e.length==1?" ":e).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const cE=["figcaption","li"],uE=["ol","ul"];function L6(n){if(n.is("$text")||n.is("$textProxy"))return n.data;if(n.is("element","img")&&n.hasAttribute("alt"))return n.getAttribute("alt");if(n.is("element","br"))return`
`;let t="",e=null;for(const r of n.getChildren())t+=coe(r,e)+L6(r),e=r;return t}function coe(n,t){return t?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||uE.includes(n.name)&&uE.includes(t.name)?`

`:!n.is("containerElement")&&!t.is("containerElement")?"":cE.includes(n.name)||cE.includes(t.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class du extends X{constructor(){super(...arguments);w(this,"_markersToCopy",new Map)}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,r){this._markersToCopy.set(e,r)}_copySelectedFragmentWithMarkers(e,r,i=o=>o.model.getSelectedContent(o.model.document.selection)){return this.editor.model.change(o=>{const s=o.model.document.selection;o.setSelection(r);const a=this._insertFakeMarkersIntoSelection(o,o.model.document.selection,e),l=i(o),c=this._removeFakeMarkersInsideElement(o,l);for(const[u,d]of Object.entries(a)){c[u]||(c[u]=o.createRangeIn(l));for(const h of d)o.remove(h)}l.markers.clear();for(const[u,d]of Object.entries(c))l.markers.set(u,d);return o.setSelection(s),l})}_pasteMarkersIntoTransformedElement(e,r){const i=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(o=>{const s=this._insertFakeMarkersElements(o,i),a=r(o),l=this._removeFakeMarkersInsideElement(o,a);for(const c of Object.values(s).flat())o.remove(c);for(const[c,u]of Object.entries(l))o.model.markers.has(c)||o.addMarker(c,{usingOperation:!0,affectsData:!0,range:u});return a})}_pasteFragmentWithMarkers(e){const r=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const i of r)e.markers.set(i.name,i.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,r,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const o=this._markersToCopy.get(e);this._markersToCopy.set(e,i),r(),o?this._markersToCopy.set(e,o):this._markersToCopy.delete(e)}_isMarkerCopyable(e,r){const i=this._getMarkerClipboardConfig(e);if(!i)return!1;if(!r)return!0;const{allowedActions:o}=i;return o==="all"||o.includes(r)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[r]=e.split(":");return this._markersToCopy.get(r)||null}_insertFakeMarkersIntoSelection(e,r,i){const o=this._getCopyableMarkersFromSelection(e,r,i);return this._insertFakeMarkersElements(e,o)}_getCopyableMarkersFromSelection(e,r,i){const o=Array.from(r.getRanges()),s=new Set(o.flatMap(l=>Array.from(e.model.markers.getMarkersIntersectingRange(l)))),a=l=>{if(!this._isMarkerCopyable(l.name,i))return!1;const{copyPartiallySelected:u}=this._getMarkerClipboardConfig(l.name);if(!u){const d=l.getRange();return o.some(h=>h.containsRange(d,!0))}return!0};return Array.from(s).filter(a).map(l=>({name:i==="dragstart"?this._getUniqueMarkerName(l.name):l.name,range:l.getRange()}))}_getPasteMarkersFromRangeMap(e,r=null){const{model:i}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([s,a])=>{if(!this._hasMarkerConfiguration(s))return[{name:s,range:a}];if(this._isMarkerCopyable(s,r)){const l=this._getMarkerClipboardConfig(s),c=i.markers.has(s)&&i.markers.get(s).getRange().root.rootName==="$graveyard";return(l.duplicateOnPaste||c)&&(s=this._getUniqueMarkerName(s)),[{name:s,range:a}]}return[]})}_insertFakeMarkersElements(e,r){const i={},o=r.flatMap(s=>{const{start:a,end:l}=s.range;return[{position:a,marker:s,type:"start"},{position:l,marker:s,type:"end"}]}).sort(({position:s},{position:a})=>s.isBefore(a)?1:-1);for(const{position:s,marker:a,type:l}of o){const c=e.createElement("$marker",{"data-name":a.name,"data-type":l});i[a.name]||(i[a.name]=[]),i[a.name].push(c),e.insert(c,s)}return i}_removeFakeMarkersInsideElement(e,r){const o=this._getAllFakeMarkersFromElement(e,r).reduce((s,a)=>{const l=a.markerElement&&e.createPositionBefore(a.markerElement);let c=s[a.name],u=!1;return c&&c.start&&c.end&&(this._getMarkerClipboardConfig(a.name).duplicateOnPaste?s[this._getUniqueMarkerName(a.name)]=s[a.name]:u=!0,c=null),u||(s[a.name]={...c,[a.type]:l}),a.markerElement&&e.remove(a.markerElement),s},{});return gK(o,s=>new Q(s.start||e.createPositionFromPath(r,[0]),s.end||e.createPositionAt(r,"end")))}_getAllFakeMarkersFromElement(e,r){const i=Array.from(e.createRangeIn(r)).flatMap(({item:a})=>{if(!a.is("element","$marker"))return[];const l=a.getAttribute("data-name"),c=a.getAttribute("data-type");return[{markerElement:a,name:l,type:c}]}),o=[],s=[];for(const a of i)a.type==="end"&&(i.some(c=>c.name===a.name&&c.type==="start")||o.push({markerElement:null,name:a.name,type:"start"})),a.type==="start"&&(i.some(c=>c.name===a.name&&c.type==="end")||s.unshift({markerElement:null,name:a.name,type:"end"}));return[...o,...i,...s]}_getUniqueMarkerName(e){const r=e.split(":"),i=ur().substring(1,6);return r.length===3?`${r.slice(0,2).join(":")}:${i}`:`${r.join(":")}:${i}`}}class Qo extends X{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[du]}init(){this.editor.editing.view.addObserver(sd),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,r){const i=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:r==="cut"},()=>{const o=i._copySelectedFragmentWithMarkers(r,e);this.fire("outputTransformation",{dataTransfer:t,content:o,method:r})})}_setupPasteDrop(){const t=this.editor,e=t.model,r=t.editing.view,i=r.document,o=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(i,"clipboardInput",(s,a)=>{a.method=="paste"&&!t.model.canEditAt(t.model.document.selection)&&s.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(s,a)=>{const l=a.dataTransfer;let c;if(a.content)c=a.content;else{let d="";l.getData("text/html")?d=loe(l.getData("text/html")):l.getData("text/plain")&&(d=aoe(l.getData("text/plain"))),c=this.editor.data.htmlProcessor.toView(d)}const u=new Ki(this,"inputTransformation");this.fire(u,{content:c,dataTransfer:l,targetRanges:a.targetRanges,method:a.method}),u.stop.called&&s.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(s,a)=>{if(a.content.isEmpty)return;const c=this.editor.data.toModel(a.content,"$clipboardHolder");c.childCount!=0&&(s.stop(),e.change(()=>{this.fire("contentInsertion",{content:c,method:a.method,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(s,a)=>{a.resultRange=o._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,i=t.editing.view.document,o=(s,a)=>{const l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,e.selection,s.name)};this.listenTo(i,"copy",o,{priority:"low"}),this.listenTo(i,"cut",(s,a)=>{t.model.canEditAt(t.model.document.selection)?o(s,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(s,a)=>{const l=t.data.toView(a.content);i.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(i,"clipboardOutput",(s,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",L6(a.content))),a.method=="cut"&&t.model.deleteContent(e.selection)},{priority:"low"})}}const O0=Rd("px");class uoe extends ce{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",e=>!e)],style:{left:t.to("left",e=>O0(e)),top:t.to("top",e=>O0(e)),width:t.to("width",e=>O0(e))}}})}}class Sh extends X{constructor(){super(...arguments);w(this,"removeDropMarkerDelayed",Cw(()=>this.removeDropMarker(),40));w(this,"_updateDropMarkerThrottled",Wu(e=>this._updateDropMarker(e),40));w(this,"_reconvertMarkerThrottled",Wu(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0));w(this,"_dropTargetLineView",new uoe);w(this,"_domEmitter",new(br()));w(this,"_scrollables",new Map)}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,r,i,o,s,a){this.removeDropMarkerDelayed.cancel();const l=dE(this.editor,e,r,i,o,s,a);/* istanbul ignore next -- @preserve */if(l){if(a&&a.containsRange(l))return this.removeDropMarker();this._updateDropMarkerThrottled(l)}}getFinalDropRange(e,r,i,o,s,a){const l=dE(this.editor,e,r,i,o,s,a);return this.removeDropMarker(),l}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(r=>{r.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(r,{writer:i})=>{if(e.model.schema.checkChild(r.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);r.markerRange.isCollapsed?this._updateDropTargetLine(r.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const r=this.editor,i=r.model.markers;r.model.change(o=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||o.updateMarker("drop-target",{range:e}):o.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(r){const i=this.toDomElement(r);return i.append("⁠",r.createElement("span"),"⁠"),i})}_updateDropTargetLine(e){const r=this.editor.editing,i=e.start.nodeBefore,o=e.start.nodeAfter,s=e.start.parent,a=i?r.mapper.toViewElement(i):null,l=a?r.view.domConverter.mapViewToDom(a):null,c=o?r.mapper.toViewElement(o):null,u=c?r.view.domConverter.mapViewToDom(c):null,d=r.mapper.toViewElement(s);if(!d)return;const h=r.view.domConverter.mapViewToDom(d),f=this._getScrollableRect(d),{scrollX:m,scrollY:g}=fe.window,v=l?new Re(l):null,p=u?new Re(u):null,b=new Re(h).excludeScrollbarsAndBorders(),_=v?v.bottom:b.top,y=p?p.top:b.bottom,k=fe.window.getComputedStyle(h),S=_<=y?(_+y)/2:y;if(f.top<S&&S<f.bottom){const E=b.left+parseFloat(k.paddingLeft),C=b.right-parseFloat(k.paddingRight),O=Math.max(E+m,f.left),T=Math.min(C+m,f.right);this._dropTargetLineView.set({isVisible:!0,left:O,top:S+g,width:T-O})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const r=e.root.rootName;let i;if(this._scrollables.has(r))i=this._scrollables.get(r).domElement;else{const o=this.editor.editing.view.domConverter.mapViewToDom(e);i=hoe(o),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const s=new yw(i,this._reconvertMarkerThrottled);this._scrollables.set(r,{domElement:i,resizeObserver:s})}return new Re(i).excludeScrollbarsAndBorders()}}function dE(n,t,e,r,i,o,s){const a=n.model,l=n.editing.mapper;let u=hE(n,t);for(;u;){if(!o){if(a.schema.checkChild(u,"$text")){if(e){const d=e[0].start,h=l.toModelPosition(d);if(!s||Array.from(s.getItems()).every(m=>a.schema.checkChild(h,m))){if(a.schema.checkChild(h,"$text"))return a.createRange(h);if(d)return Ah(n,hE(n,d.parent),r,i)}}}else if(a.schema.isInline(u))return Ah(n,u,r,i)}if(a.schema.isBlock(u))return Ah(n,u,r,i);if(a.schema.checkChild(u,"$block")){const d=Array.from(u.getChildren()).filter(m=>m.is("element")&&!doe(n,m));let h=0,f=d.length;if(f==0)return a.createRange(a.createPositionAt(u,"end"));for(;h<f-1;){const m=Math.floor((h+f)/2);D6(n,d[m],r,i)=="before"?f=m:h=m}return Ah(n,d[h],r,i)}u=u.parent}return null}function doe(n,t){const e=n.editing.mapper,r=n.editing.view.domConverter,i=e.toViewElement(t);if(!i)return!0;const o=r.mapViewToDom(i);return fe.window.getComputedStyle(o).float!="none"}function Ah(n,t,e,r){const i=n.model;return i.createRange(i.createPositionAt(t,D6(n,t,e,r)))}function D6(n,t,e,r){const i=n.editing.mapper,o=n.editing.view.domConverter,s=i.toViewElement(t),a=o.mapViewToDom(s),l=new Re(a);return n.model.schema.isInline(t)?e<(l.left+l.right)/2?"before":"after":r<(l.top+l.bottom)/2?"before":"after"}function hE(n,t){const e=n.editing.mapper,r=n.editing.view,i=e.toModelElement(t);if(i)return i;const o=r.createPositionBefore(t),s=e.findMappedViewAncestor(o);return e.toModelElement(s)}function hoe(n){let t=n;do{t=t.parentElement;const e=fe.window.getComputedStyle(t).overflowY;if(e=="auto"||e=="scroll")break}while(t.tagName!="BODY");return t}class foe extends X{constructor(){super(...arguments);w(this,"_isBlockDragging",!1);w(this,"_domEmitter",new(br()))}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(r,i,o)=>{o?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),Ee.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(o,s)=>this._handleBlockDragStart(s)),this._domEmitter.listenTo(fe.document,"dragover",(o,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(fe.document,"drop",(o,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(fe.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(o,s,a)=>{i.setAttribute("draggable",a?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const r=this.editor.model,i=r.document.selection,o=this.editor.editing.view,s=Array.from(i.getSelectedBlocks()),a=r.createRange(r.createPositionBefore(s[0]),r.createPositionAfter(s[s.length-1]));r.change(l=>l.setSelection(a)),this._isBlockDragging=!0,o.focus(),o.getObserver(sd).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const r=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=e.clientY,o=document.elementFromPoint(r,i),s=this.editor.editing.view;!o||!o.closest(".ck-editor__editable")||s.getObserver(sd).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:o,clientX:r,clientY:i,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class moe extends X{constructor(){super(...arguments);w(this,"_draggedRange");w(this,"_draggingUid");w(this,"_draggableElement");w(this,"_clearDraggableAttributesDelayed",Cw(()=>this._clearDraggableAttributes(),40));w(this,"_blockMode",!1);w(this,"_domEmitter",new(br()));w(this,"_previewContainer")}static get pluginName(){return"DragDrop"}static get requires(){return[Qo,Dd,Sh,foe]}init(){const e=this.editor,r=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,r.addObserver(sd),r.addObserver(Dw),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,o,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,o,s)=>{s||this._finalizeDragging(!1)}),Ee.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,r=e.model,i=e.editing.view,o=i.document,s=e.plugins.get(Sh);this.listenTo(o,"dragstart",(a,l)=>{if(l.target&&l.target.is("editableElement")){l.preventDefault();return}if(this._prepareDraggedRange(l.target),!this._draggedRange){l.preventDefault();return}this._draggingUid=ur(),l.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",l.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const c=r.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(l.dataTransfer,c,"dragstart");const{dataTransfer:d,domTarget:h,domEvent:f}=l,{clientX:m}=f;this._updatePreview({dataTransfer:d,domTarget:h,clientX:m}),l.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(o,"dragend",(a,l)=>{this._finalizeDragging(!l.dataTransfer.isCanceled&&l.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(fe.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(o,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(o,"dragleave",()=>{s.removeDropMarkerDelayed()}),this.listenTo(o,"dragging",(a,l)=>{if(!this.isEnabled){l.dataTransfer.dropEffect="none";return}const{clientX:c,clientY:u}=l.domEvent;s.updateDropMarker(l.target,l.targetRanges,c,u,this._blockMode,this._draggedRange),this._draggedRange||(l.dataTransfer.dropEffect="copy"),Ee.isGecko||(l.dataTransfer.effectAllowed=="copy"?l.dataTransfer.dropEffect="copy":["all","copyMove"].includes(l.dataTransfer.effectAllowed)&&(l.dataTransfer.dropEffect="move")),a.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,o=e.plugins.get(Sh);this.listenTo(i,"clipboardInput",(s,a)=>{if(a.method!="drop")return;const{clientX:l,clientY:c}=a.domEvent,u=o.getFinalDropRange(a.target,a.targetRanges,l,c,this._blockMode,this._draggedRange);if(!u){this._finalizeDragging(!1),s.stop();return}if(this._draggedRange&&this._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),fE(a.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(u,!0)){this._finalizeDragging(!1),s.stop();return}a.targetRanges=[e.editing.mapper.toViewRange(u)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Qo);e.on("contentInsertion",(r,i)=>{if(!this.isEnabled||i.method!=="drop")return;const o=i.targetRanges.map(s=>this.editor.editing.mapper.toModelRange(s));this.editor.model.change(s=>s.setSelection(o))},{priority:"high"}),e.on("contentInsertion",(r,i)=>{if(!this.isEnabled||i.method!=="drop")return;const o=fE(i.dataTransfer)=="move",s=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(s&&o)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,r=e.editing.view,i=r.document;this.listenTo(i,"mousedown",(o,s)=>{if(Ee.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let a=mE(s.target);if(Ee.isBlink&&!e.isReadOnly&&!a&&!i.selection.isCollapsed){const l=i.selection.getSelectedElement();(!l||!At(l))&&(a=i.selection.editableElement)}a&&(r.change(l=>{l.setAttribute("draggable","true",a)}),this._draggableElement=e.editing.mapper.toModelElement(a))}),this.listenTo(i,"mouseup",()=>{Ee.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(r=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&r.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const r=this.editor,i=r.model;r.plugins.get(Sh).removeDropMarker(),this._clearDraggableAttributes(),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&i.change(s=>{const a=i.createSelection(this._draggedRange);i.deleteContent(a,{doNotAutoparagraph:!0});const l=a.getFirstPosition().parent;l.isEmpty&&!i.schema.checkChild(l,"$text")&&i.schema.checkChild(l,"paragraph")&&s.insertElement("paragraph",l,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const r=this.editor,i=r.model,o=i.document.selection,s=e?mE(e):null;if(s){const u=r.editing.mapper.toModelElement(s);this._draggedRange=tr.fromRange(i.createRangeOn(u)),this._blockMode=i.schema.isBlock(u),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(o.isCollapsed&&!o.getFirstPosition().parent.isEmpty)return;const a=Array.from(o.getSelectedBlocks()),l=o.getFirstRange();if(a.length==0){this._draggedRange=tr.fromRange(l);return}const c=B6(i,a);if(a.length>1)this._draggedRange=tr.fromRange(c),this._blockMode=!0;else if(a.length==1){const u=l.start.isTouching(c.start)&&l.end.isTouching(c.end);this._draggedRange=tr.fromRange(u?c:l),this._blockMode=u}i.change(u=>u.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:r,clientX:i}){const o=this.editor.editing.view,s=o.document.selection.editableElement,a=o.domConverter.mapViewToDom(s),l=fe.window.getComputedStyle(a);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Kt(fe.document,"div",{style:"position: fixed; left: -999999px;"}),fe.document.body.appendChild(this._previewContainer));const c=new Re(a);if(a.contains(r))return;const u=parseFloat(l.paddingLeft),d=Kt(fe.document,"div");d.className="ck ck-content",d.style.width=l.width,d.style.paddingLeft=`${c.left-i+u}px`,Ee.isiOS&&(d.style.backgroundColor="white"),o.domConverter.setContentOf(d,e.getData("text/html")),e.setDragImage(d,0,0),this._previewContainer.appendChild(d)}}function fE(n){return Ee.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function mE(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(At);if(At(n))return n;const t=n.findAncestor(e=>At(e)||e.is("editableElement"));return At(t)?t:null}function B6(n,t){const e=t[0],r=t[t.length-1],i=e.getCommonAncestor(r),o=n.createPositionBefore(e),s=n.createPositionAfter(r);if(i&&i.is("element")&&!n.schema.isLimit(i)){const a=n.createRangeOn(i),l=o.isTouching(a.start),c=s.isTouching(a.end);if(l&&c)return B6(n,[i])}return n.createRange(o,s)}class goe extends X{static get pluginName(){return"PastePlainText"}static get requires(){return[Qo]}init(){const t=this.editor,e=t.model,r=t.editing.view,i=e.document.selection;r.addObserver(sd),t.plugins.get(Qo).on("contentInsertion",(o,s)=>{poe(s.content,e)&&e.change(a=>{const l=Array.from(i.getAttributes()).filter(([u])=>e.schema.getAttributeProperties(u).isFormatting);i.isCollapsed||e.deleteContent(i,{doNotAutoparagraph:!0}),l.push(...i.getAttributes());const c=a.createRangeIn(s.content);for(const u of c.getItems())for(const d of l)e.schema.checkAttribute(u,d[0])&&a.setAttribute(d[0],d[1],u)})})}}function poe(n,t){let e=t.createRangeIn(n);if(n.childCount==1){const r=n.getChild(0);r.is("element")&&t.schema.isBlock(r)&&!t.schema.isObject(r)&&!t.schema.isLimit(r)&&(e=t.createRangeIn(r))}for(const r of e.getItems())if(!t.schema.isInline(r)||Array.from(r.getAttributeKeys()).find(o=>t.schema.getAttributeProperties(o).isFormatting))return!1;return!0}class boe extends X{static get pluginName(){return"Clipboard"}static get requires(){return[du,Qo,moe,goe]}init(){const t=this.editor,e=this.editor.t;t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Copy selected content"),keystroke:"CTRL+C"},{label:e("Paste content"),keystroke:"CTRL+V"},{label:e("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Cm(n){const t=n.t,e=n.config.get("codeBlock.languages");for(const r of e)r.label==="Plain text"&&(r.label=t("Plain text")),r.class===void 0&&(r.class=`language-${r.language}`);return e}function Em(n,t,e){const r={};for(const i of n)if(t==="class"){const o=i[t].split(" ").shift();r[o]=i[e]}else r[i[t]]=i[e];return r}function Zw(n){return n.data.match(/^(\s*)/)[0]}function voe(n,t){const e=n.createDocumentFragment(),r=t.split(`
`),i=r.reduce((o,s,a)=>(o.push(s),a<r.length-1&&o.push(n.createElement("br")),o),[]);return n.appendChild(i,e),e}function $v(n){const t=n.document.selection,e=[];if(t.isCollapsed)return[t.anchor];const r=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:i}of r){let o=i.is("$textProxy")?i.textNode:i;const s=o.parent;if(!s.is("element","codeBlock")||o.is("element","softBreak"))continue;for(;o.previousSibling&&!o.previousSibling.is("element","softBreak");)o=o.previousSibling;const a=o.is("$text")?o.startOffset+Zw(o).length:o.startOffset,l=n.createPositionAt(s,a);e.every(c=>!c.isEqual(l))&&e.push(l)}return e}function F6(n){const t=Dt(n.getSelectedBlocks());return!!t&&t.is("element","codeBlock")}function gE(n,t){return t.is("rootElement")||n.isLimit(t)?!1:n.checkChild(t.parent,"codeBlock")}function pE(n,t,e,r){const i=Em(t,"language","label"),o=e.getAttribute("language");if(o in i){const s=i[o];return n(r==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",s)}return n(r==="enter"?"Entering code snippet":"Leaving code snippet")}function V6(n,t){for(n.textNode&&(n=t.createPositionBefore(n.textNode));n.nodeBefore&&!n.nodeBefore.is("element","softBreak");)n=t.createPositionBefore(n.nodeBefore);const e=n.nodeAfter;return e&&e.is("$text")?e:null}class yoe extends Ae{constructor(e){super(e);w(this,"_lastLanguage");this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const r=this.editor,i=r.model,o=i.document.selection,a=Cm(r)[0],l=Array.from(o.getSelectedBlocks()),c=e.forceValue==null?!this.value:e.forceValue,u=woe(e,this._lastLanguage,a.language);i.change(d=>{c?this._applyCodeBlock(d,l,u):this._removeCodeBlock(d,l)})}_getValue(){const e=this.editor.model.document.selection,r=Dt(e.getSelectedBlocks());return!!(r&&r.is("element","codeBlock"))?r.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,r=this.editor.model.schema,i=Dt(e.getSelectedBlocks());return i?gE(r,i):!1}_applyCodeBlock(e,r,i){this._lastLanguage=i;const o=this.editor.model.schema,s=r.filter(a=>gE(o,a));for(const a of s)e.rename(a,"codeBlock"),e.setAttribute("language",i,a),o.removeDisallowedAttributes([a],e),Array.from(a.getChildren()).filter(l=>!o.checkChild(a,l)).forEach(l=>e.remove(l));s.reverse().forEach((a,l)=>{const c=s[l+1];a.previousSibling===c&&(e.appendElement("softBreak",c),e.merge(e.createPositionBefore(a)))})}_removeCodeBlock(e,r){const i=r.filter(o=>o.is("element","codeBlock"));for(const o of i){const s=e.createRangeOn(o);for(const a of Array.from(s.getItems()).reverse())if(a.is("element","softBreak")&&a.parent.is("element","codeBlock")){const{position:l}=e.split(e.createPositionBefore(a)),c=l.nodeAfter;e.rename(c,"paragraph"),e.removeAttribute("language",c),e.remove(a)}e.rename(o,"paragraph"),e.removeAttribute("language",o)}}}function woe(n,t,e){return n.language?n.language:n.usePreviousLanguageChoice&&t?t:e}class _oe extends Ae{constructor(e){super(e);w(this,"_indentSequence");this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const r=this.editor.model;r.change(i=>{const o=$v(r);for(const s of o){const a=i.createText(this._indentSequence);r.insertContent(a,s)}})}_checkEnabled(){return this._indentSequence?F6(this.editor.model.document.selection):!1}}class xoe extends Ae{constructor(e){super(e);w(this,"_indentSequence");this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const r=this.editor.model;r.change(()=>{const i=$v(r);for(const o of i){const s=bE(r,o,this._indentSequence);s&&r.deleteContent(r.createSelection(s))}})}_checkEnabled(){if(!this._indentSequence)return!1;const e=this.editor.model;return F6(e.document.selection)?$v(e).some(r=>bE(e,r,this._indentSequence)):!1}}function bE(n,t,e){const r=V6(t,n);if(!r)return null;const i=Zw(r),o=i.lastIndexOf(e);if(o+e.length!==i.length||o===-1)return null;const{parent:s,startOffset:a}=r;return n.createRange(n.createPositionAt(s,a+o),n.createPositionAt(s,a+o+e.length))}function vE(n,t,e=!1){const r=Em(t,"language","class"),i=Em(t,"language","label");return(o,s,a)=>{const{writer:l,mapper:c,consumable:u}=a;if(!u.consume(s.item,"insert"))return;const d=s.item.getAttribute("language"),h=c.toViewPosition(n.createPositionBefore(s.item)),f={};e&&(f["data-language"]=i[d],f.spellcheck="false");const m=r[d]?{class:r[d]}:void 0,g=l.createContainerElement("code",m),v=l.createContainerElement("pre",f,g);l.insert(h,v),c.bindElements(s.item,g)}}function koe(n){return(t,e,r)=>{if(e.item.parent.name!=="codeBlock")return;const{writer:i,mapper:o,consumable:s}=r;if(!s.consume(e.item,"insert"))return;const a=o.toViewPosition(n.createPositionBefore(e.item));i.insert(a,i.createText(`
`))}}function Coe(n,t){const e=Em(t,"class","language"),r=t[0].language;return(i,o,s)=>{const a=o.viewItem,l=a.parent;if(!l||!l.is("element","pre")||o.modelCursor.findAncestor("codeBlock"))return;const{consumable:c,writer:u}=s;if(!c.test(a,{name:!0}))return;const d=u.createElement("codeBlock"),h=[...a.getClassNames()];h.length||h.push("");for(const f of h){const m=e[f];if(m){u.setAttribute("language",m,d);break}}d.hasAttribute("language")||u.setAttribute("language",r,d),s.convertChildren(a,d),s.safeInsert(d,o.modelCursor)&&(c.consume(a,{name:!0}),s.updateConversionResult(d,o))}}function Eoe(){return(n,t,{consumable:e,writer:r})=>{let i=t.modelCursor;if(!e.test(t.viewItem)||!i.findAncestor("codeBlock"))return;e.consume(t.viewItem);const s=t.viewItem.data.split(`
`).map(l=>r.createText(l)),a=s[s.length-1];for(const l of s)if(r.insert(l,i),i=i.getShiftedBy(l.offsetSize),l!==a){const c=r.createElement("softBreak");r.insert(c,i),i=r.createPositionAfter(c)}t.modelRange=r.createRange(t.modelCursor,i),t.modelCursor=i}}function Toe(){return(n,t,{consumable:e})=>{const r=t.viewItem;if(r.findAncestor("pre"))return;const i=Array.from(r.getChildren()),o=i.find(s=>s.is("element","code"));if(o)for(const s of i)s===o||!s.is("$text")||e.consume(s,{name:!0})}}const j6="paragraph";class Soe extends X{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[P6]}constructor(t){super(t),t.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const t=this.editor,e=t.model.schema,r=t.model,i=t.editing.view,o=Cm(t);t.commands.add("codeBlock",new yoe(t)),t.commands.add("indentCodeBlock",new _oe(t)),t.commands.add("outdentCodeBlock",new xoe(t)),this.listenTo(i.document,"tab",(s,a)=>{const l=a.shiftKey?"outdentCodeBlock":"indentCodeBlock";t.commands.get(l).isEnabled&&(t.execute(l),a.stopPropagation(),a.preventDefault(),s.stop())},{context:"pre"}),e.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",disallowChildren:"$inlineObject",allowAttributes:["language"],allowAttributesOf:"$listItem",isBlock:!0}),e.addAttributeCheck((s,a)=>{const l=s.getItem(s.length-2);if(e.getAttributeProperties(a).isFormatting&&l&&l.name=="codeBlock")return!1}),t.editing.downcastDispatcher.on("insert:codeBlock",vE(r,o,!0)),t.data.downcastDispatcher.on("insert:codeBlock",vE(r,o)),t.data.downcastDispatcher.on("insert:softBreak",koe(r),{priority:"high"}),t.data.upcastDispatcher.on("element:code",Coe(i,o)),t.data.upcastDispatcher.on("text",Eoe()),t.data.upcastDispatcher.on("element:pre",Toe(),{priority:"high"}),this.listenTo(t.editing.view.document,"clipboardInput",(s,a)=>{let l=r.createRange(r.document.selection.anchor);if(a.targetRanges&&(l=t.editing.mapper.toModelRange(a.targetRanges[0])),!l.start.parent.is("element","codeBlock"))return;const c=a.dataTransfer.getData("text/plain"),u=new Fg(t.editing.view.document);a.content=voe(u,c)}),t.plugins.has("ClipboardPipeline")&&t.plugins.get(Qo).on("contentInsertion",(s,a)=>{const l=t.model,c=l.document.selection;c.anchor.parent.is("element","codeBlock")&&l.change(u=>{const d=u.createRangeIn(a.content);for(const h of[...d.getItems()])h.is("node")&&!e.checkChild(c.anchor,h)&&u.remove(h)})}),this.listenTo(r,"getSelectedContent",(s,[a])=>{const l=a.anchor;a.isCollapsed||!l.parent.is("element","codeBlock")||!l.hasSameParentAs(a.focus)||r.change(c=>{const u=s.return;if(l.parent.is("element")&&(u.childCount>1||a.containsEntireContent(l.parent))){const h=c.createElement("codeBlock",l.parent.getAttributes());c.append(u,h);const f=c.createDocumentFragment();c.append(h,f),s.return=f;return}const d=u.getChild(0);e.checkAttribute(d,"code")&&c.setAttribute("code",!0,d)})})}afterInit(){const t=this.editor,e=t.commands,r=e.get("indent"),i=e.get("outdent");r&&r.registerChildCommand(e.get("indentCodeBlock"),{priority:"highest"}),i&&i.registerChildCommand(e.get("outdentCodeBlock")),this.listenTo(t.editing.view.document,"enter",(o,s)=>{t.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!Poe(t,s.isSoft)&&!Roe(t,s.isSoft)&&Aoe(t),s.preventDefault(),o.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:t,ui:e,t:r}=this.editor,i=Cm(this.editor);let o=null;t.document.selection.on("change:range",()=>{const s=t.document.selection.focus.parent;!e||o===s||!s.is("element")||(o&&o.is("element","codeBlock")&&e.ariaLiveAnnouncer.announce(pE(r,i,o,"leave")),s.is("element","codeBlock")&&e.ariaLiveAnnouncer.announce(pE(r,i,s,"enter")),o=s)})}}function Aoe(n){const t=n.model,e=t.document,r=e.selection.getLastPosition();let i;const o=V6(r,t);o&&o.is("$text")&&(i=Zw(o)),n.model.change(s=>{n.execute("shiftEnter"),i&&s.insertText(i,e.selection.anchor)})}function Poe(n,t){const r=n.model.document,i=n.editing.view,o=r.selection.getLastPosition(),s=o.nodeAfter;return t||!r.selection.isCollapsed||!o.isAtStart||!vs(s)?!1:(n.model.change(a=>{n.execute("enter");const l=r.selection.anchor.parent.previousSibling;a.rename(l,j6),a.setSelection(l,"in"),n.model.schema.removeDisallowedAttributes([l],a),a.remove(s)}),i.scrollToTheSelection(),!0)}function Roe(n,t){const e=n.model,r=e.document,i=n.editing.view,o=r.selection.getLastPosition(),s=o.nodeBefore;let a;if(t||!r.selection.isCollapsed||!o.isAtEnd||!s||!s.previousSibling)return!1;if(vs(s)&&vs(s.previousSibling))a=e.createRange(e.createPositionBefore(s.previousSibling),e.createPositionAfter(s));else if(I0(s)&&vs(s.previousSibling)&&vs(s.previousSibling.previousSibling))a=e.createRange(e.createPositionBefore(s.previousSibling.previousSibling),e.createPositionAfter(s));else if(I0(s)&&vs(s.previousSibling)&&I0(s.previousSibling.previousSibling)&&s.previousSibling.previousSibling&&vs(s.previousSibling.previousSibling.previousSibling))a=e.createRange(e.createPositionBefore(s.previousSibling.previousSibling.previousSibling),e.createPositionAfter(s));else return!1;return n.model.change(l=>{l.remove(a),n.execute("enter");const c=r.selection.anchor.parent;l.rename(c,j6),n.model.schema.removeDisallowedAttributes([c],l)}),i.scrollToTheSelection(),!0}function I0(n){return n&&n.is("$text")&&!n.data.match(/\S/)}function vs(n){return n&&n.is("element","softBreak")}class Ooe extends X{static get pluginName(){return"CodeBlockUI"}init(){const t=this.editor,e=t.t,r=t.ui.componentFactory,i=Cm(t),o=this._getLanguageListItemDefinitions(i),s=t.commands.get("codeBlock");r.add("codeBlock",a=>{const l=gn(a,Wg),c=l.buttonView,u=e("Insert code block");return c.set({label:u,tooltip:!0,icon:be.codeBlock,isToggleable:!0}),c.bind("isOn").to(s,"value",d=>!!d),c.on("execute",()=>{t.execute("codeBlock",{usePreviousLanguageChoice:!0}),t.editing.view.focus()}),l.on("execute",d=>{t.execute("codeBlock",{language:d.source._codeBlockLanguage,forceValue:!0}),t.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(s),ls(l,o,{role:"menu",ariaLabel:u}),l}),r.add("menuBar:codeBlock",a=>{const l=new ar(a);l.buttonView.set({role:"menuitem",label:e("Code block"),icon:be.codeBlock}),l.bind("isEnabled").to(s);const c=new Xo(a);c.set({ariaLabel:e("Insert code block")});for(const u of o){const d=new Ji(a,l),h=new ze(a);h.bind(...Object.keys(u.model)).to(u.model),h.set({isToggleable:!0,role:"menuitemcheckbox"}),h.delegate("execute").to(l),h.on("execute",()=>{t.execute("codeBlock",{language:u.model._codeBlockLanguage,forceValue:s.value!=u.model._codeBlockLanguage}),t.editing.view.focus()}),d.children.add(h),c.items.add(d)}return l.panelView.children.add(c),l})}_getLanguageListItemDefinitions(t){const r=this.editor.commands.get("codeBlock"),i=new zt;for(const o of t){const s={type:"button",model:new aa({_codeBlockLanguage:o.language,label:o.label,role:"menuitemradio",withText:!0})};s.model.bind("isOn").to(r,"value",a=>a===s.model._codeBlockLanguage),i.add(s)}return i}}class Ioe extends X{static get requires(){return[Soe,Ooe]}static get pluginName(){return"CodeBlock"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Noe extends ire{constructor(e,r){super(e);w(this,"view");w(this,"_toolbarConfig");w(this,"_elementReplacer");this.view=r,this._toolbarConfig=l6(e.config.get("toolbar")),this._elementReplacer=new EO,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const r=this.editor,i=this.view,o=r.editing.view,s=i.editable,a=o.document.getRoot();s.name=a.rootName,i.render();const l=s.element;this.setEditableElement(s.name,l),i.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(l),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),i.menuBarView&&this._initMenuBar(i.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,r=this.editor.editing.view;this._elementReplacer.restore(),r.getDomRoot(e.editable.name)&&r.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:r})=>r||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,r=e.editing.view,i=r.document.getRoot(),o=e.sourceElement;let s;const a=e.config.get("placeholder");a&&(s=typeof a=="string"?a:a[this.view.editable.name]),!s&&o&&o.tagName.toLowerCase()==="textarea"&&(s=o.getAttribute("placeholder")),s&&(i.placeholder=s),zO({view:r,element:i,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,r=this.editor.plugins.get("ContextualBalloon");r.on("getPositionOptions",o=>{const s=o.return;if(!s||!e.isSticky||!e.element)return;const a=new Re(e.element).height,l=typeof s.target=="function"?s.target():s.target,c=typeof s.limiter=="function"?s.limiter():s.limiter;if(l&&c&&new Re(l).height>=new Re(c).height-a)return;const u={...s.viewportOffsetConfig},d=(u.top||0)+a;o.return={...s,viewportOffsetConfig:{...u,top:d}}},{priority:"low"});const i=()=>{r.visibleView&&r.updatePosition()};this.listenTo(e,"change:isSticky",i),this.listenTo(this.editor.ui,"change:viewportOffset",i)}_handleScrollToTheSelectionWithStickyPanel(e,r,i){const o=this.view.stickyPanel;if(o.isSticky){const s=new Re(o.element).height;r.viewportOffset.top+=s}else{const s=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(o,"change:isSticky",s),setTimeout(()=>{this.stopListening(o,"change:isSticky",s)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,r=this.editor.plugins.get("Dialog");r.on("show",()=>{const i=r.view;i.on("moveTo",(o,s)=>{if(!e.isSticky||i.wasMoved)return;const a=new Re(e.contentPanelElement);s[1]<a.bottom+nd.defaultOffset&&(s[1]=a.bottom+nd.defaultOffset)},{priority:"high"})},{priority:"low"})}}class Moe extends sre{constructor(e,r,i={}){super(e);w(this,"stickyPanel");w(this,"toolbar");w(this,"editable");this.stickyPanel=new dre(e),this.toolbar=new Dl(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),i.useMenuBar&&(this.menuBarView=new pre(e)),this.editable=new lre(e,r,void 0,{label:i.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Loe extends Nv(Ia){constructor(e,r={}){if(!hf(e)&&r.initialData!==void 0)throw new q("editor-create-initial-data",null);super(r);w(this,"ui");this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",Doe(e)),hf(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),o=this.config.get("menuBar"),s=new Moe(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i,useMenuBar:o.isVisible,label:this.config.get("label")});this.ui=new Noe(this,s),zQ(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,r={}){return new Promise(i=>{const o=new this(e,r);i(o.initPlugins().then(()=>o.ui.init(hf(e)?e:null)).then(()=>o.data.init(o.config.get("initialData"))).then(()=>o.fire("ready")).then(()=>o))})}}function Doe(n){return hf(n)?tZ(n):n}function hf(n){return Ws(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Boe extends Ae{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let r=t.schema.getLimitElement(e);if(e.containsEntireContent(r)||!yE(t.schema,r))do if(r=r.parent,!r)return;while(!yE(t.schema,r));t.change(i=>{i.setSelection(r,"in")})}}function yE(n,t){return n.isLimit(t)&&(n.checkChild(t,"$text")||n.checkChild(t,"paragraph"))}const Foe=xw("Ctrl+A");class Voe extends X{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,e=t.t,i=t.editing.view.document;t.commands.add("selectAll",new Boe(t)),this.listenTo(i,"keydown",(o,s)=>{Ol(s)===Foe&&(t.execute("selectAll"),s.preventDefault())}),t.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Select all"),keystroke:"CTRL+A"}]})}}var joe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class $oe extends X{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",()=>{const e=this._createButton(we);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(ze))}_createButton(t){const e=this.editor,r=e.locale,i=e.commands.get("selectAll"),o=new t(e.locale),s=r.t;return o.set({label:s("Select all"),icon:joe,keystroke:"Ctrl+A"}),o.bind("isEnabled").to(i,"isEnabled"),this.listenTo(o,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),o}}class $6 extends X{static get requires(){return[Voe,$oe]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class z6 extends Ae{constructor(e){super(e);w(this,"_stack",[]);w(this,"_createdBatches",new WeakSet);this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(r,i)=>{i[1]={...i[1]};const o=i[1];o.batchType||(o.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(r,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const r=this.editor.model.document.selection,i={ranges:r.hasOwnRange?Array.from(r.getRanges()):[],isBackward:r.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,r,i){const o=this.editor.model,s=o.document,a=[],l=e.map(u=>u.getTransformedByOperations(i)),c=l.flat();for(const u of l){const d=u.filter(h=>h.root!=s.graveyard).filter(h=>!Hoe(h,c));d.length&&(zoe(d),a.push(d[0]))}a.length&&o.change(u=>{u.setSelection(a,{backward:r})})}_undo(e,r){const i=this.editor.model,o=i.document;this._createdBatches.add(r);const s=e.operations.slice().filter(a=>a.isDocumentOperation);s.reverse();for(const a of s){const l=a.baseVersion+1,c=Array.from(o.history.getOperations(l)),d=wX([a.getReversed()],c,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let h of d){const f=h.affectedSelectable;f&&!i.canEditAt(f)&&(h=new jt(h.baseVersion)),r.addOperation(h),i.applyOperation(h),o.history.setOperationAsUndone(a,h)}}}}function zoe(n){n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<n.length;t++){const r=n[t-1].getJoined(n[t],!0);r&&(t--,n.splice(t,2,r))}}function Hoe(n,t){return t.some(e=>e!==n&&e.containsRange(n,!0))}class Uoe extends z6{execute(t=null){const e=t?this._stack.findIndex(o=>o.batch==t):this._stack.length-1,r=this._stack.splice(e,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{this._undo(r.batch,i);const o=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,o)}),this.fire("revert",r.batch,i),this.refresh()}}class Woe extends z6{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const i=t.batch.operations[t.batch.operations.length-1].baseVersion+1,o=this.editor.model.document.history.getOperations(i);this._restoreSelection(t.selection.ranges,t.selection.isBackward,o),this._undo(t.batch,e)}),this.refresh()}}class qoe extends X{constructor(){super(...arguments);w(this,"_undoCommand");w(this,"_redoCommand");w(this,"_batchRegistry",new WeakSet)}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,r=e.t;this._undoCommand=new Uoe(e),this._redoCommand=new Woe(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,o)=>{const s=o[0];if(!s.isDocumentOperation)return;const a=s.batch,l=this._redoCommand.createdBatches.has(a),c=this._undoCommand.createdBatches.has(a);this._batchRegistry.has(a)||(this._batchRegistry.add(a),a.isUndoable&&(l?this._undoCommand.addBatch(a):c||(this._undoCommand.addBatch(a),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,o,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Undo"),keystroke:"CTRL+Z"},{label:r("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class Goe extends X{static get pluginName(){return"UndoUI"}init(){const t=this.editor,e=t.locale,r=t.t,i=e.uiLanguageDirection=="ltr"?be.undo:be.redo,o=e.uiLanguageDirection=="ltr"?be.redo:be.undo;this._addButtonsToFactory("undo",r("Undo"),"CTRL+Z",i),this._addButtonsToFactory("redo",r("Redo"),"CTRL+Y",o)}_addButtonsToFactory(t,e,r,i){const o=this.editor;o.ui.componentFactory.add(t,()=>{const s=this._createButton(we,t,e,r,i);return s.set({tooltip:!0}),s}),o.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(ze,t,e,r,i))}_createButton(t,e,r,i,o){const s=this.editor,a=s.locale,l=s.commands.get(e),c=new t(a);return c.set({label:r,icon:o,keystroke:i}),c.bind("isEnabled").to(l,"isEnabled"),this.listenTo(c,"execute",()=>{s.execute(e),s.editing.view.focus()}),c}}class H6 extends X{static get requires(){return[qoe,Goe]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Koe extends X{static get requires(){return[r6,boe,Gg,$6,P6,k6,H6]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zoe extends ce{constructor(e){super(e);w(this,"children");w(this,"_findInputView");w(this,"_replaceInputView");w(this,"_findButtonView");w(this,"_findPrevButtonView");w(this,"_findNextButtonView");w(this,"_advancedOptionsCollapsibleView");w(this,"_matchCaseSwitchView");w(this,"_wholeWordsOnlySwitchView");w(this,"_replaceButtonView");w(this,"_replaceAllButtonView");w(this,"_inputsDivView");w(this,"_actionButtonsDivView");w(this,"_focusTracker");w(this,"_keystrokes");w(this,"_focusables");w(this,"focusCycler");const r=e.t;this.children=this.createCollection(),this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(i,o)=>i>0&&!o),this._findInputView=this._createInputField(r("Find in text…")),this._findPrevButtonView=this._createButton({label:r("Previous result"),class:"ck-button-prev",icon:be.previousArrow,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:r("Next result"),class:"ck-button-next",icon:be.previousArrow,keystroke:"F3",tooltip:!0}),this._replaceInputView=this._createInputField(r("Replace with…"),"ck-labeled-field-replace"),this._inputsDivView=this._createInputsDiv(),this._matchCaseSwitchView=this._createMatchCaseSwitch(),this._wholeWordsOnlySwitchView=this._createWholeWordsOnlySwitch(),this._advancedOptionsCollapsibleView=this._createAdvancedOptionsCollapsible(),this._replaceAllButtonView=this._createButton({label:r("Replace all"),class:"ck-button-replaceall",withText:!0}),this._replaceButtonView=this._createButton({label:r("Replace"),class:"ck-button-replace",withText:!0}),this._findButtonView=this._createButton({label:r("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._actionButtonsDivView=this._createActionButtonsDiv(),this._focusTracker=new yt,this._keystrokes=new Nt,this._focusables=new En,this.focusCycler=new zn({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.addMany([this._inputsDivView,this._advancedOptionsCollapsibleView,this._actionButtonsDivView]),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:this.children})}render(){super.render(),jg({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createInputsDiv(){const e=this.locale,r=e.t,i=new ce(e);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:o})=>o),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:o})=>o),this._injectFindResultsCounter(),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:o},s)=>o&&s),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(o,s)=>o||!s?"":r("Tip: Find some text first in order to replace it.")),i.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__inputs"]},children:[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView]}),i}_onFindButtonExecute(){if(!this._textToFind){const e=this.t;this._findInputView.errorText=e("Text to find must not be empty.");return}this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly})}_injectFindResultsCounter(){const e=this.locale,r=e.t,i=this.bindTemplate,o=new ce(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(a,l)=>r("%0 of %1",[a,l])),o.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",i.if("isDirty","ck-hidden")]},children:[{text:i.to("_resultsCounterText")}]});const s=()=>{const a=this._findInputView.fieldView.element;if(!a||!_i(a))return;const l=new Re(o.element).width,c=e.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";l?a.style[c]=`calc( 2 * var(--ck-spacing-standard) + ${l}px )`:a.style[c]=""};this.on("change:_resultsCounterText",s,{priority:"low"}),this.on("change:isDirty",s,{priority:"low"}),this._findInputView.template.children[0].children.push(o)}_createAdvancedOptionsCollapsible(){const e=this.locale.t,r=new Jte(this.locale,[this._matchCaseSwitchView,this._wholeWordsOnlySwitchView]);return r.set({label:e("Advanced options"),isCollapsed:!0}),r}_createActionButtonsDiv(){const e=new ce(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:r},i)=>r&&i),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:r},i)=>r&&i),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),e.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__actions"]},children:[this._replaceAllButtonView,this._replaceButtonView,this._findButtonView]}),e}_createMatchCaseSwitch(){const e=this.locale.t,r=new Ll(this.locale);return r.set({label:e("Match case"),withText:!0}),r.bind("isOn").to(this,"_matchCase"),r.on("execute",()=>{this._matchCase=!this._matchCase,this.isDirty=!0}),r}_createWholeWordsOnlySwitch(){const e=this.locale.t,r=new Ll(this.locale);return r.set({label:e("Whole words only"),withText:!0}),r.bind("isOn").to(this,"_wholeWordsOnly"),r.on("execute",()=>{this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),r}_initFocusCycling(){[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._advancedOptionsCollapsibleView.buttonView,this._matchCaseSwitchView,this._wholeWordsOnlySwitchView,this._replaceAllButtonView,this._replaceButtonView,this._findButtonView].forEach(r=>{this._focusables.add(r),this._focusTracker.add(r.element)})}_initKeystrokeHandling(){const e=i=>i.stopPropagation(),r=i=>{i.stopPropagation(),i.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",i=>{r(i),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",i=>{r(i),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",i=>{const o=i.target;o===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),r(i)):o===this._replaceInputView.fieldView.element&&!this.isDirty&&(this._replaceButtonView.fire("execute"),r(i))}),this._keystrokes.set("shift+enter",i=>{i.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),r(i))}),this._keystrokes.set("arrowright",e),this._keystrokes.set("arrowleft",e),this._keystrokes.set("arrowup",e),this._keystrokes.set("arrowdown",e)}_createButton(e){const r=new we(this.locale);return r.set(e),r}_createInputField(e,r){const i=new tn(this.locale,di);return i.label=e,i.class=r,i}}var wE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>';class Yoe extends X{constructor(e){super(e);w(this,"formView");e.config.define("findAndReplace.uiType","dialog"),this.formView=null}static get requires(){return[rd]}static get pluginName(){return"FindAndReplaceUI"}init(){const e=this.editor,r=e.config.get("findAndReplace.uiType")==="dropdown",i=e.commands.get("find"),o=this.editor.t;e.ui.componentFactory.add("findAndReplace",()=>{let s;return r?(s=this._createDropdown(),s.bind("isEnabled").to(i)):s=this._createDialogButtonForToolbar(),e.keystrokes.set("Ctrl+F",(a,l)=>{if(i.isEnabled){if(s instanceof _m){const c=s.buttonView;c.isOn||c.fire("execute")}else s.isOn?e.plugins.get("Dialog").view.focus():s.fire("execute");l()}}),s}),r||e.ui.componentFactory.add("menuBar:findAndReplace",()=>this._createDialogButtonForMenuBar()),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Find in the document"),keystroke:"CTRL+F"}]})}_createDropdown(){const e=this.editor,r=e.locale.t,i=gn(e.locale);return i.once("change:isOpen",()=>{this.formView=this._createFormView(),this.formView.children.add(new zg(e.locale,{label:r("Find and replace")}),0),i.panelView.children.add(this.formView)}),i.on("change:isOpen",(o,s,a)=>{a?this._setupFormView():this.fire("searchReseted")},{priority:"low"}),i.buttonView.set({icon:wE,label:r("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),i}_createDialogButtonForToolbar(){const e=this.editor,r=this._createButton(we),i=e.plugins.get("Dialog");return r.set({tooltip:!0}),r.bind("isOn").to(i,"id",o=>o==="findAndReplace"),r.on("execute",()=>{r.isOn?i.hide():this._showDialog()}),r}_createDialogButtonForMenuBar(){const e=this._createButton(ze),r=this.editor.plugins.get("Dialog"),i=this.editor.plugins.get("Dialog");return e.set({role:"menuitemcheckbox",isToggleable:!0}),e.bind("isOn").to(i,"id",o=>o==="findAndReplace"),e.on("execute",()=>{if(r.id==="findAndReplace"){r.hide();return}this._showDialog()}),e}_createButton(e){const r=this.editor,i=r.commands.get("find"),o=new e(r.locale),s=r.locale.t;return o.bind("isEnabled").to(i),o.set({icon:wE,label:s("Find and replace"),keystroke:"CTRL+F"}),o}_showDialog(){const e=this.editor,r=e.plugins.get("Dialog"),i=e.locale.t;this.formView||(this.formView=this._createFormView()),r.show({id:"findAndReplace",title:i("Find and replace"),content:this.formView,position:Un.EDITOR_TOP_SIDE,onShow:()=>{this._setupFormView()},onHide:()=>{this.fire("searchReseted")}})}_createFormView(){const e=this.editor,r=new(t6(Zoe))(e.locale),i=e.commands,s=this.editor.plugins.get("FindAndReplaceEditing").state;r.bind("highlightOffset").to(s,"highlightedOffset"),r.listenTo(s.results,"change",()=>{r.matchCount=s.results.length});const a=i.get("findNext"),l=i.get("findPrevious"),c=i.get("replace"),u=i.get("replaceAll");return r.bind("_areCommandsEnabled").to(a,"isEnabled",l,"isEnabled",c,"isEnabled",u,"isEnabled",(d,h,f,m)=>({findNext:d,findPrevious:h,replace:f,replaceAll:m})),r.delegate("findNext","findPrevious","replace","replaceAll").to(this),r.on("change:isDirty",(d,h,f)=>{f&&this.fire("searchReseted")}),r}_setupFormView(){this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()}}class Joe extends Ae{constructor(e,r){super(e);w(this,"_state");this.isEnabled=!0,this.affectsData=!1,this._state=r}execute(e,{matchCase:r,wholeWords:i}={}){const{editor:o}=this,{model:s}=o,a=o.plugins.get("FindAndReplaceUtils");let l,c="";typeof e=="string"?l=(...h)=>({results:a.findByTextCallback(e,{matchCase:r,wholeWords:i})(...h),searchText:e}):l=e;const u=l;l=(...h)=>{const f=u(...h);return f&&"searchText"in f&&(c=f.searchText),f};const d=s.document.getRootNames().reduce((h,f)=>a.updateFindResultFromRange(s.createRangeIn(s.document.getRoot(f)),s,l,h),null);return this._state.clear(s),this._state.results.addMany(d),this._state.highlightedResult=d.get(0),this._state.searchText=c,l&&(this._state.lastSearchCallback=l),this._state.matchCase=!!r,this._state.matchWholeWords=!!i,{results:d,findCallback:l}}}class U6 extends Ae{constructor(e,r){super(e);w(this,"_state");this.isEnabled=!0,this._state=r,this._isEnabledBasedOnSelection=!1}_replace(e,r){const{model:i}=this.editor,o=r.marker.getRange();i.canEditAt(o)&&i.change(s=>{if(o.root.rootName==="$graveyard"){this._state.results.remove(r);return}let a={};for(const l of o.getItems())if(l.is("$text")||l.is("$textProxy")){a=l.getAttributes();break}i.insertContent(s.createText(e,a),o),this._state.results.has(r)&&this._state.results.remove(r)})}}class Xoe extends U6{execute(t,e){this._replace(t,e)}}class Qoe extends U6{execute(t,e){const{editor:r}=this,{model:i}=r,o=r.plugins.get("FindAndReplaceUtils"),s=e instanceof zt?e:i.document.getRootNames().reduce((a,l)=>o.updateFindResultFromRange(i.createRangeIn(i.document.getRoot(l)),i,o.findByTextCallback(e,this._state),a),null);s.length&&i.change(()=>{[...s].forEach(a=>{this._replace(t,a)})})}}class W6 extends Ae{constructor(e,r){super(e);w(this,"_state");this.affectsData=!1,this._state=r,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const e=this._state.results,r=e.getIndex(this._state.highlightedResult),i=r+1>=e.length?0:r+1;this._state.highlightedResult=this._state.results.get(i)}}class ese extends W6{execute(){const e=this._state.results.getIndex(this._state.highlightedResult),r=e-1<0?this._state.results.length-1:e-1;this._state.highlightedResult=this._state.results.get(r)}}class tse extends Ke(){constructor(t){super(),this.set("results",new zt),this.set("highlightedResult",null),this.set("highlightedOffset",0),this.set("searchText",""),this.set("replaceText",""),this.set("lastSearchCallback",null),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(e,{removed:r,index:i})=>{if(Array.from(r).length){let o=!1;if(t.change(s=>{for(const a of r)this.highlightedResult===a&&(o=!0),t.markers.has(a.marker.name)&&s.removeMarker(a.marker)}),o){const s=i>=this.results.length?0:i;this.highlightedResult=this.results.get(s)}}}),this.on("change:highlightedResult",()=>{this.refreshHighlightOffset()})}clear(t){this.searchText="",t.change(e=>{if(this.highlightedResult){const r=this.highlightedResult.marker.name.split(":")[1],i=t.markers.get(`findResultHighlighted:${r}`);i&&e.removeMarker(i)}[...this.results].forEach(({marker:r})=>{e.removeMarker(r)})}),this.results.clear()}refreshHighlightOffset(){const{highlightedResult:t,results:e}=this,r={before:-1,same:0,after:1,different:1};t?this.highlightedOffset=Array.from(e).sort((i,o)=>r[i.marker.getStart().compareWith(o.marker.getStart())]).indexOf(t)+1:this.highlightedOffset=0}}class nse extends X{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(t,e,r,i){const o=i||new zt,s=a=>o.find(l=>{const{marker:c}=l,u=c.getRange(),d=a.getRange();return u.isEqual(d)});return e.change(a=>{[...t].forEach(({type:l,item:c})=>{if(l==="elementStart"&&e.schema.checkChild(c,"$text")){let u=r({item:c,text:this.rangeToText(e.createRangeIn(c))});if(!u)return;"results"in u&&(u=u.results),u.forEach(d=>{const h=`findResult:${ur()}`,f=a.addMarker(h,{usingOperation:!1,affectsData:!1,range:a.createRange(a.createPositionAt(c,d.start),a.createPositionAt(c,d.end))}),m=rse(o,f);s(f)||o.add({id:h,label:d.label,marker:f},m)})}})}),o}rangeToText(t){return Array.from(t.getItems()).reduce((e,r)=>r.is("$text")||r.is("$textProxy")?e+r.data:`${e}
`,"")}findByTextCallback(t,e){let r="gu";e.matchCase||(r+="i");let i=`(${mO(t)})`;if(e.wholeWords){const a="[^a-zA-ZÀ-ɏḀ-ỿ]";new RegExp("^"+a).test(t)||(i=`(^|${a}|_)${i}`),new RegExp(a+"$").test(t)||(i=`${i}(?=_|${a}|$)`)}const o=new RegExp(i,r);function s({text:a}){return[...a.matchAll(o)].map(ise)}return s}}function rse(n,t){const e=n.find(({marker:r})=>t.getStart().isBefore(r.getStart()));return e?n.getIndex(e):n.length}function ise(n){const t=n.length-1;let e=n.index;return n.length===3&&(e+=n[1].length),{label:n[t],start:e,end:e+n[t].length}}const ose="ck-find-result_selected";class sse extends X{constructor(){super(...arguments);w(this,"state");w(this,"_onDocumentChange",()=>{const e=new Set,r=new Set,i=this.editor.model,{results:o}=this.state,s=i.document.differ.getChanges(),a=i.document.differ.getChangedMarkers();s.forEach(u=>{u.position&&(u.name==="$text"||u.position.nodeAfter&&i.schema.isInline(u.position.nodeAfter)?(e.add(u.position.parent),[...i.markers.getMarkersAtPosition(u.position)].forEach(d=>{r.add(d.name)})):u.type==="insert"&&u.position.nodeAfter&&e.add(u.position.nodeAfter))}),a.forEach(({name:u,data:{newRange:d}})=>{d&&d.start.root.rootName==="$graveyard"&&r.add(u)}),e.forEach(u=>{[...i.markers.getMarkersIntersectingRange(i.createRangeIn(u))].forEach(h=>r.add(h.name))}),r.forEach(u=>{o.has(u)&&(o.get(u)===this.state.highlightedResult&&(this.state.highlightedResult=null),o.remove(u))});const l=[],c=this.editor.plugins.get("FindAndReplaceUtils");e.forEach(u=>{const d=c.updateFindResultFromRange(i.createRangeOn(u),i,this.state.lastSearchCallback,o);l.push(...d)}),a.forEach(u=>{if(u.data.newRange){const d=c.updateFindResultFromRange(u.data.newRange,i,this.state.lastSearchCallback,o);l.push(...d)}}),!this.state.highlightedResult&&l.length?this.state.highlightedResult=l[0]:this.state.refreshHighlightOffset()})}static get requires(){return[nse]}static get pluginName(){return"FindAndReplaceEditing"}init(){this.state=new tse(this.editor.model),this.set("_isSearchActive",!1),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(i,o,s,a)=>{const{model:l}=this.editor;l.change(c=>{if(a){const u=a.marker.name.split(":")[1],d=l.markers.get(`findResultHighlighted:${u}`);d&&c.removeMarker(d)}if(s){const u=s.marker.name.split(":")[1];c.addMarker(`findResultHighlighted:${u}`,{usingOperation:!1,affectsData:!1,range:s.marker.getRange()})}})});/* istanbul ignore next -- @preserve */const r=Ir(((i,o,s)=>{if(s){const a=this.editor.editing.view.domConverter,l=this.editor.editing.mapper.toViewRange(s.marker.getRange());DO({target:a.viewRangeToDom(l),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",r,{priority:"low"}),this.listenTo(this.editor,"destroy",r.cancel),this.on("change:_isSearchActive",(i,o,s)=>{s?this.listenTo(this.editor.model.document,"change:data",this._onDocumentChange):this.stopListening(this.editor.model.document,"change:data",this._onDocumentChange)})}find(e,r){return this._isSearchActive=!0,this.editor.execute("find",e,r),this.state.results}stop(){this.state.clear(this.editor.model),this._isSearchActive=!1}_defineCommands(){this.editor.commands.add("find",new Joe(this.editor,this.state)),this.editor.commands.add("findNext",new W6(this.editor,this.state)),this.editor.commands.add("findPrevious",new ese(this.editor,this.state)),this.editor.commands.add("replace",new Xoe(this.editor,this.state)),this.editor.commands.add("replaceAll",new Qoe(this.editor,this.state))}_defineConverters(){const{editor:e}=this;e.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:r})=>{const[,i]=r.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":i}}}}),e.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:r})=>{const[,i]=r.split(":");return{name:"span",classes:[ose],attributes:{"data-find-result":i}}}})}}class ase extends X{static get requires(){return[sse,Yoe]}static get pluginName(){return"FindAndReplace"}init(){const t=this.editor.plugins.get("FindAndReplaceUI"),e=this.editor.plugins.get("FindAndReplaceEditing"),r=e.state;t.on("findNext",(i,o)=>{o?(r.searchText=o.searchText,e.find(o.searchText,o)):this.editor.execute("findNext")}),t.on("findPrevious",(i,o)=>{o&&r.searchText!==o.searchText?e.find(o.searchText):this.editor.execute("findPrevious")}),t.on("replace",(i,o)=>{r.searchText!==o.searchText&&e.find(o.searchText);const s=r.highlightedResult;s&&this.editor.execute("replace",o.replaceText,s)}),t.on("replaceAll",(i,o)=>{r.searchText!==o.searchText&&e.find(o.searchText),this.editor.execute("replaceAll",o.replaceText,r.results)}),t.on("searchReseted",()=>{r.clear(this.editor.model),e.stop()})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kg extends Ae{constructor(e,r){super(e);w(this,"attributeKey");this.attributeKey=r}refresh(){const e=this.editor.model,r=e.document;this.value=r.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(e={}){const r=this.editor.model,o=r.document.selection,s=e.value,a=e.batch,l=c=>{if(o.isCollapsed)s?c.setSelectionAttribute(this.attributeKey,s):c.removeSelectionAttribute(this.attributeKey);else{const u=r.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const d of u)s?c.setAttribute(this.attributeKey,s,d):c.removeAttribute(this.attributeKey,d)}};a?r.enqueueChange(a,c=>{l(c)}):r.change(c=>{l(c)})}}const An="fontSize",Pn="fontFamily",ci="fontColor",Ni="fontBackgroundColor";function q6(n,t){const e={model:{key:n,values:[]},view:{},upcastAlso:{}};for(const r of t)e.model.values.push(r.model),e.view[r.model]=r.view,r.upcastAlso&&(e.upcastAlso[r.model]=r.upcastAlso);return e}function G6(n){return t=>cse(t.getStyle(n))}function K6(n){return(t,{writer:e})=>e.createAttributeElement("span",{style:`${n}:${t}`},{priority:7})}function lse({dropdownView:n,colors:t,columns:e,removeButtonLabel:r,colorPickerLabel:i,documentColorsLabel:o,documentColorsCount:s,colorPickerViewConfig:a}){const l=n.locale,c=new qw(l,{colors:t,columns:e,removeButtonLabel:r,colorPickerLabel:i,documentColorsLabel:o,documentColorsCount:s,colorPickerViewConfig:a});return n.colorSelectorView=c,n.panelView.children.add(c),c}function cse(n){return n.replace(/\s/g,"")}class use extends Kg{constructor(t){super(t,Pn)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Z6(n){return n.map(dse).filter(t=>t!==void 0)}function dse(n){if(typeof n=="object")return n;if(n==="default")return{title:"Default",model:void 0};if(typeof n=="string")return hse(n)}function hse(n){const t=n.replace(/"|'/g,"").split(","),e=t[0],r=t.map(fse).join(", ");return{title:e,model:r,view:{name:"span",styles:{"font-family":r},priority:7}}}function fse(n){return n=n.trim(),n.indexOf(" ")>0&&(n=`'${n}'`),n}class mse extends X{static get pluginName(){return"FontFamilyEditing"}constructor(t){super(t),t.config.define(Pn,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Pn}),t.model.schema.setAttributeProperties(Pn,{isFormatting:!0,copyOnEnter:!0});const e=Z6(t.config.get("fontFamily.options")).filter(i=>i.model),r=q6(Pn,e);t.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(r),t.commands.add(Pn,new use(t))}_prepareAnyValueConverters(){const t=this.editor;t.conversion.for("downcast").attributeToElement({model:Pn,view:(e,{writer:r})=>r.createAttributeElement("span",{style:"font-family:"+e},{priority:7})}),t.conversion.for("upcast").elementToAttribute({model:{key:Pn,value:e=>e.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:Pn,value:e=>e.getAttribute("face")}})}}var _E='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class gse extends X{static get pluginName(){return"FontFamilyUI"}init(){const t=this.editor,e=t.t,r=this._getLocalizedOptions(),i=t.commands.get(Pn),o=e("Font Family"),s=pse(r,i);t.ui.componentFactory.add(Pn,a=>{const l=gn(a);return ls(l,s,{role:"menu",ariaLabel:o}),l.buttonView.set({label:o,icon:_E,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),l.bind("isEnabled").to(i),this.listenTo(l,"execute",c=>{t.execute(c.source.commandName,{value:c.source.commandParam}),t.editing.view.focus()}),l}),t.ui.componentFactory.add(`menuBar:${Pn}`,a=>{const l=new ar(a);l.buttonView.set({label:o,icon:_E}),l.bind("isEnabled").to(i);const c=new Xo(a);for(const u of s){const d=new Ji(a,l),h=new ze(a);h.set({role:"menuitemradio",isToggleable:!0}),h.bind(...Object.keys(u.model)).to(u.model),h.delegate("execute").to(l),h.on("execute",()=>{t.execute(u.model.commandName,{value:u.model.commandParam}),t.editing.view.focus()}),d.children.add(h),c.items.add(d)}return l.panelView.children.add(c),l})}_getLocalizedOptions(){const t=this.editor,e=t.t;return Z6(t.config.get(Pn).options).map(i=>(i.title==="Default"&&(i.title=e("Default")),i))}}function pse(n,t){const e=new zt;for(const r of n){const i={type:"button",model:new aa({commandName:Pn,commandParam:r.model,label:r.title,role:"menuitemradio",withText:!0})};i.model.bind("isOn").to(t,"value",o=>o===r.model?!0:!o||!r.model?!1:o.split(",")[0].replace(/'/g,"").toLowerCase()===r.model.toLowerCase()),r.view&&typeof r.view!="string"&&r.view.styles&&i.model.set("labelStyle",`font-family: ${r.view.styles["font-family"]}`),e.add(i)}return e}class bse extends X{static get requires(){return[mse,gse]}static get pluginName(){return"FontFamily"}}class vse extends Kg{constructor(t){super(t,An)}}function Yw(n){return n.map(t=>yse(t)).filter(t=>t!==void 0)}const xE={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function yse(n){if(typeof n=="number"&&(n=String(n)),typeof n=="object"&&xse(n))return zv(n);const t=_se(n);if(t)return zv(t);if(n==="default")return{model:void 0,title:"Default"};if(!kse(n))return wse(n)}function wse(n){return typeof n=="string"&&(n={title:n,model:`${parseFloat(n)}px`}),n.view={name:"span",styles:{"font-size":n.model}},zv(n)}function zv(n){return n.view&&typeof n.view!="string"&&!n.view.priority&&(n.view.priority=7),n}function _se(n){return typeof n=="string"?xE[n]:xE[n.model]}function xse(n){return n.title&&n.model&&n.view}function kse(n){let t;if(typeof n=="object")if(n.model)t=parseFloat(n.model);else throw new q("font-size-invalid-definition",null,n);else t=parseFloat(n);return isNaN(t)}const kE=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class Cse extends X{static get pluginName(){return"FontSizeEditing"}constructor(t){super(t),t.config.define(An,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:An}),t.model.schema.setAttributeProperties(An,{isFormatting:!0,copyOnEnter:!0});const e=t.config.get("fontSize.supportAllValues"),r=Yw(this.editor.config.get("fontSize.options")).filter(o=>o.model),i=q6(An,r);e?(this._prepareAnyValueConverters(i),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(i),t.commands.add(An,new vse(t))}_prepareAnyValueConverters(t){const e=this.editor,r=t.model.values.filter(i=>!Vg(String(i))&&!MI(String(i)));if(r.length)throw new q("font-size-invalid-use-of-named-presets",null,{presets:r});e.conversion.for("downcast").attributeToElement({model:An,view:(i,{writer:o})=>{if(i)return o.createAttributeElement("span",{style:"font-size:"+i},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:An,value:i=>i.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:An,value:e=>{const r=e.getAttribute("size"),i=r[0]==="-"||r[0]==="+";let o=parseInt(r,10);i&&(o=3+o);const s=kE.length-1,a=Math.min(Math.max(o,0),s);return kE[a]}}})}}var CE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';class Ese extends X{static get pluginName(){return"FontSizeUI"}init(){const t=this.editor,e=t.t,r=this._getLocalizedOptions(),i=t.commands.get(An),o=e("Font Size"),s=Tse(r,i);t.ui.componentFactory.add(An,a=>{const l=gn(a);return ls(l,s,{role:"menu",ariaLabel:o}),l.buttonView.set({label:o,icon:CE,tooltip:!0}),l.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),l.bind("isEnabled").to(i),this.listenTo(l,"execute",c=>{t.execute(c.source.commandName,{value:c.source.commandParam}),t.editing.view.focus()}),l}),t.ui.componentFactory.add(`menuBar:${An}`,a=>{const l=new ar(a);l.buttonView.set({label:o,icon:CE}),l.bind("isEnabled").to(i);const c=new Xo(a);for(const u of s){const d=new Ji(a,l),h=new ze(a);h.set({role:"menuitemradio",isToggleable:!0}),h.bind(...Object.keys(u.model)).to(u.model),h.delegate("execute").to(l),h.on("execute",()=>{t.execute(u.model.commandName,{value:u.model.commandParam}),t.editing.view.focus()}),d.children.add(h),c.items.add(d)}return l.panelView.children.add(c),l})}_getLocalizedOptions(){const t=this.editor,e=t.t,r={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")};return Yw(t.config.get(An).options).map(o=>{const s=r[o.title];return s&&s!=o.title&&(o=Object.assign({},o,{title:s})),o})}}function Tse(n,t){const e=new zt;for(const r of n){const i={type:"button",model:new aa({commandName:An,commandParam:r.model,label:r.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};r.view&&typeof r.view!="string"&&(r.view.styles&&i.model.set("labelStyle",`font-size:${r.view.styles["font-size"]}`),r.view.classes&&i.model.set("class",`${i.model.class} ${r.view.classes}`)),i.model.bind("isOn").to(t,"value",o=>o===r.model),e.add(i)}return e}class Sse extends X{static get requires(){return[Cse,Ese]}static get pluginName(){return"FontSize"}normalizeSizeOptions(t){return Yw(t)}}class Ase extends Kg{constructor(t){super(t,ci)}}class Pse extends X{static get pluginName(){return"FontColorEditing"}constructor(t){super(t),t.config.define(ci,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:ci,value:G6("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:ci,value:e=>e.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:ci,view:K6("color")}),t.commands.add(ci,new Ase(t)),t.model.schema.extend("$text",{allowAttributes:ci}),t.model.schema.setAttributeProperties(ci,{isFormatting:!0,copyOnEnter:!0})}}class Y6 extends X{constructor(e,{commandName:r,componentName:i,icon:o,dropdownLabel:s}){super(e);w(this,"commandName");w(this,"componentName");w(this,"icon");w(this,"dropdownLabel");w(this,"columns");this.commandName=r,this.componentName=i,this.icon=o,this.dropdownLabel=s,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,r=e.locale,i=r.t,o=e.commands.get(this.commandName),s=e.config.get(this.componentName),a=od(s.colors),l=id(r,a),c=s.documentColors,u=s.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,d=>{const h=gn(d);let f=!1;const m=lse({dropdownView:h,colors:l.map(g=>({label:g.label,color:g.model,options:{hasBorder:g.hasBorder}})),columns:this.columns,removeButtonLabel:i("Remove color"),colorPickerLabel:i("Color picker"),documentColorsLabel:c!==0?i("Document colors"):"",documentColorsCount:c===void 0?this.columns:c,colorPickerViewConfig:u?s.colorPicker||{}:!1});return m.bind("selectedColor").to(o,"value"),h.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),h.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),h.bind("isEnabled").to(o),m.on("execute",(g,v)=>{h.isOpen&&e.execute(this.commandName,{value:v.value,batch:this._undoStepBatch}),v.source!=="colorPicker"&&e.editing.view.focus(),v.source==="colorPickerSaveButton"&&(h.isOpen=!1)}),m.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),m.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(h.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),h.on("change:isOpen",(g,v,p)=>{f||(f=!0,h.colorSelectorView.appendUI()),p&&(c!==0&&m.updateDocumentColors(e.model,this.componentName),m.updateSelectedColors(),m.showColorGridsFragment())}),Uw(h,()=>h.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(g=>g.isOn)),h}),e.ui.componentFactory.add(`menuBar:${this.componentName}`,d=>{const h=new ar(d);h.buttonView.set({label:this.dropdownLabel,icon:this.icon}),h.bind("isEnabled").to(o);let f=!1;const m=new qw(d,{colors:l.map(g=>({label:g.label,color:g.model,options:{hasBorder:g.hasBorder}})),columns:this.columns,removeButtonLabel:i("Remove color"),colorPickerLabel:i("Color picker"),documentColorsLabel:c!==0?i("Document colors"):"",documentColorsCount:c===void 0?this.columns:c,colorPickerViewConfig:!1});return m.bind("selectedColor").to(o,"value"),m.delegate("execute").to(h),m.on("execute",(g,v)=>{e.execute(this.commandName,{value:v.value,batch:this._undoStepBatch}),e.editing.view.focus()}),h.on("change:isOpen",(g,v,p)=>{f||(f=!0,m.appendUI()),p&&(c!==0&&m.updateDocumentColors(e.model,this.componentName),m.updateSelectedColors(),m.showColorGridsFragment())}),h.panelView.children.add(m),h})}}var Rse='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>';class Ose extends Y6{constructor(t){const e=t.locale.t;super(t,{commandName:ci,componentName:ci,icon:Rse,dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}class Ise extends X{static get requires(){return[Pse,Ose]}static get pluginName(){return"FontColor"}}class Nse extends Kg{constructor(t){super(t,Ni)}}class Mse extends X{static get pluginName(){return"FontBackgroundColorEditing"}constructor(t){super(t),t.config.define(Ni,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.data.addStyleProcessorRules(Fw),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:Ni,value:G6("background-color")}}),t.conversion.for("downcast").attributeToElement({model:Ni,view:K6("background-color")}),t.commands.add(Ni,new Nse(t)),t.model.schema.extend("$text",{allowAttributes:Ni}),t.model.schema.setAttributeProperties(Ni,{isFormatting:!0,copyOnEnter:!0})}}var Lse='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>';class Dse extends Y6{constructor(t){const e=t.locale.t;super(t,{commandName:Ni,componentName:Ni,icon:Lse,dropdownLabel:e("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class Bse extends X{static get requires(){return[Mse,Dse]}static get pluginName(){return"FontBackgroundColor"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fse extends Ae{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=t.document,r=Dt(e.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&EE(r,t.schema)}execute(t={}){const e=this.editor.model,r=e.document,i=t.selection||r.selection;e.canEditAt(i)&&e.change(o=>{const s=i.getSelectedBlocks();for(const a of s)!a.is("element","paragraph")&&EE(a,e.schema)&&o.rename(a,"paragraph")})}}function EE(n,t){return t.checkChild(n.parent,"paragraph")&&!t.isObject(n)}class Vse extends Ae{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,r=t.attributes;let i=t.position;e.canEditAt(i)&&e.change(o=>{if(i=this._findPositionToInsertParagraph(i,o),!i)return;const s=o.createElement("paragraph");r&&e.schema.setAllowedAttributes(s,r,o),e.insertContent(s,i),o.setSelection(s,"in")})}_findPositionToInsertParagraph(t,e){const r=this.editor.model;if(r.schema.checkChild(t,"paragraph"))return t;const i=r.schema.findAllowedParent(t,"paragraph");if(!i)return null;const o=t.parent,s=r.schema.checkChild(o,"$text");return o.isEmpty||s&&t.isAtEnd?r.createPositionAfter(o):!o.isEmpty&&s&&t.isAtStart?r.createPositionBefore(o):e.split(t,i).position}}const eg=class eg extends X{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new Fse(t)),t.commands.add("insertParagraph",new Vse(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(r,{writer:i})=>!eg.paragraphLikeElements.has(r.name)||r.isEmpty?null:i.createElement("paragraph"),view:/.+/,converterPriority:"low"})}};w(eg,"paragraphLikeElements",new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]));let Tm=eg;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jse extends Ae{constructor(e,r){super(e);w(this,"modelElements");this.modelElements=r}refresh(){const e=Dt(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(r=>TE(e,r,this.editor.model.schema))}execute(e){const r=this.editor.model,i=r.document,o=e.value;r.change(s=>{const a=Array.from(i.selection.getSelectedBlocks()).filter(l=>TE(l,o,r.schema));for(const l of a)l.is("element",o)||s.rename(l,o)})}}function TE(n,t,e){return e.checkChild(n.parent,t)&&!e.isObject(n)}const SE="paragraph";class $se extends X{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Tm]}init(){const t=this.editor,e=t.config.get("heading.options"),r=[];for(const i of e)i.model!=="paragraph"&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),r.push(i.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new jse(t,r))}afterInit(){const t=this.editor,e=t.commands.get("enter"),r=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(i,o)=>{const s=t.model.document.selection.getFirstPosition().parent;r.some(l=>s.is("element",l.model))&&!s.is("element",SE)&&s.childCount===0&&o.writer.rename(s,SE)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:er.low+1})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zse(n){const t=n.t,e={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return n.config.get("heading.options").map(r=>{const i=e[r.title];return i&&i!=r.title&&(r.title=i),r})}class Hse extends X{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,e=t.t,r=zse(t),i=e("Choose heading"),o=e("Heading");t.ui.componentFactory.add("heading",s=>{const a={},l=new zt,c=t.commands.get("heading"),u=t.commands.get("paragraph"),d=[c];for(const f of r){const m={type:"button",model:new aa({label:f.title,class:f.class,role:"menuitemradio",withText:!0})};f.model==="paragraph"?(m.model.bind("isOn").to(u,"value"),m.model.set("commandName","paragraph"),d.push(u)):(m.model.bind("isOn").to(c,"value",g=>g===f.model),m.model.set({commandName:"heading",commandValue:f.model})),l.add(m),a[f.model]=f.title}const h=gn(s);return ls(h,l,{ariaLabel:o,role:"menu"}),h.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),h.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),h.bind("isEnabled").toMany(d,"isEnabled",(...f)=>f.some(m=>m)),h.buttonView.bind("label").to(c,"value",u,"value",(f,m)=>{const g=m?"paragraph":f;return typeof g=="boolean"||!a[g]?i:a[g]}),h.buttonView.bind("ariaLabel").to(c,"value",u,"value",(f,m)=>{const g=m?"paragraph":f;return typeof g=="boolean"||!a[g]?o:`${a[g]}, ${o}`}),this.listenTo(h,"execute",f=>{const{commandName:m,commandValue:g}=f.source;t.execute(m,g?{value:g}:void 0),t.editing.view.focus()}),h}),t.ui.componentFactory.add("menuBar:heading",s=>{const a=new ar(s),l=t.commands.get("heading"),c=t.commands.get("paragraph"),u=[l],d=new Xo(s);a.set({class:"ck-heading-dropdown"}),d.set({ariaLabel:e("Heading"),role:"menu"}),a.buttonView.set({label:e("Heading")}),a.panelView.children.add(d);for(const h of r){const f=new Ji(s,a),m=new ze(s);f.children.add(m),d.items.add(f),m.set({isToggleable:!0,label:h.title,role:"menuitemradio",class:h.class}),m.delegate("execute").to(a),m.on("execute",()=>{const g=h.model==="paragraph"?"paragraph":"heading";t.execute(g,{value:h.model}),t.editing.view.focus()}),h.model==="paragraph"?(m.bind("isOn").to(c,"value"),u.push(c)):m.bind("isOn").to(l,"value",g=>g===h.model)}return a.bind("isEnabled").toMany(u,"isEnabled",(...h)=>h.some(f=>f)),a})}}class Use extends X{static get requires(){return[$se,Hse]}static get pluginName(){return"Heading"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wse extends Ae{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("highlight"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"highlight")}execute(t={}){const e=this.editor.model,i=e.document.selection,o=t.value;e.change(s=>{if(i.isCollapsed){const a=i.getFirstPosition();if(i.hasAttribute("highlight")){const l=h=>h.item.hasAttribute("highlight")&&h.item.getAttribute("highlight")===this.value,c=a.getLastMatchingPosition(l,{direction:"backward"}),u=a.getLastMatchingPosition(l),d=s.createRange(c,u);!o||this.value===o?(a.isEqual(u)||s.removeAttribute("highlight",d),s.removeSelectionAttribute("highlight")):(a.isEqual(u)||s.setAttribute("highlight",o,d),s.setSelectionAttribute("highlight",o))}else o&&s.setSelectionAttribute("highlight",o)}else{const a=e.schema.getValidRanges(i.getRanges(),"highlight");for(const l of a)o?s.setAttribute("highlight",o,l):s.removeAttribute("highlight",l)}})}}class qse extends X{static get pluginName(){return"HighlightEditing"}constructor(t){super(t),t.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"highlight"});const e=t.config.get("highlight.options");t.conversion.attributeToElement(Gse(e)),t.commands.add("highlight",new Wse(t))}}function Gse(n){const t={model:{key:"highlight",values:[]},view:{}};for(const e of n)t.model.values.push(e.model),t.view[e.model]={name:"mark",classes:e.class};return t}var Kse='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>',Zse='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';class Yse extends X{get localizedOptionTitles(){const t=this.editor.t;return{"Yellow marker":t("Yellow marker"),"Green marker":t("Green marker"),"Pink marker":t("Pink marker"),"Blue marker":t("Blue marker"),"Red pen":t("Red pen"),"Green pen":t("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const t=this.editor.config.get("highlight.options");for(const e of t)this._addHighlighterButton(e);this._addRemoveHighlightButton(),this._addDropdown(t),this._addMenuBarButton(t)}_addRemoveHighlightButton(){const t=this.editor.t,e=this.editor.commands.get("highlight");this._addButton("removeHighlight",t("Remove highlight"),be.eraser,null,r=>{r.bind("isEnabled").to(e,"isEnabled")})}_addHighlighterButton(t){const e=this.editor.commands.get("highlight");this._addButton("highlight:"+t.model,t.title,Ph(t.type),t.model,r);function r(i){i.bind("isEnabled").to(e,"isEnabled"),i.bind("isOn").to(e,"value",o=>o===t.model),i.iconView.fillColor=t.color,i.isToggleable=!0}}_addButton(t,e,r,i,o){const s=this.editor;s.ui.componentFactory.add(t,a=>{const l=new we(a),c=this.localizedOptionTitles[e]?this.localizedOptionTitles[e]:e;return l.set({label:c,icon:r,tooltip:!0}),l.on("execute",()=>{s.execute("highlight",{value:i}),s.editing.view.focus()}),o(l),l})}_addDropdown(t){const e=this.editor,r=e.t,i=e.ui.componentFactory,o=t[0],s=t.reduce((a,l)=>(a[l.model]=l,a),{});i.add("highlight",a=>{const l=e.commands.get("highlight"),c=gn(a,Wg),u=c.buttonView;u.set({label:r("Highlight"),tooltip:!0,lastExecuted:o.model,commandValue:o.model,isToggleable:!0}),u.bind("icon").to(l,"value",f=>Ph(h(f,"type"))),u.bind("color").to(l,"value",f=>h(f,"color")),u.bind("commandValue").to(l,"value",f=>h(f,"model")),u.bind("isOn").to(l,"value",f=>!!f),u.delegate("execute").to(c);const d=()=>{const f=t.map(m=>{const g=i.create("highlight:"+m.model);return this.listenTo(g,"execute",()=>{c.buttonView.set({lastExecuted:m.model})}),g});return f.push(new Hw),f.push(i.create("removeHighlight")),f};c.bind("isEnabled").to(l,"isEnabled"),qg(c,d,{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:r("Text highlight toolbar")}),Jse(c),u.on("execute",()=>{e.execute("highlight",{value:u.commandValue})}),this.listenTo(c,"execute",()=>{e.editing.view.focus()});function h(f,m){const g=!f||f===u.lastExecuted?u.lastExecuted:f;return s[g][m]}return c})}_addMenuBarButton(t){const e=this.editor,r=e.t,i=e.commands.get("highlight");e.ui.componentFactory.add("menuBar:highlight",o=>{const s=new ar(o);s.buttonView.set({label:r("Highlight"),icon:Ph("marker")}),s.bind("isEnabled").to(i),s.buttonView.iconView.fillColor="transparent";const a=new Xo(o);for(const u of t){const d=new Ji(o,s),h=new ze(o);h.set({label:u.title,icon:Ph(u.type),role:"menuitemradio",isToggleable:!0}),h.iconView.fillColor=u.color,h.delegate("execute").to(s),h.bind("isOn").to(i,"value",f=>f===u.model),h.on("execute",()=>{e.execute("highlight",{value:u.model}),e.editing.view.focus()}),d.children.add(h),a.items.add(d)}a.items.add(new Ug(o));const l=new Ji(o,s),c=new ze(o);return c.set({label:r("Remove highlight"),icon:be.eraser}),c.delegate("execute").to(s),c.on("execute",()=>{e.execute("highlight",{value:null}),e.editing.view.focus()}),l.children.add(c),a.items.add(l),s.panelView.children.add(a),s})}}function Jse(n){n.buttonView.actionView.iconView.bind("fillColor").to(n.buttonView,"color")}function Ph(n){return n==="marker"?Kse:Zse}class Xse extends X{static get requires(){return[qse,Yse]}static get pluginName(){return"Highlight"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qse extends Ae{refresh(){const t=this.editor.model,e=t.schema,r=t.document.selection;this.isEnabled=eae(r,e,t)}execute(){const t=this.editor.model;t.change(e=>{const r=e.createElement("horizontalLine");t.insertObject(r,null,null,{setSelection:"after"})})}}function eae(n,t,e){const r=tae(n,e);return t.checkChild(r,"horizontalLine")}function tae(n,t){const r=I6(n,t).start.parent;return r.isEmpty&&!r.is("element","$root")?r.parent:r}class nae extends X{static get pluginName(){return"HorizontalLineEditing"}init(){const t=this.editor,e=t.model.schema,r=t.t,i=t.conversion;e.register("horizontalLine",{inheritAllFrom:"$blockObject"}),i.for("dataDowncast").elementToElement({model:"horizontalLine",view:(o,{writer:s})=>s.createEmptyElement("hr")}),i.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(o,{writer:s})=>{const a=r("Horizontal line"),l=s.createContainerElement("div",null,s.createEmptyElement("hr"));return s.addClass("ck-horizontal-line",l),s.setCustomProperty("hr",!0,l),rae(l,s,a)}}),i.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),t.commands.add("horizontalLine",new Qse(t))}}function rae(n,t,e){return t.setCustomProperty("horizontalLine",!0,n),Ld(n,t,{label:e})}class iae extends X{static get pluginName(){return"HorizontalLineUI"}init(){const t=this.editor;t.ui.componentFactory.add("horizontalLine",()=>{const e=this._createButton(we);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton(ze))}_createButton(t){const e=this.editor,r=e.locale,i=e.commands.get("horizontalLine"),o=new t(e.locale),s=r.t;return o.set({label:s("Horizontal line"),icon:be.horizontalLine}),o.bind("isEnabled").to(i,"isEnabled"),this.listenTo(o,"execute",()=>{e.execute("horizontalLine"),e.editing.view.focus()}),o}}class oae extends X{static get requires(){return[nae,iae,Dd]}static get pluginName(){return"HorizontalLine"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sae extends Ae{refresh(){const t=this.editor.model,e=t.schema,r=t.document.selection,i=AE(r);this.isEnabled=aae(r,e,t),this.value=i?i.getAttribute("value")||"":null}execute(t){const e=this.editor.model,r=e.document.selection;e.change(i=>{let o;this.value!==null?o=AE(r):(o=i.createElement("rawHtml"),e.insertObject(o,null,null,{setSelection:"on"})),i.setAttribute("value",t,o)})}}function aae(n,t,e){const r=lae(n,e);return t.checkChild(r,"rawHtml")}function lae(n,t){const r=I6(n,t).start.parent;return r.isEmpty&&!r.is("rootElement")?r.parent:r}function AE(n){const t=n.getSelectedElement();return t&&t.is("element","rawHtml")?t:null}class cae extends X{constructor(e){super(e);w(this,"_widgetButtonViewReferences",new Set);e.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:r=>(Ze("html-embed-provide-sanitize-function"),{html:r,hasChanged:!1})})}static get pluginName(){return"HtmlEmbedEditing"}init(){const e=this.editor;e.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),e.commands.add("htmlEmbed",new sae(e)),this._setupConversion()}_setupConversion(){const e=this.editor,r=e.t,i=e.editing.view,o=this._widgetButtonViewReferences,s=e.config.get("htmlEmbed");this.editor.editing.view.on("render",()=>{for(const d of o){if(d.element&&d.element.isConnected)return;d.destroy(),o.delete(d)}},{priority:"lowest"}),e.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),e.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(d,{writer:h})=>h.createElement("rawHtml",{value:d.getCustomProperty("$rawContent")})}),e.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(d,{writer:h})=>h.createRawElement("div",{class:"raw-html-embed"},function(f){f.innerHTML=d.getAttribute("value")||""})}),e.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(d,{writer:h})=>{let f,m,g;const v=h.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(_){f=_,a({editor:e,domElement:_,state:m,props:g}),f.addEventListener("mousedown",()=>{if(m.isEditable){const y=e.model;y.document.selection.getSelectedElement()!==d&&y.change(S=>S.setSelection(d,"on"))}},!0)}),p={makeEditable(){m=Object.assign({},m,{isEditable:!0}),a({domElement:f,editor:e,state:m,props:g}),i.change(_=>{_.setAttribute("data-cke-ignore-events","true",v)}),f.querySelector("textarea").focus()},save(_){_!==m.getRawHtmlValue()?(e.execute("htmlEmbed",_),e.editing.view.focus()):this.cancel()},cancel(){m=Object.assign({},m,{isEditable:!1}),a({domElement:f,editor:e,state:m,props:g}),e.editing.view.focus(),i.change(_=>{_.removeAttribute("data-cke-ignore-events",v)})}};m={showPreviews:s.showPreviews,isEditable:!1,getRawHtmlValue:()=>d.getAttribute("value")||""},g={sanitizeHtml:s.sanitizeHtml,textareaPlaceholder:r("Paste raw HTML here..."),onEditClick(){p.makeEditable()},onSaveClick(_){p.save(_)},onCancelClick(){p.cancel()}};const b=h.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":r("HTML snippet"),dir:e.locale.uiLanguageDirection},v);return h.setCustomProperty("rawHtmlApi",p,b),h.setCustomProperty("rawHtml",!0,b),Ld(b,h,{label:r("HTML snippet"),hasSelectionHandle:!0})}});function a({editor:d,domElement:h,state:f,props:m}){h.textContent="";const g=h.ownerDocument;let v;if(f.isEditable){const b={isDisabled:!1,placeholder:m.textareaPlaceholder};v=c({domDocument:g,state:f,props:b}),h.append(v)}else if(f.showPreviews){const b={sanitizeHtml:m.sanitizeHtml};h.append(u({domDocument:g,state:f,props:b,editor:d}))}else{const b={isDisabled:!0,placeholder:m.textareaPlaceholder};h.append(c({domDocument:g,state:f,props:b}))}const p={onEditClick:m.onEditClick,onSaveClick:()=>{m.onSaveClick(v.value)},onCancelClick:m.onCancelClick};h.prepend(l({editor:d,domDocument:g,state:f,props:p}))}function l({editor:d,domDocument:h,state:f,props:m}){const g=Kt(h,"div",{class:"raw-html-embed__buttons-wrapper"});if(f.isEditable){const v=N0(d,"save",m.onSaveClick),p=N0(d,"cancel",m.onCancelClick);g.append(v.element,p.element),o.add(v).add(p)}else{const v=N0(d,"edit",m.onEditClick);g.append(v.element),o.add(v)}return g}function c({domDocument:d,state:h,props:f}){const m=Kt(d,"textarea",{placeholder:f.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return m.disabled=f.isDisabled,m.value=h.getRawHtmlValue(),m}function u({editor:d,domDocument:h,state:f,props:m}){const g=m.sanitizeHtml(f.getRawHtmlValue()),v=f.getRawHtmlValue().length>0?r("No preview available"):r("Empty snippet content"),p=Kt(h,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},v),b=Kt(h,"div",{class:"raw-html-embed__preview-content",dir:d.locale.contentLanguageDirection}),y=h.createRange().createContextualFragment(g.html);return b.appendChild(y),Kt(h,"div",{class:"raw-html-embed__preview"},[p,b])}}}function N0(n,t,e){const{t:r}=n.locale,i=new we(n.locale),o=n.commands.get("htmlEmbed");return i.set({class:`raw-html-embed__${t}-button`,icon:be.pencil,tooltip:!0,tooltipPosition:n.locale.uiLanguageDirection==="rtl"?"e":"w"}),i.render(),t==="edit"?(i.set({icon:be.pencil,label:r("Edit source")}),i.bind("isEnabled").to(o)):t==="save"?(i.set({icon:be.check,label:r("Save changes")}),i.bind("isEnabled").to(o)):i.set({icon:be.cancel,label:r("Cancel")}),i.on("execute",e),i}class uae extends X{static get pluginName(){return"HtmlEmbedUI"}init(){const t=this.editor,r=t.locale.t;t.ui.componentFactory.add("htmlEmbed",()=>{const i=this._createButton(we);return i.set({tooltip:!0,label:r("Insert HTML")}),i}),t.ui.componentFactory.add("menuBar:htmlEmbed",()=>{const i=this._createButton(ze);return i.set({label:r("HTML snippet")}),i})}_createButton(t){const e=this.editor,r=e.commands.get("htmlEmbed"),i=new t(e.locale);return i.set({icon:be.html}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",()=>{e.execute("htmlEmbed"),e.editing.view.focus(),e.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),i}}class dae extends X{static get requires(){return[cae,uae,Dd]}static get pluginName(){return"HtmlEmbed"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ks(n,t,e,r){t&&hae(n,t,r),e&&vi(n,e,r)}function vi(n,t,e){if(t.attributes)for(const[r,i]of Object.entries(t.attributes))n.setAttribute(r,i,e);t.styles&&n.setStyle(t.styles,e),t.classes&&n.addClass(t.classes,e)}function hae(n,t,e){if(t.attributes)for(const[r]of Object.entries(t.attributes))n.removeAttribute(r,e);if(t.styles)for(const r of Object.keys(t.styles))n.removeStyle(r,e);t.classes&&n.removeClass(t.classes,e)}function fae(n,t){const e=Nr(n);let r="attributes";for(r in t)r=="classes"?e[r]=Array.from(new Set([...n[r]||[],...t[r]])):e[r]={...n[r],...t[r]};return e}function Ea(n,t,e,r,i){const o=t.getAttribute(e),s={};for(const a of["attributes","styles","classes"]){if(a!=r){o&&o[a]&&(s[a]=o[a]);continue}if(r=="classes"){const c=new Set(o&&o.classes||[]);i(c),c.size&&(s[a]=Array.from(c));continue}const l=new Map(Object.entries(o&&o[a]||{}));i(l),l.size&&(s[a]=Object.fromEntries(l))}Object.keys(s).length?t.is("documentSelection")?n.setSelectionAttribute(e,s):n.setAttribute(e,s,t):o&&(t.is("documentSelection")?n.removeSelectionAttribute(e):n.removeAttribute(e,t))}function mae(n){return yK(n).replace(/ /g,"")}function Sr(n){return`html${mae(n)}Attributes`}function Jw({model:n}){return(t,e)=>e.writer.createElement(n,{htmlContent:t.getCustomProperty("$rawContent")})}function gae(n,{view:t,isInline:e}){const r=n.t;return(i,{writer:o})=>{const s=r("HTML object"),a=Zg(t,i,o),l=i.getAttribute(Sr(t));o.addClass("html-object-embed__content",a),l&&vi(o,l,a);const c=o.createContainerElement(e?"span":"div",{class:"html-object-embed","data-html-object-embed-label":s},a);return Ld(c,o,{label:s})}}function Zg(n,t,e){return e.createRawElement(n,null,(r,i)=>{i.setContentOf(r,t.getAttribute("htmlContent"))})}function pae({view:n,model:t,allowEmpty:e},r){return o=>{o.on(`element:${n}`,(s,a,l)=>{let c=r.processViewAttributes(a.viewItem,l);if(!(!c&&!l.consumable.test(a.viewItem,{name:!0}))){if(c=c||{},l.consumable.consume(a.viewItem,{name:!0}),a.modelRange||(a=Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor))),e&&a.modelRange.isCollapsed&&Object.keys(c).length){const u=l.writer.createElement("htmlEmptyElement");if(!l.safeInsert(u,a.modelCursor))return;const d=l.getSplitParts(u);a.modelRange=l.writer.createRange(a.modelRange.start,l.writer.createPositionAfter(d[d.length-1])),l.updateConversionResult(u,a),i(u,c,l);return}for(const u of a.modelRange.getItems())i(u,c,l)}},{priority:"low"})};function i(o,s,a){if(a.schema.checkAttribute(o,t)){const l=o.getAttribute(t),c=fae(s,l||{});a.writer.setAttribute(t,c,o)}}}function PE({model:n,view:t},e){return(r,{writer:i,consumable:o})=>{if(!r.hasAttribute(n))return null;const s=i.createContainerElement(t),a=r.getAttribute(n);return o.consume(r,`attribute:${n}`),vi(i,a,s),s.getFillerOffset=()=>null,e?Ld(s,i):s}}function bae({priority:n,view:t}){return(e,r)=>{if(!e)return;const{writer:i}=r,o=i.createAttributeElement(t,null,{priority:n});return vi(i,e,o),o}}function ad({view:n},t){return e=>{e.on(`element:${n}`,(r,i,o)=>{if(!i.modelRange||i.modelRange.isCollapsed)return;const s=t.processViewAttributes(i.viewItem,o);s&&o.writer.setAttribute(Sr(i.viewItem.name),s,i.modelRange)},{priority:"low"})}}function ld({view:n,model:t}){return e=>{e.on(`attribute:${Sr(n)}:${t}`,(r,i,o)=>{if(!o.consumable.consume(i.item,r.name))return;const{attributeOldValue:s,attributeNewValue:a}=i,l=o.writer,c=o.mapper.toViewElement(i.item);Ks(l,s,a,c)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var RE={block:[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6","$text"],allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowIn:["$root","$container"],allowChildren:["paragraph","htmlP","htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}}],inline:[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref"},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}]};class Bl extends X{constructor(){super(...arguments);w(this,"_definitions",[])}static get pluginName(){return"DataSchema"}init(){for(const e of RE.block)this.registerBlockElement(e);for(const e of RE.inline)this.registerInlineElement(e)}registerBlockElement(e){this._definitions.push({...e,isBlock:!0})}registerInlineElement(e){this._definitions.push({...e,isInline:!0})}extendBlockElement(e){this._extendDefinition({...e,isBlock:!0})}extendInlineElement(e){this._extendDefinition({...e,isInline:!0})}getDefinitionsForView(e,r=!1){const i=new Set;for(const o of this._getMatchingViewDefinitions(e)){if(r)for(const s of this._getReferences(o.model))i.add(s);i.add(o)}return i}getDefinitionsForModel(e){return this._definitions.filter(r=>r.model==e)}_getMatchingViewDefinitions(e){return this._definitions.filter(r=>r.view&&vae(e,r.view))}*_getReferences(e){const r=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],i=this._definitions.filter(o=>o.model==e);for(const{modelSchema:o}of i)if(o)for(const s of r)for(const a of pt(o[s]||[])){const l=this._definitions.filter(c=>c.model==a);for(const c of l)a!==e&&(yield*this._getReferences(c.model),yield c)}}_extendDefinition(e){const r=Array.from(this._definitions.entries()).filter(([,i])=>i.model==e.model);if(r.length==0){this._definitions.push(e);return}for(const[i,o]of r)this._definitions[i]=cK({},o,e,(s,a)=>Array.isArray(s)?s.concat(a):void 0)}}function vae(n,t){return typeof n=="string"?n===t:n instanceof RegExp?n.test(t):!1}class It extends X{constructor(e){super(e);w(this,"_dataSchema");w(this,"_allowedAttributes");w(this,"_disallowedAttributes");w(this,"_allowedElements");w(this,"_disallowedElements");w(this,"_dataInitialized");w(this,"_coupledAttributes");this._dataSchema=e.plugins.get("DataSchema"),this._allowedAttributes=new qs,this._disallowedAttributes=new qs,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerCoupledAttributesPostFixer(),this._registerAssociatedHtmlAttributesPostFixer()}static get pluginName(){return"DataFilter"}static get requires(){return[Bl,Dd]}loadAllowedConfig(e){for(const r of e){const i=r.name||/[\s\S]+/,o=IE(r);this.allowElement(i),o.forEach(s=>this.allowAttributes(s))}}loadDisallowedConfig(e){for(const r of e){const i=r.name||/[\s\S]+/,o=IE(r);o.length==0?this.disallowElement(i):o.forEach(s=>this.disallowAttributes(s))}}loadAllowedEmptyElementsConfig(e){for(const r of e)this.allowEmptyElement(r)}allowElement(e){for(const r of this._dataSchema.getDefinitionsForView(e,!0))this._addAllowedElement(r),this._coupledAttributes=null}disallowElement(e){for(const r of this._dataSchema.getDefinitionsForView(e,!1))this._disallowedElements.add(r.view)}allowEmptyElement(e){for(const r of this._dataSchema.getDefinitionsForView(e,!0))r.isInline&&this._dataSchema.extendInlineElement({...r,allowEmpty:!0})}allowAttributes(e){this._allowedAttributes.add(e)}disallowAttributes(e){this._disallowedAttributes.add(e)}processViewAttributes(e,r){const{consumable:i}=r;return OE(e,this._disallowedAttributes,i),yae(e,OE(e,this._allowedAttributes,i))}_addAllowedElement(e){if(!this._allowedElements.has(e)){if(this._allowedElements.add(e),"appliesToBlock"in e&&typeof e.appliesToBlock=="string")for(const r of this._dataSchema.getDefinitionsForModel(e.appliesToBlock))r.isBlock&&this._addAllowedElement(r);this._dataInitialized&&this.editor.data.once("set",()=>{this._fireRegisterEvent(e)},{priority:er.highest+1})}}_registerElementsAfterInit(){this.editor.data.on("init",()=>{this._dataInitialized=!0;for(const e of this._allowedElements)this._fireRegisterEvent(e)},{priority:er.highest+1})}_registerElementHandlers(){this.on("register",(e,r)=>{const i=this.editor.model.schema;if(r.isObject&&!i.isRegistered(r.model))this._registerObjectElement(r);else if(r.isBlock)this._registerBlockElement(r);else if(r.isInline)this._registerInlineElement(r);else throw new q("data-filter-invalid-definition",null,r);e.stop()},{priority:"lowest"})}_registerCoupledAttributesPostFixer(){const e=this.editor.model,r=e.document.selection;e.document.registerPostFixer(i=>{const o=e.document.differ.getChanges();let s=!1;const a=this._getCoupledAttributesMap();for(const l of o){if(l.type!="attribute"||l.attributeNewValue!==null)continue;const c=a.get(l.attributeKey);if(c)for(const{item:u}of l.range.getWalker())for(const d of c)u.hasAttribute(d)&&(i.removeAttribute(d,u),s=!0)}return s}),this.listenTo(r,"change:attribute",(i,{attributeKeys:o})=>{const s=new Set,a=this._getCoupledAttributesMap();for(const l of o){if(r.hasAttribute(l))continue;const c=a.get(l);if(c)for(const u of c)r.hasAttribute(u)&&s.add(u)}s.size!=0&&e.change(l=>{for(const c of s)l.removeSelectionAttribute(c)})})}_registerAssociatedHtmlAttributesPostFixer(){const e=this.editor.model;e.document.registerPostFixer(r=>{const i=e.document.differ.getChanges();let o=!1;for(const s of i)if(!(s.type!=="insert"||s.name==="$text"))for(const a of s.attributes.keys())!a.startsWith("html")||!a.endsWith("Attributes")||e.schema.checkAttribute(s.name,a)||(r.removeAttribute(a,s.position.nodeAfter),o=!0);return o})}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const e of this._allowedElements)if(e.coupledAttribute&&e.model){const r=this._coupledAttributes.get(e.coupledAttribute);r?r.push(e.model):this._coupledAttributes.set(e.coupledAttribute,[e.model])}return this._coupledAttributes}_fireRegisterEvent(e){e.view&&this._disallowedElements.has(e.view)||this.fire(e.view?`register:${e.view}`:"register",e)}_registerObjectElement(e){const r=this.editor,i=r.model.schema,o=r.conversion,{view:s,model:a}=e;i.register(a,e.modelSchema);/* istanbul ignore next: paranoid check -- @preserve */s&&(i.extend(e.model,{allowAttributes:[Sr(s),"htmlContent"]}),r.data.registerRawContentMatcher({name:s}),o.for("upcast").elementToElement({view:s,model:Jw(e),converterPriority:er.low+2}),o.for("upcast").add(ad(e,this)),o.for("editingDowncast").elementToStructure({model:{name:a,attributes:[Sr(s)]},view:gae(r,e)}),o.for("dataDowncast").elementToElement({model:a,view:(l,{writer:c})=>Zg(s,l,c)}),o.for("dataDowncast").add(ld(e)))}_registerBlockElement(e){const r=this.editor,i=r.model.schema,o=r.conversion,{view:s,model:a}=e;if(!i.isRegistered(e.model)){if(i.register(e.model,e.modelSchema),!s)return;o.for("upcast").elementToElement({model:a,view:s,converterPriority:er.low+2}),o.for("downcast").elementToElement({model:a,view:s})}s&&(i.extend(e.model,{allowAttributes:Sr(s)}),o.for("upcast").add(ad(e,this)),o.for("downcast").add(ld(e)))}_registerInlineElement(e){const r=this.editor,i=r.model.schema,o=r.conversion,s=e.model;e.appliesToBlock||(i.extend("$text",{allowAttributes:s}),e.attributeProperties&&i.setAttributeProperties(s,e.attributeProperties),o.for("upcast").add(pae(e,this)),o.for("downcast").attributeToElement({model:s,view:bae(e)}),e.allowEmpty&&(i.setAttributeProperties(s,{copyFromObject:!1}),i.isRegistered("htmlEmptyElement")||i.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"}),r.data.htmlProcessor.domConverter.registerInlineObjectMatcher(a=>a.name==e.view&&a.isEmpty&&Array.from(a.getAttributeKeys()).length?{name:!0}:null),o.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:PE(e,!0)}),o.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:PE(e)})))}}function OE(n,t,e){const r=t.matchAll(n)||[],i=n.document.stylesProcessor;return r.reduce((o,{match:s})=>{for(const a of s.styles||[]){const l=i.getRelatedStyles(a).filter(c=>c.split("-").length>a.split("-").length).sort((c,u)=>u.split("-").length-c.split("-").length);for(const c of l)e.consume(n,{styles:[c]})&&o.styles.push(c);e.consume(n,{styles:[a]})&&o.styles.push(a)}for(const a of s.classes||[])e.consume(n,{classes:[a]})&&o.classes.push(a);for(const a of s.attributes||[])e.consume(n,{attributes:[a]})&&o.attributes.push(a);return o},{attributes:[],classes:[],styles:[]})}function yae(n,{attributes:t,classes:e,styles:r}){return!t.length&&!e.length&&!r.length?null:{...t.length&&{attributes:wae(n,t)},...r.length&&{styles:_ae(n,r)},...e.length&&{classes:e}}}function wae(n,t){const e={};for(const r of t){const i=n.getAttribute(r);i!==void 0&&MO(r)&&(e[r]=i)}return e}function _ae(n,t){const e=new mm(n.document.stylesProcessor);for(const r of t){const i=n.getStyle(r);i!==void 0&&e.set(r,i)}return Object.fromEntries(e.getStylesEntries())}function M0(n,t){const{name:e}=n,r=n[t];return Mn(r)?Object.entries(r).map(([i,o])=>({name:e,[t]:{[i]:o}})):Array.isArray(r)?r.map(i=>({name:e,[t]:[i]})):[n]}function IE(n){const{name:t,attributes:e,classes:r,styles:i}=n,o=[];return e&&o.push(...M0({name:t,attributes:e},"attributes")),r&&o.push(...M0({name:t,classes:r},"classes")),i&&o.push(...M0({name:t,styles:i},"styles")),o}class xae extends X{static get requires(){return[It]}static get pluginName(){return"CodeBlockElementSupport"}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const t=this.editor.plugins.get(It);t.on("register:pre",(e,r)=>{if(r.model!=="codeBlock")return;const i=this.editor,o=i.model.schema,s=i.conversion;o.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),s.for("upcast").add(kae(t)),s.for("downcast").add(Cae()),e.stop()})}}function kae(n){return t=>{t.on("element:code",(e,r,i)=>{const o=r.viewItem,s=o.parent;if(!s||!s.is("element","pre"))return;a(s,"htmlPreAttributes"),a(o,"htmlContentAttributes");function a(l,c){const u=n.processViewAttributes(l,i);u&&i.writer.setAttribute(c,u,r.modelRange)}},{priority:"low"})}}function Cae(){return n=>{n.on("attribute:htmlPreAttributes:codeBlock",(t,e,r)=>{if(!r.consumable.consume(e.item,t.name))return;const{attributeOldValue:i,attributeNewValue:o}=e,a=r.mapper.toViewElement(e.item).parent;Ks(r.writer,i,o,a)}),n.on("attribute:htmlContentAttributes:codeBlock",(t,e,r)=>{if(!r.consumable.consume(e.item,t.name))return;const{attributeOldValue:i,attributeNewValue:o}=e,s=r.mapper.toViewElement(e.item);Ks(r.writer,i,o,s)})}}class Eae extends X{static get requires(){return[It]}static get pluginName(){return"DualContentModelElementSupport"}init(){this.editor.plugins.get(It).on("register",(e,r)=>{const i=r,o=this.editor,s=o.model.schema,a=o.conversion;if(!i.paragraphLikeModel||s.isRegistered(i.model)||s.isRegistered(i.paragraphLikeModel))return;const l={model:i.paragraphLikeModel,view:i.view};s.register(i.model,i.modelSchema),s.register(l.model,{inheritAllFrom:"$block"}),a.for("upcast").elementToElement({view:i.view,model:(c,{writer:u})=>this._hasBlockContent(c)?u.createElement(i.model):u.createElement(l.model),converterPriority:er.low+.5}),a.for("downcast").elementToElement({view:i.view,model:i.model}),this._addAttributeConversion(i),a.for("downcast").elementToElement({view:l.view,model:l.model}),this._addAttributeConversion(l),e.stop()})}_hasBlockContent(t){const e=this.editor.editing.view,r=e.domConverter.blockElements;for(const i of e.createRangeIn(t).getItems())if(i.is("element")&&r.includes(i.name))return!0;return!1}_addAttributeConversion(t){const e=this.editor,r=e.conversion,i=e.plugins.get(It);e.model.schema.extend(t.model,{allowAttributes:Sr(t.view)}),r.for("upcast").add(ad(t,i)),r.for("downcast").add(ld(t))}}class Tae extends X{static get requires(){return[Bl,Gg]}static get pluginName(){return"HeadingElementSupport"}init(){const t=this.editor;if(!t.plugins.has("HeadingEditing"))return;const e=t.config.get("heading.options");this.registerHeadingElements(t,e)}registerHeadingElements(t,e){const r=t.plugins.get(Bl),i=[];for(const o of e)"model"in o&&"view"in o&&(r.registerBlockElement({view:o.view,model:o.model}),i.push(o.model));r.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:i}}),r.extendBlockElement({model:"htmlSummary",modelSchema:{allowChildren:i}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Sm(n,t,e){const r=n.createRangeOn(t);for(const{item:i}of r.getWalker())if(i.is("element",e))return i}class Sae extends X{static get requires(){return[It]}static get pluginName(){return"ImageElementSupport"}init(){const t=this.editor;if(!t.plugins.has("ImageInlineEditing")&&!t.plugins.has("ImageBlockEditing"))return;const e=t.model.schema,r=t.conversion,i=t.plugins.get(It);i.on("register:figure",()=>{r.for("upcast").add(Rae(i))}),i.on("register:img",(o,s)=>{s.model!=="imageBlock"&&s.model!=="imageInline"||(e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),r.for("upcast").add(Aae(i)),r.for("downcast").add(Oae()),t.plugins.has("LinkImage")&&r.for("upcast").add(Pae(i,t)),o.stop())})}}function Aae(n){return t=>{t.on("element:img",(e,r,i)=>{if(!r.modelRange)return;const o=r.viewItem,s=n.processViewAttributes(o,i);s&&i.writer.setAttribute("htmlImgAttributes",s,r.modelRange)},{priority:"low"})}}function Pae(n,t){const e=t.plugins.get("ImageUtils");return r=>{r.on("element:a",(i,o,s)=>{const a=o.viewItem;if(!e.findViewImgElement(a))return;const c=o.modelCursor.parent;if(!c.is("element","imageBlock"))return;const u=n.processViewAttributes(a,s);u&&s.writer.setAttribute("htmlLinkAttributes",u,c)},{priority:"low"})}}function Rae(n){return t=>{t.on("element:figure",(e,r,i)=>{const o=r.viewItem;if(!r.modelRange||!o.hasClass("image"))return;const s=n.processViewAttributes(o,i);s&&i.writer.setAttribute("htmlFigureAttributes",s,r.modelRange)},{priority:"low"})}}function Oae(){return n=>{t("htmlImgAttributes"),e("img","htmlImgAttributes"),e("figure","htmlFigureAttributes"),e("a","htmlLinkAttributes");function t(r){n.on(`attribute:${r}:imageInline`,(i,o,s)=>{if(!s.consumable.consume(o.item,i.name))return;const{attributeOldValue:a,attributeNewValue:l}=o,c=s.mapper.toViewElement(o.item);Ks(s.writer,a,l,c)},{priority:"low"})}function e(r,i){n.on(`attribute:${i}:imageBlock`,(o,s,a)=>{if(!a.consumable.test(s.item,o.name))return;const{attributeOldValue:l,attributeNewValue:c}=s,u=a.mapper.toViewElement(s.item),d=Sm(a.writer,u,r);d&&(Ks(a.writer,l,c,d),a.consumable.consume(s.item,o.name))},{priority:"low"}),r==="a"&&n.on("attribute:linkHref:imageBlock",(o,s,a)=>{if(!a.consumable.consume(s.item,"attribute:htmlLinkAttributes:imageBlock"))return;const l=a.mapper.toViewElement(s.item),c=Sm(a.writer,l,"a");vi(a.writer,s.item.getAttribute("htmlLinkAttributes"),c)},{priority:"low"})}}}class Iae extends X{static get requires(){return[It]}static get pluginName(){return"MediaEmbedElementSupport"}init(){const t=this.editor;if(!t.plugins.has("MediaEmbed")||t.config.get("mediaEmbed.previewsInData"))return;const e=t.model.schema,r=t.conversion,i=this.editor.plugins.get(It),o=this.editor.plugins.get(Bl),s=t.config.get("mediaEmbed.elementName");o.registerBlockElement({model:"media",view:s}),i.on("register:figure",()=>{r.for("upcast").add(Mae(i))}),i.on(`register:${s}`,(a,l)=>{l.model==="media"&&(e.extend("media",{allowAttributes:[Sr(s),"htmlFigureAttributes"]}),r.for("upcast").add(Nae(i,s)),r.for("dataDowncast").add(Lae(s)),a.stop())})}}function Nae(n,t){const e=(r,i,o)=>{const s=i.viewItem;a(s,Sr(t));function a(l,c){const u=n.processViewAttributes(l,o);u&&o.writer.setAttribute(c,u,i.modelRange)}};return r=>{r.on(`element:${t}`,e,{priority:"low"})}}function Mae(n){return t=>{t.on("element:figure",(e,r,i)=>{const o=r.viewItem;if(!r.modelRange||!o.hasClass("media"))return;const s=n.processViewAttributes(o,i);s&&i.writer.setAttribute("htmlFigureAttributes",s,r.modelRange)},{priority:"low"})}}function Lae(n){return t=>{e(n,Sr(n)),e("figure","htmlFigureAttributes");function e(r,i){t.on(`attribute:${i}:media`,(o,s,a)=>{if(!a.consumable.consume(s.item,o.name))return;const{attributeOldValue:l,attributeNewValue:c}=s,u=a.mapper.toViewElement(s.item),d=Sm(a.writer,u,r);Ks(a.writer,l,c,d)})}}}class Dae extends X{static get requires(){return[It]}static get pluginName(){return"ScriptElementSupport"}init(){const t=this.editor.plugins.get(It);t.on("register:script",(e,r)=>{const i=this.editor,o=i.model.schema,s=i.conversion;o.register("htmlScript",r.modelSchema),o.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),i.data.registerRawContentMatcher({name:"script"}),s.for("upcast").elementToElement({view:"script",model:Jw(r)}),s.for("upcast").add(ad(r,t)),s.for("downcast").elementToElement({model:"htmlScript",view:(a,{writer:l})=>Zg("script",a,l)}),s.for("downcast").add(ld(r)),e.stop()})}}class Bae extends X{static get requires(){return[It]}static get pluginName(){return"TableElementSupport"}init(){const t=this.editor;if(!t.plugins.has("TableEditing"))return;const e=t.model.schema,r=t.conversion,i=t.plugins.get(It),o=t.plugins.get("TableUtils");i.on("register:figure",()=>{r.for("upcast").add(jae(i))}),i.on("register:table",(s,a)=>{a.model==="table"&&(e.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),r.for("upcast").add(Vae(i)),r.for("downcast").add($ae()),t.model.document.registerPostFixer(Fae(t.model,o)),s.stop())})}}function Fae(n,t){return e=>{const r=n.document.differ.getChanges();let i=!1;for(const o of r){if(o.type!="attribute"||o.attributeKey!="headingRows")continue;const s=o.range.start.nodeAfter,a=s.getAttribute("htmlTheadAttributes"),l=s.getAttribute("htmlTbodyAttributes");a&&!o.attributeNewValue?(e.removeAttribute("htmlTheadAttributes",s),i=!0):l&&o.attributeNewValue==t.getRows(s)&&(e.removeAttribute("htmlTbodyAttributes",s),i=!0)}return i}}function Vae(n){return t=>{t.on("element:table",(e,r,i)=>{if(!r.modelRange)return;const o=r.viewItem;s(o,"htmlTableAttributes");for(const a of o.getChildren())a.is("element","thead")&&s(a,"htmlTheadAttributes"),a.is("element","tbody")&&s(a,"htmlTbodyAttributes");function s(a,l){const c=n.processViewAttributes(a,i);c&&i.writer.setAttribute(l,c,r.modelRange)}},{priority:"low"})}}function jae(n){return t=>{t.on("element:figure",(e,r,i)=>{const o=r.viewItem;if(!r.modelRange||!o.hasClass("table"))return;const s=n.processViewAttributes(o,i);s&&i.writer.setAttribute("htmlFigureAttributes",s,r.modelRange)},{priority:"low"})}}function $ae(){return n=>{t("table","htmlTableAttributes"),t("figure","htmlFigureAttributes"),t("thead","htmlTheadAttributes"),t("tbody","htmlTbodyAttributes");function t(e,r){n.on(`attribute:${r}:table`,(i,o,s)=>{if(!s.consumable.test(o.item,i.name))return;const a=s.mapper.toViewElement(o.item),l=Sm(s.writer,a,e);l&&(s.consumable.consume(o.item,i.name),Ks(s.writer,o.attributeOldValue,o.attributeNewValue,l))})}}}class zae extends X{static get requires(){return[It]}static get pluginName(){return"StyleElementSupport"}init(){const t=this.editor.plugins.get(It);t.on("register:style",(e,r)=>{const i=this.editor,o=i.model.schema,s=i.conversion;o.register("htmlStyle",r.modelSchema),o.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),i.data.registerRawContentMatcher({name:"style"}),s.for("upcast").elementToElement({view:"style",model:Jw(r)}),s.for("upcast").add(ad(r,t)),s.for("downcast").elementToElement({model:"htmlStyle",view:(a,{writer:l})=>Zg("style",a,l)}),s.for("downcast").add(ld(r)),e.stop()})}}class Hae extends X{static get requires(){return[It]}static get pluginName(){return"ListElementSupport"}init(){const t=this.editor;if(!t.plugins.has("ListEditing"))return;const e=t.model.schema,r=t.conversion,i=t.plugins.get(It),o=t.plugins.get("ListEditing"),s=t.plugins.get("ListUtils"),a=["ul","ol","li"];o.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:vi}),o.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:vi}),o.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:vi}),i.on("register",(l,c)=>{if(!a.includes(c.view)||(l.stop(),e.checkAttribute("$block","htmlLiAttributes")))return;const u=a.map(d=>Sr(d));e.extend("$listItem",{allowAttributes:u}),r.for("upcast").add(d=>{d.on("element:ul",L0("htmlUlAttributes",i),{priority:"low"}),d.on("element:ol",L0("htmlOlAttributes",i),{priority:"low"}),d.on("element:li",L0("htmlLiAttributes",i),{priority:"low"})})}),o.on("postFixer",(l,{listNodes:c,writer:u})=>{for(const{node:d,previousNodeInList:h}of c)if(h){if(h.getAttribute("listType")==d.getAttribute("listType")){const f=NE(h.getAttribute("listType")),m=h.getAttribute(f);!Rl(d.getAttribute(f),m)&&u.model.schema.checkAttribute(d,f)&&(u.setAttribute(f,m,d),l.return=!0)}if(h.getAttribute("listItemId")==d.getAttribute("listItemId")){const f=h.getAttribute("htmlLiAttributes");!Rl(d.getAttribute("htmlLiAttributes"),f)&&u.model.schema.checkAttribute(d,"htmlLiAttributes")&&(u.setAttribute("htmlLiAttributes",f,d),l.return=!0)}}}),o.on("postFixer",(l,{listNodes:c,writer:u})=>{for(const{node:d}of c){const h=d.getAttribute("listType");!s.isNumberedListType(h)&&d.getAttribute("htmlOlAttributes")&&(u.removeAttribute("htmlOlAttributes",d),l.return=!0),s.isNumberedListType(h)&&d.getAttribute("htmlUlAttributes")&&(u.removeAttribute("htmlUlAttributes",d),l.return=!0)}})}afterInit(){const t=this.editor;if(!t.commands.get("indentList"))return;const e=t.commands.get("indentList");this.listenTo(e,"afterExecute",(r,i)=>{t.model.change(o=>{for(const s of i){const a=NE(s.getAttribute("listType"));t.model.schema.checkAttribute(s,a)&&o.setAttribute(a,{},s)}})})}}function L0(n,t){return(e,r,i)=>{const o=r.viewItem;r.modelRange||Object.assign(r,i.convertChildren(r.viewItem,r.modelCursor));const s=t.processViewAttributes(o,i);for(const a of r.modelRange.getItems({shallow:!0}))a.hasAttribute("listItemId")&&(a.hasAttribute("htmlUlAttributes")||a.hasAttribute("htmlOlAttributes")||i.writer.model.schema.checkAttribute(a,n)&&i.writer.setAttribute(n,s||{},a))}}function NE(n){return n==="numbered"||n=="customNumbered"?"htmlOlAttributes":"htmlUlAttributes"}class Uae extends X{static get requires(){return[It,Bl]}static get pluginName(){return"CustomElementSupport"}init(){const t=this.editor.plugins.get(It),e=this.editor.plugins.get(Bl);t.on("register:$customElement",(r,i)=>{r.stop();const o=this.editor,s=o.model.schema,a=o.conversion,l=o.editing.view.domConverter.unsafeElements,c=o.data.htmlProcessor.domConverter.preElements;s.register(i.model,i.modelSchema),s.extend(i.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),o.data.htmlProcessor.domConverter.registerRawContentMatcher({name:"template"}),a.for("upcast").elementToElement({view:/.*/,model:(u,d)=>{if(u.name=="$comment"||!Wae(u.name)||e.getDefinitionsForView(u.name).size)return null;l.includes(u.name)||l.push(u.name),c.includes(u.name)||c.push(u.name);const h=d.writer.createElement(i.model,{htmlElementName:u.name}),f=t.processViewAttributes(u,d);f&&d.writer.setAttribute("htmlCustomElementAttributes",f,h);let m;if(u.is("element","template")&&u.getCustomProperty("$rawContent"))m=u.getCustomProperty("$rawContent");else{const v=new Fg(u.document).createDocumentFragment(u),p=o.data.htmlProcessor.domConverter.viewToDom(v),b=p.firstChild;for(;b.firstChild;)p.appendChild(b.firstChild);b.remove(),m=o.data.htmlProcessor.htmlWriter.getHtml(p)}d.writer.setAttribute("htmlContent",m,h);for(const{item:g}of o.editing.view.createRangeIn(u))d.consumable.consume(g,{name:!0});return h},converterPriority:"low"}),a.for("editingDowncast").elementToElement({model:{name:i.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(u,{writer:d})=>{const h=u.getAttribute("htmlElementName"),f=d.createRawElement(h);return u.hasAttribute("htmlCustomElementAttributes")&&vi(d,u.getAttribute("htmlCustomElementAttributes"),f),f}}),a.for("dataDowncast").elementToElement({model:{name:i.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(u,{writer:d})=>{const h=u.getAttribute("htmlElementName"),f=u.getAttribute("htmlContent"),m=d.createRawElement(h,null,(g,v)=>{v.setContentOf(g,f)});return u.hasAttribute("htmlCustomElementAttributes")&&vi(d,u.getAttribute("htmlCustomElementAttributes"),m),m}})})}}function Wae(n){try{document.createElement(n)}catch{return!1}return!0}class qae extends X{static get pluginName(){return"GeneralHtmlSupport"}static get requires(){return[It,xae,Eae,Tae,Sae,Iae,Dae,Bae,zae,Hae,Uae]}init(){const t=this.editor,e=t.plugins.get(It);e.loadAllowedEmptyElementsConfig(t.config.get("htmlSupport.allowEmpty")||[]),e.loadAllowedConfig(t.config.get("htmlSupport.allow")||[]),e.loadDisallowedConfig(t.config.get("htmlSupport.disallow")||[])}getGhsAttributeNameForElement(t){const e=this.editor.plugins.get("DataSchema"),r=Array.from(e.getDefinitionsForView(t,!1)),i=r.find(o=>o.isInline&&!r[0].isObject);return i?i.model:Sr(t)}addModelHtmlClass(t,e,r){const i=this.editor.model,o=this.getGhsAttributeNameForElement(t);i.change(s=>{for(const a of Ta(i,r,o))Ea(s,a,o,"classes",l=>{for(const c of pt(e))l.add(c)})})}removeModelHtmlClass(t,e,r){const i=this.editor.model,o=this.getGhsAttributeNameForElement(t);i.change(s=>{for(const a of Ta(i,r,o))Ea(s,a,o,"classes",l=>{for(const c of pt(e))l.delete(c)})})}setModelHtmlAttributes(t,e,r){const i=this.editor.model,o=this.getGhsAttributeNameForElement(t);i.change(s=>{for(const a of Ta(i,r,o))Ea(s,a,o,"attributes",l=>{for(const[c,u]of Object.entries(e))l.set(c,u)})})}removeModelHtmlAttributes(t,e,r){const i=this.editor.model,o=this.getGhsAttributeNameForElement(t);i.change(s=>{for(const a of Ta(i,r,o))Ea(s,a,o,"attributes",l=>{for(const c of pt(e))l.delete(c)})})}setModelHtmlStyles(t,e,r){const i=this.editor.model,o=this.getGhsAttributeNameForElement(t);i.change(s=>{for(const a of Ta(i,r,o))Ea(s,a,o,"styles",l=>{for(const[c,u]of Object.entries(e))l.set(c,u)})})}removeModelHtmlStyles(t,e,r){const i=this.editor.model,o=this.getGhsAttributeNameForElement(t);i.change(s=>{for(const a of Ta(i,r,o))Ea(s,a,o,"styles",l=>{for(const c of pt(e))l.delete(c)})})}}function*Ta(n,t,e){if(t)if(!(Symbol.iterator in t)&&t.is("documentSelection")&&t.isCollapsed)n.schema.checkAttributeInSelection(t,e)&&(yield t);else for(const r of Gae(n,t,e))yield*r.getItems({shallow:!0})}function Gae(n,t,e){return!(Symbol.iterator in t)&&(t.is("node")||t.is("$text")||t.is("$textProxy"))?n.schema.checkAttribute(t,e)?[n.createRangeOn(t)]:[]:n.schema.getValidRanges(n.createSelection(t).getRanges(),e)}class Kae extends X{static get pluginName(){return"HtmlComment"}init(){const t=this.editor,e=new Map;t.data.processor.skipComments=!1,t.model.schema.addAttributeCheck((r,i)=>{if(r.endsWith("$root")&&i.startsWith("$comment"))return!0}),t.conversion.for("upcast").elementToMarker({view:"$comment",model:r=>{const o=`$comment:${ur()}`,s=r.getCustomProperty("$rawContent");return e.set(o,s),o}}),t.conversion.for("dataDowncast").markerToElement({model:"$comment",view:(r,{writer:i})=>{let o;for(const c of this.editor.model.document.getRootNames())if(o=this.editor.model.document.getRoot(c),o.hasAttribute(r.markerName))break;const s=r.markerName,a=o.getAttribute(s),l=i.createUIElement("$comment");return i.setCustomProperty("$rawContent",a,l),l}}),t.model.document.registerPostFixer(r=>{let i=!1;const o=t.model.document.differ.getChangedMarkers().filter(s=>s.name.startsWith("$comment:"));for(const s of o){const{oldRange:a,newRange:l}=s.data;if(!(a&&l&&a.root==l.root)){if(a){const c=a.root;c.hasAttribute(s.name)&&(r.removeAttribute(s.name,c),i=!0)}if(l){const c=l.root;c.rootName=="$graveyard"?(r.removeMarker(s.name),i=!0):c.hasAttribute(s.name)||(r.setAttribute(s.name,e.get(s.name)||"",c),i=!0)}}}return i}),t.data.on("set",()=>{for(const r of t.model.markers.getMarkersGroup("$comment"))this.removeHtmlComment(r.name)},{priority:"high"}),t.model.on("deleteContent",(r,[i])=>{for(const o of i.getRanges()){const s=t.model.schema.getLimitElement(o),a=t.model.createPositionAt(s,0),l=t.model.createPositionAt(s,"end");let c;a.isTouching(o.start)&&l.isTouching(o.end)?c=this.getHtmlCommentsInRange(t.model.createRange(a,l)):c=this.getHtmlCommentsInRange(o,{skipBoundaries:!0});for(const u of c)this.removeHtmlComment(u)}},{priority:"high"})}createHtmlComment(t,e){const r=ur(),o=this.editor.model,s=o.document.getRoot(t.root.rootName),a=`$comment:${r}`;return o.change(l=>{const c=l.createRange(t);return l.addMarker(a,{usingOperation:!0,affectsData:!0,range:c}),l.setAttribute(a,e,s),a})}removeHtmlComment(t){const e=this.editor,r=e.model.markers.get(t);return r?(e.model.change(i=>{i.removeMarker(r)}),!0):!1}getHtmlCommentData(t){const r=this.editor.model.markers.get(t);if(!r)return null;let i="";for(const o of this.editor.model.document.getRoots())if(o.hasAttribute(t)){i=o.getAttribute(t);break}return{content:i,position:r.getStart()}}getHtmlCommentsInRange(t,{skipBoundaries:e=!1}={}){const r=!e;return Array.from(this.editor.model.markers.getMarkersGroup("$comment")).filter(o=>i(o,t)).map(o=>o.name);function i(o,s){const a=o.getRange().start;return(a.isAfter(s.start)||r&&a.isEqual(s.start))&&(a.isBefore(s.end)||r&&a.isEqual(s.end))}}}class Zae extends CI{toView(t){if(!/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(t.trim().slice(0,1e4)))return super.toView(t);let e="",r="";t=t.trim().replace(/<\?xml\s[^?]*\?>/i,a=>(r=a,"")),t=t.trim().replace(/^<!DOCTYPE\s[^>]*?>/i,a=>(e=a,""));const i=this._toDom(t),o=this.domConverter.domToView(i,{skipComments:this.skipComments}),s=new Fg(o.document);return s.setCustomProperty("$fullPageDocument",i.ownerDocument.documentElement.outerHTML,o),e&&s.setCustomProperty("$fullPageDocType",e,o),r&&s.setCustomProperty("$fullPageXmlDeclaration",r,o),o}toData(t){let e=super.toData(t);const r=t.getCustomProperty("$fullPageDocument"),i=t.getCustomProperty("$fullPageDocType"),o=t.getCustomProperty("$fullPageXmlDeclaration");return r&&(e=r.replace(/<\/body\s*>/,e+"$&"),i&&(e=i+`
`+e),o&&(e=o+`
`+e)),e}}class Yae extends X{static get pluginName(){return"FullPage"}init(){const t=this.editor,e=["$fullPageDocument","$fullPageDocType","$fullPageXmlDeclaration"];t.data.processor=new Zae(t.data.viewDocument),t.model.schema.extend("$root",{allowAttributes:e}),t.data.on("toModel",(r,[i])=>{const o=t.model.document.getRoot();t.model.change(s=>{for(const a of e){const l=i.getCustomProperty(a);l&&s.setAttribute(a,l,o)}})},{priority:"low"}),t.data.on("toView",(r,[i])=>{if(!i.is("rootElement"))return;const o=i,s=r.return;if(!o.hasAttribute("$fullPageDocument"))return;const a=new Fg(s.document);for(const l of e){const c=o.getAttribute(l);c&&a.setCustomProperty(l,c,s)}},{priority:"low"}),t.data.on("set",()=>{const r=t.model.document.getRoot();t.model.change(i=>{for(const o of e)r.hasAttribute(o)&&i.removeAttribute(o,r)})},{priority:"high"}),t.data.on("get",(r,i)=>{i[0]||(i[0]={}),i[0].trim=!1},{priority:"high"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jae extends X{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new gC(t)),t.commands.add("outdent",new gC(t))}}class Xae extends X{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,r=t.t,i=e.uiLanguageDirection=="ltr"?be.indent:be.outdent,o=e.uiLanguageDirection=="ltr"?be.outdent:be.indent;this._defineButton("indent",r("Increase indent"),i),this._defineButton("outdent",r("Decrease indent"),o)}_defineButton(t,e,r){const i=this.editor;i.ui.componentFactory.add(t,()=>{const o=this._createButton(we,t,e,r);return o.set({tooltip:!0}),o}),i.ui.componentFactory.add("menuBar:"+t,()=>this._createButton(ze,t,e,r))}_createButton(t,e,r,i){const o=this.editor,s=o.commands.get(e),a=new t(o.locale);return a.set({label:r,icon:i}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>{o.execute(e),o.editing.view.focus()}),a}}class Qae extends X{static get pluginName(){return"Indent"}static get requires(){return[Jae,Xae]}}class Rh extends Ae{constructor(e,r){super(e);w(this,"_indentBehavior");this._indentBehavior=r}refresh(){const r=this.editor.model,i=Dt(r.document.selection.getSelectedBlocks());if(!i||!this._isIndentationChangeAllowed(i)){this.isEnabled=!1;return}this.isEnabled=this._indentBehavior.checkEnabled(i.getAttribute("blockIndent"))}execute(){const e=this.editor.model,r=this._getBlocksToChange();e.change(i=>{for(const o of r){const s=o.getAttribute("blockIndent"),a=this._indentBehavior.getNextIndent(s);a?i.setAttribute("blockIndent",a,o):i.removeAttribute("blockIndent",o)}})}_getBlocksToChange(){const r=this.editor.model.document.selection;return Array.from(r.getSelectedBlocks()).filter(o=>this._isIndentationChangeAllowed(o))}_isIndentationChangeAllowed(e){const r=this.editor;return r.model.schema.checkAttribute(e,"blockIndent")?!r.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!r.plugins.get("ListUtils").isListItemBlock(e):!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ME{constructor(t){w(this,"isForward");w(this,"offset");w(this,"unit");this.isForward=t.direction==="forward",this.offset=t.offset,this.unit=t.unit}checkEnabled(t){const e=parseFloat(t||"0");return this.isForward||e>0}getNextIndent(t){const e=parseFloat(t||"0");if(!(!t||t.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const i=this.isForward?this.offset:-this.offset,o=e+i;return o>0?o+this.unit:void 0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LE{constructor(t){w(this,"isForward");w(this,"classes");this.isForward=t.direction==="forward",this.classes=t.classes}checkEnabled(t){const e=this.classes.indexOf(t);return this.isForward?e<this.classes.length-1:e>=0}getNextIndent(t){const e=this.classes.indexOf(t),r=this.isForward?1:-1;return this.classes[e+r]}}const ele=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class tle extends X{constructor(t){super(t),t.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const t=this.editor,e=t.config.get("indentBlock");e.classes&&e.classes.length?(this._setupConversionUsingClasses(e.classes),t.commands.add("indentBlock",new Rh(t,new LE({direction:"forward",classes:e.classes}))),t.commands.add("outdentBlock",new Rh(t,new LE({direction:"backward",classes:e.classes})))):(t.data.addStyleProcessorRules(OQ),this._setupConversionUsingOffset(),t.commands.add("indentBlock",new Rh(t,new ME({direction:"forward",offset:e.offset,unit:e.unit}))),t.commands.add("outdentBlock",new Rh(t,new ME({direction:"backward",offset:e.offset,unit:e.unit}))))}afterInit(){const t=this.editor,e=t.model.schema,r=t.commands.get("indent"),i=t.commands.get("outdent"),o=t.config.get("heading.options");(o&&o.map(l=>l.model)||ele).forEach(l=>{e.isRegistered(l)&&e.extend(l,{allowAttributes:"blockIndent"})}),e.setAttributeProperties("blockIndent",{isFormatting:!0}),r.registerChildCommand(t.commands.get("indentBlock")),i.registerChildCommand(t.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const t=this.editor.conversion,r=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";t.for("upcast").attributeToAttribute({view:{styles:{[r]:/[\s\S]+/}},model:{key:"blockIndent",value:i=>{if(!i.is("element","li"))return i.getStyle(r)}}}),t.for("downcast").attributeToAttribute({model:"blockIndent",view:i=>({key:"style",value:{[r]:i}})})}_setupConversionUsingClasses(t){const e={model:{key:"blockIndent",values:[]},view:{}};for(const r of t)e.model.values.push(r),e.view[r]={key:"class",value:[r]};this.editor.conversion.attributeToAttribute(e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nle{constructor(){w(this,"_definitions",new Set)}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,r,i)=>{if(!i.consumable.test(r.item,"attribute:linkHref")||!(r.item.is("selection")||i.schema.isInline(r.item)))return;const o=i.writer,s=o.document.selection;for(const a of this._definitions){const l=o.createAttributeElement("a",a.attributes,{priority:5});a.classes&&o.addClass(a.classes,l);for(const c in a.styles)o.setStyle(c,a.styles[c],l);o.setCustomProperty("link",!0,l),a.callback(r.attributeNewValue)?r.item.is("selection")?o.wrap(s.getFirstRange(),l):o.wrap(i.mapper.toViewRange(r.range),l):o.unwrap(i.mapper.toViewRange(r.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,r,{writer:i,mapper:o})=>{const s=o.toViewElement(r.item),a=Array.from(s.getChildren()).find(l=>l.is("element","a"));for(const l of this._definitions){const c=Zi(l.attributes);if(l.callback(r.attributeNewValue)){for(const[u,d]of c)u==="class"?i.addClass(d,a):i.setAttribute(u,d,a);l.classes&&i.addClass(l.classes,a);for(const u in l.styles)i.setStyle(u,l.styles[u],a)}else{for(const[u,d]of c)u==="class"?i.removeClass(d,a):i.removeAttribute(u,a);l.classes&&i.removeClass(l.classes,a);for(const u in l.styles)i.removeStyle(u,a)}}})}}}const rle=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ile="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",ole=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,sle=/^((\w+:(\/{2,})?)|(\W))/i,ale=["https?","ftps?","mailto"],Oh="Ctrl+K";function lle(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function DE(n,{writer:t}){const e=t.createAttributeElement("a",{href:n},{priority:5});return t.setCustomProperty("link",!0,e),e}function J6(n,t=ale){const e=String(n),r=t.join("|"),i=new RegExp(`${ile.replace("<protocols>",r)}`,"i");return cle(e,i)?e:"#"}function cle(n,t){return!!n.replace(rle,"").match(t)}function ule(n,t){const e={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return t.forEach(r=>("label"in r&&e[r.label]&&(r.label=e[r.label]),r)),t}function dle(n){const t=[];if(n)for(const[e,r]of Object.entries(n)){const i=Object.assign({},r,{id:`link${FR(e)}`});t.push(i)}return t}function Hv(n,t){return n?t.checkAttribute(n.name,"linkHref"):!1}function hle(n){return ole.test(n)}function Xw(n,t){const e=hle(n)?"mailto:":t,r=!!e&&!X6(n);return n&&r?e+n:n}function X6(n){return sle.test(n)}function BE(n){window.open(n,"_blank","noopener")}class fle extends Ae{constructor(){super(...arguments);w(this,"manualDecorators",new zt);w(this,"automaticDecorators",new nle)}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,r=e.document.selection,i=r.getSelectedElement()||Dt(r.getSelectedBlocks());Hv(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(r,"linkHref"));for(const o of this.manualDecorators)o.value=this._getDecoratorStateFromModel(o.id)}execute(e,r={}){const i=this.editor.model,o=i.document.selection,s=[],a=[];for(const l in r)r[l]?s.push(l):a.push(l);i.change(l=>{if(o.isCollapsed){const c=o.getFirstPosition();if(o.hasAttribute("linkHref")){const u=FE(o);let d=Md(c,"linkHref",o.getAttribute("linkHref"),i);o.getAttribute("linkHref")===u&&(d=this._updateLinkContent(i,l,d,e)),l.setAttribute("linkHref",e,d),s.forEach(h=>{l.setAttribute(h,!0,d)}),a.forEach(h=>{l.removeAttribute(h,d)}),l.setSelection(l.createPositionAfter(d.end.nodeBefore))}else if(e!==""){const u=Zi(o.getAttributes());u.set("linkHref",e),s.forEach(h=>{u.set(h,!0)});const{end:d}=i.insertContent(l.createText(e,u),c);l.setSelection(d)}["linkHref",...s,...a].forEach(u=>{l.removeSelectionAttribute(u)})}else{const c=i.schema.getValidRanges(o.getRanges(),"linkHref"),u=[];for(const h of o.getSelectedBlocks())i.schema.checkAttribute(h,"linkHref")&&u.push(l.createRangeOn(h));const d=u.slice();for(const h of c)this._isRangeToUpdate(h,u)&&d.push(h);for(const h of d){let f=h;if(d.length===1){const m=FE(o);o.getAttribute("linkHref")===m&&(f=this._updateLinkContent(i,l,h,e),l.setSelection(l.createSelection(f)))}l.setAttribute("linkHref",e,f),s.forEach(m=>{l.setAttribute(m,!0,f)}),a.forEach(m=>{l.removeAttribute(m,f)})}}})}_getDecoratorStateFromModel(e){const r=this.editor.model,i=r.document.selection,o=i.getSelectedElement();return Hv(o,r.schema)?o.getAttribute(e):i.getAttribute(e)}_isRangeToUpdate(e,r){for(const i of r)if(i.containsRange(e))return!1;return!0}_updateLinkContent(e,r,i,o){const s=r.createText(o,{linkHref:o});return e.insertContent(s,i)}}function FE(n){if(n.isCollapsed){const t=n.getFirstPosition();return t.textNode&&t.textNode.data}else{const t=Array.from(n.getFirstRange().getItems());if(t.length>1)return null;const e=t[0];return e.is("$text")||e.is("$textProxy")?e.data:null}}class mle extends Ae{refresh(){const t=this.editor.model,e=t.document.selection,r=e.getSelectedElement();Hv(r,t.schema)?this.isEnabled=t.schema.checkAttribute(r,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,r=e.document.selection,i=t.commands.get("link");e.change(o=>{const s=r.isCollapsed?[Md(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),e)]:e.schema.getValidRanges(r.getRanges(),"linkHref");for(const a of s)if(o.removeAttribute("linkHref",a),i)for(const l of i.manualDecorators)o.removeAttribute(l.id,a)})}}class gle extends Ke(){constructor({id:e,label:r,attributes:i,classes:o,styles:s,defaultValue:a}){super();w(this,"id");w(this,"defaultValue");w(this,"label");w(this,"attributes");w(this,"classes");w(this,"styles");this.id=e,this.set("value",void 0),this.defaultValue=a,this.label=r,this.attributes=i,this.classes=o,this.styles=s}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const ple="ck-link_selected",VE="automatic",ble="manual",vle=/^(https?:)?\/\//;class Q6 extends X{static get pluginName(){return"LinkEditing"}static get requires(){return[xm,_6,Qo]}constructor(t){super(t),t.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const t=this.editor,e=this.editor.config.get("link.allowedProtocols");t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:DE}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,s)=>DE(J6(o,e),s)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),t.commands.add("link",new fle(t)),t.commands.add("unlink",new mle(t));const r=ule(t.t,dle(t.config.get("link.decorators")));this._enableAutomaticDecorators(r.filter(o=>o.mode===VE)),this._enableManualDecorators(r.filter(o=>o.mode===ble)),t.plugins.get(xm).registerAttribute("linkHref"),T6(t,"linkHref","a",ple),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,i=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:VE,callback:o=>!!o&&vle.test(o),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(t),i.length&&e.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,i=e.commands.get("link").manualDecorators;t.forEach(o=>{e.model.schema.extend("$text",{allowAttributes:o.id});const s=new gle(o);i.add(s),e.conversion.for("downcast").attributeToElement({model:s.id,view:(a,{writer:l,schema:c},{item:u})=>{if((u.is("selection")||c.isInline(u))&&a){const d=l.createAttributeElement("a",s.attributes,{priority:5});s.classes&&l.addClass(s.classes,d);for(const h in s.styles)l.setStyle(h,s.styles[h],d);return l.setCustomProperty("link",!0,d),d}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...s._createPattern()},model:{key:s.id}})})}_enableLinkOpen(){const t=this.editor,r=t.editing.view.document;this.listenTo(r,"click",(i,o)=>{if(!(Ee.isMac?o.domEvent.metaKey:o.domEvent.ctrlKey))return;let a=o.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const l=a.getAttribute("href");l&&(i.stop(),o.preventDefault(),BE(l))},{context:"$capture"}),this.listenTo(r,"keydown",(i,o)=>{const a=t.commands.get("link").value;a&&o.keyCode===Me.enter&&o.altKey&&(i.stop(),BE(a))})}_enableSelectionAttributesFixer(){const e=this.editor.model,r=e.document.selection;this.listenTo(r,"change:attribute",(i,{attributeKeys:o})=>{!o.includes("linkHref")||r.hasAttribute("linkHref")||e.change(s=>{yle(s,wle(e.schema))})})}_enableClipboardIntegration(){const t=this.editor,e=t.model,r=this.editor.config.get("link.defaultProtocol");r&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(i,o)=>{e.change(s=>{const a=s.createRangeIn(o.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const c=Xw(l.getAttribute("linkHref"),r);s.setAttribute("linkHref",c,l)}})})}}function yle(n,t){n.removeSelectionAttribute("linkHref");for(const e of t)n.removeSelectionAttribute(e)}function wle(n){return n.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}class _le extends ce{constructor(e,r,i){super(e);w(this,"focusTracker",new yt);w(this,"keystrokes",new Nt);w(this,"urlInputView");w(this,"saveButtonView");w(this,"cancelButtonView");w(this,"_manualDecoratorSwitches");w(this,"children");w(this,"_validators");w(this,"_focusables",new En);w(this,"_focusCycler");const o=e.t;this._validators=i,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),be.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),be.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(r),this.children=this._createFormChildren(r.manualDecorators),this._focusCycler=new zn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];r.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,r)=>(e[r.name]=r.isOn,e),{})}render(){super.render(),jg({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const r=e(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,r=new tn(this.locale,di);return r.fieldView.inputMode="url",r.label=e("Link URL"),r}_createButton(e,r,i,o){const s=new we(this.locale);return s.set({label:e,icon:r,tooltip:!0}),s.extendTemplate({attributes:{class:i}}),o&&s.delegate("execute").to(this,o),s}_createManualDecoratorSwitches(e){const r=this.createCollection();for(const i of e.manualDecorators){const o=new Ll(this.locale);o.set({name:i.id,label:i.label,withText:!0}),o.bind("isOn").toMany([i,e],"value",(s,a)=>a===void 0&&s===void 0?!!i.defaultValue:!!s),o.on("execute",()=>{i.set("value",!o.isOn)}),r.add(o)}return r}_createFormChildren(e){const r=this.createCollection();if(r.add(this.urlInputView),e.length){const i=new ce;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(o=>({tag:"li",children:[o],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),r.add(i)}return r.add(this.saveButtonView),r.add(this.cancelButtonView),r}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var xle='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class kle extends ce{constructor(e,r={}){super(e);w(this,"focusTracker",new yt);w(this,"keystrokes",new Nt);w(this,"previewButtonView");w(this,"unlinkButtonView");w(this,"editButtonView");w(this,"_focusables",new En);w(this,"_focusCycler");w(this,"_linkConfig");const i=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),xle,"unlink"),this.editButtonView=this._createButton(i("Edit link"),be.pencil,"edit"),this.set("href",void 0),this._linkConfig=r,this._focusCycler=new zn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,r,i){const o=new we(this.locale);return o.set({label:e,icon:r,tooltip:!0}),o.delegate("execute").to(this,i),o}_createPreviewButton(){const e=new we(this.locale),r=this.bindTemplate,i=this.t;return e.set({withText:!0,tooltip:i("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:r.to("href",o=>o&&J6(o,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",o=>o||i("This link has no URL")),e.bind("isEnabled").to(this,"href",o=>!!o),e.template.tag="a",e.template.eventListeners={},e}}var Cle='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';const ri="link-ui";class Ele extends X{constructor(){super(...arguments);w(this,"actionsView",null);w(this,"formView",null);w(this,"_balloon")}static get requires(){return[Gs]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,r=this.editor.t;e.editing.view.addObserver(iQ),this._balloon=e.plugins.get(Gs),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:ri,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:ri,view:(i,{writer:o})=>{if(!i.markerRange.isCollapsed)return null;const s=o.createUIElement("span");return o.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],s),s}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Create link"),keystroke:Oh},{label:r("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,r=new kle(e.locale,e.config.get("link")),i=e.commands.get("link"),o=e.commands.get("unlink");return r.bind("href").to(i,"value"),r.editButtonView.bind("isEnabled").to(i),r.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(r,"edit",()=>{this._addFormView()}),this.listenTo(r,"unlink",()=>{e.execute("unlink"),this._hideUI()}),r.keystrokes.set("Esc",(s,a)=>{this._hideUI(),a()}),r.keystrokes.set(Oh,(s,a)=>{this._addFormView(),a()}),r}_createFormView(){const e=this.editor,r=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),o=new(t6(_le))(e.locale,r,Tle(e));return o.urlInputView.fieldView.bind("value").to(r,"value"),o.urlInputView.bind("isEnabled").to(r,"isEnabled"),o.saveButtonView.bind("isEnabled").to(r,"isEnabled"),this.listenTo(o,"submit",()=>{if(o.isValid()){const{value:s}=o.urlInputView.fieldView.element,a=Xw(s,i);e.execute("link",a,o.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(o.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(o,"cancel",()=>{this._closeFormView()}),o.keystrokes.set("Esc",(s,a)=>{this._closeFormView(),a()}),o}_createToolbarLinkButton(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const r=this._createButton(we);return r.set({tooltip:!0}),r}),e.ui.componentFactory.add("menuBar:link",()=>{const r=this._createButton(ze);return r.set({role:"menuitemcheckbox"}),r})}_createButton(e){const r=this.editor,i=r.locale,o=r.commands.get("link"),s=new e(r.locale),a=i.t;return s.set({label:a("Link"),icon:Cle,keystroke:Oh,isToggleable:!0}),s.bind("isEnabled").to(o,"isEnabled"),s.bind("isOn").to(o,"value",l=>!!l),this.listenTo(s,"execute",()=>this._showUI(!0)),s}_enableBalloonActivators(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Oh,(i,o)=>{o(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,r)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),r())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,r)=>{this._isUIVisible&&(this._hideUI(),r())}),Id({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const r=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=r.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,r=e.editing.view.document;let i=this._getSelectedLinkElement(),o=a();const s=()=>{const l=this._getSelectedLinkElement(),c=a();i&&!l||!i&&c!==o?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=l,o=c};function a(){return r.selection.focus.getAncestors().reverse().find(l=>l.is("element"))}this.listenTo(e.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,r=this.editor.model,i=e.document;let o;if(r.markers.has(ri)){const s=Array.from(this.editor.editing.mapper.markerNameToElements(ri)),a=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));o=e.domConverter.viewRangeToDom(a)}else o=()=>{const s=this._getSelectedLinkElement();return s?e.domConverter.mapViewToDom(s):e.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:o}}_getSelectedLinkElement(){const e=this.editor.editing.view,r=e.document.selection,i=r.getSelectedElement();if(r.isCollapsed||i&&At(i))return D0(r.getFirstPosition());{const o=r.getFirstRange().getTrimmed(),s=D0(o.start),a=D0(o.end);return!s||s!=a?null:e.createRangeIn(s).getTrimmed().isEqual(o)?s:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(r=>{const i=e.document.selection.getFirstRange();if(e.markers.has(ri))r.updateMarker(ri,{range:i});else if(i.start.isAtEnd){const o=i.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:i});r.addMarker(ri,{usingOperation:!1,affectsData:!1,range:r.createRange(o,i.end)})}else r.addMarker(ri,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(ri)&&e.change(r=>{r.removeMarker(ri)})}}function D0(n){return n.getAncestors().find(t=>lle(t))||null}function Tle(n){const t=n.t,e=n.config.get("link.allowCreatingEmptyLinks");return[r=>{if(!e&&!r.url.length)return t("Link URL must not be empty.")}]}const Sle=4,eN=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),Ale=2;class tN extends X{static get requires(){return[Xl,Q6]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(t,e){return e.textNode&&e.textNode.hasAttribute("linkHref")?Md(e,"linkHref",e.textNode.getAttribute("linkHref"),t):null}_selectEntireLinks(t,e){const i=this.editor.model,o=i.document.selection,s=o.getFirstPosition(),a=o.getLastPosition();let l=e.getJoined(this._expandLinkRange(i,s)||e);l&&(l=l.getJoined(this._expandLinkRange(i,a)||e)),l&&(l.start.isBefore(s)||l.end.isAfter(a))&&t.setSelection(l)}_enablePasteLinking(){const t=this.editor,e=t.model,r=e.document.selection,i=t.plugins.get("ClipboardPipeline"),o=t.commands.get("link");i.on("inputTransformation",(s,a)=>{if(!this.isEnabled||!o.isEnabled||r.isCollapsed||a.method!=="paste"||r.rangeCount>1)return;const l=r.getFirstRange(),c=a.dataTransfer.getData("text/plain");if(!c)return;const u=c.match(eN);u&&u[2]===c&&(e.change(d=>{this._selectEntireLinks(d,l),o.execute(c)}),s.stop())},{priority:"high"})}_enableTypingHandling(){const t=this.editor,e=new E6(t.model,r=>{if(!Ple(r))return;const i=jE(r.substr(0,r.length-1));if(i)return{url:i}});e.on("matched:data",(r,i)=>{const{batch:o,range:s,url:a}=i;if(!o.isTyping)return;const l=s.end.getShiftedBy(-1),c=l.getShiftedBy(-a.length),u=t.model.createRange(c,l);this._applyAutoLink(a,u)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,r=t.commands.get("enter");r&&r.on("execute",()=>{const i=e.document.selection.getFirstPosition();if(!i.parent.previousSibling)return;const o=e.createRangeIn(i.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(o)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,r=t.commands.get("shiftEnter");r&&r.on("execute",()=>{const i=e.document.selection.getFirstPosition(),o=e.createRange(e.createPositionAt(i.parent,0),i.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(o)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:r,range:i}=C6(t,e),o=jE(r);if(o){const s=e.createRange(i.end.getShiftedBy(-o.length),i.end);this._applyAutoLink(o,s)}}_applyAutoLink(t,e){const r=this.editor.model,i=this.editor.config.get("link.defaultProtocol"),o=Xw(t,i);!this.isEnabled||!Rle(e,r)||!X6(o)||Ole(e)||this._persistAutoLink(o,e)}_persistAutoLink(t,e){const r=this.editor.model,i=this.editor.plugins.get("Delete");r.enqueueChange(o=>{o.setAttribute("linkHref",t,e),r.enqueueChange(()=>{i.requestUndoOnBackspace()})})}}function Ple(n){return n.length>Sle&&n[n.length-1]===" "&&n[n.length-2]!==" "}function jE(n){const t=eN.exec(n);return t?t[Ale]:null}function Rle(n,t){return t.schema.checkAttributeInSelection(t.createSelection(n),"linkHref")}function Ole(n){const t=n.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}class Ile extends X{static get requires(){return[Q6,Ele,tN]}static get pluginName(){return"Link"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Nle=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:t,listType:e}of Nle);function nN(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ql=nN();function Mle(n){Ql=n}const Lle=/[&<>"']/,Dle=/[&<>"']/g,Ble=/[<>"']|&(?!#?\w+;)/,Fle=/[<>"']|&(?!#?\w+;)/g,Vle={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$E=n=>Vle[n];function Wt(n,t){if(t){if(Lle.test(n))return n.replace(Dle,$E)}else if(Ble.test(n))return n.replace(Fle,$E);return n}const jle=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function rN(n){return n.replace(jle,(t,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const $le=/(^|[^\[])\^/g;function Ye(n,t){n=n.source||n,t=t||"";const e={replace:(r,i)=>(i=i.source||i,i=i.replace($le,"$1"),n=n.replace(r,i),e),getRegex:()=>new RegExp(n,t)};return e}const zle=/[^\w:]/g,Hle=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function zE(n,t,e){if(n){let r;try{r=decodeURIComponent(rN(e)).replace(zle,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}t&&!Hle.test(e)&&(e=Gle(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Ih={},Ule=/^[^:]+:\/*[^/]*$/,Wle=/^([^:]+:)[\s\S]*$/,qle=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Gle(n,t){Ih[" "+n]||(Ule.test(n)?Ih[" "+n]=n+"/":Ih[" "+n]=ff(n,"/",!0)),n=Ih[" "+n];const e=n.indexOf(":")===-1;return t.substring(0,2)==="//"?e?t:n.replace(Wle,"$1")+t:t.charAt(0)==="/"?e?t:n.replace(qle,"$1")+t:n+t}const Am={exec:function(){}};function Xr(n){let t=1,e,r;for(;t<arguments.length;t++){e=arguments[t];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}function HE(n,t){const e=n.replace(/\|/g,(o,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=e.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function ff(n,t,e){const r=n.length;if(r===0)return"";let i=0;for(;i<r;){const o=n.charAt(r-i-1);if(o===t&&!e)i++;else if(o!==t&&e)i++;else break}return n.substr(0,r-i)}function Kle(n,t){if(n.indexOf(t[1])===-1)return-1;const e=n.length;let r=0,i=0;for(;i<e;i++)if(n[i]==="\\")i++;else if(n[i]===t[0])r++;else if(n[i]===t[1]&&(r--,r<0))return i;return-1}function iN(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function UE(n,t){if(t<1)return"";let e="";for(;t>1;)t&1&&(e+=n),t>>=1,n+=n;return e+n}function WE(n,t,e,r){const i=t.href,o=t.title?Wt(t.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:e,href:i,title:o,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}else return{type:"image",raw:e,href:i,title:o,text:Wt(s)}}function Zle(n,t){const e=n.match(/^(\s+)(?:```)/);if(e===null)return t;const r=e[1];return t.split(`
`).map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[s]=o;return s.length>=r.length?i.slice(r.length):i}).join(`
`)}class Qw{constructor(t){this.options=t||Ql}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ff(r,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],i=Zle(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:i}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(/#$/.test(r)){const o=ff(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}const i={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const r=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r,i,o,s,a,l,c,u,d,h,f,m,g=e[1].trim();const v=g.length>1,p={type:"list",raw:"",ordered:v,start:v?+g.slice(0,-1):"",loose:!1,items:[]};g=v?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=v?g:"[*+-]");const b=new RegExp(`^( {0,3}${g})((?: [^\\n]*)?(?:\\n|$))`);for(;t&&(m=!1,!(!(e=b.exec(t))||this.rules.block.hr.test(t)));){if(r=e[0],t=t.substring(r.length),u=e[2].split(`
`,1)[0],d=t.split(`
`,1)[0],this.options.pedantic?(s=2,f=u.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,f=u.slice(s),s+=e[1].length),l=!1,!u&&/^ *$/.test(d)&&(r+=d+`
`,t=t.substring(d.length+1),m=!0),!m){const y=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;t&&(h=t.split(`
`,1)[0],u=h,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!y.test(u));){if(u.search(/[^ ]/)>=s||!u.trim())f+=`
`+u.slice(s);else if(!l)f+=`
`+u;else break;!l&&!u.trim()&&(l=!0),r+=h+`
`,t=t.substring(h.length+1)}}p.loose||(c?p.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(f),i&&(o=i[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),p.items.push({type:"list_item",raw:r,task:!!i,checked:o,loose:!1,text:f}),p.raw+=r}p.items[p.items.length-1].raw=r.trimRight(),p.items[p.items.length-1].text=f.trimRight(),p.raw=p.raw.trimRight();const _=p.items.length;for(a=0;a<_;a++){this.lexer.state.top=!1,p.items[a].tokens=this.lexer.blockTokens(p.items[a].text,[]);const y=p.items[a].tokens.filter(S=>S.type==="space"),k=y.every(S=>{const E=S.raw.split("");let C=0;for(const O of E)if(O===`
`&&(C+=1),C>1)return!0;return!1});!p.loose&&y.length&&k&&(p.loose=!0,p.items[a].loose=!0)}return p}}html(t){const e=this.rules.block.html.exec(t);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):Wt(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(t){const e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(t){const e=this.rules.block.table.exec(t);if(e){const r={type:"table",header:HE(e[1]).map(i=>({text:i})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=e[0];let i=r.align.length,o,s,a,l;for(o=0;o<i;o++)/^ *-+: *$/.test(r.align[o])?r.align[o]="right":/^ *:-+: *$/.test(r.align[o])?r.align[o]="center":/^ *:-+ *$/.test(r.align[o])?r.align[o]="left":r.align[o]=null;for(i=r.rows.length,o=0;o<i;o++)r.rows[o]=HE(r.rows[o],r.header.length).map(c=>({text:c}));for(i=r.header.length,s=0;s<i;s++)r.header[s].tokens=[],this.lexer.inlineTokens(r.header[s].text,r.header[s].tokens);for(i=r.rows.length,s=0;s<i;s++)for(l=r.rows[s],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return r}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e){const r={type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r={type:"paragraph",raw:e[0],text:e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(t){const e=this.rules.block.text.exec(t);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Wt(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Wt(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=ff(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=Kle(e[2],"()");if(s>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let i=e[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],o=s[3])}else o=e[3]?e[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),WE(e,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=e[i.toLowerCase()],!i||!i.href){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return WE(r,i,r[0],this.lexer)}}emStrong(t,e,r=""){let i=this.rules.inline.emStrong.lDelim.exec(t);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const o=i[1]||i[2]||"";if(!o||o&&(r===""||this.rules.inline.punctuation.exec(r))){const s=i[0].length-1;let a,l,c=s,u=0;const d=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,e=e.slice(-1*t.length+s);(i=d.exec(e))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=a.length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){u+=l;continue}if(c-=l,c>0)continue;if(l=Math.min(l,l+c+u),Math.min(s,l)%2){const f=t.slice(1,s+i.index+l);return{type:"em",raw:t.slice(0,s+i.index+l+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}const h=t.slice(2,s+i.index+l-1);return{type:"strong",raw:t.slice(0,s+i.index+l+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(/\n/g," ");const i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=Wt(r,!0),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(t,e){const r=this.rules.inline.autolink.exec(t);if(r){let i,o;return r[2]==="@"?(i=Wt(this.options.mangle?e(r[1]):r[1]),o="mailto:"+i):(i=Wt(r[1]),o=i),{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(t,e){let r;if(r=this.rules.inline.url.exec(t)){let i,o;if(r[2]==="@")i=Wt(this.options.mangle?e(r[0]):r[0]),o="mailto:"+i;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(s!==r[0]);i=Wt(r[0]),r[1]==="www."?o="http://"+i:o=i}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t,e){const r=this.rules.inline.text.exec(t);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Wt(r[0]):r[0]:i=Wt(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const _e={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Am,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};_e._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;_e._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;_e.def=Ye(_e.def).replace("label",_e._label).replace("title",_e._title).getRegex();_e.bullet=/(?:[*+-]|\d{1,9}[.)])/;_e.listItemStart=Ye(/^( *)(bull) */).replace("bull",_e.bullet).getRegex();_e.list=Ye(_e.list).replace(/bull/g,_e.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+_e.def.source+")").getRegex();_e._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";_e._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;_e.html=Ye(_e.html,"i").replace("comment",_e._comment).replace("tag",_e._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();_e.paragraph=Ye(_e._paragraph).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex();_e.blockquote=Ye(_e.blockquote).replace("paragraph",_e.paragraph).getRegex();_e.normal=Xr({},_e);_e.gfm=Xr({},_e.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});_e.gfm.table=Ye(_e.gfm.table).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex();_e.gfm.paragraph=Ye(_e._paragraph).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",_e.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex();_e.pedantic=Xr({},_e.normal,{html:Ye(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_e._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Am,paragraph:Ye(_e.normal._paragraph).replace("hr",_e.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_e.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const pe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Am,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Am,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};pe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";pe.punctuation=Ye(pe.punctuation).replace(/punctuation/g,pe._punctuation).getRegex();pe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;pe.escapedEmSt=/\\\*|\\_/g;pe._comment=Ye(_e._comment).replace("(?:-->|$)","-->").getRegex();pe.emStrong.lDelim=Ye(pe.emStrong.lDelim).replace(/punct/g,pe._punctuation).getRegex();pe.emStrong.rDelimAst=Ye(pe.emStrong.rDelimAst,"g").replace(/punct/g,pe._punctuation).getRegex();pe.emStrong.rDelimUnd=Ye(pe.emStrong.rDelimUnd,"g").replace(/punct/g,pe._punctuation).getRegex();pe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;pe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;pe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;pe.autolink=Ye(pe.autolink).replace("scheme",pe._scheme).replace("email",pe._email).getRegex();pe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;pe.tag=Ye(pe.tag).replace("comment",pe._comment).replace("attribute",pe._attribute).getRegex();pe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;pe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;pe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;pe.link=Ye(pe.link).replace("label",pe._label).replace("href",pe._href).replace("title",pe._title).getRegex();pe.reflink=Ye(pe.reflink).replace("label",pe._label).replace("ref",_e._label).getRegex();pe.nolink=Ye(pe.nolink).replace("ref",_e._label).getRegex();pe.reflinkSearch=Ye(pe.reflinkSearch,"g").replace("reflink",pe.reflink).replace("nolink",pe.nolink).getRegex();pe.normal=Xr({},pe);pe.pedantic=Xr({},pe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ye(/^!?\[(label)\]\((.*?)\)/).replace("label",pe._label).getRegex(),reflink:Ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",pe._label).getRegex()});pe.gfm=Xr({},pe.normal,{escape:Ye(pe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});pe.gfm.url=Ye(pe.gfm.url,"i").replace("email",pe.gfm._extended_email).getRegex();pe.breaks=Xr({},pe.gfm,{br:Ye(pe.br).replace("{2,}","*").getRegex(),text:Ye(pe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Yle(n){return n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function qE(n){let t="",e,r;const i=n.length;for(e=0;e<i;e++)r=n.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}class Xi{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ql,this.options.tokenizer=this.options.tokenizer||new Qw,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:_e.normal,inline:pe.normal};this.options.pedantic?(e.block=_e.pedantic,e.inline=pe.pedantic):this.options.gfm&&(e.block=_e.gfm,this.options.breaks?e.inline=pe.breaks:e.inline=pe.gfm),this.tokenizer.rules=e}static get rules(){return{block:_e,inline:pe}}static lex(t,e){return new Xi(e).lex(t)}static lexInline(t,e){return new Xi(e).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(t,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){this.options.pedantic&&(t=t.replace(/^ +$/gm,""));let r,i,o,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},t,e))?(t=t.substring(r.raw.length),e.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),i=e[e.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),i=e[e.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(o=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=e[e.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(r),s=o.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),i=e[e.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(r);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(t,e){this.inlineQueue.push({src:t,tokens:e})}inlineTokens(t,e=[]){let r,i,o,s=t,a,l,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+UE("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+UE("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},t,e))?(t=t.substring(r.raw.length),e.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),i=e[e.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),i=e[e.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(t,s,c)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(t,qE)){t=t.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t,qE))){t=t.substring(r.raw.length),e.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const d=t.slice(1);let h;this.options.extensions.startInline.forEach(function(f){h=f.call({lexer:this},d),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(o=t.substring(0,u+1))}if(r=this.tokenizer.inlineText(o,Yle)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),l=!0,i=e[e.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):e.push(r);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return e}}class e_{constructor(t){this.options=t||Ql}code(t,e,r){const i=(e||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(t,i);o!=null&&o!==t&&(r=!0,t=o)}return t=t.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Wt(i,!0)+'">'+(r?t:Wt(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:Wt(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
`+t+`</blockquote>
`}html(t){return t}heading(t,e,r,i){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+i.slug(r)+'">'+t+"</h"+e+`>
`:"<h"+e+">"+t+"</h"+e+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,e,r){const i=e?"ol":"ul",o=e&&r!==1?' start="'+r+'"':"";return"<"+i+o+`>
`+t+"</"+i+`>
`}listitem(t){return"<li>"+t+`</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return"<p>"+t+`</p>
`}table(t,e){return e&&(e="<tbody>"+e+"</tbody>"),`<table>
<thead>
`+t+`</thead>
`+e+`</table>
`}tablerow(t){return`<tr>
`+t+`</tr>
`}tablecell(t,e){const r=e.header?"th":"td";return(e.align?"<"+r+' align="'+e.align+'">':"<"+r+">")+t+"</"+r+`>
`}strong(t){return"<strong>"+t+"</strong>"}em(t){return"<em>"+t+"</em>"}codespan(t){return"<code>"+t+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return"<del>"+t+"</del>"}link(t,e,r){if(t=zE(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let i='<a href="'+Wt(t)+'"';return e&&(i+=' title="'+e+'"'),i+=">"+r+"</a>",i}image(t,e,r){if(t=zE(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let i='<img src="'+t+'" alt="'+r+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">",i}text(t){return t}}class oN{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,r){return""+r}image(t,e,r){return""+r}br(){return""}}class sN{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let r=t,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[t];do i++,r=t+"-"+i;while(this.seen.hasOwnProperty(r))}return e||(this.seen[t]=i,this.seen[r]=0),r}slug(t,e={}){const r=this.serialize(t);return this.getNextSafeSlug(r,e.dryrun)}}class Qi{constructor(t){this.options=t||Ql,this.options.renderer=this.options.renderer||new e_,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new oN,this.slugger=new sN}static parse(t,e){return new Qi(e).parse(t)}static parseInline(t,e){return new Qi(e).parseInline(t)}parse(t,e=!0){let r="",i,o,s,a,l,c,u,d,h,f,m,g,v,p,b,_,y,k,S;const E=t.length;for(i=0;i<E;i++){if(f=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(S=this.options.extensions.renderers[f.type].call({parser:this},f),S!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))){r+=S||"";continue}switch(f.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(f.tokens),f.depth,rN(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(f.text,f.lang,f.escaped);continue}case"table":{for(d="",u="",a=f.header.length,o=0;o<a;o++)u+=this.renderer.tablecell(this.parseInline(f.header[o].tokens),{header:!0,align:f.align[o]});for(d+=this.renderer.tablerow(u),h="",a=f.rows.length,o=0;o<a;o++){for(c=f.rows[o],u="",l=c.length,s=0;s<l;s++)u+=this.renderer.tablecell(this.parseInline(c[s].tokens),{header:!1,align:f.align[s]});h+=this.renderer.tablerow(u)}r+=this.renderer.table(d,h);continue}case"blockquote":{h=this.parse(f.tokens),r+=this.renderer.blockquote(h);continue}case"list":{for(m=f.ordered,g=f.start,v=f.loose,a=f.items.length,h="",o=0;o<a;o++)b=f.items[o],_=b.checked,y=b.task,p="",b.task&&(k=this.renderer.checkbox(_),v?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=k+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=k+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:k}):p+=k),p+=this.parse(b.tokens,v),h+=this.renderer.listitem(p,y,_);r+=this.renderer.list(h,m,g);continue}case"html":{r+=this.renderer.html(f.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{for(h=f.tokens?this.parseInline(f.tokens):f.text;i+1<E&&t[i+1].type==="text";)f=t[++i],h+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);r+=e?this.renderer.paragraph(h):h;continue}default:{const C='Token with "'+f.type+'" type was not found.';if(this.options.silent){console.error(C);return}else throw new Error(C)}}}return r}parseInline(t,e){e=e||this.renderer;let r="",i,o,s;const a=t.length;for(i=0;i<a;i++){if(o=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(s=this.options.extensions.renderers[o.type].call({parser:this},o),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){r+=s||"";continue}switch(o.type){case"escape":{r+=e.text(o.text);break}case"html":{r+=e.html(o.text);break}case"link":{r+=e.link(o.href,o.title,this.parseInline(o.tokens,e));break}case"image":{r+=e.image(o.href,o.title,o.text);break}case"strong":{r+=e.strong(this.parseInline(o.tokens,e));break}case"em":{r+=e.em(this.parseInline(o.tokens,e));break}case"codespan":{r+=e.codespan(o.text);break}case"br":{r+=e.br();break}case"del":{r+=e.del(this.parseInline(o.tokens,e));break}case"text":{r+=e.text(o.text);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return r}}function Te(n,t,e){if(typeof n>"u"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof t=="function"&&(e=t,t=null),t=Xr({},Te.defaults,t||{}),iN(t),e){const r=t.highlight;let i;try{i=Xi.lex(n,t)}catch(a){return e(a)}const o=function(a){let l;if(!a)try{t.walkTokens&&Te.walkTokens(i,t.walkTokens),l=Qi.parse(i,t)}catch(c){a=c}return t.highlight=r,a?e(a):e(null,l)};if(!r||r.length<3||(delete t.highlight,!i.length))return o();let s=0;Te.walkTokens(i,function(a){a.type==="code"&&(s++,setTimeout(()=>{r(a.text,a.lang,function(l,c){if(l)return o(l);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),s--,s===0&&o()})},0))}),s===0&&o();return}try{const r=Xi.lex(n,t);return t.walkTokens&&Te.walkTokens(r,t.walkTokens),Qi.parse(r,t)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Wt(r.message+"",!0)+"</pre>";throw r}}Te.options=Te.setOptions=function(n){return Xr(Te.defaults,n),Mle(Te.defaults),Te};Te.getDefaults=nN;Te.defaults=Ql;Te.use=function(...n){const t=Xr({},...n),e=Te.defaults.extensions||{renderers:{},childTokens:{}};let r;n.forEach(i=>{if(i.extensions&&(r=!0,i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const s=e.renderers?e.renderers[o.name]:null;s?e.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:e.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)})),i.renderer){const o=Te.defaults.renderer||new e_;for(const s in i.renderer){const a=o[s];o[s]=(...l)=>{let c=i.renderer[s].apply(o,l);return c===!1&&(c=a.apply(o,l)),c}}t.renderer=o}if(i.tokenizer){const o=Te.defaults.tokenizer||new Qw;for(const s in i.tokenizer){const a=o[s];o[s]=(...l)=>{let c=i.tokenizer[s].apply(o,l);return c===!1&&(c=a.apply(o,l)),c}}t.tokenizer=o}if(i.walkTokens){const o=Te.defaults.walkTokens;t.walkTokens=function(s){i.walkTokens.call(this,s),o&&o.call(this,s)}}r&&(t.extensions=e),Te.setOptions(t)})};Te.walkTokens=function(n,t){for(const e of n)switch(t.call(Te,e),e.type){case"table":{for(const r of e.header)Te.walkTokens(r.tokens,t);for(const r of e.rows)for(const i of r)Te.walkTokens(i.tokens,t);break}case"list":{Te.walkTokens(e.items,t);break}default:Te.defaults.extensions&&Te.defaults.extensions.childTokens&&Te.defaults.extensions.childTokens[e.type]?Te.defaults.extensions.childTokens[e.type].forEach(function(r){Te.walkTokens(e[r],t)}):e.tokens&&Te.walkTokens(e.tokens,t)}};Te.parseInline=function(n,t){if(typeof n>"u"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");t=Xr({},Te.defaults,t||{}),iN(t);try{const e=Xi.lexInline(n,t);return t.walkTokens&&Te.walkTokens(e,t.walkTokens),Qi.parseInline(e,t)}catch(e){if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Wt(e.message+"",!0)+"</pre>";throw e}};Te.Parser=Qi;Te.parser=Qi.parse;Te.Renderer=e_;Te.TextRenderer=oN;Te.Lexer=Xi;Te.lexer=Xi.lex;Te.Tokenizer=Qw;Te.Slugger=sN;Te.parse=Te;Te.options;Te.setOptions;Te.use;Te.walkTokens;Te.parseInline;Qi.parse;Xi.lex;var t_=typeof window<"u"?window:{};function Jle(){var n=t_.DOMParser,t=!1;try{new n().parseFromString("","text/html")&&(t=!0)}catch{}return t}function Xle(){var n=function(){};return Qle()?n.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e}:n.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e},n}function Qle(){var n=!1;try{document.implementation.createHTMLDocument("").open()}catch{t_.ActiveXObject&&(n=!0)}return n}Jle()?t_.DOMParser:Xle();/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Me.arrowup,Me.arrowdown,Me.esc;Me.enter,Me.tab;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var ece='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>';const Nh="removeFormat";class tce extends X{static get pluginName(){return"RemoveFormatUI"}init(){const t=this.editor;t.ui.componentFactory.add(Nh,()=>{const e=this._createButton(we);return e.set({tooltip:!0}),e}),t.ui.componentFactory.add(`menuBar:${Nh}`,()=>this._createButton(ze))}_createButton(t){const e=this.editor,r=e.locale,i=e.commands.get(Nh),o=new t(e.locale),s=r.t;return o.set({label:s("Remove Format"),icon:ece}),o.bind("isEnabled").to(i,"isEnabled"),this.listenTo(o,"execute",()=>{e.execute(Nh),e.editing.view.focus()}),o}}class nce extends Ae{refresh(){const t=this.editor.model;this.isEnabled=!!Dt(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model,e=t.schema;t.change(r=>{for(const i of this._getFormattingItems(t.document.selection,e))if(i.is("selection"))for(const o of this._getFormattingAttributes(i,e))r.removeSelectionAttribute(o);else{const o=r.createRangeOn(i);for(const s of this._getFormattingAttributes(i,e))r.removeAttribute(s,o)}})}*_getFormattingItems(t,e){const r=i=>!!Dt(this._getFormattingAttributes(i,e));for(const i of t.getRanges())for(const o of i.getItems())!e.isBlock(o)&&r(o)&&(yield o);for(const i of t.getSelectedBlocks())r(i)&&(yield i);r(t)&&(yield t)}*_getFormattingAttributes(t,e){for(const[r]of t.getAttributes()){const i=e.getAttributeProperties(r);i&&i.isFormatting&&(yield r)}}}class rce extends X{static get pluginName(){return"RemoveFormatEditing"}init(){const t=this.editor;t.commands.add("removeFormat",new nce(t))}}class ice extends X{static get requires(){return[rce,tce]}static get pluginName(){return"RemoveFormat"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oce extends Ae{constructor(t){super(t),this.affectsData=!1,this.value=!1}execute(){const t="ck-show-blocks",e=this.editor.editing.view;e.change(r=>{for(const i of e.document.roots)i.hasClass(t)?(r.removeClass(t,i),this.value=!1):(r.addClass(t,i),this.value=!0)})}}class sce extends X{static get pluginName(){return"ShowBlocksEditing"}init(){const{editor:t}=this;t.commands.add("showBlocks",new oce(t))}}var ace='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m6.395 9.196 2.545-.007V6.498a.598.598 0 0 1 .598-.598h.299a.598.598 0 0 1 .598.598v6.877a.598.598 0 0 1-.598.598h-.299a.598.598 0 0 1-.598-.598v-2.691l-2.545.007v2.691a.598.598 0 0 1-.598.598h-.299a.598.598 0 0 1-.598-.598V6.505a.598.598 0 0 1 .598-.598h.299a.598.598 0 0 1 .598.598v2.691Z"/><path d="M15.094 13.417V6.462a.562.562 0 0 0-.562-.562h-.782a1 1 0 0 0-.39.08l-1.017.43a.562.562 0 0 0-.343.517v.197c0 .4.406.67.775.519l.819-.337v6.111c0 .31.251.562.561.562h.377c.31 0 .562-.251.562-.562Z"/><path d="M0 15.417v1.5h1.5v-1.5H0Z"/><path d="M18.5 15.417v1.5H20v-1.5h-1.5Z"/><path d="M18.5 12.333v1.5H20v-1.5h-1.5Z"/><path d="M18.5 9.25v1.5H20v-1.5h-1.5Z"/><path d="M18.5 6.167v1.5H20v-1.5h-1.5Z"/><path d="M0 18.5v.5a1 1 0 0 0 1 1h.5v-1.5H0Z"/><path d="M3.083 18.5V20h1.5v-1.5h-1.5Z"/><path d="M6.167 18.5V20h1.5v-1.5h-1.5Z"/><path d="M9.25 18.5V20h1.5v-1.5h-1.5Z"/><path d="M12.333 18.5V20h1.5v-1.5h-1.5Z"/><path d="M15.417 18.5V20h1.5v-1.5h-1.5Z"/><path d="M18.5 18.5V20h.5a1 1 0 0 0 1-1v-.5h-1.5Z"/><path clip-rule="evenodd" d="M0 1a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v3.583h-1.5V1.5h-17v12.333H0V1Z"/></svg>';class lce extends X{static get pluginName(){return"ShowBlocksUI"}init(){const t=this.editor;t.ui.componentFactory.add("showBlocks",()=>{const e=this._createButton(we);return e.set({tooltip:!0,icon:ace}),e}),t.ui.componentFactory.add("menuBar:showBlocks",()=>this._createButton(ze))}_createButton(t){const e=this.editor,r=e.locale,i=e.commands.get("showBlocks"),o=new t(r),s=r.t;return o.set({label:s("Show blocks"),isToggleable:!0,role:"menuitemcheckbox"}),o.bind("isEnabled").to(i),o.bind("isOn").to(i,"value",i,"isEnabled",(a,l)=>a&&l),this.listenTo(o,"execute",()=>{e.execute("showBlocks"),e.editing.view.focus()}),o}}class cce extends X{static get pluginName(){return"ShowBlocks"}static get requires(){return[sce,lce]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function uce(n){const t=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],e=t.map(s=>s.name).join("|"),r=n.replace(new RegExp(`</?(${e})( .*?)?>`,"g"),`
$&
`).replace(/<br[^>]*>/g,`$&
`).split(`
`);let i=0,o=!1;return r.filter(s=>s.length).map(s=>(o=fce(s,o),dce(s,t)?B0(s,i++):hce(s,t)?B0(s,--i):o==="middle"||o==="last"?s:B0(s,i))).join(`
`)}function dce(n,t){return t.some(e=>!(e.isVoid||!new RegExp(`<${e.name}( .*?)?>`).test(n)))}function hce(n,t){return t.some(e=>new RegExp(`</${e.name}>`).test(n))}function B0(n,t,e="    "){return`${e.repeat(Math.max(0,t))}${n}`}function fce(n,t){return new RegExp("<pre( .*?)?>").test(n)?"first":new RegExp("</pre>").test(n)?"last":t==="first"||t==="middle"?"middle":!1}var mce='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z"/></svg>';const Mh="SourceEditingMode";class gce extends X{constructor(e){super(e);w(this,"_elementReplacer");w(this,"_replacedRoots");w(this,"_dataFromRoots");this.set("isSourceEditingMode",!1),this._elementReplacer=new EO,this._replacedRoots=new Map,this._dataFromRoots=new Map,e.config.define("sourceEditing.allowCollaborationFeatures",!1)}static get pluginName(){return"SourceEditing"}static get requires(){return[vm]}init(){this._checkCompatibility();const e=this.editor,r=e.locale.t;e.ui.componentFactory.add("sourceEditing",()=>{const i=this._createButton(we);return i.set({label:r("Source"),icon:mce,tooltip:!0,class:"ck-source-editing-button"}),i}),e.ui.componentFactory.add("menuBar:sourceEditing",()=>{const i=this._createButton(ze);return i.set({label:r("Show source"),role:"menuitemcheckbox"}),i}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(i,o,s)=>{s?(this._hideVisibleDialog(),this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(i,o,s)=>this._handleReadOnlyMode(!s)),this.listenTo(e,"change:isReadOnly",(i,o,s)=>this._handleReadOnlyMode(s))),e.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}updateEditorData(){const e=this.editor,r={};for(const[i,o]of this._replacedRoots){const s=this._dataFromRoots.get(i),a=o.dataset.value;s!==a&&(r[i]=a,this._dataFromRoots.set(i,a))}Object.keys(r).length&&e.data.set(r,{batchType:{isUndoable:!0},suppressErrorInCollaboration:!0})}_checkCompatibility(){const e=this.editor,r=e.config.get("sourceEditing.allowCollaborationFeatures");if(!r&&e.plugins.has("RealTimeCollaborativeEditing"))throw new q("source-editing-incompatible-with-real-time-collaboration",null);!r&&["CommentsEditing","TrackChangesEditing","RevisionHistory"].some(o=>e.plugins.has(o))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}_showSourceEditing(){const e=this.editor,r=e.editing.view,i=e.model;i.change(o=>{o.setSelection(null),o.removeSelectionAttribute(i.document.selection.getAttributeKeys())});for(const[o,s]of r.domRoots){const a=pce(e.data.get({rootName:o})),l=Kt(s.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),c=Kt(s.ownerDocument,"div",{class:"ck-source-editing-area","data-value":a},[l]);l.value=a,l.setSelectionRange(0,0),l.addEventListener("input",()=>{c.dataset.value=l.value,e.ui.update()}),r.change(u=>{const d=r.document.getRoot(o);u.addClass("ck-hidden",d)}),e.ui.setEditableElement("sourceEditing:"+o,l),this._replacedRoots.set(o,c),this._elementReplacer.replace(s,c),this._dataFromRoots.set(o,a)}this._focusSourceEditing()}_hideSourceEditing(){const r=this.editor.editing.view;this.updateEditorData(),r.change(i=>{for(const[o]of this._replacedRoots)i.removeClass("ck-hidden",r.document.getRoot(o))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),r.focus()}_focusSourceEditing(){const e=this.editor,[r]=this._replacedRoots.values(),i=r.querySelector("textarea");e.editing.view.document.isFocused=!1,i.focus()}_disableCommands(){const e=this.editor;for(const r of e.commands.commands())r.forceDisabled(Mh);e.plugins.has("CommentsArchiveUI")&&e.plugins.get("CommentsArchiveUI").forceDisabled(Mh)}_enableCommands(){const e=this.editor;for(const r of e.commands.commands())r.clearForceDisabled(Mh);e.plugins.has("CommentsArchiveUI")&&e.plugins.get("CommentsArchiveUI").clearForceDisabled(Mh)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(const[,r]of this._replacedRoots)r.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){const r=this.editor.ui.view.editable;return r&&!r.hasExternalElement}_hideVisibleDialog(){if(this.editor.plugins.has("Dialog")){const e=this.editor.plugins.get("Dialog");e.isOpen&&e.hide()}}_createButton(e){const r=this.editor,i=new e(r.locale);return i.set({withText:!0,isToggleable:!0}),i.bind("isOn").to(this,"isSourceEditingMode"),i.bind("isEnabled").to(this,"isEnabled",r,"isReadOnly",r.plugins.get(vm),"hasAny",(o,s,a)=>!(!o||s||a)),this.listenTo(i,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),i}}function pce(n){return bce(n)?uce(n):n}function bce(n){return n.startsWith("<")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vce extends ce{constructor(e){super(e);w(this,"tiles");w(this,"focusTracker");w(this,"keystrokes");this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new yt,this.keystrokes=new Nt,$g({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>fe.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(e,r){const i=new we(this.locale);return i.set({label:e,withText:!0,class:"ck-character-grid__tile"}),i.extendTemplate({attributes:{title:r},on:{mouseover:i.bindTemplate.to("mouseover"),focus:i.bindTemplate.to("focus")}}),i.on("mouseover",()=>{this.fire("tileHover",{name:r,character:e})}),i.on("focus",()=>{this.fire("tileFocus",{name:r,character:e})}),i.on("execute",()=>{this.fire("execute",{name:r,character:e})}),i}render(){super.render();for(const e of this.tiles)this.focusTracker.add(e.element);this.tiles.on("change",(e,{added:r,removed:i})=>{if(r.length>0)for(const o of r)this.focusTracker.add(o.element);if(i.length>0)for(const o of i)this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}class yce extends ce{constructor(t){super(t);const e=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",wce),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:e.to("name",r=>r||"​")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:e.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function wce(n){return n===null?"":"U+"+("0000"+n.codePointAt(0).toString(16)).slice(-4)}class _ce extends ce{constructor(e,r,i,o){super(e);w(this,"items");w(this,"focusTracker");w(this,"keystrokes");w(this,"_focusCycler");w(this,"categoriesView");w(this,"gridView");w(this,"infoView");this.categoriesView=r,this.gridView=i,this.infoView=o,this.items=this.createCollection(),this.focusTracker=new yt,this.keystrokes=new Nt,this._focusCycler=new zn({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}var xce='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>';class kce extends ce{constructor(e,r){super(e);w(this,"_groupNames");w(this,"_dropdownView");this.set("currentGroupName",Array.from(r.entries())[0][0]),this._groupNames=r,this._dropdownView=new tn(e,Ww),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){const e=new zt;for(const[o,s]of this._groupNames){const a={type:"button",model:new aa({name:o,label:s,role:"menuitemradio",withText:!0})};a.model.bind("isOn").to(this,"currentGroupName",l=>l===o),e.add(a)}const r=this.locale.t,i=r("Category");this._dropdownView.set({label:i,isEmpty:!1}),this._dropdownView.fieldView.panelPosition=this.locale.uiLanguageDirection==="rtl"?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:i,ariaLabel:i,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",o=>this._groupNames.get(o)),this._dropdownView.fieldView.on("execute",({source:o})=>{this.currentGroupName=o.name}),ls(this._dropdownView.fieldView,e,{ariaLabel:i,role:"menu"})}}const F0="All";class Cce extends X{constructor(e){super(e);w(this,"_characters");w(this,"_groups");w(this,"_allSpecialCharactersGroupLabel");const r=e.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=r("All")}static get requires(){return[k6,rd]}static get pluginName(){return"SpecialCharacters"}init(){const e=this.editor;e.ui.componentFactory.add("specialCharacters",()=>{const r=this._createDialogButton(we);return r.set({tooltip:!0}),r}),e.ui.componentFactory.add("menuBar:specialCharacters",()=>this._createDialogButton(ze))}addItems(e,r,i={label:e}){if(e===F0)throw new q("special-character-invalid-group-name",null);const o=this._getGroup(e,i.label);for(const s of r)o.items.add(s.title),this._characters.set(s.title,s.character)}getGroups(){const e=Array.from(this._groups.keys()),r=this.editor.config.get("specialCharacters.order")||[],i=r.find(o=>!e.includes(o));if(i)throw new q("special-character-invalid-order-group-name",null,{invalidGroup:i});return new Set([...r,...e])}getCharactersForGroup(e){if(e===F0)return new Set(this._characters.keys());const r=this._groups.get(e);if(r)return r.items}getCharacter(e){return this._characters.get(e)}_getGroup(e,r){return this._groups.has(e)||this._groups.set(e,{items:new Set,label:r}),this._groups.get(e)}_updateGrid(e,r){r.tiles.clear();const i=this.getCharactersForGroup(e);for(const o of i){const s=this.getCharacter(o);r.tiles.add(r.createTile(s,o))}}_createDropdownPanelContent(e){const r=Array.from(this.getGroups()).map(l=>[l,this._groups.get(l).label]),i=new Map([[F0,this._allSpecialCharactersGroupLabel],...r]),o=new kce(e,i),s=new vce(e),a=new yce(e);return s.on("tileHover",(l,c)=>{a.set(c)}),s.on("tileFocus",(l,c)=>{a.set(c)}),o.on("change:currentGroupName",(l,c,u)=>{this._updateGrid(u,s)}),this._updateGrid(o.currentGroupName,s),{categoriesView:o,gridView:s,infoView:a}}_createDialogButton(e){const r=this.editor,i=r.locale,o=new e(r.locale),s=r.commands.get("insertText"),a=i.t,l=this.editor.plugins.get("Dialog");return o.set({label:a("Special characters"),icon:xce,isToggleable:!0}),o.bind("isOn").to(l,"id",c=>c==="specialCharacters"),o.bind("isEnabled").to(s,"isEnabled"),o.on("execute",()=>{if(l.id==="specialCharacters"){l.hide();return}this._showDialog()}),o}_showDialog(){const e=this.editor,r=e.plugins.get("Dialog"),i=e.locale,o=i.t,{categoriesView:s,gridView:a,infoView:l}=this._createDropdownPanelContent(i),c=new _ce(i,s,a,l);a.on("execute",(u,d)=>{e.execute("insertText",{text:d.character})}),r.show({id:"specialCharacters",title:o("Special characters"),className:"ck-special-characters",content:c,position:Un.EDITOR_TOP_SIDE})}}class aN extends X{static get pluginName(){return"SpecialCharactersArrows"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Arrows",[{title:e("leftwards simple arrow"),character:"←"},{title:e("rightwards simple arrow"),character:"→"},{title:e("upwards simple arrow"),character:"↑"},{title:e("downwards simple arrow"),character:"↓"},{title:e("leftwards double arrow"),character:"⇐"},{title:e("rightwards double arrow"),character:"⇒"},{title:e("upwards double arrow"),character:"⇑"},{title:e("downwards double arrow"),character:"⇓"},{title:e("leftwards dashed arrow"),character:"⇠"},{title:e("rightwards dashed arrow"),character:"⇢"},{title:e("upwards dashed arrow"),character:"⇡"},{title:e("downwards dashed arrow"),character:"⇣"},{title:e("leftwards arrow to bar"),character:"⇤"},{title:e("rightwards arrow to bar"),character:"⇥"},{title:e("upwards arrow to bar"),character:"⤒"},{title:e("downwards arrow to bar"),character:"⤓"},{title:e("up down arrow with base"),character:"↨"},{title:e("back with leftwards arrow above"),character:"🔙"},{title:e("end with leftwards arrow above"),character:"🔚"},{title:e("on with exclamation mark with left right arrow above"),character:"🔛"},{title:e("soon with rightwards arrow above"),character:"🔜"},{title:e("top with upwards arrow above"),character:"🔝"}],{label:e("Arrows")})}}class lN extends X{static get pluginName(){return"SpecialCharactersText"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Text",[{character:"‹",title:e("Single left-pointing angle quotation mark")},{character:"›",title:e("Single right-pointing angle quotation mark")},{character:"«",title:e("Left-pointing double angle quotation mark")},{character:"»",title:e("Right-pointing double angle quotation mark")},{character:"‘",title:e("Left single quotation mark")},{character:"’",title:e("Right single quotation mark")},{character:"“",title:e("Left double quotation mark")},{character:"”",title:e("Right double quotation mark")},{character:"‚",title:e("Single low-9 quotation mark")},{character:"„",title:e("Double low-9 quotation mark")},{character:"¡",title:e("Inverted exclamation mark")},{character:"¿",title:e("Inverted question mark")},{character:"‥",title:e("Two dot leader")},{character:"…",title:e("Horizontal ellipsis")},{character:"‡",title:e("Double dagger")},{character:"‰",title:e("Per mille sign")},{character:"‱",title:e("Per ten thousand sign")},{character:"‼",title:e("Double exclamation mark")},{character:"⁈",title:e("Question exclamation mark")},{character:"⁉",title:e("Exclamation question mark")},{character:"⁇",title:e("Double question mark")},{character:"©",title:e("Copyright sign")},{character:"®",title:e("Registered sign")},{character:"™",title:e("Trade mark sign")},{character:"§",title:e("Section sign")},{character:"¶",title:e("Paragraph sign")},{character:"⁋",title:e("Reversed paragraph sign")}],{label:e("Text")})}}class cN extends X{static get pluginName(){return"SpecialCharactersMathematical"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:e("Less-than sign")},{character:">",title:e("Greater-than sign")},{character:"≤",title:e("Less-than or equal to")},{character:"≥",title:e("Greater-than or equal to")},{character:"–",title:e("En dash")},{character:"—",title:e("Em dash")},{character:"¯",title:e("Macron")},{character:"‾",title:e("Overline")},{character:"°",title:e("Degree sign")},{character:"−",title:e("Minus sign")},{character:"±",title:e("Plus-minus sign")},{character:"÷",title:e("Division sign")},{character:"⁄",title:e("Fraction slash")},{character:"×",title:e("Multiplication sign")},{character:"ƒ",title:e("Latin small letter f with hook")},{character:"∫",title:e("Integral")},{character:"∑",title:e("N-ary summation")},{character:"∞",title:e("Infinity")},{character:"√",title:e("Square root")},{character:"∼",title:e("Tilde operator")},{character:"≅",title:e("Approximately equal to")},{character:"≈",title:e("Almost equal to")},{character:"≠",title:e("Not equal to")},{character:"≡",title:e("Identical to")},{character:"∈",title:e("Element of")},{character:"∉",title:e("Not an element of")},{character:"∋",title:e("Contains as member")},{character:"∏",title:e("N-ary product")},{character:"∧",title:e("Logical and")},{character:"∨",title:e("Logical or")},{character:"¬",title:e("Not sign")},{character:"∩",title:e("Intersection")},{character:"∪",title:e("Union")},{character:"∂",title:e("Partial differential")},{character:"∀",title:e("For all")},{character:"∃",title:e("There exists")},{character:"∅",title:e("Empty set")},{character:"∇",title:e("Nabla")},{character:"∗",title:e("Asterisk operator")},{character:"∝",title:e("Proportional to")},{character:"∠",title:e("Angle")},{character:"¼",title:e("Vulgar fraction one quarter")},{character:"½",title:e("Vulgar fraction one half")},{character:"¾",title:e("Vulgar fraction three quarters")}],{label:e("Mathematical")})}}class uN extends X{static get pluginName(){return"SpecialCharactersLatin"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Latin",[{character:"Ā",title:e("Latin capital letter a with macron")},{character:"ā",title:e("Latin small letter a with macron")},{character:"Ă",title:e("Latin capital letter a with breve")},{character:"ă",title:e("Latin small letter a with breve")},{character:"Ą",title:e("Latin capital letter a with ogonek")},{character:"ą",title:e("Latin small letter a with ogonek")},{character:"Ć",title:e("Latin capital letter c with acute")},{character:"ć",title:e("Latin small letter c with acute")},{character:"Ĉ",title:e("Latin capital letter c with circumflex")},{character:"ĉ",title:e("Latin small letter c with circumflex")},{character:"Ċ",title:e("Latin capital letter c with dot above")},{character:"ċ",title:e("Latin small letter c with dot above")},{character:"Č",title:e("Latin capital letter c with caron")},{character:"č",title:e("Latin small letter c with caron")},{character:"Ď",title:e("Latin capital letter d with caron")},{character:"ď",title:e("Latin small letter d with caron")},{character:"Đ",title:e("Latin capital letter d with stroke")},{character:"đ",title:e("Latin small letter d with stroke")},{character:"Ē",title:e("Latin capital letter e with macron")},{character:"ē",title:e("Latin small letter e with macron")},{character:"Ĕ",title:e("Latin capital letter e with breve")},{character:"ĕ",title:e("Latin small letter e with breve")},{character:"Ė",title:e("Latin capital letter e with dot above")},{character:"ė",title:e("Latin small letter e with dot above")},{character:"Ę",title:e("Latin capital letter e with ogonek")},{character:"ę",title:e("Latin small letter e with ogonek")},{character:"Ě",title:e("Latin capital letter e with caron")},{character:"ě",title:e("Latin small letter e with caron")},{character:"Ĝ",title:e("Latin capital letter g with circumflex")},{character:"ĝ",title:e("Latin small letter g with circumflex")},{character:"Ğ",title:e("Latin capital letter g with breve")},{character:"ğ",title:e("Latin small letter g with breve")},{character:"Ġ",title:e("Latin capital letter g with dot above")},{character:"ġ",title:e("Latin small letter g with dot above")},{character:"Ģ",title:e("Latin capital letter g with cedilla")},{character:"ģ",title:e("Latin small letter g with cedilla")},{character:"Ĥ",title:e("Latin capital letter h with circumflex")},{character:"ĥ",title:e("Latin small letter h with circumflex")},{character:"Ħ",title:e("Latin capital letter h with stroke")},{character:"ħ",title:e("Latin small letter h with stroke")},{character:"Ĩ",title:e("Latin capital letter i with tilde")},{character:"ĩ",title:e("Latin small letter i with tilde")},{character:"Ī",title:e("Latin capital letter i with macron")},{character:"ī",title:e("Latin small letter i with macron")},{character:"Ĭ",title:e("Latin capital letter i with breve")},{character:"ĭ",title:e("Latin small letter i with breve")},{character:"Į",title:e("Latin capital letter i with ogonek")},{character:"į",title:e("Latin small letter i with ogonek")},{character:"İ",title:e("Latin capital letter i with dot above")},{character:"ı",title:e("Latin small letter dotless i")},{character:"Ĳ",title:e("Latin capital ligature ij")},{character:"ĳ",title:e("Latin small ligature ij")},{character:"Ĵ",title:e("Latin capital letter j with circumflex")},{character:"ĵ",title:e("Latin small letter j with circumflex")},{character:"Ķ",title:e("Latin capital letter k with cedilla")},{character:"ķ",title:e("Latin small letter k with cedilla")},{character:"ĸ",title:e("Latin small letter kra")},{character:"Ĺ",title:e("Latin capital letter l with acute")},{character:"ĺ",title:e("Latin small letter l with acute")},{character:"Ļ",title:e("Latin capital letter l with cedilla")},{character:"ļ",title:e("Latin small letter l with cedilla")},{character:"Ľ",title:e("Latin capital letter l with caron")},{character:"ľ",title:e("Latin small letter l with caron")},{character:"Ŀ",title:e("Latin capital letter l with middle dot")},{character:"ŀ",title:e("Latin small letter l with middle dot")},{character:"Ł",title:e("Latin capital letter l with stroke")},{character:"ł",title:e("Latin small letter l with stroke")},{character:"Ń",title:e("Latin capital letter n with acute")},{character:"ń",title:e("Latin small letter n with acute")},{character:"Ņ",title:e("Latin capital letter n with cedilla")},{character:"ņ",title:e("Latin small letter n with cedilla")},{character:"Ň",title:e("Latin capital letter n with caron")},{character:"ň",title:e("Latin small letter n with caron")},{character:"ŉ",title:e("Latin small letter n preceded by apostrophe")},{character:"Ŋ",title:e("Latin capital letter eng")},{character:"ŋ",title:e("Latin small letter eng")},{character:"Ō",title:e("Latin capital letter o with macron")},{character:"ō",title:e("Latin small letter o with macron")},{character:"Ŏ",title:e("Latin capital letter o with breve")},{character:"ŏ",title:e("Latin small letter o with breve")},{character:"Ő",title:e("Latin capital letter o with double acute")},{character:"ő",title:e("Latin small letter o with double acute")},{character:"Œ",title:e("Latin capital ligature oe")},{character:"œ",title:e("Latin small ligature oe")},{character:"Ŕ",title:e("Latin capital letter r with acute")},{character:"ŕ",title:e("Latin small letter r with acute")},{character:"Ŗ",title:e("Latin capital letter r with cedilla")},{character:"ŗ",title:e("Latin small letter r with cedilla")},{character:"Ř",title:e("Latin capital letter r with caron")},{character:"ř",title:e("Latin small letter r with caron")},{character:"Ś",title:e("Latin capital letter s with acute")},{character:"ś",title:e("Latin small letter s with acute")},{character:"Ŝ",title:e("Latin capital letter s with circumflex")},{character:"ŝ",title:e("Latin small letter s with circumflex")},{character:"Ş",title:e("Latin capital letter s with cedilla")},{character:"ş",title:e("Latin small letter s with cedilla")},{character:"Š",title:e("Latin capital letter s with caron")},{character:"š",title:e("Latin small letter s with caron")},{character:"Ţ",title:e("Latin capital letter t with cedilla")},{character:"ţ",title:e("Latin small letter t with cedilla")},{character:"Ť",title:e("Latin capital letter t with caron")},{character:"ť",title:e("Latin small letter t with caron")},{character:"Ŧ",title:e("Latin capital letter t with stroke")},{character:"ŧ",title:e("Latin small letter t with stroke")},{character:"Ũ",title:e("Latin capital letter u with tilde")},{character:"ũ",title:e("Latin small letter u with tilde")},{character:"Ū",title:e("Latin capital letter u with macron")},{character:"ū",title:e("Latin small letter u with macron")},{character:"Ŭ",title:e("Latin capital letter u with breve")},{character:"ŭ",title:e("Latin small letter u with breve")},{character:"Ů",title:e("Latin capital letter u with ring above")},{character:"ů",title:e("Latin small letter u with ring above")},{character:"Ű",title:e("Latin capital letter u with double acute")},{character:"ű",title:e("Latin small letter u with double acute")},{character:"Ų",title:e("Latin capital letter u with ogonek")},{character:"ų",title:e("Latin small letter u with ogonek")},{character:"Ŵ",title:e("Latin capital letter w with circumflex")},{character:"ŵ",title:e("Latin small letter w with circumflex")},{character:"Ŷ",title:e("Latin capital letter y with circumflex")},{character:"ŷ",title:e("Latin small letter y with circumflex")},{character:"Ÿ",title:e("Latin capital letter y with diaeresis")},{character:"Ź",title:e("Latin capital letter z with acute")},{character:"ź",title:e("Latin small letter z with acute")},{character:"Ż",title:e("Latin capital letter z with dot above")},{character:"ż",title:e("Latin small letter z with dot above")},{character:"Ž",title:e("Latin capital letter z with caron")},{character:"ž",title:e("Latin small letter z with caron")},{character:"ſ",title:e("Latin small letter long s")}],{label:e("Latin")})}}class dN extends X{static get pluginName(){return"SpecialCharactersCurrency"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:e("Dollar sign")},{character:"€",title:e("Euro sign")},{character:"¥",title:e("Yen sign")},{character:"£",title:e("Pound sign")},{character:"¢",title:e("Cent sign")},{character:"₠",title:e("Euro-currency sign")},{character:"₡",title:e("Colon sign")},{character:"₢",title:e("Cruzeiro sign")},{character:"₣",title:e("French franc sign")},{character:"₤",title:e("Lira sign")},{character:"¤",title:e("Currency sign")},{character:"₿",title:e("Bitcoin sign")},{character:"₥",title:e("Mill sign")},{character:"₦",title:e("Naira sign")},{character:"₧",title:e("Peseta sign")},{character:"₨",title:e("Rupee sign")},{character:"₩",title:e("Won sign")},{character:"₪",title:e("New sheqel sign")},{character:"₫",title:e("Dong sign")},{character:"₭",title:e("Kip sign")},{character:"₮",title:e("Tugrik sign")},{character:"₯",title:e("Drachma sign")},{character:"₰",title:e("German penny sign")},{character:"₱",title:e("Peso sign")},{character:"₲",title:e("Guarani sign")},{character:"₳",title:e("Austral sign")},{character:"₴",title:e("Hryvnia sign")},{character:"₵",title:e("Cedi sign")},{character:"₶",title:e("Livre tournois sign")},{character:"₷",title:e("Spesmilo sign")},{character:"₸",title:e("Tenge sign")},{character:"₹",title:e("Indian rupee sign")},{character:"₺",title:e("Turkish lira sign")},{character:"₻",title:e("Nordic mark sign")},{character:"₼",title:e("Manat sign")},{character:"₽",title:e("Ruble sign")}],{label:e("Currency")})}}class Ece extends X{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[dN,lN,cN,aN,uN]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Tce extends we{constructor(e,r){super(e);w(this,"styleDefinition");w(this,"previewView");this.styleDefinition=r,this.previewView=this._createPreview(),this.set({label:r.name,class:"ck-style-grid__button",withText:!0}),this.extendTemplate({attributes:{role:"option"}}),this.children.add(this.previewView,0)}_createPreview(){const e=new ce(this.locale);return e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset_all-excluded","ck-style-grid__button__preview","ck-content"],"aria-hidden":"true"},children:[this.styleDefinition.previewTemplate]}),e}}class Sce extends ce{constructor(e,r){super(e);w(this,"focusTracker");w(this,"keystrokes");w(this,"children");this.focusTracker=new yt,this.keystrokes=new Nt,this.set("activeStyles",[]),this.set("enabledStyles",[]),this.children=this.createCollection(),this.children.delegate("execute").to(this);for(const i of r){const o=new Tce(e,i);this.children.add(o)}this.on("change:activeStyles",()=>{for(const i of this.children)i.isOn=this.activeStyles.includes(i.styleDefinition.name)}),this.on("change:enabledStyles",()=>{for(const i of this.children)i.isEnabled=this.enabledStyles.includes(i.styleDefinition.name)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-grid"],role:"listbox"},children:this.children})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element);$g({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.children,numberOfColumns:3,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection}),this.keystrokes.listenTo(this.element)}focus(){this.children.first.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class GE extends ce{constructor(e,r,i){super(e);w(this,"gridView");w(this,"labelView");this.labelView=new nr(e),this.labelView.text=r,this.gridView=new Sce(e,i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel__style-group"],role:"group","aria-labelledby":this.labelView.id},children:[this.labelView,this.gridView]})}}class Ace extends ce{constructor(e,r){super(e);w(this,"focusTracker");w(this,"keystrokes");w(this,"children");w(this,"blockStylesGroupView");w(this,"inlineStylesGroupView");w(this,"_focusables");w(this,"_focusCycler");const i=e.t;this.focusTracker=new yt,this.keystrokes=new Nt,this.children=this.createCollection(),this.blockStylesGroupView=new GE(e,i("Block styles"),r.block),this.inlineStylesGroupView=new GE(e,i("Text styles"),r.inline),this.set("activeStyles",[]),this.set("enabledStyles",[]),this._focusables=new En,this._focusCycler=new zn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["shift + tab"],focusNext:["tab"]}}),r.block.length&&this.children.add(this.blockStylesGroupView),r.inline.length&&this.children.add(this.inlineStylesGroupView),this.blockStylesGroupView.gridView.delegate("execute").to(this),this.inlineStylesGroupView.gridView.delegate("execute").to(this),this.blockStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.inlineStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel"]},children:this.children})}render(){super.render(),this._focusables.add(this.blockStylesGroupView.gridView),this._focusables.add(this.inlineStylesGroupView.gridView),this.focusTracker.add(this.blockStylesGroupView.gridView.element),this.focusTracker.add(this.inlineStylesGroupView.gridView.element),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}const Pce=["caption","colgroup","dd","dt","figcaption","legend","li","optgroup","option","rp","rt","summary","tbody","td","tfoot","th","thead","tr"];class eo extends X{constructor(e){super(e);w(this,"_htmlSupport");this.decorate("isStyleEnabledForBlock"),this.decorate("isStyleActiveForBlock"),this.decorate("getAffectedBlocks"),this.decorate("isStyleEnabledForInlineSelection"),this.decorate("isStyleActiveForInlineSelection"),this.decorate("getAffectedInlineSelectable"),this.decorate("getStylePreview"),this.decorate("configureGHSDataFilter")}static get pluginName(){return"StyleUtils"}init(){this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport")}normalizeConfig(e,r=[]){const i={block:[],inline:[]};for(const o of r){const s=[],a=[];for(const c of e.getDefinitionsForView(o.element)){const u="appliesToBlock"in c?c.appliesToBlock:!1;if(c.isBlock||u){if(typeof u=="string")s.push(u);else if(c.isBlock){const d=c;s.push(c.model),d.paragraphLikeModel&&s.push(d.paragraphLikeModel)}}else a.push(c.model)}const l=this.getStylePreview(o,[{text:"AaBbCcDdEeFfGgHhIiJj"}]);s.length?i.block.push({...o,previewTemplate:l,modelElements:s,isBlock:!0}):i.inline.push({...o,previewTemplate:l,ghsAttributes:a})}return i}isStyleEnabledForBlock(e,r){const i=this.editor.model,o=this._htmlSupport.getGhsAttributeNameForElement(e.element);return i.schema.checkAttribute(r,o)?e.modelElements.includes(r.name):!1}isStyleActiveForBlock(e,r){const i=this._htmlSupport.getGhsAttributeNameForElement(e.element),o=r.getAttribute(i);return this.hasAllClasses(o,e.classes)}getAffectedBlocks(e,r){return e.modelElements.includes(r.name)?[r]:null}isStyleEnabledForInlineSelection(e,r){const i=this.editor.model;for(const o of e.ghsAttributes)if(i.schema.checkAttributeInSelection(r,o))return!0;return!1}isStyleActiveForInlineSelection(e,r){for(const i of e.ghsAttributes){const o=this._getValueFromFirstAllowedNode(r,i);if(this.hasAllClasses(o,e.classes))return!0}return!1}getAffectedInlineSelectable(e,r){return r}getStylePreview(e,r){const{element:i,classes:o}=e;return{tag:Oce(i)?i:"div",attributes:{class:o},children:r}}hasAllClasses(e,r){return et(e)&&Rce(e)&&r.every(i=>e.classes.includes(i))}configureGHSDataFilter({block:e,inline:r}){const i=this.editor.plugins.get("DataFilter");i.loadAllowedConfig(e.map(KE)),i.loadAllowedConfig(r.map(KE))}_getValueFromFirstAllowedNode(e,r){const o=this.editor.model.schema;if(e.isCollapsed)return e.getAttribute(r);for(const s of e.getRanges())for(const a of s.getItems())if(o.checkAttribute(a,r))return a.getAttribute(r);return null}}function Rce(n){return!!n.classes&&Array.isArray(n.classes)}function Oce(n){return!Pce.includes(n)}function KE({element:n,classes:t}){return{name:n,classes:t}}class Ice extends X{static get pluginName(){return"StyleUI"}static get requires(){return[eo]}init(){const t=this.editor,e=t.plugins.get("DataSchema"),r=t.plugins.get("StyleUtils"),i=t.config.get("style.definitions"),o=r.normalizeConfig(e,i);t.ui.componentFactory.add("style",s=>{const a=s.t,l=gn(s),c=t.commands.get("style");return l.once("change:isOpen",()=>{const u=new Ace(s,o);l.panelView.children.add(u),u.delegate("execute").to(l),u.bind("activeStyles").to(c,"value"),u.bind("enabledStyles").to(c,"enabledStyles")}),l.bind("isEnabled").to(c),l.buttonView.withText=!0,l.buttonView.bind("label").to(c,"value",u=>u.length>1?a("Multiple styles"):u.length===1?u[0]:a("Styles")),l.bind("class").to(c,"value",u=>{const d=["ck-style-dropdown"];return u.length>1&&d.push("ck-style-dropdown_multiple-active"),d.join(" ")}),l.on("execute",u=>{t.execute("style",{styleName:u.source.styleDefinition.name}),t.editing.view.focus()}),l})}}class Nce extends Ae{constructor(e,r){super(e);w(this,"_styleDefinitions");w(this,"_styleUtils");this.set("value",[]),this.set("enabledStyles",[]),this._styleDefinitions=r,this._styleUtils=this.editor.plugins.get(eo)}refresh(){const e=this.editor.model,r=e.document.selection,i=new Set,o=new Set;for(const a of this._styleDefinitions.inline)this._styleUtils.isStyleEnabledForInlineSelection(a,r)&&o.add(a.name),this._styleUtils.isStyleActiveForInlineSelection(a,r)&&i.add(a.name);const s=Dt(r.getSelectedBlocks())||r.getFirstPosition().parent;if(s){const a=s.getAncestors({includeSelf:!0,parentFirst:!0});for(const l of a){if(l.is("rootElement"))break;for(const c of this._styleDefinitions.block)this._styleUtils.isStyleEnabledForBlock(c,l)&&(o.add(c.name),this._styleUtils.isStyleActiveForBlock(c,l)&&i.add(c.name));if(e.schema.isObject(l))break}}this.enabledStyles=Array.from(o).sort(),this.isEnabled=this.enabledStyles.length>0,this.value=this.isEnabled?Array.from(i).sort():[]}execute({styleName:e,forceValue:r}){if(!this.enabledStyles.includes(e)){Ze("style-command-executed-with-incorrect-style-name");return}const i=this.editor.model,o=i.document.selection,s=this.editor.plugins.get("GeneralHtmlSupport"),a=[...this._styleDefinitions.inline,...this._styleDefinitions.block],l=a.filter(({name:d})=>this.value.includes(d)),c=a.find(({name:d})=>d==e),u=r===void 0?!this.value.includes(c.name):r;i.change(()=>{let d;Lce(c)?d=this._findAffectedBlocks(Dce(o),c):d=[this._styleUtils.getAffectedInlineSelectable(c,o)];for(const h of d)u?s.addModelHtmlClass(c.element,c.classes,h):s.removeModelHtmlClass(c.element,Mce(l,c),h)})}_findAffectedBlocks(e,r){const i=new Set;for(const o of e){const s=o.getAncestors({includeSelf:!0,parentFirst:!0});for(const a of s){if(a.is("rootElement"))break;const l=this._styleUtils.getAffectedBlocks(r,a);if(l){for(const c of l)i.add(c);break}}}return i}}function Mce(n,t){return n.reduce((e,r)=>r.name===t.name?e:e.filter(i=>!r.classes.includes(i)),t.classes)}function Lce(n){return"isBlock"in n}function Dce(n){const t=Array.from(n.getSelectedBlocks());return t.length?t:[n.getFirstPosition().parent]}class Bce extends X{constructor(){super(...arguments);w(this,"_listUtils");w(this,"_styleUtils");w(this,"_htmlSupport")}static get pluginName(){return"ListStyleSupport"}static get requires(){return[eo,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("ListEditing")&&(this._styleUtils=e.plugins.get(eo),this._listUtils=this.editor.plugins.get("ListUtils"),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(r,[i,o])=>{this._isStyleEnabledForBlock(i,o)&&(r.return=!0,r.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForBlock",(r,[i,o])=>{this._isStyleActiveForBlock(i,o)&&(r.return=!0,r.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(r,[i,o])=>{const s=this._getAffectedBlocks(i,o);s&&(r.return=s,r.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getStylePreview",(r,[i,o])=>{const s=this._getStylePreview(i,o);s&&(r.return=s,r.stop())},{priority:"high"}))}_isStyleEnabledForBlock(e,r){const i=this.editor.model;if(!["ol","ul","li"].includes(e.element)||!this._listUtils.isListItemBlock(r))return!1;const o=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(e.element=="ol"||e.element=="ul"){if(!i.schema.checkAttribute(r,o))return!1;const a=this._listUtils.isNumberedListType(r.getAttribute("listType"))?"ol":"ul";return e.element==a}else return i.schema.checkAttribute(r,o)}_isStyleActiveForBlock(e,r){const i=this._htmlSupport.getGhsAttributeNameForElement(e.element),o=r.getAttribute(i);return this._styleUtils.hasAllClasses(o,e.classes)}_getAffectedBlocks(e,r){return this._isStyleEnabledForBlock(e,r)?e.element=="li"?this._listUtils.expandListBlocksToCompleteItems(r,{withNested:!1}):this._listUtils.expandListBlocksToCompleteList(r):null}_getStylePreview(e,r){const{element:i,classes:o}=e;return i=="ol"||i=="ul"?{tag:i,attributes:{class:o},children:[{tag:"li",children:r}]}:i=="li"?{tag:"ol",children:[{tag:i,attributes:{class:o},children:r}]}:null}}class Fce extends X{constructor(){super(...arguments);w(this,"_tableUtils");w(this,"_styleUtils")}static get pluginName(){return"TableStyleSupport"}static get requires(){return[eo]}init(){const e=this.editor;e.plugins.has("TableEditing")&&(this._styleUtils=e.plugins.get(eo),this._tableUtils=this.editor.plugins.get("TableUtils"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(r,[i,o])=>{this._isApplicable(i,o)&&(r.return=this._isStyleEnabledForBlock(i,o),r.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(r,[i,o])=>{this._isApplicable(i,o)&&(r.return=this._getAffectedBlocks(i,o),r.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"configureGHSDataFilter",(r,[{block:i}])=>{this.editor.plugins.get("DataFilter").loadAllowedConfig(i.filter(s=>s.element=="figcaption").map(s=>({name:"caption",classes:s.classes})))}))}_isApplicable(e,r){return["td","th"].includes(e.element)?r.name=="tableCell":["thead","tbody"].includes(e.element)?r.name=="table":!1}_isStyleEnabledForBlock(e,r){if(["td","th"].includes(e.element)){const i=this._tableUtils.getCellLocation(r),s=r.parent.parent,a=s.getAttribute("headingRows")||0,l=s.getAttribute("headingColumns")||0,c=i.row<a||i.column<l;return e.element=="th"?c:!c}if(["thead","tbody"].includes(e.element)){const i=r.getAttribute("headingRows")||0;return e.element=="thead"?i>0:i<this._tableUtils.getRows(r)}/* istanbul ignore next -- @preserve */return!1}_getAffectedBlocks(e,r){return this._isStyleEnabledForBlock(e,r)?[r]:null}}class Vce extends X{constructor(){super(...arguments);w(this,"_styleUtils");w(this,"_htmlSupport")}static get pluginName(){return"LinkStyleSupport"}static get requires(){return[eo,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("LinkEditing")&&(this._styleUtils=e.plugins.get(eo),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForInlineSelection",(r,[i,o])=>{i.element=="a"&&(r.return=this._isStyleEnabled(i,o),r.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForInlineSelection",(r,[i,o])=>{i.element=="a"&&(r.return=this._isStyleActive(i,o),r.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedInlineSelectable",(r,[i,o])=>{if(i.element!="a")return;const s=this._getAffectedSelectable(i,o);s&&(r.return=s,r.stop())},{priority:"high"}))}_isStyleEnabled(e,r){const i=this.editor.model;if(r.isCollapsed)return r.hasAttribute("linkHref");for(const o of r.getRanges())for(const s of o.getItems())if((s.is("$textProxy")||i.schema.isInline(s))&&s.hasAttribute("linkHref"))return!0;return!1}_isStyleActive(e,r){const i=this.editor.model,o=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(r.isCollapsed){if(r.hasAttribute("linkHref")){const s=r.getAttribute(o);if(this._styleUtils.hasAllClasses(s,e.classes))return!0}return!1}for(const s of r.getRanges())for(const a of s.getItems())if((a.is("$textProxy")||i.schema.isInline(a))&&a.hasAttribute("linkHref")){const l=a.getAttribute(o);return this._styleUtils.hasAllClasses(l,e.classes)}return!1}_getAffectedSelectable(e,r){const i=this.editor.model;if(r.isCollapsed){const s=r.getAttribute("linkHref");return Md(r.getFirstPosition(),"linkHref",s,i)}const o=[];for(const s of r.getRanges()){const a=i.createRange(ZE(s.start,"linkHref",!0,i),ZE(s.end,"linkHref",!1,i));for(const l of a.getItems())(l.is("$textProxy")||i.schema.isInline(l))&&l.hasAttribute("linkHref")&&o.push(this.editor.model.createRangeOn(l))}return jce(o)}}function ZE(n,t,e,r){const i=n.textNode||(e?n.nodeAfter:n.nodeBefore);if(!i||!i.hasAttribute(t))return n;const o=i.getAttribute(t);return Vv(n,t,o,e,r)}function jce(n){for(let t=1;t<n.length;t++){const e=n[t-1].getJoined(n[t]);e&&n.splice(--t,2,e)}return n}class $ce extends X{static get pluginName(){return"StyleEditing"}static get requires(){return["GeneralHtmlSupport",eo,Bce,Fce,Vce]}init(){const t=this.editor,e=t.plugins.get("DataSchema"),r=t.plugins.get("StyleUtils"),i=t.config.get("style.definitions"),o=r.normalizeConfig(e,i);t.commands.add("style",new Nce(t,o)),r.configureGHSDataFilter(o)}}class zce extends X{static get pluginName(){return"Style"}static get requires(){return[$ce,Ice]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function n_(n,t){const{modelAttribute:e,styleName:r,viewElement:i,defaultValue:o,reduceBoxSides:s=!1,shouldUpcast:a=()=>!0}=t;n.for("upcast").attributeToAttribute({view:{name:i,styles:{[r]:/[\s\S]+/}},model:{key:e,value:l=>{if(!a(l))return;const c=l.getNormalizedStyle(r),u=s?gf(c):c;if(o!==u)return u}}})}function Uv(n,t,e,r){n.for("upcast").add(i=>i.on("element:"+t,(o,s,a)=>{if(!s.modelRange)return;const l=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(f=>s.viewItem.hasStyle(f));if(!l.length)return;const c={styles:l};if(!a.consumable.test(s.viewItem,c))return;const u=[...s.modelRange.getItems({shallow:!0})].pop();a.consumable.consume(s.viewItem,c);const d={style:s.viewItem.getNormalizedStyle("border-style"),color:s.viewItem.getNormalizedStyle("border-color"),width:s.viewItem.getNormalizedStyle("border-width")},h={style:gf(d.style),color:gf(d.color),width:gf(d.width)};h.style!==r.style&&a.writer.setAttribute(e.style,h.style,u),h.color!==r.color&&a.writer.setAttribute(e.color,h.color,u),h.width!==r.width&&a.writer.setAttribute(e.width,h.width,u)}))}function hu(n,t){const{modelElement:e,modelAttribute:r,styleName:i}=t;n.for("downcast").attributeToAttribute({model:{name:e,key:r},view:o=>({key:"style",value:{[i]:o}})})}function mf(n,t){const{modelAttribute:e,styleName:r}=t;n.for("downcast").add(i=>i.on(`attribute:${e}:table`,(o,s,a)=>{const{item:l,attributeNewValue:c}=s,{mapper:u,writer:d}=a;if(!a.consumable.consume(s.item,o.name))return;const h=[...u.toViewElement(l).getChildren()].find(f=>f.is("element","table"));c?d.setStyle(r,c,h):d.removeStyle(r,h)}))}function gf(n){if(!n)return;const t=["top","right","bottom","left"];if(!t.every(o=>n[o]))return n;const r=n.top;return t.every(o=>n[o]===r)?r:n}function xt(n,t,e,r,i=1){t!=null&&i!==void 0&&i!==null&&t>i?r.setAttribute(n,t,e):r.removeAttribute(n,e)}function ua(n,t,e={}){const r=n.createElement("tableCell",e);return n.insertElement("paragraph",r),n.insert(r,t),r}function Wv(n,t){const e=t.parent.parent,r=parseInt(e.getAttribute("headingColumns")||"0"),{column:i}=n.getCellLocation(t);return!!r&&i<r}function pf(n,t,e){const{modelAttribute:r}=e;n.extend("tableCell",{allowAttributes:[r]}),n_(t,{viewElement:/^(td|th)$/,...e}),hu(t,{modelElement:"tableCell",...e})}function Ms(n){const t=n.getSelectedElement();return t&&t.is("element","table")?t:n.getFirstPosition().findAncestor("table")}function Hce(){return n=>{n.on("element:figure",(t,e,r)=>{if(!r.consumable.test(e.viewItem,{name:!0,classes:"table"}))return;const i=qce(e.viewItem);if(!i||!r.consumable.test(i,{name:!0}))return;r.consumable.consume(e.viewItem,{name:!0,classes:"table"});const o=r.convertItem(i,e.modelCursor),s=Dt(o.modelRange.getItems());if(!s){r.consumable.revert(e.viewItem,{name:!0,classes:"table"});return}r.convertChildren(e.viewItem,r.writer.createPositionAt(s,"end")),r.updateConversionResult(s,e)})}}function Uce(){return n=>{n.on("element:table",(t,e,r)=>{const i=e.viewItem;if(!r.consumable.test(i,{name:!0}))return;const{rows:o,headingRows:s,headingColumns:a}=Gce(i),l={};a&&(l.headingColumns=a),s&&(l.headingRows=s);const c=r.writer.createElement("table",l);if(r.safeInsert(c,e.modelCursor)){if(r.consumable.consume(i,{name:!0}),o.forEach(u=>r.convertItem(u,r.writer.createPositionAt(c,"end"))),r.convertChildren(i,r.writer.createPositionAt(c,"end")),c.isEmpty){const u=r.writer.createElement("tableRow");r.writer.insert(u,r.writer.createPositionAt(c,"end")),ua(r.writer,r.writer.createPositionAt(u,"end"))}r.updateConversionResult(c,e)}})}}function Wce(){return n=>{n.on("element:tr",(t,e)=>{e.viewItem.isEmpty&&e.modelCursor.index==0&&t.stop()},{priority:"high"})}}function YE(n){return t=>{t.on(`element:${n}`,(e,r,{writer:i})=>{if(!r.modelRange)return;const o=r.modelRange.start.nodeAfter,s=i.createPositionAt(o,0);if(r.viewItem.isEmpty){i.insertElement("paragraph",s);return}const a=Array.from(o.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=i.createElement("paragraph");i.insert(l,i.createPositionAt(o,0));for(const c of a)i.move(i.createRangeOn(c),i.createPositionAt(l,"end"))}},{priority:"low"})}}function qce(n){for(const t of n.getChildren())if(t.is("element","table"))return t}function Gce(n){let t=0,e;const r=[],i=[];let o;for(const s of Array.from(n.getChildren())){if(s.name!=="tbody"&&s.name!=="thead"&&s.name!=="tfoot")continue;s.name==="thead"&&!o&&(o=s);const a=Array.from(s.getChildren()).filter(l=>l.is("element","tr"));for(const l of a)if(o&&s===o||s.name==="tbody"&&Array.from(l.getChildren()).length&&Array.from(l.getChildren()).every(c=>c.is("element","th")))t++,r.push(l);else{i.push(l);const c=Kce(l);(!e||c<e)&&(e=c)}}return{headingRows:t,headingColumns:e||0,rows:[...r,...i]}}function Kce(n){let t=0,e=0;const r=Array.from(n.getChildren()).filter(i=>i.name==="th"||i.name==="td");for(;e<r.length&&r[e].name==="th";){const i=r[e],o=parseInt(i.getAttribute("colspan")||"1");t=t+o,e++}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class je{constructor(t,e={}){w(this,"_table");w(this,"_startRow");w(this,"_endRow");w(this,"_startColumn");w(this,"_endColumn");w(this,"_includeAllSlots");w(this,"_skipRows");w(this,"_row");w(this,"_rowIndex");w(this,"_column");w(this,"_cellIndex");w(this,"_spannedCells");w(this,"_nextCellAtColumn");w(this,"_jumpedToStartRow",!1);this._table=t,this._startRow=e.row!==void 0?e.row:e.startRow||0,this._endRow=e.row!==void 0?e.row:e.endRow,this._startColumn=e.column!==void 0?e.column:e.startColumn||0,this._endColumn=e.column!==void 0?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const r=this._getSpanned();if(r)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(r.cell,r.row,r.column));else{const i=t.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();const o=parseInt(i.getAttribute("colspan")||"1"),s=parseInt(i.getAttribute("rowspan")||"1");(o>1||s>1)&&this._recordSpans(i,s,o),this._shouldSkipSlot()||(e=this._formatOutValue(i)),this._nextCellAtColumn=this._column+o}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,e=this._row,r=this._column){return{done:!1,value:new Zce(this,t,e,r)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,r=this._column<this._startColumn,i=this._endColumn!==void 0&&this._column>this._endColumn;return t||e||r||i}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,r){const i={cell:t,row:this._row,column:this._column};for(let o=this._row;o<this._row+e;o++)for(let s=this._column;s<this._column+r;s++)(o!=this._row||s!=this._column)&&this._markSpannedCell(o,s,i)}_markSpannedCell(t,e,r){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,r)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const t=this._getRowLength(0);for(let e=this._startRow;!this._jumpedToStartRow;e--)t===this._getRowLength(e)&&(this._row=e,this._rowIndex=e,this._jumpedToStartRow=!0)}_getRowLength(t){return[...this._table.getChild(t).getChildren()].reduce((r,i)=>r+parseInt(i.getAttribute("colspan")||"1"),0)}}class Zce{constructor(t,e,r,i){w(this,"cell");w(this,"row");w(this,"column");w(this,"cellAnchorRow");w(this,"cellAnchorColumn");w(this,"_cellIndex");w(this,"_rowIndex");w(this,"_table");this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=r,this.cellAnchorColumn=i,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function JE(n,t){return(e,{writer:r})=>{const i=e.getAttribute("headingRows")||0,o=r.createContainerElement("table",null,[]),s=r.createContainerElement("figure",{class:"table"},o);i>0&&r.insert(r.createPositionAt(o,"end"),r.createContainerElement("thead",null,r.createSlot(a=>a.is("element","tableRow")&&a.index<i))),i<n.getRows(e)&&r.insert(r.createPositionAt(o,"end"),r.createContainerElement("tbody",null,r.createSlot(a=>a.is("element","tableRow")&&a.index>=i)));for(const{positionOffset:a,filter:l}of t.additionalSlots)r.insert(r.createPositionAt(o,a),r.createSlot(l));return r.insert(r.createPositionAt(o,"after"),r.createSlot(a=>a.is("element","tableRow")?!1:!t.additionalSlots.some(({filter:l})=>l(a)))),t.asWidget?Jce(s,r):s}}function Yce(){return(n,{writer:t})=>n.isEmpty?t.createEmptyElement("tr"):t.createContainerElement("tr")}function XE(n={}){return(t,{writer:e})=>{const r=t.parent,i=r.parent,o=i.getChildIndex(r),s=new je(i,{row:o}),a=i.getAttribute("headingRows")||0,l=i.getAttribute("headingColumns")||0;let c=null;for(const u of s)if(u.cell==t){const h=u.row<a||u.column<l?"th":"td";c=n.asWidget?O6(e.createEditableElement(h),e):e.createContainerElement(h);break}return c}}function QE(n={}){return(t,{writer:e})=>{if(!t.parent.is("element","tableCell")||!hN(t))return null;if(n.asWidget)return e.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const r=e.createContainerElement("p");return e.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}}function hN(n){return n.parent.childCount==1&&!Xce(n)}function Jce(n,t){return t.setCustomProperty("table",!0,n),Ld(n,t,{hasSelectionHandle:!0})}function Xce(n){return!n.getAttributeKeys().next().done}class Qce extends Ae{refresh(){const t=this.editor.model,e=t.document.selection,r=t.schema;this.isEnabled=eue(e,r)}execute(t={}){const e=this.editor,r=e.model,i=e.plugins.get("TableUtils"),o=e.config.get("table.defaultHeadings.rows"),s=e.config.get("table.defaultHeadings.columns");t.headingRows===void 0&&o&&(t.headingRows=o),t.headingColumns===void 0&&s&&(t.headingColumns=s),r.change(a=>{const l=i.createTable(a,t);r.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function eue(n,t){const e=n.getFirstPosition().parent,r=e===e.root?e:e.parent;return t.checkChild(r,"table")}class eT extends Ae{constructor(e,r={}){super(e);w(this,"order");this.order=r.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,r=e.model.document.selection,i=e.plugins.get("TableUtils"),o=this.order==="above",s=i.getSelectionAffectedTableCells(r),a=i.getRowIndexes(s),l=o?a.first:a.last,c=s[0].findAncestor("table");i.insertRows(c,{at:o?l:l+1,copyStructureFromAbove:!o})}}class tT extends Ae{constructor(e,r={}){super(e);w(this,"order");this.order=r.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,r=e.model.document.selection,i=e.plugins.get("TableUtils"),o=this.order==="left",s=i.getSelectionAffectedTableCells(r),a=i.getColumnIndexes(s),l=o?a.first:a.last,c=s[0].findAncestor("table");i.insertColumns(c,{columns:1,at:o?l:l+1})}}class nT extends Ae{constructor(e,r={}){super(e);w(this,"direction");this.direction=r.direction||"horizontally"}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=r.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(r,2):e.splitCellVertically(r,2)}}function fN(n,t,e){const{startRow:r,startColumn:i,endRow:o,endColumn:s}=t,a=e.createElement("table"),l=o-r+1;for(let u=0;u<l;u++)e.insertElement("tableRow",a,"end");const c=[...new je(n,{startRow:r,endRow:o,startColumn:i,endColumn:s,includeAllSlots:!0})];for(const{row:u,column:d,cell:h,isAnchor:f,cellAnchorRow:m,cellAnchorColumn:g}of c){const v=u-r,p=a.getChild(v);if(!f)(m<r||g<i)&&ua(e,e.createPositionAt(p,"end"));else{const b=e.cloneElement(h);e.append(b,p),vN(b,u,d,o,s,e)}}return tue(a,n,r,i,e),a}function mN(n,t,e=0){const r=[],i=new je(n,{startRow:e,endRow:t-1});for(const o of i){const{row:s,cellHeight:a}=o,l=s+a-1;s<t&&t<=l&&r.push(o)}return r}function gN(n,t,e){const r=n.parent,i=r.parent,o=r.index,s=parseInt(n.getAttribute("rowspan")),a=t-o,l={},c=s-a;c>1&&(l.rowspan=c);const u=parseInt(n.getAttribute("colspan")||"1");u>1&&(l.colspan=u);const d=o,h=d+a,f=[...new je(i,{startRow:d,endRow:h,includeAllSlots:!0})];let m=null,g;for(const v of f){const{row:p,column:b,cell:_}=v;_===n&&g===void 0&&(g=b),g!==void 0&&g===b&&p===h&&(m=ua(e,v.getPositionBefore(),l))}return xt("rowspan",a,n,e),m}function pN(n,t){const e=[],r=new je(n);for(const i of r){const{column:o,cellWidth:s}=i,a=o+s-1;o<t&&t<=a&&e.push(i)}return e}function bN(n,t,e,r){const i=parseInt(n.getAttribute("colspan")),o=e-t,s={},a=i-o;a>1&&(s.colspan=a);const l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(s.rowspan=l);const c=ua(r,r.createPositionAfter(n),s);return xt("colspan",o,n,r),c}function vN(n,t,e,r,i,o){const s=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(e+s-1>i){const u=i-e+1;xt("colspan",u,n,o,1)}if(t+a-1>r){const u=r-t+1;xt("rowspan",u,n,o,1)}}function tue(n,t,e,r,i){const o=parseInt(t.getAttribute("headingRows")||"0");if(o>0){const a=o-e;xt("headingRows",a,n,i,0)}const s=parseInt(t.getAttribute("headingColumns")||"0");if(s>0){const a=s-r;xt("headingColumns",a,n,i,0)}}function qv(n,t){const e=t.getColumns(n),r=new Array(e).fill(0);for(const{column:o}of new je(n))r[o]++;const i=r.reduce((o,s,a)=>s?o:[...o,a],[]);if(i.length>0){const o=i[i.length-1];return t.removeColumns(n,{at:o}),!0}return!1}function Gv(n,t){const e=[],r=t.getRows(n);for(let i=0;i<r;i++)n.getChild(i).isEmpty&&e.push(i);if(e.length>0){const i=e[e.length-1];return t.removeRows(n,{at:i}),!0}return!1}function r_(n,t){qv(n,t)||Gv(n,t)}function yN(n,t){const e=Array.from(new je(n,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(e.every(({cellHeight:o})=>o===1))return t.lastRow;const i=e[0].cellHeight-1;return t.lastRow+i}function wN(n,t){const e=Array.from(new je(n,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(e.every(({cellWidth:o})=>o===1))return t.lastColumn;const i=e[0].cellWidth-1;return t.lastColumn+i}class Lh extends Ae{constructor(e,r){super(e);w(this,"direction");w(this,"isHorizontal");this.direction=r.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,r=e.document,o=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(r.selection)[0],s=this.value,a=this.direction;e.change(l=>{const c=a=="right"||a=="down",u=c?o:s,d=c?s:o,h=d.parent;iue(d,u,l);const f=this.isHorizontal?"colspan":"rowspan",m=parseInt(o.getAttribute(f)||"1"),g=parseInt(s.getAttribute(f)||"1");l.setAttribute(f,m+g,u),l.setSelection(l.createRangeIn(u));const v=this.editor.plugins.get("TableUtils"),p=h.findAncestor("table");r_(p,v)})}_getMergeableCell(){const r=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),o=i.getTableCellsContainingSelection(r.selection)[0];if(!o)return;const s=this.isHorizontal?nue(o,this.direction,i):rue(o,this.direction,i);if(!s)return;const a=this.isHorizontal?"rowspan":"colspan",l=parseInt(o.getAttribute(a)||"1");if(parseInt(s.getAttribute(a)||"1")===l)return s}}function nue(n,t,e){const i=n.parent.parent,o=t=="right"?n.nextSibling:n.previousSibling,s=(i.getAttribute("headingColumns")||0)>0;if(!o)return;const a=t=="right"?n:o,l=t=="right"?o:n,{column:c}=e.getCellLocation(a),{column:u}=e.getCellLocation(l),d=parseInt(a.getAttribute("colspan")||"1"),h=Wv(e,a),f=Wv(e,l);return s&&h!=f?void 0:c+d===u?o:void 0}function rue(n,t,e){const r=n.parent,i=r.parent,o=i.getChildIndex(r);if(t=="down"&&o===e.getRows(i)-1||t=="up"&&o===0)return null;const s=parseInt(n.getAttribute("rowspan")||"1"),a=i.getAttribute("headingRows")||0,l=t=="down"&&o+s===a,c=t=="up"&&o===a;if(a&&(l||c))return null;const u=parseInt(n.getAttribute("rowspan")||"1"),d=t=="down"?o+u:o,h=[...new je(i,{endRow:d})],m=h.find(v=>v.cell===n).column,g=h.find(({row:v,cellHeight:p,column:b})=>b!==m?!1:t=="down"?v===d:d===v+p);return g&&g.cell?g.cell:null}function iue(n,t,e){rT(n)||(rT(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(n),e.createPositionAt(t,"end"))),e.remove(n)}function rT(n){const t=n.getChild(0);return n.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class oue extends Ae{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),r=e[0];if(r){const i=r.findAncestor("table"),s=t.getRows(i)-1,a=t.getRowIndexes(e),l=a.first===0&&a.last===s;this.isEnabled=!l}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(t.document.selection),i=e.getRowIndexes(r),o=r[0],s=o.findAncestor("table"),a=e.getCellLocation(o).column;t.change(l=>{const c=i.last-i.first+1;e.removeRows(s,{at:i.first,rows:c});const u=sue(s,i.first,a,e.getRows(s));l.setSelection(l.createPositionAt(u,0))})}}function sue(n,t,e,r){const i=n.getChild(Math.min(t,r-1));let o=i.getChild(0),s=0;for(const a of i.getChildren()){if(s>e)return o;o=a,s+=parseInt(a.getAttribute("colspan")||"1")}return o}class aue extends Ae{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),r=e[0];if(r){const i=r.findAncestor("table"),o=t.getColumns(i),{first:s,last:a}=t.getColumnIndexes(e);this.isEnabled=a-s<o-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,r]=cue(this.editor.model.document.selection,t),i=e.parent.parent,o=[...new je(i)],s={first:o.find(l=>l.cell===e).column,last:o.find(l=>l.cell===r).column},a=lue(o,e,r,s);this.editor.model.change(l=>{const c=s.last-s.first+1;t.removeColumns(i,{at:s.first,columns:c}),l.setSelection(l.createPositionAt(a,0))})}}function lue(n,t,e,r){return parseInt(e.getAttribute("colspan")||"1")>1?e:t.previousSibling||e.nextSibling?e.nextSibling||t.previousSibling:r.first?n.reverse().find(({column:o})=>o<r.first).cell:n.reverse().find(({column:o})=>o>r.last).cell}function cue(n,t){const e=t.getSelectionAffectedTableCells(n),r=e[0],i=e.pop(),o=[r,i];return r.isBefore(i)?o:o.reverse()}class uue extends Ae{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,r=t.getSelectionAffectedTableCells(e.document.selection),i=r.length>0;this.isEnabled=i,this.value=i&&r.every(o=>this._isInHeading(o,o.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=e.getSelectionAffectedTableCells(r.document.selection),o=i[0].findAncestor("table"),{first:s,last:a}=e.getRowIndexes(i),l=this.value?s:a+1,c=o.getAttribute("headingRows")||0;r.change(u=>{if(l){const d=l>c?c:0,h=mN(o,l,d);for(const{cell:f}of h)gN(f,l,u)}xt("headingRows",l,o,u,0)})}_isInHeading(t,e){const r=parseInt(e.getAttribute("headingRows")||"0");return!!r&&t.parent.index<r}}class due extends Ae{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(t.document.selection),i=r.length>0;this.isEnabled=i,this.value=i&&r.every(o=>Wv(e,o))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),r=this.editor.model,i=e.getSelectionAffectedTableCells(r.document.selection),o=i[0].findAncestor("table"),{first:s,last:a}=e.getColumnIndexes(i),l=this.value?s:a+1;r.change(c=>{if(l){const u=pN(o,l);for(const{cell:d,column:h}of u)bN(d,h,l,c)}xt("headingColumns",l,o,c,0)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hue=5,Kv=40,fue=2;function mue(n){const t=new Set;for(const e of n.document.differ.getChanges()){let r=null;switch(e.type){case"insert":r=["table","tableRow","tableCell"].includes(e.name)?e.position:null;break;case"remove":r=["tableRow","tableCell"].includes(e.name)?e.position:null;break;case"attribute":e.range.start.nodeAfter&&(r=["table","tableRow","tableCell"].includes(e.range.start.nodeAfter.name)?e.range.start:null);break}if(!r)continue;const i=r.nodeAfter&&r.nodeAfter.is("element","table")?r.nodeAfter:r.findAncestor("table");for(const o of n.createRangeOn(i).getItems())o.is("element","table")&&Bd(o)&&t.add(o)}return t}function gue(n,t){return Kv*100/_N(n,t)}function _N(n,t){const e=iT(n,"tbody",t)||iT(n,"thead",t),r=t.editing.view.domConverter.mapViewToDom(e);return Zv(r)}function iT(n,t,e){return[...[...e.editing.mapper.toViewElement(n).getChildren()].find(o=>o.is("element","table")).getChildren()].find(o=>o.is("element",t))}function Zv(n){const t=fe.window.getComputedStyle(n);return t.boxSizing==="border-box"?parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth):parseFloat(t.width)}function pue(n,t){const e=t.getCellLocation(n).column,r=n.getAttribute("colspan")||1;return{leftEdge:e,rightEdge:e+r-1}}function In(n){const t=Math.pow(10,fue),e=typeof n=="number"?n:parseFloat(n);return Math.round(e*t)/t}function bue(n,t,e){return n<=t?In(t):n>=e?In(e):In(n)}function vue(n,t){return Array(n).fill(t)}function cd(n){return n.map(t=>typeof t=="number"?t:parseFloat(t)).filter(t=>!Number.isNaN(t)).reduce((t,e)=>t+e,0)}function i_(n){const t=n.map(i=>i==="auto"?i:parseFloat(i.replace("%","")));let e=yue(t);const r=cd(e);return r!==100&&(e=e.map(i=>In(i*100/r)).map((i,o,s)=>{if(!(o===s.length-1))return i;const l=cd(s);return In(i+100-l)})),e.map(i=>i+"%")}function yue(n){const t=n.filter(i=>i==="auto").length;if(t===0)return n.map(i=>In(i));const e=cd(n),r=Math.max((100-e)/t,hue);return n.map(i=>i==="auto"?r:i).map(i=>In(i))}function wue(n){const t=fe.window.getComputedStyle(n);return t.boxSizing==="border-box"?parseInt(t.width):parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderWidth)}function xN(n,t,e,r){for(let i=0;i<Math.max(e.length,n.length);i++){const o=n[i],s=e[i];s?o?r.setAttribute("columnWidth",s,o):r.appendElement("tableColumn",{columnWidth:s},t):r.remove(o)}}function Bd(n){if(n.is("element","tableColumnGroup"))return n;const t=n.getChildren();return Array.from(t).find(e=>e.is("element","tableColumnGroup"))}function Fd(n){const t=Bd(n);return t?Array.from(t.getChildren()):[]}function _ue(n){return Fd(n).map(t=>t.getAttribute("columnWidth"))}function xue(n,t){return Fd(n).reduce((r,i)=>{const o=i.getAttribute("columnWidth"),s=i.getAttribute("colSpan");if(!s)return r.push(o),r;for(let a=0;a<s;a++)r.push(o);return t.removeAttribute("colSpan",i),r},[])}class Zt extends X{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,r=e.parent,i=r.getChildIndex(e),o=new je(r,{row:i});for(const{cell:s,row:a,column:l}of o)if(s===t)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(t,e){const r=t.createElement("table"),i=e.rows||2,o=e.columns||2;return V0(t,r,0,i,o),e.headingRows&&xt("headingRows",Math.min(e.headingRows,i),r,t,0),e.headingColumns&&xt("headingColumns",Math.min(e.headingColumns,o),r,t,0),r}insertRows(t,e={}){const r=this.editor.model,i=e.at||0,o=e.rows||1,s=e.copyStructureFromAbove!==void 0,a=e.copyStructureFromAbove?i-1:i,l=this.getRows(t),c=this.getColumns(t);if(i>l)throw new q("tableutils-insertrows-insert-out-of-range",this,{options:e});r.change(u=>{const d=t.getAttribute("headingRows")||0;if(d>i&&xt("headingRows",d+o,t,u,0),!s&&(i===0||i===l)){V0(u,t,i,o,c);return}const h=s?Math.max(i,a):i,f=new je(t,{endRow:h}),m=new Array(c).fill(1);for(const{row:g,column:v,cellHeight:p,cellWidth:b,cell:_}of f){const y=g+p-1,k=g<i&&i<=y,S=g<=a&&a<=y;k?(u.setAttribute("rowspan",p+o,_),m[v]=-b):s&&S&&(m[v]=b)}for(let g=0;g<o;g++){const v=u.createElement("tableRow");u.insert(v,t,i);for(let p=0;p<m.length;p++){const b=m[p],_=u.createPositionAt(v,"end");b>0&&ua(u,_,b>1?{colspan:b}:void 0),p+=Math.abs(b)-1}}})}insertColumns(t,e={}){const r=this.editor.model,i=e.at||0,o=e.columns||1;r.change(s=>{const a=t.getAttribute("headingColumns");i<a&&s.setAttribute("headingColumns",a+o,t);const l=this.getColumns(t);if(i===0||l===i){for(const u of t.getChildren())u.is("element","tableRow")&&La(o,s,s.createPositionAt(u,i?"end":0));return}const c=new je(t,{column:i,includeAllSlots:!0});for(const u of c){const{row:d,cell:h,cellAnchorColumn:f,cellAnchorRow:m,cellWidth:g,cellHeight:v}=u;if(f<i){s.setAttribute("colspan",g+o,h);const p=m+v-1;for(let b=d;b<=p;b++)c.skipRow(b)}else La(o,s,u.getPositionBefore())}})}removeRows(t,e){const r=this.editor.model,i=e.rows||1,o=this.getRows(t),s=e.at,a=s+i-1;if(a>o-1)throw new q("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});r.change(l=>{const c={first:s,last:a},{cellsToMove:u,cellsToTrim:d}=Eue(t,c);if(u.size){const h=a+1;Tue(t,h,u,l)}for(let h=a;h>=s;h--)l.remove(t.getChild(h));for(const{rowspan:h,cell:f}of d)xt("rowspan",h,f,l);Cue(t,c,l),qv(t,this)||Gv(t,this)})}removeColumns(t,e){const r=this.editor.model,i=e.at,o=e.columns||1,s=e.at+o-1;r.change(a=>{kue(t,{first:i,last:s},a);const l=Fd(t);for(let c=s;c>=i;c--){for(const{cell:u,column:d,cellWidth:h}of[...new je(t)])d<=c&&h>1&&d+h>c?xt("colspan",h-1,u,a):d===c&&a.remove(u);if(l[c]){const u=c===0?l[1]:l[c-1],d=parseFloat(l[c].getAttribute("columnWidth")),h=parseFloat(u.getAttribute("columnWidth"));a.remove(l[c]),a.setAttribute("columnWidth",d+h+"%",u)}}Gv(t,this)||qv(t,this)})}splitCellVertically(t,e=2){const r=this.editor.model,o=t.parent.parent,s=parseInt(t.getAttribute("rowspan")||"1"),a=parseInt(t.getAttribute("colspan")||"1");r.change(l=>{if(a>1){const{newCellsSpan:c,updatedSpan:u}=oT(a,e);xt("colspan",u,t,l);const d={};c>1&&(d.colspan=c),s>1&&(d.rowspan=s);const h=a>e?e-1:a-1;La(h,l,l.createPositionAfter(t),d)}if(a<e){const c=e-a,u=[...new je(o)],{column:d}=u.find(({cell:g})=>g===t),h=u.filter(({cell:g,cellWidth:v,column:p})=>{const b=g!==t&&p===d,_=p<d&&p+v>d;return b||_});for(const{cell:g,cellWidth:v}of h)l.setAttribute("colspan",v+c,g);const f={};s>1&&(f.rowspan=s),La(c,l,l.createPositionAfter(t),f);const m=o.getAttribute("headingColumns")||0;m>d&&xt("headingColumns",m+c,o,l)}})}splitCellHorizontally(t,e=2){const r=this.editor.model,i=t.parent,o=i.parent,s=o.getChildIndex(i),a=parseInt(t.getAttribute("rowspan")||"1"),l=parseInt(t.getAttribute("colspan")||"1");r.change(c=>{if(a>1){const u=[...new je(o,{startRow:s,endRow:s+a-1,includeAllSlots:!0})],{newCellsSpan:d,updatedSpan:h}=oT(a,e);xt("rowspan",h,t,c);const{column:f}=u.find(({cell:v})=>v===t),m={};d>1&&(m.rowspan=d),l>1&&(m.colspan=l);let g=0;for(const v of u){const{column:p,row:b}=v,_=b>=s+h,y=p===f;g>=d&&y&&(g=0),_&&y&&(g||La(1,c,v.getPositionBefore(),m),g++)}}if(a<e){const u=e-a,d=[...new je(o,{startRow:0,endRow:s})];for(const{cell:m,cellHeight:g,row:v}of d)if(m!==t&&v+g>s){const p=g+u;c.setAttribute("rowspan",p,m)}const h={};l>1&&(h.colspan=l),V0(c,o,s+1,u,1,h);const f=o.getAttribute("headingRows")||0;f>s&&xt("headingRows",f+u,o,c)}})}getColumns(t){return[...t.getChild(0).getChildren()].filter(r=>r.is("element","tableCell")).reduce((r,i)=>{const o=parseInt(i.getAttribute("colspan")||"1");return r+o},0)}getRows(t){return Array.from(t.getChildren()).reduce((e,r)=>r.is("element","tableRow")?e+1:e,0)}createTableWalker(t,e={}){return new je(t,e)}getSelectedTableCells(t){const e=[];for(const r of this.sortRanges(t.getRanges())){const i=r.getContainedElement();i&&i.is("element","tableCell")&&e.push(i)}return e}getTableCellsContainingSelection(t){const e=[];for(const r of t.getRanges()){const i=r.start.findAncestor("tableCell");i&&e.push(i)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map(r=>r.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),i=[...new je(e)].filter(o=>t.includes(o.cell)).map(o=>o.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,r=new Set;let i=0;for(const s of t){const{row:a,column:l}=this.getCellLocation(s),c=parseInt(s.getAttribute("rowspan"))||1,u=parseInt(s.getAttribute("colspan"))||1;e.add(a),r.add(l),c>1&&e.add(a+c-1),u>1&&r.add(l+u-1),i+=c*u}return Aue(e,r)==i}sortRanges(t){return Array.from(t).sort(Sue)}_getFirstLastIndexesObject(t){const e=t.sort((o,s)=>o-s),r=e[0],i=e[e.length-1];return{first:r,last:i}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),r=this.getRowIndexes(t),i=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(r,i))return!1;const o=this.getColumnIndexes(t),s=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(o,s)}_areIndexesInSameSection({first:t,last:e},r){const i=t<r,o=e<r;return i===o}}function V0(n,t,e,r,i,o={}){for(let s=0;s<r;s++){const a=n.createElement("tableRow");n.insert(a,t,e),La(i,n,n.createPositionAt(a,"end"),o)}}function La(n,t,e,r={}){for(let i=0;i<n;i++)ua(t,e,r)}function oT(n,t){if(n<t)return{newCellsSpan:1,updatedSpan:1};const e=Math.floor(n/t),r=n-e*t+e;return{newCellsSpan:e,updatedSpan:r}}function kue(n,t,e){const r=n.getAttribute("headingColumns")||0;if(r&&t.first<r){const i=Math.min(r-1,t.last)-t.first+1;e.setAttribute("headingColumns",r-i,n)}}function Cue(n,{first:t,last:e},r){const i=n.getAttribute("headingRows")||0;if(t<i){const o=e<i?i-(e-t+1):t;xt("headingRows",o,n,r,0)}}function Eue(n,{first:t,last:e}){const r=new Map,i=[];for(const{row:o,column:s,cellHeight:a,cell:l}of new je(n,{endRow:e})){const c=o+a-1;if(o>=t&&o<=e&&c>e){const h=e-o+1,f=a-h;r.set(s,{cell:l,rowspan:f})}if(o<t&&c>=t){let h;c>=e?h=e-t+1:h=c-t+1,i.push({cell:l,rowspan:a-h})}}return{cellsToMove:r,cellsToTrim:i}}function Tue(n,t,e,r){const o=[...new je(n,{includeAllSlots:!0,row:t})],s=n.getChild(t);let a;for(const{column:l,cell:c,isAnchor:u}of o)if(e.has(l)){const{cell:d,rowspan:h}=e.get(l),f=a?r.createPositionAfter(a):r.createPositionAt(s,0);r.move(r.createRangeOn(d),f),xt("rowspan",h,d,r),a=d}else u&&(a=c)}function Sue(n,t){const e=n.start,r=t.start;return e.isBefore(r)?-1:1}function Aue(n,t){const e=Array.from(n.values()),r=Array.from(t.values()),i=Math.max(...e),o=Math.min(...e),s=Math.max(...r),a=Math.min(...r);return(i-o+1)*(s-a+1)}class Pue extends Ae{refresh(){const t=this.editor.plugins.get(Zt),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(Zt);t.change(r=>{const i=e.getSelectedTableCells(t.document.selection),o=i.shift(),{mergeWidth:s,mergeHeight:a}=Oue(o,i,e);xt("colspan",s,o,r),xt("rowspan",a,o,r);for(const c of i)Rue(c,o,r);const l=o.findAncestor("table");r_(l,e),r.setSelection(o,"in")})}}function Rue(n,t,e){sT(n)||(sT(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(n),e.createPositionAt(t,"end"))),e.remove(n)}function sT(n){const t=n.getChild(0);return n.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function Oue(n,t,e){let r=0,i=0;for(const c of t){const{row:u,column:d}=e.getCellLocation(c);r=aT(c,d,r,"colspan"),i=aT(c,u,i,"rowspan")}const{row:o,column:s}=e.getCellLocation(n),a=r-s,l=i-o;return{mergeWidth:a,mergeHeight:l}}function aT(n,t,e,r){const i=parseInt(n.getAttribute(r)||"1");return Math.max(e,t+i)}class Iue extends Ae{constructor(t){super(t),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(t.document.selection),i=e.getRowIndexes(r),o=r[0].findAncestor("table"),s=[];for(let a=i.first;a<=i.last;a++)for(const l of o.getChild(a).getChildren())s.push(t.createRangeOn(l));t.change(a=>{a.setSelection(s)})}}class Nue extends Ae{constructor(t){super(t),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,r=t.getSelectionAffectedTableCells(e.document.selection),i=r[0],o=r.pop(),s=i.findAncestor("table"),a=t.getCellLocation(i),l=t.getCellLocation(o),c=Math.min(a.column,l.column),u=Math.max(a.column,l.column),d=[];for(const h of new je(s,{startColumn:c,endColumn:u}))d.push(e.createRangeOn(h.cell));e.change(h=>{h.setSelection(d)})}}function Mue(n){n.document.registerPostFixer(t=>Lue(t,n))}function Lue(n,t){const e=t.document.differ.getChanges();let r=!1;const i=new Set;for(const o of e){let s=null;o.type=="insert"&&o.name=="table"&&(s=o.position.nodeAfter),(o.type=="insert"||o.type=="remove")&&(o.name=="tableRow"||o.name=="tableCell")&&(s=o.position.findAncestor("table")),jue(o)&&(s=o.range.start.findAncestor("table")),s&&!i.has(s)&&(r=Due(s,n)||r,r=Bue(s,n)||r,i.add(s))}return r}function Due(n,t){let e=!1;const r=Fue(n);if(r.length){e=!0;for(const i of r)xt("rowspan",i.rowspan,i.cell,t,1)}return e}function Bue(n,t){let e=!1;const r=Vue(n),i=[];for(const[l,c]of r.entries())!c&&n.getChild(l).is("element","tableRow")&&i.push(l);if(i.length){e=!0;for(const l of i.reverse())t.remove(n.getChild(l)),r.splice(l,1)}const o=r.filter((l,c)=>n.getChild(c).is("element","tableRow")),s=o[0];if(!o.every(l=>l===s)){const l=o.reduce((c,u)=>u>c?u:c,0);for(const[c,u]of o.entries()){const d=l-u;if(d){for(let h=0;h<d;h++)ua(t,t.createPositionAt(n.getChild(c),"end"));e=!0}}}return e}function Fue(n){const t=parseInt(n.getAttribute("headingRows")||"0"),e=Array.from(n.getChildren()).reduce((i,o)=>o.is("element","tableRow")?i+1:i,0),r=[];for(const{row:i,cell:o,cellHeight:s}of new je(n)){if(s<2)continue;const l=i<t?t:e;if(i+s>l){const c=l-i;r.push({cell:o,rowspan:c})}}return r}function Vue(n){const t=new Array(n.childCount).fill(0);for(const{rowIndex:e}of new je(n,{includeAllSlots:!0}))t[e]++;return t}function jue(n){if(n.type!=="attribute")return!1;const t=n.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $ue(n){n.document.registerPostFixer(t=>zue(t,n))}function zue(n,t){const e=t.document.differ.getChanges();let r=!1;for(const i of e)i.type=="insert"&&i.name=="table"&&(r=Hue(i.position.nodeAfter,n)||r),i.type=="insert"&&i.name=="tableRow"&&(r=kN(i.position.nodeAfter,n)||r),i.type=="insert"&&i.name=="tableCell"&&(r=Yv(i.position.nodeAfter,n)||r),(i.type=="remove"||i.type=="insert")&&Uue(i)&&(r=Yv(i.position.parent,n)||r);return r}function Hue(n,t){let e=!1;for(const r of n.getChildren())r.is("element","tableRow")&&(e=kN(r,t)||e);return e}function kN(n,t){let e=!1;for(const r of n.getChildren())e=Yv(r,t)||e;return e}function Yv(n,t){if(n.childCount==0)return t.insertElement("paragraph",n),!0;const e=Array.from(n.getChildren()).filter(r=>r.is("$text"));for(const r of e)t.wrap(t.createRangeOn(r),"paragraph");return!!e.length}function Uue(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}function Wue(n,t){const e=n.document.differ;for(const r of e.getChanges()){let i,o=!1;if(r.type=="attribute"){const c=r.range.start.nodeAfter;if(!c||!c.is("element","table")||r.attributeKey!="headingRows"&&r.attributeKey!="headingColumns")continue;i=c,o=r.attributeKey=="headingRows"}else(r.name=="tableRow"||r.name=="tableCell")&&(i=r.position.findAncestor("table"),o=r.name=="tableRow");if(!i)continue;const s=i.getAttribute("headingRows")||0,a=i.getAttribute("headingColumns")||0,l=new je(i);for(const c of l){const d=c.row<s||c.column<a?"th":"td",h=t.mapper.toViewElement(c.cell);h&&h.is("element")&&h.name!=d&&t.reconvertItem(o?c.cell.parent:c.cell)}}}function que(n,t){const e=n.document.differ,r=new Set;for(const i of e.getChanges()){const o=i.type=="attribute"?i.range.start.parent:i.position.parent;o.is("element","tableCell")&&r.add(o)}for(const i of r.values()){const o=Array.from(i.getChildren()).filter(s=>Gue(s,t.mapper));for(const s of o)t.reconvertItem(s)}}function Gue(n,t){if(!n.is("element","paragraph"))return!1;const e=t.toViewElement(n);return e?hN(n)!==e.is("element","span"):!1}class Vd extends X{constructor(e){super(e);w(this,"_additionalSlots");this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Zt]}init(){const e=this.editor,r=e.model,i=r.schema,o=e.conversion,s=e.plugins.get(Zt);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),o.for("upcast").add(Hce()),o.for("upcast").add(Uce()),o.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:JE(s,{asWidget:!0,additionalSlots:this._additionalSlots})}),o.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:JE(s,{additionalSlots:this._additionalSlots})}),o.for("upcast").elementToElement({model:"tableRow",view:"tr"}),o.for("upcast").add(Wce()),o.for("downcast").elementToElement({model:"tableRow",view:Yce()}),o.for("upcast").elementToElement({model:"tableCell",view:"td"}),o.for("upcast").elementToElement({model:"tableCell",view:"th"}),o.for("upcast").add(YE("td")),o.for("upcast").add(YE("th")),o.for("editingDowncast").elementToElement({model:"tableCell",view:XE({asWidget:!0})}),o.for("dataDowncast").elementToElement({model:"tableCell",view:XE()}),o.for("editingDowncast").elementToElement({model:"paragraph",view:QE({asWidget:!0}),converterPriority:"high"}),o.for("dataDowncast").elementToElement({model:"paragraph",view:QE(),converterPriority:"high"}),o.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),o.for("upcast").attributeToAttribute({model:{key:"colspan",value:lT("colspan")},view:"colspan"}),o.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("upcast").attributeToAttribute({model:{key:"rowspan",value:lT("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new Qce(e)),e.commands.add("insertTableRowAbove",new eT(e,{order:"above"})),e.commands.add("insertTableRowBelow",new eT(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new tT(e,{order:"left"})),e.commands.add("insertTableColumnRight",new tT(e,{order:"right"})),e.commands.add("removeTableRow",new oue(e)),e.commands.add("removeTableColumn",new aue(e)),e.commands.add("splitTableCellVertically",new nT(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new nT(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new Pue(e)),e.commands.add("mergeTableCellRight",new Lh(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Lh(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Lh(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Lh(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new due(e)),e.commands.add("setTableRowHeader",new uue(e)),e.commands.add("selectTableRow",new Iue(e)),e.commands.add("selectTableColumn",new Nue(e)),Mue(r),$ue(r),this.listenTo(r.document,"change:data",()=>{Wue(r,e.editing),que(r,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function lT(n){return t=>{const e=parseInt(t.getAttribute(n));return Number.isNaN(e)||e<=0?null:e}}class cT extends ce{constructor(e){super(e);w(this,"items");w(this,"keystrokes");w(this,"focusTracker");const r=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Nt,this.focusTracker=new yt,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,o)=>`${o} × ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:r.to("label")}]}],on:{mousedown:r.to(i=>{i.preventDefault()}),click:r.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,o)=>{const{row:s,column:a}=o.target.dataset;this.items.get((parseInt(s,10)-1)*10+(parseInt(a,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,o,s)=>{if(!s)return;const{row:a,column:l}=s.dataset;this.set({rows:parseInt(a),columns:parseInt(l)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),$g({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,r=this.columns;this.items.map((i,o)=>{const s=Math.floor(o/10),a=o%10,l=s<e&&a<r;i.set("isOn",l)})}_createGridButton(e,r,i,o){const s=new we(e);return s.set({label:o,class:"ck-insert-table-dropdown-grid-box"}),s.extendTemplate({attributes:{"data-row":r,"data-column":i}}),s}_createGridCollection(){const e=[];for(let r=0;r<100;r++){const i=Math.floor(r/10),o=r%10,s=`${i+1} × ${o+1}`;e.push(this._createGridButton(this.locale,i+1,o+1,s))}return this.createCollection(e)}}var Kue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',Zue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',Yue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class Jue extends X{static get pluginName(){return"TableUI"}init(){const t=this.editor,e=this.editor.t,i=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",o=>{const s=t.commands.get("insertTable"),a=gn(o);a.bind("isEnabled").to(s),a.buttonView.set({icon:be.table,label:e("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new cT(o),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{t.execute("insertTable",{rows:l.rows,columns:l.columns}),t.editing.view.focus()}))}),a}),t.ui.componentFactory.add("menuBar:insertTable",o=>{const s=t.commands.get("insertTable"),a=new ar(o),l=new cT(o);return l.delegate("execute").to(a),a.on("change:isOpen",(c,u,d)=>{d||l.reset()}),l.on("execute",()=>{t.execute("insertTable",{rows:l.rows,columns:l.columns}),t.editing.view.focus()}),a.buttonView.set({label:e("Table"),icon:be.table}),a.panelView.children.add(l),a.bind("isEnabled").to(s),a}),t.ui.componentFactory.add("tableColumn",o=>{const s=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),Kue,s,o)}),t.ui.componentFactory.add("tableRow",o=>{const s=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),Zue,s,o)}),t.ui.componentFactory.add("mergeTableCells",o=>{const s=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),Yue,s,o)})}_prepareDropdown(t,e,r,i){const o=this.editor,s=gn(i),a=this._fillDropdownWithListOptions(s,r);return s.buttonView.set({label:t,icon:e,tooltip:!0}),s.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(c=>c)),this.listenTo(s,"execute",l=>{o.execute(l.source.commandName),l.source instanceof Ll||o.editing.view.focus()}),s}_prepareMergeSplitButtonDropdown(t,e,r,i){const o=this.editor,s=gn(i,Wg),a="mergeTableCells",l=o.commands.get(a),c=this._fillDropdownWithListOptions(s,r);return s.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),s.bind("isEnabled").toMany([l,...c],"isEnabled",(...u)=>u.some(d=>d)),this.listenTo(s.buttonView,"execute",()=>{o.execute(a),o.editing.view.focus()}),this.listenTo(s,"execute",u=>{o.execute(u.source.commandName),o.editing.view.focus()}),s}_fillDropdownWithListOptions(t,e){const r=this.editor,i=[],o=new zt;for(const s of e)Xue(s,r,i,o);return ls(t,o),i}}function Xue(n,t,e,r){if(n.type==="button"||n.type==="switchbutton"){const i=n.model=new aa(n.model),{commandName:o,bindIsOn:s}=n.model,a=t.commands.get(o);e.push(a),i.set({commandName:o}),i.bind("isEnabled").to(a),s&&i.bind("isOn").to(a,"value"),i.set({withText:!0})}r.add(n)}class Ls extends X{static get pluginName(){return"TableSelection"}static get requires(){return[Zt,Zt]}init(){const t=this.editor,e=t.model,r=t.editing.view;this.listenTo(e,"deleteContent",(i,o)=>this._handleDeleteContent(i,o),{priority:"high"}),this.listenTo(r.document,"insertText",(i,o)=>this._handleInsertTextEvent(i,o),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(Zt),e=this.editor.model.document.selection,r=t.getSelectedTableCells(e);return r.length==0?null:r}getSelectionAsFragment(){const t=this.editor.plugins.get(Zt),e=this.getSelectedTableCells();return e?this.editor.model.change(r=>{const i=r.createDocumentFragment(),{first:o,last:s}=t.getColumnIndexes(e),{first:a,last:l}=t.getRowIndexes(e),c=e[0].findAncestor("table");let u=l,d=s;if(t.isSelectionRectangular(e)){const m={firstColumn:o,lastColumn:s,firstRow:a,lastRow:l};u=yN(c,m),d=wN(c,m)}const f=fN(c,{startRow:a,startColumn:o,endRow:u,endColumn:d},r);return r.insert(f,i,0),i}):null}setCellSelection(t,e){const r=this._getCellsToSelect(t,e);this.editor.model.change(i=>{i.setSelection(r.cells.map(o=>i.createRangeOn(o)),{backward:r.backward})})}getFocusCell(){const r=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return r&&r.is("element","tableCell")?r:null}getAnchorCell(){const t=this.editor.model.document.selection,r=Dt(t.getRanges()).getContainedElement();return r&&r.is("element","tableCell")?r:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(i=>i.on("selection",(o,s,a)=>{const l=a.writer;r(l);const c=this.getSelectedTableCells();if(!c)return;for(const d of c){const h=a.mapper.toViewElement(d);l.addClass("ck-editor__editable_selected",h),e.add(h)}const u=a.mapper.toViewElement(c[c.length-1]);l.setSelection(u,0)},{priority:"lowest"}));function r(i){for(const o of e)i.removeClass("ck-editor__editable_selected",o);e.clear()}}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(r=>{const i=r.createPositionAt(e[0],0),o=t.model.schema.getNearestSelectionRange(i);r.setSelection(o)})}})}_handleDeleteContent(t,e){const r=this.editor.plugins.get(Zt),i=e[0],o=e[1],s=this.editor.model,a=!o||o.direction=="backward",l=r.getSelectedTableCells(i);l.length&&(t.stop(),s.change(c=>{const u=l[a?l.length-1:0];s.change(h=>{for(const f of l)s.deleteContent(h.createSelection(f,"in"))});const d=s.schema.getNearestSelectionRange(c.createPositionAt(u,0));i.is("documentSelection")?c.setSelection(d):i.setTo(d)}))}_handleInsertTextEvent(t,e){const r=this.editor,i=this.getSelectedTableCells();if(!i)return;const o=r.editing.view,s=r.editing.mapper,a=i.map(l=>o.createRangeOn(s.toViewElement(l)));e.selection=o.createSelection(a)}_getCellsToSelect(t,e){const r=this.editor.plugins.get("TableUtils"),i=r.getCellLocation(t),o=r.getCellLocation(e),s=Math.min(i.row,o.row),a=Math.max(i.row,o.row),l=Math.min(i.column,o.column),c=Math.max(i.column,o.column),u=new Array(a-s+1).fill(null).map(()=>[]),d={startRow:s,endRow:a,startColumn:l,endColumn:c};for(const{row:m,cell:g}of new je(t.findAncestor("table"),d))u[m-s].push(g);const h=o.row<i.row,f=o.column<i.column;return h&&u.reverse(),f&&u.forEach(m=>m.reverse()),{cells:u.flat(),backward:h||f}}}class Que extends X{static get pluginName(){return"TableClipboard"}static get requires(){return[du,Qo,Ls,Zt]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(r,i)=>this._onCopyCut(r,i)),this.listenTo(e,"cut",(r,i)=>this._onCopyCut(r,i)),this.listenTo(t.model,"insertContent",(r,[i,o])=>this._onInsertContent(r,i,o),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const r=this.editor.editing.view,i=this.editor.plugins.get(Ls),o=this.editor.plugins.get(du);i.getSelectedTableCells()&&(t.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)||(e.preventDefault(),t.stop(),this.editor.model.enqueueChange({isUndoable:t.name==="cut"},()=>{const s=o._copySelectedFragmentWithMarkers(t.name,this.editor.model.document.selection,()=>i.getSelectionAsFragment());r.document.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:this.editor.data.toView(s),method:t.name})})))}_onInsertContent(t,e,r){if(r&&!r.is("documentSelection"))return;const i=this.editor.model,o=this.editor.plugins.get(Zt),s=this.editor.plugins.get(du),a=this.getTableIfOnlyTableInContent(e,i);if(!a)return;const l=o.getSelectionAffectedTableCells(i.document.selection);if(!l.length){r_(a,o);return}t.stop(),e.is("documentFragment")?s._pasteMarkersIntoTransformedElement(e.markers,c=>this._replaceSelectedCells(a,l,c)):this.editor.model.change(c=>{this._replaceSelectedCells(a,l,c)})}_replaceSelectedCells(t,e,r){const i=this.editor.plugins.get(Zt),o={width:i.getColumns(t),height:i.getRows(t)},s=ede(e,o,r,i),a=s.lastRow-s.firstRow+1,l=s.lastColumn-s.firstColumn+1,c={startRow:0,startColumn:0,endRow:Math.min(a,o.height)-1,endColumn:Math.min(l,o.width)-1};t=fN(t,c,r);const u=e[0].findAncestor("table"),d=this._replaceSelectedCellsWithPasted(t,o,u,s,r);if(this.editor.plugins.get("TableSelection").isEnabled){const h=i.sortRanges(d.map(f=>r.createRangeOn(f)));r.setSelection(h)}else r.setSelection(d[0],0);return u}_replaceSelectedCellsWithPasted(t,e,r,i,o){const{width:s,height:a}=e,l=nde(t,s,a),c=[...new je(r,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],u=[];let d;for(const v of c){const{row:p,column:b}=v;b===i.firstColumn&&(d=v.getPositionBefore());const _=p-i.firstRow,y=b-i.firstColumn,k=l[_%a][y%s],S=k?o.cloneElement(k):null,E=this._replaceTableSlotCell(v,S,d,o);E&&(vN(E,p,b,i.lastRow,i.lastColumn,o),u.push(E),d=o.createPositionAfter(E))}const h=parseInt(r.getAttribute("headingRows")||"0"),f=parseInt(r.getAttribute("headingColumns")||"0"),m=i.firstRow<h&&h<=i.lastRow,g=i.firstColumn<f&&f<=i.lastColumn;if(m){const v={first:i.firstColumn,last:i.lastColumn},p=Jv(r,h,v,o,i.firstRow);u.push(...p)}if(g){const v={first:i.firstRow,last:i.lastRow},p=Xv(r,f,v,o);u.push(...p)}return u}_replaceTableSlotCell(t,e,r,i){const{cell:o,isAnchor:s}=t;return s&&i.remove(o),e?(i.insert(e,r),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(t.childCount==1&&t.getChild(0).is("element","table"))return t.getChild(0);const r=e.createRangeIn(t);for(const i of r.getItems())if(i.is("element","table")){const o=e.createRange(r.start,e.createPositionBefore(i));if(e.hasContent(o,{ignoreWhitespaces:!0}))return null;const s=e.createRange(e.createPositionAfter(i),r.end);return e.hasContent(s,{ignoreWhitespaces:!0})?null:i}return null}}function ede(n,t,e,r){const i=n[0].findAncestor("table"),o=r.getColumnIndexes(n),s=r.getRowIndexes(n),a={firstColumn:o.first,lastColumn:o.last,firstRow:s.first,lastRow:s.last},l=n.length===1;return l&&(a.lastRow+=t.height-1,a.lastColumn+=t.width-1,tde(i,a.lastRow+1,a.lastColumn+1,r)),l||!r.isSelectionRectangular(n)?rde(i,a,e):(a.lastRow=yN(i,a),a.lastColumn=wN(i,a)),a}function tde(n,t,e,r){const i=r.getColumns(n),o=r.getRows(n);e>i&&r.insertColumns(n,{at:i,columns:e-i}),t>o&&r.insertRows(n,{at:o,rows:t-o})}function nde(n,t,e){const r=new Array(e).fill(null).map(()=>new Array(t).fill(null));for(const{column:i,row:o,cell:s}of new je(n))r[o][i]=s;return r}function rde(n,t,e){const{firstRow:r,lastRow:i,firstColumn:o,lastColumn:s}=t,a={first:r,last:i},l={first:o,last:s};Xv(n,o,a,e),Xv(n,s+1,a,e),Jv(n,r,l,e),Jv(n,i+1,l,e,r)}function Jv(n,t,e,r,i=0){return t<1?void 0:mN(n,t,i).filter(({column:a,cellWidth:l})=>CN(a,l,e)).map(({cell:a})=>gN(a,t,r))}function Xv(n,t,e,r){return t<1?void 0:pN(n,t).filter(({row:s,cellHeight:a})=>CN(s,a,e)).map(({cell:s,column:a})=>bN(s,a,t,r))}function CN(n,t,e){const r=n+t-1,{first:i,last:o}=e,s=n>=i&&n<=o,a=n<i&&r>=i;return s||a}class ide extends X{static get pluginName(){return"TableKeyboard"}static get requires(){return[Ls,Zt]}init(){const t=this.editor,r=t.editing.view.document,i=t.t;this.listenTo(r,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"}),this.listenTo(r,"tab",(...o)=>this._handleTabOnSelectedTable(...o),{context:"figure"}),this.listenTo(r,"tab",(...o)=>this._handleTab(...o),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:i("Keystrokes that can be used in a table cell"),keystrokes:[{label:i("Move the selection to the next cell"),keystroke:"Tab"},{label:i("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:i("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:i("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(t,e){const r=this.editor,o=r.model.document.selection.getSelectedElement();!o||!o.is("element","table")||(e.preventDefault(),e.stopPropagation(),t.stop(),r.model.change(s=>{s.setSelection(s.createRangeIn(o.getChild(0).getChild(0)))}))}_handleTab(t,e){const r=this.editor,i=this.editor.plugins.get(Zt),o=this.editor.plugins.get("TableSelection"),s=r.model.document.selection,a=!e.shiftKey;let l=i.getTableCellsContainingSelection(s)[0];if(l||(l=o.getFocusCell()),!l)return;e.preventDefault(),e.stopPropagation(),t.stop();const c=l.parent,u=c.parent,d=u.getChildIndex(c),h=c.getChildIndex(l),f=h===0;if(!a&&f&&d===0){r.model.change(p=>{p.setSelection(p.createRangeOn(u))});return}const m=h===c.childCount-1,g=d===i.getRows(u)-1;if(a&&g&&m&&(r.execute("insertTableRowBelow"),d===i.getRows(u)-1)){r.model.change(p=>{p.setSelection(p.createRangeOn(u))});return}let v;if(a&&m)v=u.getChild(d+1).getChild(0);else if(!a&&f){const p=u.getChild(d-1);v=p.getChild(p.childCount-1)}else v=c.getChild(h+(a?1:-1));r.model.change(p=>{p.setSelection(p.createRangeIn(v))})}_onArrowKey(t,e){const r=this.editor,i=e.keyCode,o=kw(i,r.locale.contentLanguageDirection);this._handleArrowKeys(o,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const r=this.editor.plugins.get(Zt),i=this.editor.plugins.get("TableSelection"),o=this.editor.model,s=o.document.selection,a=["right","down"].includes(t),l=r.getSelectedTableCells(s);if(l.length){let u;return e?u=i.getFocusCell():u=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(u,t,e),!0}const c=s.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!c)return!1;if(!s.isCollapsed)if(e){if(s.isBackward==a&&!s.containsEntireContent(c))return!1}else{const u=s.getSelectedElement();if(!u||!o.schema.isObject(u))return!1}return this._isSelectionAtCellEdge(s,c,a)?(this._navigateFromCellInDirection(c,t,e),!0):!1}_isSelectionAtCellEdge(t,e,r){const i=this.editor.model,o=this.editor.model.schema,s=r?t.getLastPosition():t.getFirstPosition();if(!o.getLimitElement(s).is("element","tableCell"))return i.createPositionAt(e,r?"end":0).isTouching(s);const a=i.createSelection(s);return i.modifySelection(a,{direction:r?"forward":"backward"}),s.isEqual(a.focus)}_navigateFromCellInDirection(t,e,r=!1){const i=this.editor.model,o=t.findAncestor("table"),s=[...new je(o,{includeAllSlots:!0})],{row:a,column:l}=s[s.length-1],c=s.find(({cell:b})=>b==t);let{row:u,column:d}=c;switch(e){case"left":d--;break;case"up":u--;break;case"right":d+=c.cellWidth;break;case"down":u+=c.cellHeight;break}const h=u<0||u>a,f=d<0&&u<=0,m=d>l&&u>=a;if(h||f||m){i.change(b=>{b.setSelection(b.createRangeOn(o))});return}d<0?(d=r?0:l,u--):d>l&&(d=r?l:0,u++);const g=s.find(b=>b.row==u&&b.column==d).cell,v=["right","down"].includes(e),p=this.editor.plugins.get("TableSelection");if(r&&p.isEnabled){const b=p.getAnchorCell()||t;p.setCellSelection(b,g)}else{const b=i.createPositionAt(g,v?0:"end");i.change(_=>{_.setSelection(b)})}}}class EN extends ss{constructor(){super(...arguments);w(this,"domEventType",["mousemove","mouseleave"])}onDomEvent(e){this.fire(e.type,e)}}class ode extends X{static get pluginName(){return"TableMouse"}static get requires(){return[Ls,Zt]}init(){this.editor.editing.view.addObserver(EN),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(Zt);let r=!1;const i=t.plugins.get(Ls);this.listenTo(t.editing.view.document,"mousedown",(o,s)=>{const a=t.model.document.selection;if(!this.isEnabled||!i.isEnabled||!s.domEvent.shiftKey)return;const l=i.getAnchorCell()||e.getTableCellsContainingSelection(a)[0];if(!l)return;const c=this._getModelTableCellFromDomEvent(s);c&&uT(l,c)&&(r=!0,i.setCellSelection(l,c),s.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{r=!1}),this.listenTo(t.editing.view.document,"selectionChange",o=>{r&&o.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,r,i=!1,o=!1;const s=t.plugins.get(Ls);this.listenTo(t.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!s.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(l))}),this.listenTo(t.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!e)return;const c=this._getModelTableCellFromDomEvent(l);c&&uT(e,c)&&(r=c,!i&&r!=e&&(i=!0)),i&&(o=!0,s.setCellSelection(e,r),l.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{i=!1,o=!1,e=null,r=null}),this.listenTo(t.editing.view.document,"selectionChange",a=>{o&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,r=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(r).parent.findAncestor("tableCell",{includeSelf:!0})}}function uT(n,t){return n.parent.parent==t.parent.parent}class sde extends X{static get requires(){return[Vd,Jue,Ls,ode,ide,Que,Dd]}static get pluginName(){return"Table"}}function TN(n){const t=SN(n);return t||Yg(n)}function SN(n){const t=n.getSelectedElement();return t&&AN(t)?t:null}function Yg(n){const t=n.getFirstPosition();if(!t)return null;let e=t.parent;for(;e;){if(e.is("element")&&AN(e))return e;e=e.parent}return null}function AN(n){return!!n.getCustomProperty("table")&&At(n)}class ade extends X{static get requires(){return[aE]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,r=t.plugins.get(aE),i=t.config.get("table.contentToolbar"),o=t.config.get("table.tableToolbar");i&&r.register("tableContent",{ariaLabel:e("Table toolbar"),items:i,getRelatedElement:Yg}),o&&r.register("table",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:SN})}}class lde extends ce{constructor(e,r){super(e);w(this,"options");w(this,"focusTracker");w(this,"focusCycler");w(this,"_focusables");w(this,"dropdownView");w(this,"inputView");w(this,"keystrokes");w(this,"_stillTyping");this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=r,this.focusTracker=new yt,this._focusables=new En,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new Nt,this._stillTyping=!1,this.focusCycler=new zn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(i,o,s)=>this._setInputValue(s))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(e=>{this.focusTracker.add(e.element),this._focusables.add(e)}),this.keystrokes.listenTo(this.element)}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const e=this.locale,r=e.t,i=this.bindTemplate,o=this._createColorSelector(e),s=gn(e),a=new ce;return a.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:i.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",i.if("value","ck-hidden",l=>l!="")]}}]}),s.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),s.buttonView.children.add(a),s.buttonView.label=r("Color picker"),s.buttonView.tooltip=!0,s.panelPosition=e.uiLanguageDirection==="rtl"?"se":"sw",s.panelView.children.add(o),s.bind("isEnabled").to(this,"isReadOnly",l=>!l),s.on("change:isOpen",(l,c,u)=>{u&&(o.updateSelectedColors(),o.showColorGridsFragment())}),s}_createInputTextView(){const e=this.locale,r=new a6(e);return r.extendTemplate({on:{blur:r.bindTemplate.to("blur")}}),r.value=this.value,r.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(r),r.on("input",()=>{const i=r.element.value,o=this.options.colorDefinitions.find(s=>i===s.label);this._stillTyping=!0,this.value=o&&o.color||i}),r.on("blur",()=>{this._stillTyping=!1,this._setInputValue(r.element.value)}),r.delegate("input").to(this),r}_createColorSelector(e){const r=e.t,i=this.options.defaultColorValue||"",o=r(i?"Restore default":"Remove color"),s=new qw(e,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:o,colorPickerLabel:r("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig===!1?!1:{...this.options.colorPickerConfig,hideInput:!0}});s.appendUI(),s.on("execute",(l,c)=>{if(c.source==="colorPickerSaveButton"){this.dropdownView.isOpen=!1;return}this.value=c.value||i,this.fire("input"),c.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)});let a=this.value;return s.on("colorPicker:cancel",()=>{this.value=a,this.fire("input"),this.dropdownView.isOpen=!1}),s.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{a=this.value}),s.bind("selectedColor").to(this,"value"),s}_setInputValue(e){if(!this._stillTyping){const r=dT(e),i=this.options.colorDefinitions.find(o=>r===dT(o.color));i?this.inputView.value=i.label:this.inputView.value=e||""}}}function dT(n){return n.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const o_=n=>n==="";function s_(n){return{none:n("None"),solid:n("Solid"),dotted:n("Dotted"),dashed:n("Dashed"),double:n("Double"),groove:n("Groove"),ridge:n("Ridge"),inset:n("Inset"),outset:n("Outset")}}function PN(n){return n('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function RN(n){return n('The value is invalid. Try "10px" or "2em" or simply "2".')}function Pm(n){return n=n.trim().toLowerCase(),o_(n)||NI(n)}function fu(n){return n=n.trim(),o_(n)||NN(n)||Vg(n)||MI(n)}function ON(n){return n=n.trim(),o_(n)||NN(n)||Vg(n)}function IN(n,t){const e=new zt,r=s_(n.t);for(const i in r){const o={type:"button",model:new aa({_borderStyleValue:i,label:r[i],role:"menuitemradio",withText:!0})};i==="none"?o.model.bind("isOn").to(n,"borderStyle",s=>t==="none"?!s:s===i):o.model.bind("isOn").to(n,"borderStyle",s=>s===i),e.add(o)}return e}function Qv(n){const{view:t,icons:e,toolbar:r,labels:i,propertyName:o,nameToValue:s,defaultValue:a}=n;for(const l in i){const c=new we(t.locale);c.set({label:i[l],icon:e[l],tooltip:i[l]});const u=s?s(l):l;c.bind("isOn").to(t,o,d=>{let h=d;return d===""&&a&&(h=a),u===h}),c.on("execute",()=>{t[o]=u}),r.items.add(c)}}const Rm=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function Om(n){return(t,e,r)=>{const i=new lde(t.locale,{colorDefinitions:cde(n.colorConfig),columns:n.columns,defaultColorValue:n.defaultColorValue,colorPickerConfig:n.colorPickerConfig});return i.inputView.set({id:e,ariaDescribedById:r}),i.bind("isReadOnly").to(t,"isEnabled",o=>!o),i.bind("hasError").to(t,"errorText",o=>!!o),i.on("input",()=>{t.errorText=null}),t.bind("isEmpty","isFocused").to(i),i}}function NN(n){const t=parseFloat(n);return!Number.isNaN(t)&&n===String(t)}function cde(n){return n.map(t=>({color:t.model,label:t.label,options:{hasBorder:t.hasBorder}}))}class Gn extends ce{constructor(e,r={}){super(e);w(this,"children");const i=this.bindTemplate;this.set("class",r.class||null),this.children=this.createCollection(),r.children&&r.children.forEach(o=>this.children.add(o)),this.set("_role",null),this.set("_ariaLabelledBy",null),r.labelView&&this.set({_role:"group",_ariaLabelledBy:r.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",i.to("class")],role:i.to("_role"),"aria-labelledby":i.to("_ariaLabelledBy")},children:this.children})}}class ude extends ce{constructor(e,r){super(e);w(this,"options");w(this,"focusTracker");w(this,"keystrokes");w(this,"children");w(this,"borderStyleDropdown");w(this,"borderWidthInput");w(this,"borderColorInput");w(this,"backgroundInput");w(this,"paddingInput");w(this,"widthInput");w(this,"heightInput");w(this,"horizontalAlignmentToolbar");w(this,"verticalAlignmentToolbar");w(this,"saveButtonView");w(this,"cancelButtonView");w(this,"_focusables");w(this,"_focusCycler");this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=r;const{borderStyleDropdown:i,borderWidthInput:o,borderColorInput:s,borderRowLabel:a}=this._createBorderFields(),{backgroundRowLabel:l,backgroundInput:c}=this._createBackgroundFields(),{widthInput:u,operatorLabel:d,heightInput:h,dimensionsLabel:f}=this._createDimensionFields(),{horizontalAlignmentToolbar:m,verticalAlignmentToolbar:g,alignmentLabel:v}=this._createAlignmentFields();this.focusTracker=new yt,this.keystrokes=new Nt,this.children=this.createCollection(),this.borderStyleDropdown=i,this.borderWidthInput=o,this.borderColorInput=s,this.backgroundInput=c,this.paddingInput=this._createPaddingField(),this.widthInput=u,this.heightInput=h,this.horizontalAlignmentToolbar=m,this.verticalAlignmentToolbar=g;const{saveButtonView:p,cancelButtonView:b}=this._createActionButtons();this.saveButtonView=p,this.cancelButtonView=b,this._focusables=new En,this._focusCycler=new zn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new zg(e,{label:this.t("Cell properties")})),this.children.add(new Gn(e,{labelView:a,children:[a,i,s,o],class:"ck-table-form__border-row"})),this.children.add(new Gn(e,{labelView:l,children:[l,c],class:"ck-table-form__background-row"})),this.children.add(new Gn(e,{children:[new Gn(e,{labelView:f,children:[f,u,d,h],class:"ck-table-form__dimensions-row"}),new Gn(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Gn(e,{labelView:v,children:[v,m,g],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Gn(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),jg({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,r={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},i=Om({colorConfig:this.options.borderColors,columns:5,defaultColorValue:r.color,colorPickerConfig:this.options.colorPickerConfig}),o=this.locale,s=this.t,a=s("Style"),l=new nr(o);l.text=s("Border");const c=s_(s),u=new tn(o,Ww);u.set({label:a,class:"ck-table-form__border-style"}),u.fieldView.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),u.fieldView.buttonView.bind("label").to(this,"borderStyle",f=>c[f||"none"]),u.fieldView.on("execute",f=>{this.borderStyle=f.source._borderStyleValue}),u.bind("isEmpty").to(this,"borderStyle",f=>!f),ls(u.fieldView,IN(this,r.style),{role:"menu",ariaLabel:a});const d=new tn(o,di);d.set({label:s("Width"),class:"ck-table-form__border-width"}),d.fieldView.bind("value").to(this,"borderWidth"),d.bind("isEnabled").to(this,"borderStyle",Dh),d.fieldView.on("input",()=>{this.borderWidth=d.fieldView.element.value});const h=new tn(o,i);return h.set({label:s("Color"),class:"ck-table-form__border-color"}),h.fieldView.bind("value").to(this,"borderColor"),h.bind("isEnabled").to(this,"borderStyle",Dh),h.fieldView.on("input",()=>{this.borderColor=h.fieldView.value}),this.on("change:borderStyle",(f,m,g,v)=>{Dh(g)||(this.borderColor="",this.borderWidth=""),Dh(v)||(this.borderColor=r.color,this.borderWidth=r.width)}),{borderRowLabel:l,borderStyleDropdown:u,borderColorInput:h,borderWidthInput:d}}_createBackgroundFields(){const e=this.locale,r=this.t,i=new nr(e);i.text=r("Background");const o=Om({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),s=new tn(e,o);return s.set({label:r("Color"),class:"ck-table-cell-properties-form__background"}),s.fieldView.bind("value").to(this,"backgroundColor"),s.fieldView.on("input",()=>{this.backgroundColor=s.fieldView.value}),{backgroundRowLabel:i,backgroundInput:s}}_createDimensionFields(){const e=this.locale,r=this.t,i=new nr(e);i.text=r("Dimensions");const o=new tn(e,di);o.set({label:r("Width"),class:"ck-table-form__dimensions-row__width"}),o.fieldView.bind("value").to(this,"width"),o.fieldView.on("input",()=>{this.width=o.fieldView.element.value});const s=new ce(e);s.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"×"}]});const a=new tn(e,di);return a.set({label:r("Height"),class:"ck-table-form__dimensions-row__height"}),a.fieldView.bind("value").to(this,"height"),a.fieldView.on("input",()=>{this.height=a.fieldView.element.value}),{dimensionsLabel:i,widthInput:o,operatorLabel:s,heightInput:a}}_createPaddingField(){const e=this.locale,r=this.t,i=new tn(e,di);return i.set({label:r("Padding"),class:"ck-table-cell-properties-form__padding"}),i.fieldView.bind("value").to(this,"padding"),i.fieldView.on("input",()=>{this.padding=i.fieldView.element.value}),i}_createAlignmentFields(){const e=this.locale,r=this.t,i=new nr(e),o={left:be.alignLeft,center:be.alignCenter,right:be.alignRight,justify:be.alignJustify,top:be.alignTop,middle:be.alignMiddle,bottom:be.alignBottom};i.text=r("Table cell text alignment");const s=new Dl(e),a=e.contentLanguageDirection==="rtl";s.set({isCompact:!0,ariaLabel:r("Horizontal text alignment toolbar")}),Qv({view:this,icons:o,toolbar:s,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:c=>{if(a){if(c==="left")return"right";if(c==="right")return"left"}return c},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const l=new Dl(e);return l.set({isCompact:!0,ariaLabel:r("Vertical text alignment toolbar")}),Qv({view:this,icons:o,toolbar:l,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:s,verticalAlignmentToolbar:l,alignmentLabel:i}}_createActionButtons(){const e=this.locale,r=this.t,i=new we(e),o=new we(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return i.set({label:r("Save"),icon:be.check,class:"ck-button-save",type:"submit",withText:!0}),i.bind("isEnabled").toMany(s,"errorText",(...a)=>a.every(l=>!l)),o.set({label:r("Cancel"),icon:be.cancel,class:"ck-button-cancel",withText:!0}),o.delegate("execute").to(this,"cancel"),{saveButtonView:i,cancelButtonView:o}}get _horizontalAlignmentLabels(){const e=this.locale,r=this.t,i=r("Align cell text to the left"),o=r("Align cell text to the center"),s=r("Align cell text to the right"),a=r("Justify cell text");return e.uiLanguageDirection==="rtl"?{right:s,center:o,left:i,justify:a}:{left:i,center:o,right:s,justify:a}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function Dh(n){return n!=="none"}const ey=[On.defaultPositions.northArrowSouth,On.defaultPositions.northArrowSouthWest,On.defaultPositions.northArrowSouthEast,On.defaultPositions.southArrowNorth,On.defaultPositions.southArrowNorthWest,On.defaultPositions.southArrowNorthEast,On.defaultPositions.viewportStickyNorth];function MN(n,t){const e=n.plugins.get("ContextualBalloon"),r=n.editing.view.document.selection;let i;t==="cell"?Yg(r)&&(i=DN(n)):TN(r)&&(i=LN(n)),i&&e.updatePosition(i)}function LN(n){const t=n.model.document.selection,e=Ms(t),r=n.editing.mapper.toViewElement(e);return{target:n.editing.view.domConverter.mapViewToDom(r),positions:ey}}function DN(n){const t=n.editing.mapper,e=n.editing.view.domConverter,r=n.model.document.selection;if(r.rangeCount>1)return{target:()=>dde(r.getRanges(),n),positions:ey};const i=BN(r.getFirstPosition()),o=t.toViewElement(i);return{target:e.mapViewToDom(o),positions:ey}}function BN(n){return n.nodeAfter&&n.nodeAfter.is("element","tableCell")?n.nodeAfter:n.findAncestor("tableCell")}function dde(n,t){const e=t.editing.mapper,r=t.editing.view.domConverter,i=Array.from(n).map(o=>{const s=BN(o.start),a=e.toViewElement(s);return new Re(r.mapViewToDom(a))});return Re.getBoundingRect(i)}var hde='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>';function da(n){if(!n||!et(n))return n;const{top:t,right:e,bottom:r,left:i}=n;if(t==e&&e==r&&r==i)return t}function ha(n,t){const e=parseFloat(n);return Number.isNaN(e)||String(e)!==String(n)?n:`${e}${t}`}function FN(n,t={}){const e={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...n};return t.includeAlignmentProperty&&!e.alignment&&(e.alignment="center"),t.includePaddingProperty&&!e.padding&&(e.padding=""),t.includeVerticalAlignmentProperty&&!e.verticalAlignment&&(e.verticalAlignment="middle"),t.includeHorizontalAlignmentProperty&&!e.horizontalAlignment&&(e.horizontalAlignment=t.isRightToLeftContent?"right":"left"),e}function VN(n,t){return FN({borderStyle:"double",borderColor:"hsl(0, 0%, 70%)",borderWidth:"1px",...n},t)}function a_(n,t){return FN({borderStyle:"solid",borderColor:"hsl(0, 0%, 75%)",borderWidth:"1px",...n},t)}const fde=500,hT={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class mde extends X{constructor(e){super(e);w(this,"_defaultTableCellProperties");w(this,"_balloon");w(this,"view");w(this,"_undoStepBatch");w(this,"_isReady");e.config.define("table.tableCellProperties",{borderColors:Rm,backgroundColors:Rm})}static get requires(){return[Gs]}static get pluginName(){return"TableCellPropertiesUI"}init(){const e=this.editor,r=e.t;this._defaultTableCellProperties=a_(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._balloon=e.plugins.get(Gs),this.view=null,this._isReady=!1,e.ui.componentFactory.add("tableCellProperties",i=>{const o=new we(i);o.set({label:r("Cell properties"),icon:hde,tooltip:!0}),this.listenTo(o,"execute",()=>this._showView());const s=Object.values(hT).map(a=>e.commands.get(a));return o.bind("isEnabled").toMany(s,"isEnabled",(...a)=>a.some(l=>l)),o})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const e=this.editor,r=e.config.get("table.tableCellProperties"),i=od(r.borderColors),o=id(e.locale,i),s=od(r.backgroundColors),a=id(e.locale,s),l=r.colorPicker!==!1,c=new ude(e.locale,{borderColors:o,backgroundColors:a,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:l?r.colorPicker||{}:!1}),u=e.t;c.render(),this.listenTo(c,"submit",()=>{this._hideView()}),this.listenTo(c,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),c.keystrokes.set("Esc",(f,m)=>{this._hideView(),m()}),Id({emitter:c,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const d=PN(u),h=RN(u);return c.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),c.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:c.borderColorInput,commandName:"tableCellBorderColor",errorText:d,validator:Pm})),c.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:c.borderWidthInput,commandName:"tableCellBorderWidth",errorText:h,validator:ON})),c.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:c.paddingInput,commandName:"tableCellPadding",errorText:h,validator:fu})),c.on("change:width",this._getValidatedPropertyChangeCallback({viewField:c.widthInput,commandName:"tableCellWidth",errorText:h,validator:fu})),c.on("change:height",this._getValidatedPropertyChangeCallback({viewField:c.heightInput,commandName:"tableCellHeight",errorText:h,validator:fu})),c.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:c.backgroundInput,commandName:"tableCellBackgroundColor",errorText:d,validator:Pm})),c.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),c.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),c}_fillViewFormFromCommandValues(){const e=this.editor.commands,r=e.get("tableCellBorderStyle");Object.entries(hT).map(([i,o])=>{const s=this._defaultTableCellProperties[i]||"";return[i,e.get(o).value||s]}).forEach(([i,o])=>{(i==="borderColor"||i==="borderWidth")&&r.value==="none"||this.view.set(i,o)}),this._isReady=!0}_showView(){const e=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:DN(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,r=e.editing.view.document;Yg(r.selection)?this._isViewVisible&&MN(e,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(r,i,o)=>{this._isReady&&this.editor.execute(e,{value:o,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:r,viewField:i,validator:o,errorText:s}=e,a=Ir(()=>{i.errorText=s},fde);return(l,c,u)=>{a.cancel(),this._isReady&&(o(u)?(this.editor.execute(r,{value:u,batch:this._undoStepBatch}),i.errorText=null):a())}}}class ao extends Ae{constructor(e,r,i){super(e);w(this,"attributeName");w(this,"_defaultValue");this.attributeName=r,this._defaultValue=i}refresh(){const e=this.editor,i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e.model.document.selection);this.isEnabled=!!i.length,this.value=this._getSingleValue(i)}execute(e={}){const{value:r,batch:i}=e,o=this.editor.model,a=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(o.document.selection),l=this._getValueToSet(r);o.enqueueChange(i,c=>{l?a.forEach(u=>c.setAttribute(this.attributeName,l,u)):a.forEach(u=>c.removeAttribute(this.attributeName,u))})}_getAttribute(e){if(!e)return;const r=e.getAttribute(this.attributeName);if(r!==this._defaultValue)return r}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const r=this._getAttribute(e[0]);return e.every(o=>this._getAttribute(o)===r)?r:void 0}}class gde extends ao{constructor(t,e){super(t,"tableCellWidth",e)}_getValueToSet(t){if(t=ha(t,"px"),t!==this._defaultValue)return t}}class jN extends X{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[Vd]}init(){const t=this.editor,e=a_(t.config.get("table.tableCellProperties.defaultProperties"));pf(t.model.schema,t.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:e.width}),t.commands.add("tableCellWidth",new gde(t,e.width))}}class pde extends ao{constructor(t,e){super(t,"tableCellPadding",e)}_getAttribute(t){if(!t)return;const e=da(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=ha(t,"px");if(e!==this._defaultValue)return e}}class bde extends ao{constructor(t,e){super(t,"tableCellHeight",e)}_getValueToSet(t){const e=ha(t,"px");if(e!==this._defaultValue)return e}}class vde extends ao{constructor(t,e){super(t,"tableCellBackgroundColor",e)}}class yde extends ao{constructor(t,e){super(t,"tableCellVerticalAlignment",e)}}class wde extends ao{constructor(t,e){super(t,"tableCellHorizontalAlignment",e)}}class _de extends ao{constructor(t,e){super(t,"tableCellBorderStyle",e)}_getAttribute(t){if(!t)return;const e=da(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class xde extends ao{constructor(t,e){super(t,"tableCellBorderColor",e)}_getAttribute(t){if(!t)return;const e=da(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class kde extends ao{constructor(t,e){super(t,"tableCellBorderWidth",e)}_getAttribute(t){if(!t)return;const e=da(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=ha(t,"px");if(e!==this._defaultValue)return e}}const fT=/^(top|middle|bottom)$/,mT=/^(left|center|right|justify)$/;class Cde extends X{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[Vd,jN]}init(){const t=this.editor,e=t.model.schema,r=t.conversion;t.config.define("table.tableCellProperties.defaultProperties",{});const i=a_(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:t.locale.contentLanguageDirection==="rtl"});t.data.addStyleProcessorRules(DI),Ede(e,r,{color:i.borderColor,style:i.borderStyle,width:i.borderWidth}),t.commands.add("tableCellBorderStyle",new _de(t,i.borderStyle)),t.commands.add("tableCellBorderColor",new xde(t,i.borderColor)),t.commands.add("tableCellBorderWidth",new kde(t,i.borderWidth)),pf(e,r,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:i.height}),t.commands.add("tableCellHeight",new bde(t,i.height)),t.data.addStyleProcessorRules(IQ),pf(e,r,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:i.padding}),t.commands.add("tableCellPadding",new pde(t,i.padding)),t.data.addStyleProcessorRules(Fw),pf(e,r,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:i.backgroundColor}),t.commands.add("tableCellBackgroundColor",new vde(t,i.backgroundColor)),Tde(e,r,i.horizontalAlignment),t.commands.add("tableCellHorizontalAlignment",new wde(t,i.horizontalAlignment)),Sde(e,r,i.verticalAlignment),t.commands.add("tableCellVerticalAlignment",new yde(t,i.verticalAlignment))}}function Ede(n,t,e){const r={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};n.extend("tableCell",{allowAttributes:Object.values(r)}),Uv(t,"td",r,e),Uv(t,"th",r,e),hu(t,{modelElement:"tableCell",modelAttribute:r.style,styleName:"border-style"}),hu(t,{modelElement:"tableCell",modelAttribute:r.color,styleName:"border-color"}),hu(t,{modelElement:"tableCell",modelAttribute:r.width,styleName:"border-width"})}function Tde(n,t,e){n.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:r=>({key:"style",value:{"text-align":r}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":mT}},model:{key:"tableCellHorizontalAlignment",value:r=>{const i=r.getStyle("text-align");return i===e?null:i}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:mT}},model:{key:"tableCellHorizontalAlignment",value:r=>{const i=r.getAttribute("align");return i===e?null:i}}})}function Sde(n,t,e){n.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:r=>({key:"style",value:{"vertical-align":r}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":fT}},model:{key:"tableCellVerticalAlignment",value:r=>{const i=r.getStyle("vertical-align");return i===e?null:i}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:fT}},model:{key:"tableCellVerticalAlignment",value:r=>{const i=r.getAttribute("valign");return i===e?null:i}}})}class Ade extends X{static get pluginName(){return"TableCellProperties"}static get requires(){return[Cde,mde]}}class fa extends Ae{constructor(e,r,i){super(e);w(this,"attributeName");w(this,"_defaultValue");this.attributeName=r,this._defaultValue=i}refresh(){const r=this.editor.model.document.selection,i=Ms(r);this.isEnabled=!!i,this.value=this._getValue(i)}execute(e={}){const r=this.editor.model,i=r.document.selection,{value:o,batch:s}=e,a=Ms(i),l=this._getValueToSet(o);r.enqueueChange(s,c=>{l?c.setAttribute(this.attributeName,l,a):c.removeAttribute(this.attributeName,a)})}_getValue(e){if(!e)return;const r=e.getAttribute(this.attributeName);if(r!==this._defaultValue)return r}_getValueToSet(e){if(e!==this._defaultValue)return e}}class Pde extends fa{constructor(t,e){super(t,"tableBackgroundColor",e)}}class Rde extends fa{constructor(t,e){super(t,"tableBorderColor",e)}_getValue(t){if(!t)return;const e=da(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class Ode extends fa{constructor(t,e){super(t,"tableBorderStyle",e)}_getValue(t){if(!t)return;const e=da(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}}class Ide extends fa{constructor(t,e){super(t,"tableBorderWidth",e)}_getValue(t){if(!t)return;const e=da(t.getAttribute(this.attributeName));if(e!==this._defaultValue)return e}_getValueToSet(t){const e=ha(t,"px");if(e!==this._defaultValue)return e}}class Nde extends fa{constructor(t,e){super(t,"tableWidth",e)}_getValueToSet(t){if(t=ha(t,"px"),t!==this._defaultValue)return t}}class Mde extends fa{constructor(t,e){super(t,"tableHeight",e)}_getValueToSet(t){if(t=ha(t,"px"),t!==this._defaultValue)return t}}class Lde extends fa{constructor(t,e){super(t,"tableAlignment",e)}}const Dde=/^(left|center|right)$/,Bde=/^(left|none|right)$/;class Fde extends X{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[Vd]}init(){const t=this.editor,e=t.model.schema,r=t.conversion;t.config.define("table.tableProperties.defaultProperties",{});const i=VN(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});t.data.addStyleProcessorRules(DI),Vde(e,r,{color:i.borderColor,style:i.borderStyle,width:i.borderWidth}),t.commands.add("tableBorderColor",new Rde(t,i.borderColor)),t.commands.add("tableBorderStyle",new Ode(t,i.borderStyle)),t.commands.add("tableBorderWidth",new Ide(t,i.borderWidth)),jde(e,r,i.alignment),t.commands.add("tableAlignment",new Lde(t,i.alignment)),gT(e,r,{modelAttribute:"tableWidth",styleName:"width",defaultValue:i.width}),t.commands.add("tableWidth",new Nde(t,i.width)),gT(e,r,{modelAttribute:"tableHeight",styleName:"height",defaultValue:i.height}),t.commands.add("tableHeight",new Mde(t,i.height)),t.data.addStyleProcessorRules(Fw),$de(e,r,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:i.backgroundColor}),t.commands.add("tableBackgroundColor",new Pde(t,i.backgroundColor))}}function Vde(n,t,e){const r={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};n.extend("table",{allowAttributes:Object.values(r)}),Uv(t,"table",r,e),mf(t,{modelAttribute:r.color,styleName:"border-color"}),mf(t,{modelAttribute:r.style,styleName:"border-style"}),mf(t,{modelAttribute:r.width,styleName:"border-width"})}function jde(n,t,e){n.extend("table",{allowAttributes:["tableAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:r=>({key:"style",value:{float:r==="center"?"none":r}}),converterPriority:"high"}),t.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:Bde}},model:{key:"tableAlignment",value:r=>{let i=r.getStyle("float");return i==="none"&&(i="center"),i===e?null:i}}}).attributeToAttribute({view:{attributes:{align:Dde}},model:{name:"table",key:"tableAlignment",value:r=>{const i=r.getAttribute("align");return i===e?null:i}}})}function $de(n,t,e){const{modelAttribute:r}=e;n.extend("table",{allowAttributes:[r]}),n_(t,{viewElement:"table",...e}),mf(t,e)}function gT(n,t,e){const{modelAttribute:r}=e;n.extend("table",{allowAttributes:[r]}),n_(t,{viewElement:/^(table|figure)$/,shouldUpcast:i=>!(i.name=="table"&&i.parent.name=="figure"),...e}),hu(t,{modelElement:"table",...e})}class zde extends ce{constructor(e,r){super(e);w(this,"options");w(this,"focusTracker");w(this,"keystrokes");w(this,"children");w(this,"borderStyleDropdown");w(this,"borderWidthInput");w(this,"borderColorInput");w(this,"backgroundInput");w(this,"widthInput");w(this,"heightInput");w(this,"alignmentToolbar");w(this,"saveButtonView");w(this,"cancelButtonView");w(this,"_focusables");w(this,"_focusCycler");this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=r;const{borderStyleDropdown:i,borderWidthInput:o,borderColorInput:s,borderRowLabel:a}=this._createBorderFields(),{backgroundRowLabel:l,backgroundInput:c}=this._createBackgroundFields(),{widthInput:u,operatorLabel:d,heightInput:h,dimensionsLabel:f}=this._createDimensionFields(),{alignmentToolbar:m,alignmentLabel:g}=this._createAlignmentFields();this.focusTracker=new yt,this.keystrokes=new Nt,this.children=this.createCollection(),this.borderStyleDropdown=i,this.borderWidthInput=o,this.borderColorInput=s,this.backgroundInput=c,this.widthInput=u,this.heightInput=h,this.alignmentToolbar=m;const{saveButtonView:v,cancelButtonView:p}=this._createActionButtons();this.saveButtonView=v,this.cancelButtonView=p,this._focusables=new En,this._focusCycler=new zn({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new zg(e,{label:this.t("Table properties")})),this.children.add(new Gn(e,{labelView:a,children:[a,i,s,o],class:"ck-table-form__border-row"})),this.children.add(new Gn(e,{labelView:l,children:[l,c],class:"ck-table-form__background-row"})),this.children.add(new Gn(e,{children:[new Gn(e,{labelView:f,children:[f,u,d,h],class:"ck-table-form__dimensions-row"}),new Gn(e,{labelView:g,children:[g,m],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Gn(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),jg({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,r={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},i=Om({colorConfig:this.options.borderColors,columns:5,defaultColorValue:r.color,colorPickerConfig:this.options.colorPickerConfig}),o=this.locale,s=this.t,a=s("Style"),l=new nr(o);l.text=s("Border");const c=s_(s),u=new tn(o,Ww);u.set({label:a,class:"ck-table-form__border-style"}),u.fieldView.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),u.fieldView.buttonView.bind("label").to(this,"borderStyle",f=>c[f||"none"]),u.fieldView.on("execute",f=>{this.borderStyle=f.source._borderStyleValue}),u.bind("isEmpty").to(this,"borderStyle",f=>!f),ls(u.fieldView,IN(this,r.style),{role:"menu",ariaLabel:a});const d=new tn(o,di);d.set({label:s("Width"),class:"ck-table-form__border-width"}),d.fieldView.bind("value").to(this,"borderWidth"),d.bind("isEnabled").to(this,"borderStyle",Bh),d.fieldView.on("input",()=>{this.borderWidth=d.fieldView.element.value});const h=new tn(o,i);return h.set({label:s("Color"),class:"ck-table-form__border-color"}),h.fieldView.bind("value").to(this,"borderColor"),h.bind("isEnabled").to(this,"borderStyle",Bh),h.fieldView.on("input",()=>{this.borderColor=h.fieldView.value}),this.on("change:borderStyle",(f,m,g,v)=>{Bh(g)||(this.borderColor="",this.borderWidth=""),Bh(v)||(this.borderColor=r.color,this.borderWidth=r.width)}),{borderRowLabel:l,borderStyleDropdown:u,borderColorInput:h,borderWidthInput:d}}_createBackgroundFields(){const e=this.locale,r=this.t,i=new nr(e);i.text=r("Background");const o=Om({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),s=new tn(e,o);return s.set({label:r("Color"),class:"ck-table-properties-form__background"}),s.fieldView.bind("value").to(this,"backgroundColor"),s.fieldView.on("input",()=>{this.backgroundColor=s.fieldView.value}),{backgroundRowLabel:i,backgroundInput:s}}_createDimensionFields(){const e=this.locale,r=this.t,i=new nr(e);i.text=r("Dimensions");const o=new tn(e,di);o.set({label:r("Width"),class:"ck-table-form__dimensions-row__width"}),o.fieldView.bind("value").to(this,"width"),o.fieldView.on("input",()=>{this.width=o.fieldView.element.value});const s=new ce(e);s.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"×"}]});const a=new tn(e,di);return a.set({label:r("Height"),class:"ck-table-form__dimensions-row__height"}),a.fieldView.bind("value").to(this,"height"),a.fieldView.on("input",()=>{this.height=a.fieldView.element.value}),{dimensionsLabel:i,widthInput:o,operatorLabel:s,heightInput:a}}_createAlignmentFields(){const e=this.locale,r=this.t,i=new nr(e);i.text=r("Alignment");const o=new Dl(e);return o.set({isCompact:!0,ariaLabel:r("Table alignment toolbar")}),Qv({view:this,icons:{left:be.objectLeft,center:be.objectCenter,right:be.objectRight},toolbar:o,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:i,alignmentToolbar:o}}_createActionButtons(){const e=this.locale,r=this.t,i=new we(e),o=new we(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return i.set({label:r("Save"),icon:be.check,class:"ck-button-save",type:"submit",withText:!0}),i.bind("isEnabled").toMany(s,"errorText",(...a)=>a.every(l=>!l)),o.set({label:r("Cancel"),icon:be.cancel,class:"ck-button-cancel",withText:!0}),o.delegate("execute").to(this,"cancel"),{saveButtonView:i,cancelButtonView:o}}get _alignmentLabels(){const e=this.locale,r=this.t,i=r("Align table to the left"),o=r("Center table"),s=r("Align table to the right");return e.uiLanguageDirection==="rtl"?{right:s,center:o,left:i}:{left:i,center:o,right:s}}}function Bh(n){return n!=="none"}var Hde='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>';const Ude=500,pT={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class Wde extends X{constructor(e){super(e);w(this,"_defaultTableProperties");w(this,"_balloon");w(this,"view",null);w(this,"_undoStepBatch");w(this,"_isReady");e.config.define("table.tableProperties",{borderColors:Rm,backgroundColors:Rm})}static get requires(){return[Gs]}static get pluginName(){return"TablePropertiesUI"}init(){const e=this.editor,r=e.t;this._defaultTableProperties=VN(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=e.plugins.get(Gs),e.ui.componentFactory.add("tableProperties",i=>{const o=new we(i);o.set({label:r("Table properties"),icon:Hde,tooltip:!0}),this.listenTo(o,"execute",()=>this._showView());const s=Object.values(pT).map(a=>e.commands.get(a));return o.bind("isEnabled").toMany(s,"isEnabled",(...a)=>a.some(l=>l)),o})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const e=this.editor,r=e.config.get("table.tableProperties"),i=od(r.borderColors),o=id(e.locale,i),s=od(r.backgroundColors),a=id(e.locale,s),l=r.colorPicker!==!1,c=new zde(e.locale,{borderColors:o,backgroundColors:a,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:l?r.colorPicker||{}:!1}),u=e.t;c.render(),this.listenTo(c,"submit",()=>{this._hideView()}),this.listenTo(c,"cancel",()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()}),c.keystrokes.set("Esc",(f,m)=>{this._hideView(),m()}),Id({emitter:c,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const d=PN(u),h=RN(u);return c.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),c.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:c.borderColorInput,commandName:"tableBorderColor",errorText:d,validator:Pm})),c.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:c.borderWidthInput,commandName:"tableBorderWidth",errorText:h,validator:ON})),c.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:c.backgroundInput,commandName:"tableBackgroundColor",errorText:d,validator:Pm})),c.on("change:width",this._getValidatedPropertyChangeCallback({viewField:c.widthInput,commandName:"tableWidth",errorText:h,validator:fu})),c.on("change:height",this._getValidatedPropertyChangeCallback({viewField:c.heightInput,commandName:"tableHeight",errorText:h,validator:fu})),c.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),c}_fillViewFormFromCommandValues(){const e=this.editor.commands,r=e.get("tableBorderStyle");Object.entries(pT).map(([i,o])=>{const s=i,a=this._defaultTableProperties[s]||"";return[s,e.get(o).value||a]}).forEach(([i,o])=>{(i==="borderColor"||i==="borderWidth")&&r.value==="none"||this.view.set(i,o)}),this._isReady=!0}_showView(){const e=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:LN(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,r=e.editing.view.document;TN(r.selection)?this._isViewVisible&&MN(e,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(r,i,o)=>{this._isReady&&this.editor.execute(e,{value:o,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:r,viewField:i,validator:o,errorText:s}=e,a=Ir(()=>{i.errorText=s},Ude);return(l,c,u)=>{a.cancel(),this._isReady&&(o(u)?(this.editor.execute(r,{value:u,batch:this._undoStepBatch}),i.errorText=null):a())}}}class qde extends X{static get pluginName(){return"TableProperties"}static get requires(){return[Fde,Wde]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gde(n){n.document.registerPostFixer(t=>Kde(t,n))}function Kde(n,t){const e=t.document.differ.getChanges();let r=!1;for(const i of e){if(i.type!="insert")continue;const o=i.position.parent;if(o.is("element","table")||i.name=="table"){const s=i.name=="table"?i.position.nodeAfter:o,a=Array.from(s.getChildren()).filter(c=>c.is("element","caption")),l=a.shift();if(!l)continue;for(const c of a)n.move(n.createRangeIn(c),l,"end"),n.remove(c);l.nextSibling&&(n.move(n.createRangeOn(l),s,"end"),r=!0),r=!!a.length||r}}return r}function bT(n){return!!n&&n.is("element","table")}function ty(n){for(const t of n.getChildren())if(t.is("element","caption"))return t;return null}function Zde(n){const t=Ms(n);return t?ty(t):null}function Yde(n){const t=n.parent;return n.name=="figcaption"&&t&&t.is("element","figure")&&t.hasClass("table")?{name:!0}:n.name=="caption"&&t&&t.is("element","table")?{name:!0}:null}class Jde extends Ae{refresh(){const t=this.editor,e=Ms(t.model.document.selection);this.isEnabled=!!e,this.isEnabled?this.value=!!ty(e):this.value=!1}execute({focusCaptionOnShow:t=!1}={}){this.editor.model.change(e=>{this.value?this._hideTableCaption(e):this._showTableCaption(e,t)})}_showTableCaption(t,e){const r=this.editor.model,i=Ms(r.document.selection),a=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(i)||t.createElement("caption");r.insertContent(a,i,"end"),e&&t.setSelection(a,"in")}_hideTableCaption(t){const e=this.editor.model,r=Ms(e.document.selection),i=this.editor.plugins.get("TableCaptionEditing"),o=ty(r);i._saveCaption(r,o),e.deleteContent(t.createSelection(o,"on"))}}class Xde extends X{constructor(e){super(e);w(this,"_savedCaptionsMap");this._savedCaptionsMap=new WeakMap}static get pluginName(){return"TableCaptionEditing"}init(){const e=this.editor,r=e.model.schema,i=e.editing.view,o=e.t;r.isRegistered("caption")?r.extend("caption",{allowIn:"table"}):r.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new Jde(this.editor)),e.conversion.for("upcast").elementToElement({view:Yde,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(s,{writer:a})=>bT(s.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(s,{writer:a})=>{if(!bT(s.parent))return null;const l=a.createEditableElement("figcaption");return a.setCustomProperty("tableCaption",!0,l),l.placeholder=o("Enter table caption"),zO({view:i,element:l,keepOnFocus:!0}),O6(l,a)}}),Gde(e.model)}_getSavedCaption(e){const r=this._savedCaptionsMap.get(e);return r?at.fromJSON(r):null}_saveCaption(e,r){this._savedCaptionsMap.set(e,r.toJSON())}}class Qde extends X{static get pluginName(){return"TableCaptionUI"}init(){const t=this.editor,e=t.editing.view,r=t.t;t.ui.componentFactory.add("toggleTableCaption",i=>{const o=t.commands.get("toggleTableCaption"),s=new we(i);return s.set({icon:be.caption,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.bind("label").to(o,"value",a=>r(a?"Toggle caption off":"Toggle caption on")),this.listenTo(s,"execute",()=>{if(t.execute("toggleTableCaption",{focusCaptionOnShow:!0}),o.value){const a=Zde(t.model.document.selection),l=t.editing.mapper.toViewElement(a);if(!l)return;e.scrollToTheSelection(),e.change(c=>{c.addClass("table__caption_highlighted",l)})}t.editing.view.focus()}),s})}}class ehe extends X{static get pluginName(){return"TableCaption"}static get requires(){return[Xde,Qde]}}class the extends Ae{refresh(){this.isEnabled=!0}execute(t={}){const{model:e,plugins:r}=this.editor;let{table:i=e.document.selection.getSelectedElement(),columnWidths:o,tableWidth:s}=t;o&&(o=Array.isArray(o)?o:o.split(",")),e.change(a=>{s?a.setAttribute("tableWidth",s,i):a.removeAttribute("tableWidth",i);const l=r.get("TableColumnResizeEditing").getColumnGroupElement(i);if(!o&&!l)return;if(!o)return a.remove(l);const c=i_(o);if(l)Array.from(l.getChildren()).forEach((u,d)=>a.setAttribute("columnWidth",c[d],u));else{const u=a.createElement("tableColumnGroup");c.forEach(d=>a.appendElement("tableColumn",{columnWidth:d},u)),a.append(u,i)}})}}function nhe(n){return t=>t.on("element:colgroup",(e,r,i)=>{const o=r.modelCursor.findAncestor("table"),s=Bd(o);if(!s)return;const a=Fd(s),l=n.getColumns(o);let c=xue(s,i.writer);c=Array.from({length:l},(u,d)=>c[d]||"auto"),(c.length!=a.length||c.includes("auto"))&&xN(a,s,i_(c),i.writer)},{priority:"low"})}function rhe(){return n=>n.on("insert:table",(t,e,r)=>{const i=r.writer,o=e.item,s=r.mapper.toViewElement(o),a=s.is("element","table")?s:Array.from(s.getChildren()).find(c=>c.is("element","table"));Bd(o)?i.addClass("ck-table-resized",a):i.removeClass("ck-table-resized",a)},{priority:"low"})}class ihe extends X{constructor(e){super(e);w(this,"_isResizingActive");w(this,"_resizingData");w(this,"_domEmitter");w(this,"_tableUtilsPlugin");this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(br()),this._tableUtilsPlugin=e.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(r,i,o)=>{const s=o?"removeClass":"addClass";e.editing.view.change(a=>{for(const l of e.editing.view.document.roots)a[s]("ck-column-resize_disabled",e.editing.view.document.getRoot(l.rootName))})})}static get requires(){return[Vd,Zt]}static get pluginName(){return"TableColumnResizeEditing"}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const e=this.editor,r=e.plugins.get("TableColumnResize");e.plugins.get("TableEditing").registerAdditionalSlot({filter:s=>s.is("element","tableColumnGroup"),positionOffset:0});const o=new the(e);e.commands.add("resizeTableWidth",o),e.commands.add("resizeColumnWidths",o),this.bind("_isResizingAllowed").to(e,"isReadOnly",r,"isEnabled",o,"isEnabled",(s,a,l)=>!s&&a&&l)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(e){return Bd(e)}getTableColumnElements(e){return Fd(e)}getTableColumnsWidths(e){return _ue(e)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const r=this.editor.model;r.document.registerPostFixer(s=>{let a=!1;for(const l of mue(r)){const c=this.getColumnGroupElement(l),u=this.getTableColumnElements(c),d=this.getTableColumnsWidths(c);let h=i_(d);h=i(h,l,this),!Rl(d,h)&&(xN(u,c,h,s),a=!0)}return a});function i(s,a,l){const c=l._tableUtilsPlugin.getColumns(a);if(c-s.length===0)return s;const d=s.map(f=>Number(f.replace("%",""))),h=o(l.editor.model.document.differ,a);for(const f of h){const m=c-d.length;if(m===0)continue;const g=m>0,v=l._tableUtilsPlugin.getCellLocation(f).column;if(g){const p=gue(a,l.editor),b=vue(m,p);d.splice(v,0,...b)}else{const p=d.splice(v,Math.abs(m));d[v]+=cd(p)}}return d.map(f=>f+"%")}function o(s,a){const l=new Set;for(const c of s.getChanges())if(c.type=="insert"&&c.position.nodeAfter&&c.position.nodeAfter.name=="tableCell"&&c.position.nodeAfter.getAncestors().includes(a))l.add(c.position.nodeAfter);else if(c.type=="remove"){const u=c.position.nodeBefore||c.position.nodeAfter;u.name=="tableCell"&&u.getAncestors().includes(a)&&l.add(u)}return l}}_registerConverters(){const r=this.editor.conversion;r.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:i=>i.getStyle("width")}}),r.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:i=>({name:"figure",key:"style",value:{width:i}})}),r.elementToElement({model:"tableColumnGroup",view:"colgroup"}),r.elementToElement({model:"tableColumn",view:"col"}),r.for("downcast").add(rhe()),r.for("upcast").add(nhe(this._tableUtilsPlugin)),r.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:i=>{const o=i.getStyle("width");return!o||!o.endsWith("%")&&!o.endsWith("pt")?"auto":o}}}),r.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),r.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:i=>({key:"style",value:{width:i}})})}_registerResizingListeners(){const e=this.editor.editing.view;e.addObserver(EN),e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(fe.window.document,"mousemove",Wu(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(fe.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(e,r){const i=r.target;if(!i.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const o=this.editor,s=o.editing.mapper.toModelElement(i.findAncestor("figure"));if(!o.model.canEditAt(s))return;r.preventDefault(),e.stop();const a=u(s,this._tableUtilsPlugin,o),l=i.findAncestor("table"),c=o.editing.view;Array.from(l.getChildren()).find(f=>f.is("element","colgroup"))||c.change(f=>{d(f,a,l)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(r,a),c.change(f=>h(f,l,this._resizingData));function u(f,m,g){const v=Array(m.getColumns(f)),p=new je(f);for(const b of p){const _=g.editing.mapper.toViewElement(b.cell),y=g.editing.view.domConverter.mapViewToDom(_),k=wue(y);(!v[b.column]||k<v[b.column])&&(v[b.column]=In(k))}return v}function d(f,m,g){const v=f.createContainerElement("colgroup");for(let p=0;p<m.length;p++){const b=f.createEmptyElement("col"),_=`${In(m[p]/cd(m)*100)}%`;f.setStyle("width",_,b),f.insert(f.createPositionAt(v,"end"),b)}f.insert(f.createPositionAt(g,0),v)}function h(f,m,g){const v=g.widths.viewFigureWidth/g.widths.viewFigureParentWidth;f.addClass("ck-table-resized",m),f.addClass("ck-table-column-resizer__active",g.elements.viewResizer),f.setStyle("width",`${In(v*100)}%`,m.findAncestor("figure"))}}_onMouseMoveHandler(e,r){if(!this._isResizingActive)return;if(!this._isResizingAllowed){this._onMouseUpHandler();return}const{columnPosition:i,flags:{isRightEdge:o,isTableCentered:s,isLtrContent:a},elements:{viewFigure:l,viewLeftColumn:c,viewRightColumn:u},widths:{viewFigureParentWidth:d,tableWidth:h,leftColumnWidth:f,rightColumnWidth:m}}=this._resizingData,g=-f+Kv,v=o?d-h:m-Kv,p=(a?1:-1)*(o&&s?2:1),b=bue((r.clientX-i)*p,Math.min(g,0),Math.max(v,0));b!==0&&this.editor.editing.view.change(_=>{const y=In((f+b)*100/h);if(_.setStyle("width",`${y}%`,c),o){const k=In((h+b)*100/d);_.setStyle("width",`${k}%`,l)}else{const k=In((m-b)*100/h);_.setStyle("width",`${k}%`,u)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:e,modelTable:r,viewFigure:i,viewColgroup:o}=this._resizingData.elements,s=this.editor,a=s.editing.view,l=this.getColumnGroupElement(r),c=Array.from(o.getChildren()).filter(v=>v.is("view:element")),u=l?this.getTableColumnsWidths(l):null,d=c.map(v=>v.getStyle("width")),h=!Rl(u,d),f=r.getAttribute("tableWidth"),m=i.getStyle("width"),g=f!==m;(h||g)&&(this._isResizingAllowed?s.execute("resizeTableWidth",{table:r,tableWidth:`${In(m)}%`,columnWidths:d}):a.change(v=>{if(u)for(const p of c)v.setStyle("width",u.shift(),p);else v.remove(o);g&&(f?v.setStyle("width",f,i):v.removeStyle("width",i)),!u&&!f&&v.removeClass("ck-table-resized",[...i.getChildren()].find(p=>p.name==="table"))})),a.change(v=>{v.removeClass("ck-table-column-resizer__active",e)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(e,r){const i=this.editor,o=e.domEvent.clientX,s=e.target,a=s.findAncestor("td")||s.findAncestor("th"),l=i.editing.mapper.toModelElement(a),c=l.findAncestor("table"),u=pue(l,this._tableUtilsPlugin).rightEdge,d=this._tableUtilsPlugin.getColumns(c)-1,h=u===d,f=!c.hasAttribute("tableAlignment"),m=i.locale.contentLanguageDirection!=="rtl",g=a.findAncestor("table"),v=g.findAncestor("figure"),p=[...g.getChildren()].find(O=>O.is("element","colgroup")),b=p.getChild(u),_=h?void 0:p.getChild(u+1),y=Zv(i.editing.view.domConverter.mapViewToDom(v.parent)),k=Zv(i.editing.view.domConverter.mapViewToDom(v)),S=_N(c,i),E=r[u],C=h?void 0:r[u+1];return{columnPosition:o,flags:{isRightEdge:h,isTableCentered:f,isLtrContent:m},elements:{viewResizer:s,modelTable:c,viewFigure:v,viewColgroup:p,viewLeftColumn:b,viewRightColumn:_},widths:{viewFigureParentWidth:y,viewFigureWidth:k,tableWidth:S,leftColumnWidth:E,rightColumnWidth:C}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(e=>{e.on("insert:tableCell",(r,i,o)=>{const s=i.item,a=o.mapper.toViewElement(s),l=o.writer;l.insert(l.createPositionAt(a,"end"),l.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}class ohe extends X{static get requires(){return[ihe,jN]}static get pluginName(){return"TableColumnResize"}}function $N({setEditorValue:n,defaultData:t}){const e=I.useRef(null),r=I.useRef(null),[i,o]=I.useState(!1);I.useEffect(()=>(o(!0),()=>o(!1)),[]);const s={toolbar:{items:["undo","redo","|","sourceEditing","showBlocks","findAndReplace","|","heading","style","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","subscript","superscript","code","removeFormat","|","specialCharacters","horizontalLine","link","insertTable","highlight","blockQuote","codeBlock","htmlEmbed","|","alignment","|","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[r6,Tre,qre,tN,Gre,Rie,Yre,tie,Ioe,Koe,ase,Bse,Ise,bse,Sse,Yae,qae,Use,Xse,oae,Kae,dae,Qae,tle,oie,Ile,Tm,ice,$6,cce,gce,Cce,aN,dN,Ece,uN,cN,lN,cie,zce,fie,bie,sde,ehe,Ade,ohe,qde,ade,Vre,_ie,H6],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},htmlSupport:{allow:[{name:/^.*$/,styles:!0,attributes:!0,classes:!0}]},link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},placeholder:"Type or paste your content here!",style:{definitions:[{name:"Article category",element:"h3",classes:["category"]},{name:"Title",element:"h2",classes:["document-title"]},{name:"Subtitle",element:"h3",classes:["document-subtitle"]},{name:"Info box",element:"p",classes:["info-box"]},{name:"Side quote",element:"blockquote",classes:["side-quote"]},{name:"Marker",element:"span",classes:["marker"]},{name:"Spoiler",element:"span",classes:["spoiler"]},{name:"Code (dark)",element:"pre",classes:["fancy-code","fancy-code-dark"]},{name:"Code (bright)",element:"pre",classes:["fancy-code","fancy-code-bright"]}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]}};return x.jsx("div",{children:x.jsx("div",{className:"main-container",children:x.jsx("div",{className:"editor-container editor-container_classic-editor editor-container_include-style",ref:e,children:x.jsx("div",{className:"editor-container__editor",children:x.jsx("div",{ref:r,children:i&&x.jsx(nw,{editor:Loe,config:s,data:t||"<h1>Enter a bro</h1>",onChange:(a,l)=>{const c=l.getData();n(c)}})})})})})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ny=function(n,t){return ny=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},ny(n,t)};function she(n,t){ny(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ahe=100,lhe=100,vT=50,ry=50,iy=50;function yT(n){var t=n.className,e=n.counterClockwise,r=n.dashRatio,i=n.pathRadius,o=n.strokeWidth,s=n.style;return I.createElement("path",{className:t,style:Object.assign({},s,uhe({pathRadius:i,dashRatio:r,counterClockwise:e})),d:che({pathRadius:i,counterClockwise:e}),strokeWidth:o,fillOpacity:0})}function che(n){var t=n.pathRadius,e=n.counterClockwise,r=t,i=e?1:0;return`
      M `+ry+","+iy+`
      m 0,-`+r+`
      a `+r+","+r+" "+i+" 1 1 0,"+2*r+`
      a `+r+","+r+" "+i+" 1 1 0,-"+2*r+`
    `}function uhe(n){var t=n.counterClockwise,e=n.dashRatio,r=n.pathRadius,i=Math.PI*2*r,o=(1-e)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-o:o)+"px"}}var Im=function(n){she(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return vT-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,r=e.value,i=e.minValue,o=e.maxValue,s=Math.min(Math.max(r,i),o);return(s-i)/(o-i)},t.prototype.render=function(){var e=this.props,r=e.circleRatio,i=e.className,o=e.classes,s=e.counterClockwise,a=e.styles,l=e.strokeWidth,c=e.text,u=this.getPathRadius(),d=this.getPathRatio();return I.createElement("svg",{className:o.root+" "+i,style:a.root,viewBox:"0 0 "+ahe+" "+lhe,"data-test-id":"CircularProgressbar"},this.props.background?I.createElement("circle",{className:o.background,style:a.background,cx:ry,cy:iy,r:vT}):null,I.createElement(yT,{className:o.trail,counterClockwise:s,dashRatio:r,pathRadius:u,strokeWidth:l,style:a.trail}),I.createElement(yT,{className:o.path,counterClockwise:s,dashRatio:d*r,pathRadius:u,strokeWidth:l,style:a.path}),c?I.createElement("text",{className:o.text,style:a.text,x:ry,y:iy},c):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(I.Component),wT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},dhe=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[e++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[e++],s=n[e++],a=n[e++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=n[e++],s=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},HN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),r.push(e[u],e[d],e[h],e[f])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(zN(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):dhe(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=e[n.charAt(i++)],a=i<n.length?e[n.charAt(i)]:0;++i;const c=i<n.length?e[n.charAt(i)]:64;++i;const d=i<n.length?e[n.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new hhe;const h=o<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hhe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fhe=function(n){const t=zN(n);return HN.encodeByteArray(t,!0)},Nm=function(n){return fhe(n).replace(/\./g,"")},mhe=function(n){try{return HN.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ghe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const phe=()=>ghe().__FIREBASE_DEFAULTS__,bhe=()=>{if(typeof process>"u"||typeof wT>"u")return;const n=wT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vhe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&mhe(n[1]);return t&&JSON.parse(t)},UN=()=>{try{return phe()||bhe()||vhe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yhe=n=>{var t,e;return(e=(t=UN())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},whe=n=>{const t=yhe(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},WN=()=>{var n;return(n=UN())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nm(JSON.stringify(e)),Nm(JSON.stringify(s)),""].join(".")}function khe(){try{return typeof indexedDB=="object"}catch{return!1}}function Che(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ehe="FirebaseError";class ec extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Ehe,Object.setPrototypeOf(this,ec.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qN.prototype.create)}}class qN{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?The(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ec(i,a,r)}}function The(n,t){return n.replace(She,(e,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const She=/\{\$([^}]+)}/g;function oy(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const o=n[i],s=t[i];if(_T(o)&&_T(s)){if(!oy(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function _T(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(n){return n&&n._delegate?n._delegate:n}class ud{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new _he;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Rhe(t))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ys){return this.instances.has(t)}getOptions(t=ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,e){var r;const i=this.normalizeInstanceIdentifier(e),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Phe(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ys){return this.component?this.component.multipleInstances?t:ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Phe(n){return n===ys?void 0:n}function Rhe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ohe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Ahe(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(st||(st={}));const Ihe={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},Nhe=st.INFO,Mhe={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},Lhe=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),i=Mhe[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dhe{constructor(t){this.name=t,this._logLevel=Nhe,this._logHandler=Lhe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ihe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const Bhe=(n,t)=>t.some(e=>n instanceof e);let xT,kT;function Fhe(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vhe(){return kT||(kT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GN=new WeakMap,sy=new WeakMap,KN=new WeakMap,j0=new WeakMap,l_=new WeakMap;function jhe(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{e(zo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return t.then(e=>{e instanceof IDBCursor&&GN.set(e,n)}).catch(()=>{}),l_.set(t,n),t}function $he(n){if(sy.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{e(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});sy.set(n,t)}let ay={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return sy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||KN.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return zo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function zhe(n){ay=n(ay)}function Hhe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call($0(this),t,...e);return KN.set(r,t.sort?t.sort():[t]),zo(r)}:Vhe().includes(n)?function(...t){return n.apply($0(this),t),zo(GN.get(this))}:function(...t){return zo(n.apply($0(this),t))}}function Uhe(n){return typeof n=="function"?Hhe(n):(n instanceof IDBTransaction&&$he(n),Bhe(n,Fhe())?new Proxy(n,ay):n)}function zo(n){if(n instanceof IDBRequest)return jhe(n);if(j0.has(n))return j0.get(n);const t=Uhe(n);return t!==n&&(j0.set(n,t),l_.set(t,n)),t}const $0=n=>l_.get(n);function Whe(n,t,{blocked:e,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,t),a=zo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(zo(s.result),l.oldVersion,l.newVersion,zo(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const qhe=["get","getKey","getAll","getAllKeys","count"],Ghe=["put","add","delete","clear"],z0=new Map;function CT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(z0.get(t))return z0.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=Ghe.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qhe.includes(e)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[e](...a),i&&l.done]))[0]};return z0.set(t,o),o}zhe(n=>({...n,get:(t,e,r)=>CT(t,e)||n.get(t,e,r),has:(t,e)=>!!CT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Zhe(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Zhe(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ly="@firebase/app",ET="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Dhe("@firebase/app"),Yhe="@firebase/app-compat",Jhe="@firebase/analytics-compat",Xhe="@firebase/analytics",Qhe="@firebase/app-check-compat",efe="@firebase/app-check",tfe="@firebase/auth",nfe="@firebase/auth-compat",rfe="@firebase/database",ife="@firebase/data-connect",ofe="@firebase/database-compat",sfe="@firebase/functions",afe="@firebase/functions-compat",lfe="@firebase/installations",cfe="@firebase/installations-compat",ufe="@firebase/messaging",dfe="@firebase/messaging-compat",hfe="@firebase/performance",ffe="@firebase/performance-compat",mfe="@firebase/remote-config",gfe="@firebase/remote-config-compat",pfe="@firebase/storage",bfe="@firebase/storage-compat",vfe="@firebase/firestore",yfe="@firebase/vertexai-preview",wfe="@firebase/firestore-compat",_fe="firebase",xfe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="[DEFAULT]",kfe={[ly]:"fire-core",[Yhe]:"fire-core-compat",[Xhe]:"fire-analytics",[Jhe]:"fire-analytics-compat",[efe]:"fire-app-check",[Qhe]:"fire-app-check-compat",[tfe]:"fire-auth",[nfe]:"fire-auth-compat",[rfe]:"fire-rtdb",[ife]:"fire-data-connect",[ofe]:"fire-rtdb-compat",[sfe]:"fire-fn",[afe]:"fire-fn-compat",[lfe]:"fire-iid",[cfe]:"fire-iid-compat",[ufe]:"fire-fcm",[dfe]:"fire-fcm-compat",[hfe]:"fire-perf",[ffe]:"fire-perf-compat",[mfe]:"fire-rc",[gfe]:"fire-rc-compat",[pfe]:"fire-gcs",[bfe]:"fire-gcs-compat",[vfe]:"fire-fst",[wfe]:"fire-fst-compat",[yfe]:"fire-vertex","fire-js":"fire-js",[_fe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map,Cfe=new Map,uy=new Map;function TT(n,t){try{n.container.addComponent(t)}catch(e){to.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Lm(n){const t=n.name;if(uy.has(t))return to.debug(`There were multiple attempts to register component ${t}.`),!1;uy.set(t,n);for(const e of Mm.values())TT(e,n);for(const e of Cfe.values())TT(e,n);return!0}function Efe(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tfe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ho=new qN("app","Firebase",Tfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ud("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe=xfe;function ZN(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:cy,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ho.create("bad-app-name",{appName:String(i)});if(e||(e=WN()),!e)throw Ho.create("no-options");const o=Mm.get(i);if(o){if(oy(e,o.options)&&oy(r,o.config))return o;throw Ho.create("duplicate-app",{appName:i})}const s=new Ohe(i);for(const l of uy.values())s.addComponent(l);const a=new Sfe(e,r,s);return Mm.set(i,a),a}function Pfe(n=cy){const t=Mm.get(n);if(!t&&n===cy&&WN())return ZN();if(!t)throw Ho.create("no-app",{appName:n});return t}function ml(n,t,e){var r;let i=(r=kfe[n])!==null&&r!==void 0?r:n;e&&(i+=`-${e}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),to.warn(a.join(" "));return}Lm(new ud(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rfe="firebase-heartbeat-database",Ofe=1,dd="firebase-heartbeat-store";let H0=null;function YN(){return H0||(H0=Whe(Rfe,Ofe,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(dd)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ho.create("idb-open",{originalErrorMessage:n.message})})),H0}async function Ife(n){try{const e=(await YN()).transaction(dd),r=await e.objectStore(dd).get(JN(n));return await e.done,r}catch(t){if(t instanceof ec)to.warn(t.message);else{const e=Ho.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});to.warn(e.message)}}}async function ST(n,t){try{const r=(await YN()).transaction(dd,"readwrite");await r.objectStore(dd).put(t,JN(n)),await r.done}catch(e){if(e instanceof ec)to.warn(e.message);else{const r=Ho.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});to.warn(r.message)}}}function JN(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nfe=1024,Mfe=30*24*60*60*1e3;class Lfe{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Bfe(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AT();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Mfe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){to.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=AT(),{heartbeatsToSend:r,unsentEntries:i}=Dfe(this._heartbeatsCache.heartbeats),o=Nm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return to.warn(e),""}}}function AT(){return new Date().toISOString().substring(0,10)}function Dfe(n,t=Nfe){const e=[];let r=n.slice();for(const i of n){const o=e.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PT(e)>t){o.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),PT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class Bfe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return khe()?Che().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Ife(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return ST(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return ST(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function PT(n){return Nm(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ffe(n){Lm(new ud("platform-logger",t=>new Khe(t),"PRIVATE")),Lm(new ud("heartbeat",t=>new Lfe(t),"PRIVATE")),ml(ly,ET,n),ml(ly,ET,"esm2017"),ml("fire-js","")}Ffe("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebasestorage.googleapis.com",QN="storageBucket",Vfe=2*60*1e3,jfe=10*60*1e3,$fe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends ec{constructor(t,e,r=0){super(U0(t),`Firebase Storage: ${e} (${U0(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return U0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function U0(n){return"storage/"+n}function c_(){const n="An unknown error occurred, please check the error payload for server response.";return new wt(dt.UNKNOWN,n)}function zfe(n){return new wt(dt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Hfe(n){return new wt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ufe(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(dt.UNAUTHENTICATED,n)}function Wfe(){return new wt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qfe(n){return new wt(dt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function e7(){return new wt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t7(){return new wt(dt.CANCELED,"User canceled the upload/download.")}function Gfe(n){return new wt(dt.INVALID_URL,"Invalid URL '"+n+"'.")}function Kfe(n){return new wt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Zfe(){return new wt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QN+"' property when initializing the app?")}function n7(){return new wt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yfe(){return new wt(dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Jfe(){return new wt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Xfe(n){return new wt(dt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dy(n){return new wt(dt.INVALID_ARGUMENT,n)}function r7(){return new wt(dt.APP_DELETED,"The Firebase app was deleted.")}function Qfe(n){return new wt(dt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(n,t){return new wt(dt.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Ic(n){throw new wt(dt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=rr.makeFromUrl(t,e)}catch{return new rr(t,"")}if(r.path==="")return r;throw Kfe(t)}static makeFromUrl(t,e){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(y){y.path_=decodeURIComponent(y.path)}const u="v[A-Za-z0-9_]+",d=e.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=e===XN?"(?:storage.googleapis.com|storage.cloud.google.com)":e,v="([^?#]*)",p=new RegExp(`^https?://${g}/${i}/${v}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:f,indices:m,postModify:c},{regex:p,indices:{bucket:1,path:2},postModify:c}];for(let y=0;y<_.length;y++){const k=_[y],S=k.regex.exec(t);if(S){const E=S[k.indices.bucket];let C=S[k.indices.path];C||(C=""),r=new rr(E,C),k.postModify(r);break}}if(r==null)throw Gfe(t);return r}}class eme{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tme(n,t,e){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,t.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,n(f,l())},v)}function h(){o&&clearTimeout(o)}function f(v,...p){if(c){h();return}if(v){h(),u.call(null,v,...p);return}if(l()||s){h(),u.call(null,v,...p);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function g(v){m||(m=!0,h(),!c&&(i!==null?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,g(!0)},e),g}function nme(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rme(n){return n!==void 0}function ime(n){return typeof n=="function"}function ome(n){return typeof n=="object"&&!Array.isArray(n)}function Xg(n){return typeof n=="string"||n instanceof String}function RT(n){return u_()&&n instanceof Blob}function u_(){return typeof Blob<"u"}function OT(n,t,e,r){if(r<t)throw dy(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw dy(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n,t,e){let r=t;return e==null&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function i7(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const i=t(r)+"="+t(n[r]);e=e+i+"&"}return e=e.slice(0,-1),e}var Ds;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ds||(Ds={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(n,t){const e=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sme{constructor(t,e,r,i,o,s,a,l,c,u,d,h=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Fh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ds.NO_ERROR,l=o.getStatus();if(!a||o7(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Ds.ABORT;r(!1,new Fh(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Fh(c,o))})},e=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());rme(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=c_();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?r7():t7();s(l)}else{const l=e7();s(l)}};this.canceled_?e(!1,new Fh(!1,null,!0)):this.backoffId_=tme(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&nme(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fh{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function ame(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function lme(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function cme(n,t){t&&(n["X-Firebase-GMPID"]=t)}function ume(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function dme(n,t,e,r,i,o,s=!0){const a=i7(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return cme(c,t),ame(c,e),lme(c,o),ume(c,r),new sme(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hme(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fme(...n){const t=hme();if(t!==void 0){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}else{if(u_())return new Blob(n);throw new wt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mme(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gme(n){if(typeof atob>"u")throw Xfe("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class W0{constructor(t,e){this.data=t,this.contentType=e||null}}function pme(n,t){switch(n){case hi.RAW:return new W0(s7(t));case hi.BASE64:case hi.BASE64URL:return new W0(a7(n,t));case hi.DATA_URL:return new W0(vme(t),yme(t))}throw c_()}function s7(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=n.charCodeAt(++e);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function bme(n){let t;try{t=decodeURIComponent(n)}catch{throw mu(hi.DATA_URL,"Malformed data URL.")}return s7(t)}function a7(n,t){switch(n){case hi.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw mu(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hi.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw mu(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=gme(t)}catch(i){throw i.message.includes("polyfill")?i:mu(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}class l7{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw mu(hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;r!=null&&(this.base64=wme(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function vme(n){const t=new l7(n);return t.base64?a7(hi.BASE64,t.rest):bme(t.rest)}function yme(n){return new l7(n).contentType}function wme(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,e){let r=0,i="";RT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(RT(this.data_)){const r=this.data_,i=mme(r,t,e);return i===null?null:new To(i)}else{const r=new Uint8Array(this.data_.buffer,t,e-t);return new To(r,!0)}}static getBlob(...t){if(u_()){const e=t.map(r=>r instanceof To?r.data_:r);return new To(fme.apply(null,e))}else{const e=t.map(s=>Xg(s)?pme(hi.RAW,s).data:s.data_);let r=0;e.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return e.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new To(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(n){let t;try{t=JSON.parse(n)}catch{return null}return ome(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _me(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function xme(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return n.length===0?e:n+"/"+e}function u7(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kme(n,t){return t}class bn{constructor(t,e,r,i){this.server=t,this.local=e||t,this.writable=!!r,this.xform=i||kme}}let Vh=null;function Cme(n){return!Xg(n)||n.length<2?n:u7(n)}function d7(){if(Vh)return Vh;const n=[];n.push(new bn("bucket")),n.push(new bn("generation")),n.push(new bn("metageneration")),n.push(new bn("name","fullPath",!0));function t(o,s){return Cme(s)}const e=new bn("name");e.xform=t,n.push(e);function r(o,s){return s!==void 0?Number(s):s}const i=new bn("size");return i.xform=r,n.push(i),n.push(new bn("timeCreated")),n.push(new bn("updated")),n.push(new bn("md5Hash",null,!0)),n.push(new bn("cacheControl",null,!0)),n.push(new bn("contentDisposition",null,!0)),n.push(new bn("contentEncoding",null,!0)),n.push(new bn("contentLanguage",null,!0)),n.push(new bn("contentType",null,!0)),n.push(new bn("metadata","customMetadata",!0)),Vh=n,Vh}function Eme(n,t){function e(){const r=n.bucket,i=n.fullPath,o=new rr(r,i);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function Tme(n,t,e){const r={};r.type="file";const i=e.length;for(let o=0;o<i;o++){const s=e[o];r[s.local]=s.xform(r,t[s.server])}return Eme(r,n),r}function h7(n,t,e){const r=c7(t);return r===null?null:Tme(n,r,e)}function Sme(n,t,e,r){const i=c7(t);if(i===null||!Xg(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=n.bucket,d=n.fullPath,h="/b/"+s(u)+"/o/"+s(d),f=jd(h,e,r),m=i7({alt:"media",token:c});return f+m})[0]}function f7(n,t){const e={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}class tc{constructor(t,e,r,i){this.url=t,this.method=e,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(n){if(!n)throw c_()}function d_(n,t){function e(r,i){const o=h7(n,i,t);return $i(o!==null),o}return e}function Ame(n,t){function e(r,i){const o=h7(n,i,t);return $i(o!==null),Sme(o,i,n.host,n._protocol)}return e}function $d(n){function t(e,r){let i;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?i=Wfe():i=Ufe():e.getStatus()===402?i=Hfe(n.bucket):e.getStatus()===403?i=qfe(n.path):i=r,i.status=e.getStatus(),i.serverResponse=r.serverResponse,i}return t}function m7(n){const t=$d(n);function e(r,i){let o=t(r,i);return r.getStatus()===404&&(o=zfe(n.path)),o.serverResponse=i.serverResponse,o}return e}function Pme(n,t,e){const r=t.fullServerUrl(),i=jd(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new tc(i,o,d_(n,e),s);return a.errorHandler=m7(t),a}function Rme(n,t,e){const r=t.fullServerUrl(),i=jd(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new tc(i,o,Ame(n,e),s);return a.errorHandler=m7(t),a}function Ome(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function g7(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=Ome(null,t)),r}function Ime(n,t,e,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let y=0;y<2;y++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=g7(t,r,i),u=f7(c,e),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=To.getBlob(d,r,h);if(f===null)throw n7();const m={name:c.fullPath},g=jd(o,n.host,n._protocol),v="POST",p=n.maxUploadRetryTime,b=new tc(g,v,d_(n,e),p);return b.urlParams=m,b.headers=s,b.body=f.uploadData(),b.errorHandler=$d(t),b}class Dm{constructor(t,e,r,i){this.current=t,this.total=e,this.finalized=!!r,this.metadata=i||null}}function h_(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{$i(!1)}return $i(!!e&&(t||["active"]).indexOf(e)!==-1),e}function Nme(n,t,e,r,i){const o=t.bucketOnlyServerUrl(),s=g7(t,r,i),a={name:s.fullPath},l=jd(o,n.host,n._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=f7(s,e),h=n.maxUploadRetryTime;function f(g){h_(g);let v;try{v=g.getResponseHeader("X-Goog-Upload-URL")}catch{$i(!1)}return $i(Xg(v)),v}const m=new tc(l,c,f,h);return m.urlParams=a,m.headers=u,m.body=d,m.errorHandler=$d(t),m}function Mme(n,t,e,r){const i={"X-Goog-Upload-Command":"query"};function o(c){const u=h_(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$i(!1)}d||$i(!1);const h=Number(d);return $i(!isNaN(h)),new Dm(h,r.size(),u==="final")}const s="POST",a=n.maxUploadRetryTime,l=new tc(e,s,o,a);return l.headers=i,l.errorHandler=$d(t),l}const IT=256*1024;function Lme(n,t,e,r,i,o,s,a){const l=new Dm(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Yfe();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";u===0?f="finalize":c===u?f="upload, finalize":f="upload";const m={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(g===null)throw n7();function v(y,k){const S=h_(y,["active","final"]),E=l.current+u,C=r.size();let O;return S==="final"?O=d_(t,o)(y,k):O=null,new Dm(E,C,S==="final",O)}const p="POST",b=t.maxUploadRetryTime,_=new tc(e,p,v,b);return _.headers=m,_.body=g.uploadData(),_.progressCallback=a||null,_.errorHandler=$d(n),_}const Rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function q0(n){switch(n){case"running":case"pausing":case"canceling":return Rn.RUNNING;case"paused":return Rn.PAUSED;case"success":return Rn.SUCCESS;case"canceled":return Rn.CANCELED;case"error":return Rn.ERROR;default:return Rn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dme{constructor(t,e,r){if(ime(t)||e!=null||r!=null)this.next=t,this.error=e??void 0,this.complete=r??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class Bme{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ds.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ds.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ds.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,i){if(this.sent_)throw Ic("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ic("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ic("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ic("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ic("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Fme extends Bme{initXhr(){this.xhr_.responseType="text"}}function Da(){return new Fme}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vme{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=d7(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(o7(i.status,[]))if(o)i=e7();else{this.sleepTime=Math.max(this.sleepTime*2,$fe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(dt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,e)=>{const r=Nme(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Da,t,e);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const i=Mme(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(i,Da,e,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=IT*this._chunkMultiplier,e=new Dm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=Lme(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,Da,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){IT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=Pme(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Da,t,e);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=Ime(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Da,t,e);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e=this._state==="paused";this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=t7(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=q0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,i){const o=new Dme(e||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);e!==-1&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(q0(this._state)){case Rn.SUCCESS:Sa(this._resolve.bind(null,this.snapshot))();break;case Rn.CANCELED:case Rn.ERROR:const e=this._reject;Sa(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(q0(this._state)){case Rn.RUNNING:case Rn.PAUSED:t.next&&Sa(t.next.bind(t,this.snapshot))();break;case Rn.SUCCESS:t.complete&&Sa(t.complete.bind(t))();break;case Rn.CANCELED:case Rn.ERROR:t.error&&Sa(t.error.bind(t,this._error))();break;default:t.error&&Sa(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,e){this._service=t,e instanceof rr?this._location=e:this._location=rr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Zs(t,e)}get root(){const t=new rr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u7(this._location.path)}get storage(){return this._service}get parent(){const t=_me(this._location.path);if(t===null)return null;const e=new rr(this._location.bucket,t);return new Zs(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw Qfe(t)}}function jme(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Vme(n,new To(t),e)}function $me(n){n._throwIfRoot("getDownloadURL");const t=Rme(n.storage,n._location,d7());return n.storage.makeRequestWithTokens(t,Da).then(e=>{if(e===null)throw Jfe();return e})}function zme(n,t){const e=xme(n._location.path,t),r=new rr(n._location.bucket,e);return new Zs(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hme(n){return/^[A-Za-z]+:\/\//.test(n)}function Ume(n,t){return new Zs(n,t)}function p7(n,t){if(n instanceof f_){const e=n;if(e._bucket==null)throw Zfe();const r=new Zs(e,e._bucket);return t!=null?p7(r,t):r}else return t!==void 0?zme(n,t):n}function Wme(n,t){if(t&&Hme(t)){if(n instanceof f_)return Ume(n,t);throw dy("To use ref(service, url), the first argument must be a Storage instance.")}else return p7(n,t)}function NT(n,t){const e=t==null?void 0:t[QN];return e==null?null:rr.makeFromBucketSpec(e,n)}function qme(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:xhe(i,n.app.options.projectId))}class f_{constructor(t,e,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=XN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vfe,this._maxUploadRetryTime=jfe,this._requests=new Set,i!=null?this._bucket=rr.makeFromBucketSpec(i,this._host):this._bucket=NT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,t):this._bucket=NT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){OT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){OT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Zs(this,t)}_makeRequest(t,e,r,i,o=!0){if(this._deleted)return new eme(r7());{const s=dme(t,this._appId,r,i,e,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,e){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,i).getPromise()}}const MT="@firebase/storage",LT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="storage";function Bm(n,t,e){return n=Jg(n),jme(n,t,e)}function Fm(n){return n=Jg(n),$me(n)}function Vm(n,t){return n=Jg(n),Wme(n,t)}function jm(n=Pfe(),t){n=Jg(n);const r=Efe(n,b7).getImmediate({identifier:t}),i=whe("storage");return i&&Gme(r,...i),r}function Gme(n,t,e,r={}){qme(n,t,e,r)}function Kme(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new f_(e,r,i,t,Afe)}function Zme(){Lm(new ud(b7,Kme,"PUBLIC").setMultipleInstances(!0)),ml(MT,LT,""),ml(MT,LT,"esm2017")}Zme();var Yme="firebase",Jme="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ml(Yme,Jme,"app");const Xme={apiKey:void 0,authDomain:"personal-blog-8ea87.firebaseapp.com",projectId:"personal-blog-8ea87",storageBucket:"personal-blog-8ea87.appspot.com",messagingSenderId:"1031419973185",appId:"1:1031419973185:web:e99909049c003948ea80c0"},$m=ZN(Xme);function Qme(){const[n,t]=I.useState({}),[e,r]=I.useState(null),[i,o]=I.useState(null),[s,a]=I.useState(null),[l,c]=I.useState(null),[u,d]=I.useState({}),[h,f]=I.useState(""),[m,g]=I.useState(null),v=_d(),p=async()=>{if(!n.image){c("Please, select an Image.");return}const k=n.image,S=jm($m),E=new Date().getTime()+"-"+k.name,C=Vm(S,`images/${E}`),O=Bm(C,k);O.on("state_changed",T=>{const A=T.bytesTransferred/T.totalBytes*100;r(A.toFixed(0))},T=>{c("Image upload failed"),r(null)},()=>{c(null),r(null),Fm(O.snapshot.ref).then(T=>{d({...u,thumbnailUrl:T})})})},b=async()=>{if(!n.file){c("Please, select a File.");return}const k=n.file,S=jm($m),E=new Date().getTime()+"-"+k.name,C=Vm(S,`files/${E}`),O=Bm(C,k);O.on("state_changed",T=>{const A=T.bytesTransferred/T.totalBytes*100;a(A.toFixed(0))},T=>{o("Image upload failed"),a(null)},()=>{o(null),a(null),Fm(O.snapshot.ref).then(T=>{d({...u,fileUrl:T})})})},_=k=>{d(S=>({...S,content:k}))},y=async k=>{var S,E;k.preventDefault();try{const O=await(await fetch("/api/post/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();if(O.success){const T=u.slug.split(" ").join("-").toLowerCase().replace(/[^a-zA-Z0-9-]/g,"");v(`/post/${T}`)}else g(O.message)}catch(C){g(((E=(S=C.response)==null?void 0:S.data)==null?void 0:E.message)||"Created failed.")}};return x.jsxs("div",{className:"p-3 w-full max-w-3xl mx-auto min-h-screen",children:[x.jsx("h1",{className:"text-center text-4xl my-7 font-bold",children:"Create a post"}),x.jsxs("form",{className:"flex flex-col gap-4",onSubmit:y,children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row justify-between",children:[x.jsx(sn,{type:"text",placeholder:"Title",id:"title",className:"flex-1",required:!0,onChange:k=>{d({...u,title:k.target.value})}}),x.jsxs(Al,{onChange:k=>{f(k.target.value),d({...u,category:k.target.value})},id:"category",required:!0,children:[x.jsx("option",{value:"",children:"Select a category"}),x.jsx("option",{value:"articles",children:"Articles"}),x.jsx("option",{value:"scripts",children:"Scripts"}),x.jsx("option",{value:"maps",children:"Maps"})]})]}),x.jsx(sn,{type:"text",placeholder:"Slug",id:"slug",required:!0,onChange:k=>{d({...u,slug:k.target.value})}}),x.jsxs("div",{className:"flex gap-4 items-center justify-between border-4 border-custom-dark-orange border-dotted p-3",children:[x.jsx(ju,{type:"file",accept:"images/*",onChange:k=>{t({...n,image:k.target.files[0]})},required:!0}),x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium",type:"button",onClick:p,children:e?x.jsx("div",{className:"w-16 h-16",children:x.jsx(Im,{value:e,text:`${e||0}%`})}):"Upload Image"})]}),l&&x.jsx(gi,{color:"failure",children:l}),u.thumbnailUrl&&x.jsx("img",{src:u.thumbnailUrl,alt:"upload",className:"w-full h-72 object-cover"}),x.jsx($N,{setEditorValue:_}),h==="maps"||h==="scripts"?x.jsxs(x.Fragment,{children:[x.jsx(sn,{type:"text",placeholder:"Supported Minecraft versions",id:"supported-version",required:!0,onChange:k=>{d({...u,supportedVersions:k.target.value})}}),x.jsxs("div",{className:"flex gap-4 items-center justify-between border-4 border-custom-dark-orange border-dotted p-3",children:[x.jsx(ju,{type:"file",onChange:k=>{t({...n,file:k.target.files[0]})},required:!0}),x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium",type:"button",onClick:b,children:s?x.jsx("div",{className:"w-16 h-16",children:x.jsx(Im,{value:e,text:`${e||0}%`})}):"Upload File"})]}),i&&x.jsx(gi,{color:"failure",children:i})]}):null,x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium",children:"Create"}),m&&x.jsx(gi,{color:"failure",children:m})]})]})}function hy(n){return ln({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(n)}function ege(){const[n,t]=I.useState([]),[e,r]=I.useState(!0),[i,o]=I.useState(null),[s,a]=I.useState(!1),[l,c]=I.useState(null);I.useEffect(()=>{(async()=>{const m=await fetch("/api/post/getposts"),g=await m.json();m.ok&&(t(g),g.length<9&&r(!1))})()},[]);const u=async()=>{try{if(!i||i==""){const f=n.length,m=await fetch(`/api/post/getposts?offset=${f}`),g=await m.json();m.ok&&(t(v=>[...v,...g]),g.length<9&&r(!1))}else{const f=n.length,m=await fetch(`/api/post/getposts?q=${i}&offset=${f}`),g=await m.json();m.ok&&(console.log(g),t(v=>[...v,...g]),g.length<9&&r(!1))}}catch(f){console.log(f)}},d=async f=>{try{if(f.preventDefault(),i==="")return;const m=await fetch(`/api/post/getposts?q=${i}`),g=await m.json();m.ok&&t(g)}catch(m){console.log(m)}},h=async()=>{a(!1);try{const f=await fetch(`/api/post/deletepost/${l}`,{method:"DELETE"}),m=await f.json();f.ok?t(g=>g.filter(v=>v.postId!==l)):console.log(m.message)}catch(f){console.log(f)}};return x.jsxs("div",{className:"table-auto overflow-x-scroll md:mx-auto p-3 scrollbar scrollbar-track-slate-100 scrollbar-thumb-slate-300 dark:scrollbar-track-slate-700 dark:scrollbar-thumb-slate-500'",children:[x.jsx("div",{className:"mb-3",children:x.jsx("form",{onSubmit:d,children:x.jsx(sn,{placeholder:"Search a post...",icon:hy,onChange:f=>o(f.target.value),minLength:3,required:!0})})}),n.length>0?x.jsxs("div",{children:[x.jsxs(xe,{hoverable:!0,className:"shadow-md",children:[x.jsxs(xe.Head,{children:[x.jsx(xe.HeadCell,{children:"Updated at"}),x.jsx(xe.HeadCell,{children:"Post thumbnail"}),x.jsx(xe.HeadCell,{children:"Post title"}),x.jsx(xe.HeadCell,{children:"Category"}),x.jsx(xe.HeadCell,{children:"Views"}),x.jsx(xe.HeadCell,{children:x.jsx("span",{children:"Delete"})}),x.jsx(xe.HeadCell,{children:x.jsx("span",{children:"Edit"})})]}),n.map(f=>x.jsx(xe.Body,{className:"divide-y",children:x.jsxs(xe.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[x.jsx(xe.Cell,{children:new Date(f.updatedDATE).toDateString()}),x.jsx(xe.Cell,{children:x.jsx(kt,{to:`/post/${f.slug}`,children:x.jsx("img",{src:f.thumbnailUrl,alt:f.title,className:"w-20 h-10 object-cover bg-gray-500"})})}),x.jsx(xe.Cell,{children:x.jsx(kt,{className:"font-medium text-gray-900 dark:text-white",to:`/post/${f.slug}`,children:f.title})}),x.jsx(xe.Cell,{children:f.category}),x.jsx(xe.Cell,{children:f.views}),x.jsx(xe.Cell,{children:x.jsx("span",{className:"font-medium text-red-500 hover:underline cursor-pointer",onClick:()=>{c(f.postId),a(!0)},children:"Delete"})}),x.jsx(xe.Cell,{children:x.jsx(kt,{to:`/dashboard?tab=update&postId=${f.postId}`,className:"text-teal-500 hover:underline",children:x.jsx("span",{children:"Edit"})})})]})}))]}),e&&x.jsx("button",{onClick:u,className:"w-full text-teal-500 self-center text-sm py-7",children:"Show more"})]}):x.jsx("p",{className:"p-3",children:"No posts to preview."}),x.jsxs(qn,{show:s,onClose:()=>a(!1),popup:!0,size:"md",children:[x.jsx(qn.Header,{}),x.jsx(qn.Body,{children:x.jsxs("div",{className:"text-center",children:[x.jsx(uR,{className:"h-14 w-14 text-gray-400 dark:text-gray-200 mb-4 mx-auto"}),x.jsx("h3",{className:"mb-5 text-lg text-gray-500 dark:text-gray-400",children:"Are you sure you want to delete this post?"}),x.jsxs("div",{className:"flex justify-center gap-4",children:[x.jsx(Dn,{color:"failure",onClick:h,children:"Yes, I'm sure"}),x.jsx(Dn,{color:"gray",onClick:()=>a(!1),children:"No, cancel"})]})]})})]})]})}function tge(){var E;const[n,t]=I.useState(null),[e,r]=I.useState({}),[i,o]=I.useState(null),[s,a]=I.useState(null),[l,c]=I.useState(null),[u,d]=I.useState(null),[h,f]=I.useState({title:"",category:"",slug:"",content:"",downloadables:[{fileUrl:"",supportedVersions:""}],thumbnailUrl:""}),[m,g]=I.useState(""),[v,p]=I.useState(null);console.log(h);const b=_d();I.useEffect(()=>{const O=new URLSearchParams(location.search).get("postId");if(O)t(O);else return b("/");try{(async()=>{const A=await fetch(`/api/post/getposts?postId=${parseInt(n)}`),P=await A.json();if(!A.ok){console.log(P.message),p(P.message);return}A.ok&&(p(null),f(P[0]),g(P[0].category))})()}catch(T){console.log(T.message)}},[b,n]);const _=async()=>{if(!e.image){d("Please, select an Image.");return}const C=e.image,O=jm($m),T=new Date().getTime()+"-"+C.name,A=Vm(O,`images/${T}`),P=Bm(A,C);P.on("state_changed",R=>{const N=R.bytesTransferred/R.totalBytes*100;o(N.toFixed(0))},R=>{d("Image upload failed"),o(null)},()=>{d(null),o(null),Fm(P.snapshot.ref).then(R=>{f({...h,thumbnailUrl:R})})})},y=async()=>{if(!e.file){d("Please, select a File.");return}const C=e.file,O=jm($m),T=new Date().getTime()+"-"+C.name,A=Vm(O,`files/${T}`),P=Bm(A,C);P.on("state_changed",R=>{const N=R.bytesTransferred/R.totalBytes*100;c(N.toFixed(0))},R=>{a("Image upload failed"),c(null)},()=>{a(null),c(null),Fm(P.snapshot.ref).then(R=>{f(N=>({...N,downloadables:N.downloadables.map((D,V)=>V===N.downloadables.length-1?{...D,fileUrl:R}:D)}))})})},k=C=>{f(O=>({...O,content:C}))},S=async C=>{var O,T;C.preventDefault(),h.fileUrl||f({...h,fileUrl:h.downloadables[h.downloadables.length-1].fileUrl}),console.log(h);try{const P=await(await fetch("/api/post/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();if(P.success){const R=h.slug.split(" ").join("-").toLowerCase().replace(/[^a-zA-Z0-9-]/g,"");b(`/post/${R}`)}else p(P.message)}catch(A){p(((T=(O=A.response)==null?void 0:O.data)==null?void 0:T.message)||"Updated failed.")}};return x.jsxs("div",{className:"p-3 w-full max-w-3xl mx-auto min-h-screen",children:[x.jsx("h1",{className:"text-center text-4xl my-7 font-bold",children:"Update post"}),x.jsxs("form",{className:"flex flex-col gap-4",onSubmit:S,children:[x.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row justify-between",children:[x.jsx(sn,{type:"text",placeholder:"Title",id:"title",className:"flex-1",required:!0,value:(h==null?void 0:h.title)||"",onChange:C=>{f({...h,title:C.target.value})}}),m==="maps"||m==="scripts"?x.jsx(x.Fragment,{children:x.jsxs(Al,{onChange:C=>{g(C.target.value),f({...h,category:C.target.value})},id:"category",required:!0,value:(h==null?void 0:h.category)||"",children:[x.jsx("option",{value:"",children:"Select a category"}),x.jsx("option",{value:"scripts",children:"Scripts"}),x.jsx("option",{value:"maps",children:"Maps"})]})}):x.jsx(x.Fragment,{children:x.jsxs(Al,{onChange:C=>{g(C.target.value),f({...h,category:C.target.value})},id:"category",required:!0,value:(h==null?void 0:h.category)||"",children:[x.jsx("option",{value:"",children:"Select a category"}),x.jsx("option",{value:"articles",children:"Articles"})]})})]}),x.jsx(sn,{type:"text",placeholder:"Slug",id:"slug",required:!0,onChange:C=>{f({...h,slug:C.target.value})},value:(h==null?void 0:h.slug)||""}),x.jsxs("div",{className:"flex gap-4 items-center justify-between border-4 border-custom-dark-orange border-dotted p-3",children:[x.jsx(ju,{type:"file",accept:"images/*",onChange:C=>{r({...e,image:C.target.files[0]})}}),x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium",type:"button",onClick:_,children:i?x.jsx("div",{className:"w-16 h-16",children:x.jsx(Im,{value:i,text:`${i||0}%`})}):"Upload Image"})]}),u&&x.jsx(gi,{color:"failure",children:u}),(h==null?void 0:h.thumbnailUrl)&&x.jsx("img",{src:h.thumbnailUrl,alt:"upload",className:"w-full h-72 object-cover"}),x.jsx($N,{setEditorValue:k,defaultData:(h==null?void 0:h.content)||"<p>Enter something</p>"}),m==="maps"||m==="scripts"?x.jsxs(x.Fragment,{children:[x.jsx(sn,{type:"text",placeholder:"Supported Minecraft version",id:"supported-version",required:!0,onChange:C=>{f(O=>({...O,downloadables:O.downloadables.map((T,A)=>A===O.downloadables.length-1?{...T,supportedVersions:C.target.value}:T)}))},defaultValue:((E=h.downloadables[h.downloadables.length-1])==null?void 0:E.supportedVersions)||""}),x.jsx(J1,{className:"h-44",placeholder:"Changelog",id:"changelog",onChange:C=>{f(O=>({...O,downloadables:O.downloadables.map((T,A)=>A===O.downloadables.length-1?{...T,changelog:C.target.value}:T)}))},required:!0}),x.jsxs("div",{className:"flex gap-4 items-center justify-between border-4 border-custom-dark-orange border-dotted p-3",children:[x.jsx(ju,{type:"file",onChange:C=>{r({...e,file:C.target.files[0]})}}),x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium",type:"button",onClick:y,children:l?x.jsx("div",{className:"w-16 h-16",children:x.jsx(Im,{value:i,text:`${i||0}%`})}):"Upload File"})]}),s&&x.jsx(gi,{color:"failure",children:s})]}):null,x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium",children:"Update"}),v&&x.jsx(gi,{color:"failure",children:v})]})]})}function nge(n){return ln({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function rge(n){return ln({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(n)}function jh(n){return ln({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function ige(n){return ln({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(n)}function DT(){const[n,t]=I.useState(0),[e,r]=I.useState(0),[i,o]=I.useState([]),[s,a]=I.useState(0),[l,c]=I.useState(0),[u,d]=I.useState([]),[h,f]=I.useState(0),[m,g]=I.useState(0);return I.useEffect(()=>{const v=async()=>{try{const b=await fetch("/api/post/stats"),_=await b.json();b.ok&&(t(_.data.totalPosts),r(_.data.lastMonthPosts),o(_.data.topViewedPosts),a(_.data.totalViews),c(_.data.lastMonthViews))}catch(b){console.log(b.message)}},p=async()=>{try{const b=await fetch("/api/rate/getfeedbacks?limit=5"),_=await b.json();b.ok&&d(_);const y=await fetch("/api/rate/getfeedbacks?format=count"),k=await y.json();y.ok&&(f(k.data.totalFeedbacks),g(k.data.lastMonthCount))}catch(b){console.log(b.message)}};v(),p()},[]),x.jsxs("div",{className:"p-3 md:mx-auto",children:[x.jsxs("div",{className:"flex-wrap flex gap-4 justify-center",children:[x.jsxs("div",{className:"flex flex-col p-3 dark:bg-slate-800 gap-4 md:w-72 w-full rounded-md shadow-md",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsxs("div",{className:"",children:[x.jsx("h3",{className:"text-gray-500 text-md uppercase",children:"Total Posts"}),x.jsx("p",{className:"text-2xl",children:n})]}),x.jsx(cR,{className:"bg-lime-600  text-white rounded-full text-5xl p-3 shadow-lg"})]}),x.jsxs("div",{className:"flex  gap-2 text-sm",children:[x.jsxs("span",{className:"text-green-500 flex items-center",children:[x.jsx(Yp,{}),e]}),x.jsx("div",{className:"text-gray-500",children:"Last month"})]})]}),x.jsxs("div",{className:"flex flex-col p-3 dark:bg-slate-800 gap-4 md:w-72 w-full rounded-md shadow-md",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsxs("div",{className:"",children:[x.jsx("h3",{className:"text-gray-500 text-md uppercase",children:"Total Views"}),x.jsx("p",{className:"text-2xl",children:s})]}),x.jsx(nge,{className:"bg-yellow-600  text-white rounded-full text-5xl p-3 shadow-lg"})]}),x.jsxs("div",{className:"flex  gap-2 text-sm",children:[x.jsxs("span",{className:"text-green-500 flex items-center",children:[x.jsx(Yp,{}),l]}),x.jsx("div",{className:"text-gray-500",children:"Last month"})]})]}),x.jsxs("div",{className:"flex flex-col p-3 dark:bg-slate-800 gap-4 md:w-72 w-full rounded-md shadow-md",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsxs("div",{className:"",children:[x.jsx("h3",{className:"text-gray-500 text-md uppercase",children:"Total Feedbacks"}),x.jsx("p",{className:"text-2xl",children:h})]}),x.jsx(lR,{className:"bg-indigo-600  text-white rounded-full text-5xl p-3 shadow-lg"})]}),x.jsxs("div",{className:"flex  gap-2 text-sm",children:[x.jsxs("span",{className:"text-green-500 flex items-center",children:[x.jsx(Yp,{}),m]}),x.jsx("div",{className:"text-gray-500",children:"Last month"})]})]})]}),x.jsxs("div",{className:"flex flex-wrap py-3 mx-auto justify-evenly gap-2",children:[x.jsxs("div",{className:"flex flex-col w-full lg:max-w-96 shadow-md p-2 rounded-md dark:bg-gray-800",children:[x.jsxs("div",{className:"flex justify-between  p-3 text-sm font-semibold",children:[x.jsx("h1",{className:"text-center p-2",children:"Top viewed posts"}),x.jsx(Dn,{outline:!0,gradientDuoTone:"purpleToPink",children:x.jsx(kt,{to:"/dashboard?tab=posts",children:"See all"})})]}),x.jsxs(xe,{hoverable:!0,children:[x.jsxs(xe.Head,{children:[x.jsx(xe.HeadCell,{children:"Thumbnail"}),x.jsx(xe.HeadCell,{children:"Title"}),x.jsx(xe.HeadCell,{children:"Views"})]}),i&&i.map(v=>x.jsx(xe.Body,{className:"divide-y",children:x.jsxs(xe.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[x.jsx(xe.Cell,{children:x.jsx("img",{src:v.thumbnailUrl,alt:"user",className:"w-10 h-10 rounded-full bg-gray-500"})}),x.jsx(xe.Cell,{children:v.title}),x.jsx(xe.Cell,{children:v.views})]})},v.postId))]})]}),x.jsxs("div",{className:"flex flex-col w-full lg:max-w-96 md:w-auto shadow-md p-2 rounded-md dark:bg-gray-800",children:[x.jsxs("div",{className:"flex justify-between  p-3 text-sm font-semibold",children:[x.jsx("h1",{className:"text-center p-2",children:"Recent feedbacks"}),x.jsx(Dn,{outline:!0,gradientDuoTone:"purpleToPink",children:x.jsx(kt,{to:"/dashboard?tab=contacts",children:"See all"})})]}),x.jsxs(xe,{hoverable:!0,children:[x.jsxs(xe.Head,{children:[x.jsx(xe.HeadCell,{children:"User IP"}),x.jsx(xe.HeadCell,{children:"Feedback"})]}),u&&u.map(v=>x.jsx(xe.Body,{className:"divide-y",children:x.jsxs(xe.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[x.jsx(xe.Cell,{children:v.userIp}),x.jsx(xe.Cell,{className:"line-clamp-1",children:v.feedback})]})},v.feedbackId))]})]})]})]})}function oge(){this.__data__=[],this.size=0}var sge=oge;function age(n,t){return n===t||n!==n&&t!==t}var v7=age,lge=v7;function cge(n,t){for(var e=n.length;e--;)if(lge(n[e][0],t))return e;return-1}var Qg=cge,uge=Qg,dge=Array.prototype,hge=dge.splice;function fge(n){var t=this.__data__,e=uge(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():hge.call(t,e,1),--this.size,!0}var mge=fge,gge=Qg;function pge(n){var t=this.__data__,e=gge(t,n);return e<0?void 0:t[e][1]}var bge=pge,vge=Qg;function yge(n){return vge(this.__data__,n)>-1}var wge=yge,_ge=Qg;function xge(n,t){var e=this.__data__,r=_ge(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}var kge=xge,Cge=sge,Ege=mge,Tge=bge,Sge=wge,Age=kge;function nc(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}nc.prototype.clear=Cge;nc.prototype.delete=Ege;nc.prototype.get=Tge;nc.prototype.has=Sge;nc.prototype.set=Age;var ep=nc,Pge=ep;function Rge(){this.__data__=new Pge,this.size=0}var Oge=Rge;function Ige(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}var Nge=Ige;function Mge(n){return this.__data__.get(n)}var Lge=Mge;function Dge(n){return this.__data__.has(n)}var Bge=Dge,Fge=typeof Jn=="object"&&Jn&&Jn.Object===Object&&Jn,y7=Fge,Vge=y7,jge=typeof self=="object"&&self&&self.Object===Object&&self,$ge=Vge||jge||Function("return this")(),lo=$ge,zge=lo,Hge=zge.Symbol,m_=Hge,BT=m_,w7=Object.prototype,Uge=w7.hasOwnProperty,Wge=w7.toString,Nc=BT?BT.toStringTag:void 0;function qge(n){var t=Uge.call(n,Nc),e=n[Nc];try{n[Nc]=void 0;var r=!0}catch{}var i=Wge.call(n);return r&&(t?n[Nc]=e:delete n[Nc]),i}var Gge=qge,Kge=Object.prototype,Zge=Kge.toString;function Yge(n){return Zge.call(n)}var Jge=Yge,FT=m_,Xge=Gge,Qge=Jge,epe="[object Null]",tpe="[object Undefined]",VT=FT?FT.toStringTag:void 0;function npe(n){return n==null?n===void 0?tpe:epe:VT&&VT in Object(n)?Xge(n):Qge(n)}var tp=npe;function rpe(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var _7=rpe,ipe=tp,ope=_7,spe="[object AsyncFunction]",ape="[object Function]",lpe="[object GeneratorFunction]",cpe="[object Proxy]";function upe(n){if(!ope(n))return!1;var t=ipe(n);return t==ape||t==lpe||t==spe||t==cpe}var x7=upe,dpe=lo,hpe=dpe["__core-js_shared__"],fpe=hpe,G0=fpe,jT=function(){var n=/[^.]+$/.exec(G0&&G0.keys&&G0.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function mpe(n){return!!jT&&jT in n}var gpe=mpe,ppe=Function.prototype,bpe=ppe.toString;function vpe(n){if(n!=null){try{return bpe.call(n)}catch{}try{return n+""}catch{}}return""}var k7=vpe,ype=x7,wpe=gpe,_pe=_7,xpe=k7,kpe=/[\\^$.*+?()[\]{}|]/g,Cpe=/^\[object .+?Constructor\]$/,Epe=Function.prototype,Tpe=Object.prototype,Spe=Epe.toString,Ape=Tpe.hasOwnProperty,Ppe=RegExp("^"+Spe.call(Ape).replace(kpe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rpe(n){if(!_pe(n)||wpe(n))return!1;var t=ype(n)?Ppe:Cpe;return t.test(xpe(n))}var Ope=Rpe;function Ipe(n,t){return n==null?void 0:n[t]}var Npe=Ipe,Mpe=Ope,Lpe=Npe;function Dpe(n,t){var e=Lpe(n,t);return Mpe(e)?e:void 0}var rc=Dpe,Bpe=rc,Fpe=lo,Vpe=Bpe(Fpe,"Map"),g_=Vpe,jpe=rc,$pe=jpe(Object,"create"),np=$pe,$T=np;function zpe(){this.__data__=$T?$T(null):{},this.size=0}var Hpe=zpe;function Upe(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var Wpe=Upe,qpe=np,Gpe="__lodash_hash_undefined__",Kpe=Object.prototype,Zpe=Kpe.hasOwnProperty;function Ype(n){var t=this.__data__;if(qpe){var e=t[n];return e===Gpe?void 0:e}return Zpe.call(t,n)?t[n]:void 0}var Jpe=Ype,Xpe=np,Qpe=Object.prototype,e0e=Qpe.hasOwnProperty;function t0e(n){var t=this.__data__;return Xpe?t[n]!==void 0:e0e.call(t,n)}var n0e=t0e,r0e=np,i0e="__lodash_hash_undefined__";function o0e(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=r0e&&t===void 0?i0e:t,this}var s0e=o0e,a0e=Hpe,l0e=Wpe,c0e=Jpe,u0e=n0e,d0e=s0e;function ic(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}ic.prototype.clear=a0e;ic.prototype.delete=l0e;ic.prototype.get=c0e;ic.prototype.has=u0e;ic.prototype.set=d0e;var h0e=ic,zT=h0e,f0e=ep,m0e=g_;function g0e(){this.size=0,this.__data__={hash:new zT,map:new(m0e||f0e),string:new zT}}var p0e=g0e;function b0e(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var v0e=b0e,y0e=v0e;function w0e(n,t){var e=n.__data__;return y0e(t)?e[typeof t=="string"?"string":"hash"]:e.map}var rp=w0e,_0e=rp;function x0e(n){var t=_0e(this,n).delete(n);return this.size-=t?1:0,t}var k0e=x0e,C0e=rp;function E0e(n){return C0e(this,n).get(n)}var T0e=E0e,S0e=rp;function A0e(n){return S0e(this,n).has(n)}var P0e=A0e,R0e=rp;function O0e(n,t){var e=R0e(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}var I0e=O0e,N0e=p0e,M0e=k0e,L0e=T0e,D0e=P0e,B0e=I0e;function oc(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}oc.prototype.clear=N0e;oc.prototype.delete=M0e;oc.prototype.get=L0e;oc.prototype.has=D0e;oc.prototype.set=B0e;var C7=oc,F0e=ep,V0e=g_,j0e=C7,$0e=200;function z0e(n,t){var e=this.__data__;if(e instanceof F0e){var r=e.__data__;if(!V0e||r.length<$0e-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new j0e(r)}return e.set(n,t),this.size=e.size,this}var H0e=z0e,U0e=ep,W0e=Oge,q0e=Nge,G0e=Lge,K0e=Bge,Z0e=H0e;function sc(n){var t=this.__data__=new U0e(n);this.size=t.size}sc.prototype.clear=W0e;sc.prototype.delete=q0e;sc.prototype.get=G0e;sc.prototype.has=K0e;sc.prototype.set=Z0e;var Y0e=sc,J0e="__lodash_hash_undefined__";function X0e(n){return this.__data__.set(n,J0e),this}var Q0e=X0e;function ebe(n){return this.__data__.has(n)}var tbe=ebe,nbe=C7,rbe=Q0e,ibe=tbe;function zm(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new nbe;++t<e;)this.add(n[t])}zm.prototype.add=zm.prototype.push=rbe;zm.prototype.has=ibe;var obe=zm;function sbe(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}var abe=sbe;function lbe(n,t){return n.has(t)}var cbe=lbe,ube=obe,dbe=abe,hbe=cbe,fbe=1,mbe=2;function gbe(n,t,e,r,i,o){var s=e&fbe,a=n.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(n),u=o.get(t);if(c&&u)return c==t&&u==n;var d=-1,h=!0,f=e&mbe?new ube:void 0;for(o.set(n,t),o.set(t,n);++d<a;){var m=n[d],g=t[d];if(r)var v=s?r(g,m,d,t,n,o):r(m,g,d,n,t,o);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!dbe(t,function(p,b){if(!hbe(f,b)&&(m===p||i(m,p,e,r,o)))return f.push(b)})){h=!1;break}}else if(!(m===g||i(m,g,e,r,o))){h=!1;break}}return o.delete(n),o.delete(t),h}var E7=gbe,pbe=lo,bbe=pbe.Uint8Array,vbe=bbe;function ybe(n){var t=-1,e=Array(n.size);return n.forEach(function(r,i){e[++t]=[i,r]}),e}var wbe=ybe;function _be(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var xbe=_be,HT=m_,UT=vbe,kbe=v7,Cbe=E7,Ebe=wbe,Tbe=xbe,Sbe=1,Abe=2,Pbe="[object Boolean]",Rbe="[object Date]",Obe="[object Error]",Ibe="[object Map]",Nbe="[object Number]",Mbe="[object RegExp]",Lbe="[object Set]",Dbe="[object String]",Bbe="[object Symbol]",Fbe="[object ArrayBuffer]",Vbe="[object DataView]",WT=HT?HT.prototype:void 0,K0=WT?WT.valueOf:void 0;function jbe(n,t,e,r,i,o,s){switch(e){case Vbe:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case Fbe:return!(n.byteLength!=t.byteLength||!o(new UT(n),new UT(t)));case Pbe:case Rbe:case Nbe:return kbe(+n,+t);case Obe:return n.name==t.name&&n.message==t.message;case Mbe:case Dbe:return n==t+"";case Ibe:var a=Ebe;case Lbe:var l=r&Sbe;if(a||(a=Tbe),n.size!=t.size&&!l)return!1;var c=s.get(n);if(c)return c==t;r|=Abe,s.set(n,t);var u=Cbe(a(n),a(t),r,i,o,s);return s.delete(n),u;case Bbe:if(K0)return K0.call(n)==K0.call(t)}return!1}var $be=jbe;function zbe(n,t){for(var e=-1,r=t.length,i=n.length;++e<r;)n[i+e]=t[e];return n}var Hbe=zbe,Ube=Array.isArray,p_=Ube,Wbe=Hbe,qbe=p_;function Gbe(n,t,e){var r=t(n);return qbe(n)?r:Wbe(r,e(n))}var Kbe=Gbe;function Zbe(n,t){for(var e=-1,r=n==null?0:n.length,i=0,o=[];++e<r;){var s=n[e];t(s,e,n)&&(o[i++]=s)}return o}var Ybe=Zbe;function Jbe(){return[]}var Xbe=Jbe,Qbe=Ybe,eve=Xbe,tve=Object.prototype,nve=tve.propertyIsEnumerable,qT=Object.getOwnPropertySymbols,rve=qT?function(n){return n==null?[]:(n=Object(n),Qbe(qT(n),function(t){return nve.call(n,t)}))}:eve,ive=rve;function ove(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var sve=ove;function ave(n){return n!=null&&typeof n=="object"}var ip=ave,lve=tp,cve=ip,uve="[object Arguments]";function dve(n){return cve(n)&&lve(n)==uve}var hve=dve,GT=hve,fve=ip,T7=Object.prototype,mve=T7.hasOwnProperty,gve=T7.propertyIsEnumerable,pve=GT(function(){return arguments}())?GT:function(n){return fve(n)&&mve.call(n,"callee")&&!gve.call(n,"callee")},bve=pve,Hm={exports:{}};function vve(){return!1}var yve=vve;Hm.exports;(function(n,t){var e=lo,r=yve,i=t&&!t.nodeType&&t,o=i&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===i,a=s?e.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;n.exports=c})(Hm,Hm.exports);var S7=Hm.exports,wve=9007199254740991,_ve=/^(?:0|[1-9]\d*)$/;function xve(n,t){var e=typeof n;return t=t??wve,!!t&&(e=="number"||e!="symbol"&&_ve.test(n))&&n>-1&&n%1==0&&n<t}var kve=xve,Cve=9007199254740991;function Eve(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Cve}var A7=Eve,Tve=tp,Sve=A7,Ave=ip,Pve="[object Arguments]",Rve="[object Array]",Ove="[object Boolean]",Ive="[object Date]",Nve="[object Error]",Mve="[object Function]",Lve="[object Map]",Dve="[object Number]",Bve="[object Object]",Fve="[object RegExp]",Vve="[object Set]",jve="[object String]",$ve="[object WeakMap]",zve="[object ArrayBuffer]",Hve="[object DataView]",Uve="[object Float32Array]",Wve="[object Float64Array]",qve="[object Int8Array]",Gve="[object Int16Array]",Kve="[object Int32Array]",Zve="[object Uint8Array]",Yve="[object Uint8ClampedArray]",Jve="[object Uint16Array]",Xve="[object Uint32Array]",ot={};ot[Uve]=ot[Wve]=ot[qve]=ot[Gve]=ot[Kve]=ot[Zve]=ot[Yve]=ot[Jve]=ot[Xve]=!0;ot[Pve]=ot[Rve]=ot[zve]=ot[Ove]=ot[Hve]=ot[Ive]=ot[Nve]=ot[Mve]=ot[Lve]=ot[Dve]=ot[Bve]=ot[Fve]=ot[Vve]=ot[jve]=ot[$ve]=!1;function Qve(n){return Ave(n)&&Sve(n.length)&&!!ot[Tve(n)]}var eye=Qve;function tye(n){return function(t){return n(t)}}var nye=tye,Um={exports:{}};Um.exports;(function(n,t){var e=y7,r=t&&!t.nodeType&&t,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o&&e.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a})(Um,Um.exports);var rye=Um.exports,iye=eye,oye=nye,KT=rye,ZT=KT&&KT.isTypedArray,sye=ZT?oye(ZT):iye,P7=sye,aye=sve,lye=bve,cye=p_,uye=S7,dye=kve,hye=P7,fye=Object.prototype,mye=fye.hasOwnProperty;function gye(n,t){var e=cye(n),r=!e&&lye(n),i=!e&&!r&&uye(n),o=!e&&!r&&!i&&hye(n),s=e||r||i||o,a=s?aye(n.length,String):[],l=a.length;for(var c in n)(t||mye.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||dye(c,l)))&&a.push(c);return a}var pye=gye,bye=Object.prototype;function vye(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||bye;return n===e}var yye=vye;function wye(n,t){return function(e){return n(t(e))}}var _ye=wye,xye=_ye,kye=xye(Object.keys,Object),Cye=kye,Eye=yye,Tye=Cye,Sye=Object.prototype,Aye=Sye.hasOwnProperty;function Pye(n){if(!Eye(n))return Tye(n);var t=[];for(var e in Object(n))Aye.call(n,e)&&e!="constructor"&&t.push(e);return t}var Rye=Pye,Oye=x7,Iye=A7;function Nye(n){return n!=null&&Iye(n.length)&&!Oye(n)}var Mye=Nye,Lye=pye,Dye=Rye,Bye=Mye;function Fye(n){return Bye(n)?Lye(n):Dye(n)}var Vye=Fye,jye=Kbe,$ye=ive,zye=Vye;function Hye(n){return jye(n,zye,$ye)}var Uye=Hye,YT=Uye,Wye=1,qye=Object.prototype,Gye=qye.hasOwnProperty;function Kye(n,t,e,r,i,o){var s=e&Wye,a=YT(n),l=a.length,c=YT(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:Gye.call(t,h)))return!1}var f=o.get(n),m=o.get(t);if(f&&m)return f==t&&m==n;var g=!0;o.set(n,t),o.set(t,n);for(var v=s;++d<l;){h=a[d];var p=n[h],b=t[h];if(r)var _=s?r(b,p,h,t,n,o):r(p,b,h,n,t,o);if(!(_===void 0?p===b||i(p,b,e,r,o):_)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var y=n.constructor,k=t.constructor;y!=k&&"constructor"in n&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof k=="function"&&k instanceof k)&&(g=!1)}return o.delete(n),o.delete(t),g}var Zye=Kye,Yye=rc,Jye=lo,Xye=Yye(Jye,"DataView"),Qye=Xye,e1e=rc,t1e=lo,n1e=e1e(t1e,"Promise"),r1e=n1e,i1e=rc,o1e=lo,s1e=i1e(o1e,"Set"),a1e=s1e,l1e=rc,c1e=lo,u1e=l1e(c1e,"WeakMap"),d1e=u1e,fy=Qye,my=g_,gy=r1e,py=a1e,by=d1e,R7=tp,ac=k7,JT="[object Map]",h1e="[object Object]",XT="[object Promise]",QT="[object Set]",e5="[object WeakMap]",t5="[object DataView]",f1e=ac(fy),m1e=ac(my),g1e=ac(gy),p1e=ac(py),b1e=ac(by),ws=R7;(fy&&ws(new fy(new ArrayBuffer(1)))!=t5||my&&ws(new my)!=JT||gy&&ws(gy.resolve())!=XT||py&&ws(new py)!=QT||by&&ws(new by)!=e5)&&(ws=function(n){var t=R7(n),e=t==h1e?n.constructor:void 0,r=e?ac(e):"";if(r)switch(r){case f1e:return t5;case m1e:return JT;case g1e:return XT;case p1e:return QT;case b1e:return e5}return t});var v1e=ws,Z0=Y0e,y1e=E7,w1e=$be,_1e=Zye,n5=v1e,r5=p_,i5=S7,x1e=P7,k1e=1,o5="[object Arguments]",s5="[object Array]",$h="[object Object]",C1e=Object.prototype,a5=C1e.hasOwnProperty;function E1e(n,t,e,r,i,o){var s=r5(n),a=r5(t),l=s?s5:n5(n),c=a?s5:n5(t);l=l==o5?$h:l,c=c==o5?$h:c;var u=l==$h,d=c==$h,h=l==c;if(h&&i5(n)){if(!i5(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Z0),s||x1e(n)?y1e(n,t,e,r,i,o):w1e(n,t,l,e,r,i,o);if(!(e&k1e)){var f=u&&a5.call(n,"__wrapped__"),m=d&&a5.call(t,"__wrapped__");if(f||m){var g=f?n.value():n,v=m?t.value():t;return o||(o=new Z0),i(g,v,e,r,o)}}return h?(o||(o=new Z0),_1e(n,t,e,r,i,o)):!1}var T1e=E1e,S1e=T1e,l5=ip;function O7(n,t,e,r,i){return n===t?!0:n==null||t==null||!l5(n)&&!l5(t)?n!==n&&t!==t:S1e(n,t,e,r,O7,i)}var A1e=O7,P1e=A1e;function R1e(n,t){return P1e(n,t)}var O1e=R1e,I7={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(n,t){(function(r,i){n.exports=i()})(typeof self<"u"?self:Jn,function(){return function(e){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),c=i(46),u=i(47),d=i(48),h=i(49),f=i(12),m=i(32),g=i(33),v=i(31),p=i(1),b={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:f.default,Class:m.default,Style:g.default,Store:v.default}};r.default=b},function(e,r,i){var o=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var _ in b)b.hasOwnProperty(_)&&(p[_]=b[_])};return function(p,b){v(p,b);function _(){this.constructor=p}p.prototype=b===null?Object.create(b):(_.prototype=b.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(v){o(p,v);function p(b){var _=this;return b="[Parchment] "+b,_=v.call(this,b)||this,_.message=b,_.name=_.constructor.name,_}return p}(Error);r.ParchmentError=s;var a={},l={},c={},u={};r.DATA_KEY="__blot";var d;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function h(v,p){var b=m(v);if(b==null)throw new s("Unable to create "+v+" blot");var _=b,y=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:_.create(p);return new _(y,p)}r.create=h;function f(v,p){return p===void 0&&(p=!1),v==null?null:v[r.DATA_KEY]!=null?v[r.DATA_KEY].blot:p?f(v.parentNode,p):null}r.find=f;function m(v,p){p===void 0&&(p=d.ANY);var b;if(typeof v=="string")b=u[v]||a[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)b=u.text;else if(typeof v=="number")v&d.LEVEL&d.BLOCK?b=u.block:v&d.LEVEL&d.INLINE&&(b=u.inline);else if(v instanceof HTMLElement){var _=(v.getAttribute("class")||"").split(/\s+/);for(var y in _)if(b=l[_[y]],b)break;b=b||c[v.tagName]}return b==null?null:p&d.LEVEL&b.scope&&p&d.TYPE&b.scope?b:null}r.query=m;function g(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];if(v.length>1)return v.map(function(y){return g(y)});var b=v[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new s("Invalid definition");if(b.blotName==="abstract")throw new s("Cannot register abstract class");if(u[b.blotName||b.attrName]=b,typeof b.keyName=="string")a[b.keyName]=b;else if(b.className!=null&&(l[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(y){return y.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var _=Array.isArray(b.tagName)?b.tagName:[b.tagName];_.forEach(function(y){(c[y]==null||b.className==null)&&(c[y]=b)})}return b}r.register=g},function(e,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),c="\0",u=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};u.prototype.insert=function(d,h){var f={};return d.length===0?this:(f.insert=d,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(f.attributes=h),this.push(f))},u.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},u.prototype.retain=function(d,h){if(d<=0)return this;var f={retain:d};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(f.attributes=h),this.push(f)},u.prototype.push=function(d){var h=this.ops.length,f=this.ops[h-1];if(d=a(!0,{},d),typeof f=="object"){if(typeof d.delete=="number"&&typeof f.delete=="number")return this.ops[h-1]={delete:f.delete+d.delete},this;if(typeof f.delete=="number"&&d.insert!=null&&(h-=1,f=this.ops[h-1],typeof f!="object"))return this.ops.unshift(d),this;if(s(d.attributes,f.attributes)){if(typeof d.insert=="string"&&typeof f.insert=="string")return this.ops[h-1]={insert:f.insert+d.insert},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof f.retain=="number")return this.ops[h-1]={retain:f.retain+d.retain},typeof d.attributes=="object"&&(this.ops[h-1].attributes=d.attributes),this}}return h===this.ops.length?this.ops.push(d):this.ops.splice(h,0,d),this},u.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},u.prototype.filter=function(d){return this.ops.filter(d)},u.prototype.forEach=function(d){this.ops.forEach(d)},u.prototype.map=function(d){return this.ops.map(d)},u.prototype.partition=function(d){var h=[],f=[];return this.forEach(function(m){var g=d(m)?h:f;g.push(m)}),[h,f]},u.prototype.reduce=function(d,h){return this.ops.reduce(d,h)},u.prototype.changeLength=function(){return this.reduce(function(d,h){return h.insert?d+l.length(h):h.delete?d-h.delete:d},0)},u.prototype.length=function(){return this.reduce(function(d,h){return d+l.length(h)},0)},u.prototype.slice=function(d,h){d=d||0,typeof h!="number"&&(h=1/0);for(var f=[],m=l.iterator(this.ops),g=0;g<h&&m.hasNext();){var v;g<d?v=m.next(d-g):(v=m.next(h-g),f.push(v)),g+=l.length(v)}return new u(f)},u.prototype.compose=function(d){var h=l.iterator(this.ops),f=l.iterator(d.ops),m=[],g=f.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var v=g.retain;h.peekType()==="insert"&&h.peekLength()<=v;)v-=h.peekLength(),m.push(h.next());g.retain-v>0&&f.next(g.retain-v)}for(var p=new u(m);h.hasNext()||f.hasNext();)if(f.peekType()==="insert")p.push(f.next());else if(h.peekType()==="delete")p.push(h.next());else{var b=Math.min(h.peekLength(),f.peekLength()),_=h.next(b),y=f.next(b);if(typeof y.retain=="number"){var k={};typeof _.retain=="number"?k.retain=b:k.insert=_.insert;var S=l.attributes.compose(_.attributes,y.attributes,typeof _.retain=="number");if(S&&(k.attributes=S),p.push(k),!f.hasNext()&&s(p.ops[p.ops.length-1],k)){var E=new u(h.rest());return p.concat(E).chop()}}else typeof y.delete=="number"&&typeof _.retain=="number"&&p.push(y)}return p.chop()},u.prototype.concat=function(d){var h=new u(this.ops.slice());return d.ops.length>0&&(h.push(d.ops[0]),h.ops=h.ops.concat(d.ops.slice(1))),h},u.prototype.diff=function(d,h){if(this.ops===d.ops)return new u;var f=[this,d].map(function(b){return b.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:c;var y=b===d?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),m=new u,g=o(f[0],f[1],h),v=l.iterator(this.ops),p=l.iterator(d.ops);return g.forEach(function(b){for(var _=b[1].length;_>0;){var y=0;switch(b[0]){case o.INSERT:y=Math.min(p.peekLength(),_),m.push(p.next(y));break;case o.DELETE:y=Math.min(_,v.peekLength()),v.next(y),m.delete(y);break;case o.EQUAL:y=Math.min(v.peekLength(),p.peekLength(),_);var k=v.next(y),S=p.next(y);s(k.insert,S.insert)?m.retain(y,l.attributes.diff(k.attributes,S.attributes)):m.push(S).delete(y);break}_-=y}}),m.chop()},u.prototype.eachLine=function(d,h){h=h||`
`;for(var f=l.iterator(this.ops),m=new u,g=0;f.hasNext();){if(f.peekType()!=="insert")return;var v=f.peek(),p=l.length(v)-f.peekLength(),b=typeof v.insert=="string"?v.insert.indexOf(h,p)-p:-1;if(b<0)m.push(f.next());else if(b>0)m.push(f.next(b));else{if(d(m,f.next(1).attributes||{},g)===!1)return;g+=1,m=new u}}m.length()>0&&d(m,{},g)},u.prototype.transform=function(d,h){if(h=!!h,typeof d=="number")return this.transformPosition(d,h);for(var f=l.iterator(this.ops),m=l.iterator(d.ops),g=new u;f.hasNext()||m.hasNext();)if(f.peekType()==="insert"&&(h||m.peekType()!=="insert"))g.retain(l.length(f.next()));else if(m.peekType()==="insert")g.push(m.next());else{var v=Math.min(f.peekLength(),m.peekLength()),p=f.next(v),b=m.next(v);if(p.delete)continue;b.delete?g.push(b):g.retain(v,l.attributes.transform(p.attributes,b.attributes,h))}return g.chop()},u.prototype.transformPosition=function(d,h){h=!!h;for(var f=l.iterator(this.ops),m=0;f.hasNext()&&m<=d;){var g=f.peekLength(),v=f.peekType();if(f.next(),v==="delete"){d-=Math.min(g,d-m);continue}else v==="insert"&&(m<d||!h)&&(d+=g);m+=g}return d},e.exports=u},function(e,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):o.call(f)==="[object Array]"},c=function(f){if(!f||o.call(f)!=="[object Object]")return!1;var m=i.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!g)return!1;var v;for(v in f);return typeof v>"u"||i.call(f,v)},u=function(f,m){s&&m.name==="__proto__"?s(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},d=function(f,m){if(m==="__proto__")if(i.call(f,m)){if(a)return a(f,m).value}else return;return f[m]};e.exports=function h(){var f,m,g,v,p,b,_=arguments[0],y=1,k=arguments.length,S=!1;for(typeof _=="boolean"&&(S=_,_=arguments[1]||{},y=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});y<k;++y)if(f=arguments[y],f!=null)for(m in f)g=d(_,m),v=d(f,m),_!==v&&(S&&v&&(c(v)||(p=l(v)))?(p?(p=!1,b=g&&l(g)?g:[]):b=g&&c(g)?g:{},u(_,{name:m,newValue:h(S,b,v)})):typeof v<"u"&&u(_,{name:m,newValue:v}));return _}},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function A(P,R){for(var N=0;N<R.length;N++){var D=R[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}return function(P,R,N){return R&&A(P.prototype,R),N&&A(P,N),P}}(),s=function A(P,R,N){P===null&&(P=Function.prototype);var D=Object.getOwnPropertyDescriptor(P,R);if(D===void 0){var V=Object.getPrototypeOf(P);return V===null?void 0:A(V,R,N)}else{if("value"in D)return D.value;var H=D.get;return H===void 0?void 0:H.call(N)}},a=i(3),l=_(a),c=i(2),u=_(c),d=i(0),h=_(d),f=i(16),m=_(f),g=i(6),v=_(g),p=i(7),b=_(p);function _(A){return A&&A.__esModule?A:{default:A}}function y(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function k(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function S(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var E=1,C=function(A){S(P,A);function P(){return y(this,P),k(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return o(P,[{key:"attach",value:function(){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,D){var V=h.default.query(N,h.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,D)}},{key:"formatAt",value:function(N,D,V,H){this.format(V,H)}},{key:"insertAt",value:function(N,D,V){if(typeof D=="string"&&D.endsWith(`
`)){var H=h.default.create(O.blotName);this.parent.insertBefore(H,N===0?this:this.next),H.insertAt(0,D.slice(0,-1))}else s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,N,D,V)}}]),P}(h.default.Embed);C.scope=h.default.Scope.BLOCK_BLOT;var O=function(A){S(P,A);function P(R){y(this,P);var N=k(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R));return N.cache={},N}return o(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(N,D){return D.length()===0?N:N.insert(D.value(),T(D))},new u.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(N,D){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,N,D),this.cache={}}},{key:"formatAt",value:function(N,D,V,H){D<=0||(h.default.query(V,h.default.Scope.BLOCK)?N+D===this.length()&&this.format(V,H):s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,N,Math.min(D,this.length()-N-1),V,H),this.cache={})}},{key:"insertAt",value:function(N,D,V){if(V!=null)return s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,N,D,V);if(D.length!==0){var H=D.split(`
`),z=H.shift();z.length>0&&(N<this.length()-1||this.children.tail==null?s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var j=this;H.reduce(function(L,M){return j=j.split(L,!0),j.insertAt(0,M),M.length},N+z.length)}}},{key:"insertBefore",value:function(N,D){var V=this.children.head;s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,N,D),V instanceof m.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(N,D){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,N,D),this.cache={}}},{key:"optimize",value:function(N){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(N===0||N>=this.length()-E)){var V=this.clone();return N===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var H=s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,N,D);return this.cache={},H}}}]),P}(h.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[v.default,h.default.Embed,b.default];function T(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(P=(0,l.default)(P,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?P:T(A.parent,P)}r.bubbleFormats=T,r.BlockEmbed=C,r.default=O},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(L,M){var B=[],$=!0,G=!1,W=void 0;try{for(var F=L[Symbol.iterator](),U;!($=(U=F.next()).done)&&(B.push(U.value),!(M&&B.length===M));$=!0);}catch(K){G=!0,W=K}finally{try{!$&&F.return&&F.return()}finally{if(G)throw W}}return B}return function(L,M){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return j(L,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(L,M){for(var B=0;B<M.length;B++){var $=M[B];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,M,B){return M&&j(L.prototype,M),B&&j(L,B),L}}();i(50);var l=i(2),c=T(l),u=i(14),d=T(u),h=i(8),f=T(h),m=i(9),g=T(m),v=i(0),p=T(v),b=i(15),_=T(b),y=i(3),k=T(y),S=i(10),E=T(S),C=i(34),O=T(C);function T(j){return j&&j.__esModule?j:{default:j}}function A(j,L,M){return L in j?Object.defineProperty(j,L,{value:M,enumerable:!0,configurable:!0,writable:!0}):j[L]=M,j}function P(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}var R=(0,E.default)("quill"),N=function(){a(j,null,[{key:"debug",value:function(M){M===!0&&(M="log"),E.default.level(M)}},{key:"find",value:function(M){return M.__quill||p.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&R.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,B){var $=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var W=M.attrName||M.blotName;typeof W=="string"?this.register("formats/"+W,M,B):Object.keys(M).forEach(function(F){$.register(F,M[F],B)})}else this.imports[M]!=null&&!G&&R.warn("Overwriting "+M+" with",B),this.imports[M]=B,(M.startsWith("blots/")||M.startsWith("formats/"))&&B.blotName!=="abstract"?p.default.register(B):M.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function j(L){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,j),this.options=D(L,B),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",L);this.options.debug&&j.debug(this.options.debug);var $=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(W){W===f.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(W,F){var U=M.selection.lastRange,K=U&&U.length===0?U.index:void 0;V.call(M,function(){return M.editor.update(null,F,K)},W)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+$+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(j,[{key:"addContainer",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var $=M;M=document.createElement("div"),M.classList.add($)}return this.container.insertBefore(M,B),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,B,$){var G=this,W=H(M,B,$),F=s(W,4);return M=F[0],B=F[1],$=F[3],V.call(this,function(){return G.editor.deleteText(M,B)},$,M,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,B){var $=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return V.call(this,function(){var W=$.getSelection(!0),F=new c.default;if(W==null)return F;if(p.default.query(M,p.default.Scope.BLOCK))F=$.editor.formatLine(W.index,W.length,A({},M,B));else{if(W.length===0)return $.selection.format(M,B),F;F=$.editor.formatText(W.index,W.length,A({},M,B))}return $.setSelection(W,f.default.sources.SILENT),F},G)}},{key:"formatLine",value:function(M,B,$,G,W){var F=this,U=void 0,K=H(M,B,$,G,W),Z=s(K,4);return M=Z[0],B=Z[1],U=Z[2],W=Z[3],V.call(this,function(){return F.editor.formatLine(M,B,U)},W,M,0)}},{key:"formatText",value:function(M,B,$,G,W){var F=this,U=void 0,K=H(M,B,$,G,W),Z=s(K,4);return M=Z[0],B=Z[1],U=Z[2],W=Z[3],V.call(this,function(){return F.editor.formatText(M,B,U)},W,M,0)}},{key:"getBounds",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=void 0;typeof M=="number"?$=this.selection.getBounds(M,B):$=this.selection.getBounds(M.index,M.length);var G=this.container.getBoundingClientRect();return{bottom:$.bottom-G.top,height:$.height,left:$.left-G.left,right:$.right-G.left,top:$.top-G.top,width:$.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,$=H(M,B),G=s($,2);return M=G[0],B=G[1],this.editor.getContents(M,B)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,B):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,B)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,$=H(M,B),G=s($,2);return M=G[0],B=G[1],this.editor.getText(M,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,B,$){var G=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j.sources.API;return V.call(this,function(){return G.editor.insertEmbed(M,B,$)},W,M)}},{key:"insertText",value:function(M,B,$,G,W){var F=this,U=void 0,K=H(M,0,$,G,W),Z=s(K,4);return M=Z[0],U=Z[2],W=Z[3],V.call(this,function(){return F.editor.insertText(M,B,U)},W,M,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,B,$){this.clipboard.dangerouslyPasteHTML(M,B,$)}},{key:"removeFormat",value:function(M,B,$){var G=this,W=H(M,B,$),F=s(W,4);return M=F[0],B=F[1],$=F[3],V.call(this,function(){return G.editor.removeFormat(M,B)},$,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var B=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return V.call(this,function(){M=new c.default(M);var G=B.getLength(),W=B.editor.deleteText(0,G),F=B.editor.applyDelta(M),U=F.ops[F.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),F.delete(1));var K=W.compose(F);return K},$)}},{key:"setSelection",value:function(M,B,$){if(M==null)this.selection.setRange(null,B||j.sources.API);else{var G=H(M,B,$),W=s(G,4);M=W[0],B=W[1],$=W[3],this.selection.setRange(new b.Range(M,B),$),$!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,$=new c.default().insert(M);return this.setContents($,B)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,B=this.scroll.update(M);return this.selection.update(M),B}},{key:"updateContents",value:function(M){var B=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return V.call(this,function(){return M=new c.default(M),B.editor.applyDelta(M,$)},$,!0)}}]),j}();N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=f.default.events,N.sources=f.default.sources,N.version="1.3.7",N.imports={delta:c.default,parchment:p.default,"core/module":g.default,"core/theme":O.default};function D(j,L){if(L=(0,k.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===N.DEFAULTS.theme)L.theme=O.default;else if(L.theme=N.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var M=(0,k.default)(!0,{},L.theme.DEFAULTS);[M,L].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(W){G.modules[W]===!0&&(G.modules[W]={})})});var B=Object.keys(M.modules).concat(Object.keys(L.modules)),$=B.reduce(function(G,W){var F=N.import("modules/"+W);return F==null?R.error("Cannot load "+W+" module. Are you sure you registered it?"):G[W]=F.DEFAULTS||{},G},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,k.default)(!0,{},N.DEFAULTS,{modules:$},M,L),["bounds","container","scrollingContainer"].forEach(function(G){typeof L[G]=="string"&&(L[G]=document.querySelector(L[G]))}),L.modules=Object.keys(L.modules).reduce(function(G,W){return L.modules[W]&&(G[W]=L.modules[W]),G},{}),L}function V(j,L,M,B){if(this.options.strict&&!this.isEnabled()&&L===f.default.sources.USER)return new c.default;var $=M==null?null:this.getSelection(),G=this.editor.delta,W=j();if($!=null&&(M===!0&&(M=$.index),B==null?$=z($,W,L):B!==0&&($=z($,M,B,L)),this.setSelection($,f.default.sources.SILENT)),W.length()>0){var F,U=[f.default.events.TEXT_CHANGE,W,G,L];if((F=this.emitter).emit.apply(F,[f.default.events.EDITOR_CHANGE].concat(U)),L!==f.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,U)}}return W}function H(j,L,M,B,$){var G={};return typeof j.index=="number"&&typeof j.length=="number"?typeof L!="number"?($=B,B=M,M=L,L=j.length,j=j.index):(L=j.length,j=j.index):typeof L!="number"&&($=B,B=M,M=L,L=0),(typeof M>"u"?"undefined":o(M))==="object"?(G=M,$=B):typeof M=="string"&&(B!=null?G[M]=B:$=M),$=$||f.default.sources.API,[j,L,G,$]}function z(j,L,M,B){if(j==null)return null;var $=void 0,G=void 0;if(L instanceof c.default){var W=[j.index,j.index+j.length].map(function(Z){return L.transformPosition(Z,B!==f.default.sources.USER)}),F=s(W,2);$=F[0],G=F[1]}else{var U=[j.index,j.index+j.length].map(function(Z){return Z<L||Z===L&&B===f.default.sources.USER?Z:M>=0?Z+M:Math.max(L,Z+M)}),K=s(U,2);$=K[0],G=K[1]}return new b.Range($,G-$)}r.expandConfig=D,r.overload=H,r.default=N},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(p,b){for(var _=0;_<b.length;_++){var y=b[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,b,_){return b&&v(p.prototype,b),_&&v(p,_),p}}(),s=function v(p,b,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,b);if(y===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:v(k,b,_)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(_)}},a=i(7),l=d(a),c=i(0),u=d(c);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function f(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function m(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var g=function(v){m(p,v);function p(){return h(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(_,y,k,S){if(p.compare(this.statics.blotName,k)<0&&u.default.query(k,u.default.Scope.BLOT)){var E=this.isolate(_,y);S&&E.wrap(k,S)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,_,y,k,S)}},{key:"optimize",value:function(_){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,_),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(_,y){var k=p.order.indexOf(_),S=p.order.indexOf(y);return k>=0||S>=0?k-S:_===y?0:_<y?-1:1}}]),p}(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function c(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function u(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){u(f,h);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default.Text);r.default=d},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(_,y){for(var k=0;k<y.length;k++){var S=y[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,y,k){return y&&b(_.prototype,y),k&&b(_,k),_}}(),s=function b(_,y,k){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,y);if(S===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:b(E,y,k)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(k)}},a=i(54),l=d(a),c=i(10),u=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function f(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function m(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var g=(0,u.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(b){document.addEventListener(b,function(){for(var _=arguments.length,y=Array(_),k=0;k<_;k++)y[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var E;(E=S.__quill.emitter).handleDOM.apply(E,y)}})})});var p=function(b){m(_,b);function _(){h(this,_);var y=f(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return y.listeners={},y.on("error",g.error),y}return o(_,[{key:"emit",value:function(){g.log.apply(g,arguments),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var S=arguments.length,E=Array(S>1?S-1:0),C=1;C<S;C++)E[C-1]=arguments[C];(this.listeners[k.type]||[]).forEach(function(O){var T=O.node,A=O.handler;(k.target===T||T.contains(k.target))&&A.apply(void 0,[k].concat(E))})}},{key:"listenDOM",value:function(k,S,E){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:S,handler:E})}}]),_}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=c};s.DEFAULTS={},r.default=s},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(c){if(o.indexOf(c)<=o.indexOf(s)){for(var u,d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];(u=console)[c].apply(u,h)}}function l(c){return o.reduce(function(u,d){return u[d]=a.bind(console,d,c),u},{})}a.level=l.level=function(c){s=c},r.default=l},function(e,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=e.exports=function(h,f,m){return m||(m={}),h===f?!0:h instanceof Date&&f instanceof Date?h.getTime()===f.getTime():!h||!f||typeof h!="object"&&typeof f!="object"?m.strict?h===f:h==f:d(h,f,m)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function d(h,f,m){var g,v;if(c(h)||c(f)||h.prototype!==f.prototype)return!1;if(a(h))return a(f)?(h=o.call(h),f=o.call(f),l(h,f,m)):!1;if(u(h)){if(!u(f)||h.length!==f.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==f[g])return!1;return!0}try{var p=s(h),b=s(f)}catch{return!1}if(p.length!=b.length)return!1;for(p.sort(),b.sort(),g=p.length-1;g>=0;g--)if(p[g]!=b[g])return!1;for(g=p.length-1;g>=0;g--)if(v=p[g],!l(h[v],f[v],m))return!1;return typeof h==typeof f}},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var u=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a}();r.default=s},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function C(O,T){var A=[],P=!0,R=!1,N=void 0;try{for(var D=O[Symbol.iterator](),V;!(P=(V=D.next()).done)&&(A.push(V.value),!(T&&A.length===T));P=!0);}catch(H){R=!0,N=H}finally{try{!P&&D.return&&D.return()}finally{if(R)throw N}}return A}return function(O,T){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return C(O,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(O,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,T,A){return T&&C(O.prototype,T),A&&C(O,A),O}}(),a=function C(O,T,A){O===null&&(O=Function.prototype);var P=Object.getOwnPropertyDescriptor(O,T);if(P===void 0){var R=Object.getPrototypeOf(O);return R===null?void 0:C(R,T,A)}else{if("value"in P)return P.value;var N=P.get;return N===void 0?void 0:N.call(A)}},l=i(2),c=b(l),u=i(0),d=b(u),h=i(4),f=b(h),m=i(6),g=b(m),v=i(7),p=b(v);function b(C){return C&&C.__esModule?C:{default:C}}function _(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function y(C,O){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:C}function k(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}var S=function(C){k(O,C);function O(){return _(this,O),y(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(g.default);S.blotName="code",S.tagName="CODE";var E=function(C){k(O,C);function O(){return _(this,O),y(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"delta",value:function(){var A=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(R,N){return R.insert(N).insert(`
`,A.formats())},new c.default)}},{key:"format",value:function(A,P){if(!(A===this.statics.blotName&&P)){var R=this.descendant(p.default,this.length()-1),N=o(R,1),D=N[0];D!=null&&D.deleteAt(D.length()-1,1),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,A,P)}}},{key:"formatAt",value:function(A,P,R,N){if(P!==0&&!(d.default.query(R,d.default.Scope.BLOCK)==null||R===this.statics.blotName&&N===this.statics.formats(this.domNode))){var D=this.newlineIndex(A);if(!(D<0||D>=A+P)){var V=this.newlineIndex(A,!0)+1,H=D-V+1,z=this.isolate(V,H),j=z.next;z.format(R,N),j instanceof O&&j.formatAt(0,A-V+P-H,R,N)}}}},{key:"insertAt",value:function(A,P,R){if(R==null){var N=this.descendant(p.default,A),D=o(N,2),V=D[0],H=D[1];V.insertAt(H,P)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var R=this.domNode.textContent.slice(A).indexOf(`
`);return R>-1?A+R:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,A);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(A),P.moveChildren(this),P.remove())}},{key:"replace",value:function(A){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var R=d.default.find(P);R==null?P.parentNode.removeChild(P):R instanceof d.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(A){var P=a(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,A);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),O}(f.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",r.Code=S,r.default=E},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(L,M){var B=[],$=!0,G=!1,W=void 0;try{for(var F=L[Symbol.iterator](),U;!($=(U=F.next()).done)&&(B.push(U.value),!(M&&B.length===M));$=!0);}catch(K){G=!0,W=K}finally{try{!$&&F.return&&F.return()}finally{if(G)throw W}}return B}return function(L,M){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return j(L,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(L,M){for(var B=0;B<M.length;B++){var $=M[B];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,M,B){return M&&j(L.prototype,M),B&&j(L,B),L}}(),l=i(2),c=P(l),u=i(20),d=P(u),h=i(0),f=P(h),m=i(13),g=P(m),v=i(24),p=P(v),b=i(4),_=P(b),y=i(16),k=P(y),S=i(21),E=P(S),C=i(11),O=P(C),T=i(3),A=P(T);function P(j){return j&&j.__esModule?j:{default:j}}function R(j,L,M){return L in j?Object.defineProperty(j,L,{value:M,enumerable:!0,configurable:!0,writable:!0}):j[L]=M,j}function N(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,V=function(){function j(L){N(this,j),this.scroll=L,this.delta=this.getDelta()}return a(j,[{key:"applyDelta",value:function(M){var B=this,$=!1;this.scroll.update();var G=this.scroll.length();return this.scroll.batchStart(),M=z(M),M.reduce(function(W,F){var U=F.retain||F.delete||F.insert.length||1,K=F.attributes||{};if(F.insert!=null){if(typeof F.insert=="string"){var Z=F.insert;Z.endsWith(`
`)&&$&&($=!1,Z=Z.slice(0,-1)),W>=G&&!Z.endsWith(`
`)&&($=!0),B.scroll.insertAt(W,Z);var te=B.scroll.line(W),ae=s(te,2),de=ae[0],ye=ae[1],Se=(0,A.default)({},(0,b.bubbleFormats)(de));if(de instanceof _.default){var Oe=de.descendant(f.default.Leaf,ye),Et=s(Oe,1),me=Et[0];Se=(0,A.default)(Se,(0,b.bubbleFormats)(me))}K=d.default.attributes.diff(Se,K)||{}}else if(o(F.insert)==="object"){var ee=Object.keys(F.insert)[0];if(ee==null)return W;B.scroll.insertAt(W,ee,F.insert[ee])}G+=U}return Object.keys(K).forEach(function(Y){B.scroll.formatAt(W,U,Y,K[Y])}),W+U},0),M.reduce(function(W,F){return typeof F.delete=="number"?(B.scroll.deleteAt(W,F.delete),W):W+(F.retain||F.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,B){return this.scroll.deleteAt(M,B),this.update(new c.default().retain(M).delete(B))}},{key:"formatLine",value:function(M,B){var $=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(G).forEach(function(W){if(!($.scroll.whitelist!=null&&!$.scroll.whitelist[W])){var F=$.scroll.lines(M,Math.max(B,1)),U=B;F.forEach(function(K){var Z=K.length();if(!(K instanceof g.default))K.format(W,G[W]);else{var te=M-K.offset($.scroll),ae=K.newlineIndex(te+U)-te+1;K.formatAt(te,ae,W,G[W])}U-=Z})}}),this.scroll.optimize(),this.update(new c.default().retain(M).retain(B,(0,E.default)(G)))}},{key:"formatText",value:function(M,B){var $=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(G).forEach(function(W){$.scroll.formatAt(M,B,W,G[W])}),this.update(new c.default().retain(M).retain(B,(0,E.default)(G)))}},{key:"getContents",value:function(M,B){return this.delta.slice(M,M+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,B){return M.concat(B.delta())},new c.default)}},{key:"getFormat",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=[],G=[];B===0?this.scroll.path(M).forEach(function(F){var U=s(F,1),K=U[0];K instanceof _.default?$.push(K):K instanceof f.default.Leaf&&G.push(K)}):($=this.scroll.lines(M,B),G=this.scroll.descendants(f.default.Leaf,M,B));var W=[$,G].map(function(F){if(F.length===0)return{};for(var U=(0,b.bubbleFormats)(F.shift());Object.keys(U).length>0;){var K=F.shift();if(K==null)return U;U=H((0,b.bubbleFormats)(K),U)}return U});return A.default.apply(A.default,W)}},{key:"getText",value:function(M,B){return this.getContents(M,B).filter(function($){return typeof $.insert=="string"}).map(function($){return $.insert}).join("")}},{key:"insertEmbed",value:function(M,B,$){return this.scroll.insertAt(M,B,$),this.update(new c.default().retain(M).insert(R({},B,$)))}},{key:"insertText",value:function(M,B){var $=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,B),Object.keys(G).forEach(function(W){$.scroll.formatAt(M,B.length,W,G[W])}),this.update(new c.default().retain(M).insert(B,(0,E.default)(G)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==_.default.blotName||M.children.length>1?!1:M.children.head instanceof k.default}},{key:"removeFormat",value:function(M,B){var $=this.getText(M,B),G=this.scroll.line(M+B),W=s(G,2),F=W[0],U=W[1],K=0,Z=new c.default;F!=null&&(F instanceof g.default?K=F.newlineIndex(U)-U+1:K=F.length()-U,Z=F.delta().slice(U,U+K-1).insert(`
`));var te=this.getContents(M,B+K),ae=te.diff(new c.default().insert($).concat(Z)),de=new c.default().retain(M).concat(ae);return this.applyDelta(de)}},{key:"update",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(D)&&f.default.find(B[0].target)){var W=f.default.find(B[0].target),F=(0,b.bubbleFormats)(W),U=W.offset(this.scroll),K=B[0].oldValue.replace(p.default.CONTENTS,""),Z=new c.default().insert(K),te=new c.default().insert(W.value()),ae=new c.default().retain(U).concat(Z.diff(te,$));M=ae.reduce(function(de,ye){return ye.insert?de.insert(ye.insert,F):de.push(ye)},new c.default),this.delta=G.compose(M)}else this.delta=this.getDelta(),(!M||!(0,O.default)(G.compose(M),this.delta))&&(M=G.diff(this.delta,$));return M}}]),j}();function H(j,L){return Object.keys(L).reduce(function(M,B){return j[B]==null||(L[B]===j[B]?M[B]=L[B]:Array.isArray(L[B])?L[B].indexOf(j[B])<0&&(M[B]=L[B].concat([j[B]])):M[B]=[L[B],j[B]]),M},{})}function z(j){return j.reduce(function(L,M){if(M.insert===1){var B=(0,E.default)(M.attributes);return delete B.image,L.insert({image:M.attributes.image},B)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,E.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var $=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert($,M.attributes)}return L.push(M)},new c.default)}r.default=V},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function C(O,T){var A=[],P=!0,R=!1,N=void 0;try{for(var D=O[Symbol.iterator](),V;!(P=(V=D.next()).done)&&(A.push(V.value),!(T&&A.length===T));P=!0);}catch(H){R=!0,N=H}finally{try{!P&&D.return&&D.return()}finally{if(R)throw N}}return A}return function(O,T){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return C(O,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(O,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,T,A){return T&&C(O.prototype,T),A&&C(O,A),O}}(),a=i(0),l=p(a),c=i(21),u=p(c),d=i(11),h=p(d),f=i(8),m=p(f),g=i(10),v=p(g);function p(C){return C&&C.__esModule?C:{default:C}}function b(C){if(Array.isArray(C)){for(var O=0,T=Array(C.length);O<C.length;O++)T[O]=C[O];return T}else return Array.from(C)}function _(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}var y=(0,v.default)("quill:selection"),k=function C(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,C),this.index=O,this.length=T},S=function(){function C(O,T){var A=this;_(this,C),this.emitter=T,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(P,R){P===m.default.events.TEXT_CHANGE&&R.length()>0&&A.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var P=A.getNativeRange();P!=null&&P.start.node!==A.cursor.textNode&&A.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(P,R){if(R.range){var N=R.range,D=N.startNode,V=N.startOffset,H=N.endNode,z=N.endOffset;A.setNativeRange(D,V,H,z)}}),this.update(m.default.sources.SILENT)}return s(C,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var A=T.cursor.restore();if(!A)return;setTimeout(function(){T.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var R=l.default.find(P.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var N=R.split(P.start.offset);R.parent.insertBefore(this.cursor,N)}else R.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(T,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();T=Math.min(T,P-1),A=Math.min(T+A,P-1)-T;var R=void 0,N=this.scroll.leaf(T),D=o(N,2),V=D[0],H=D[1];if(V==null)return null;var z=V.position(H,!0),j=o(z,2);R=j[0],H=j[1];var L=document.createRange();if(A>0){L.setStart(R,H);var M=this.scroll.leaf(T+A),B=o(M,2);if(V=B[0],H=B[1],V==null)return null;var $=V.position(H,!0),G=o($,2);return R=G[0],H=G[1],L.setEnd(R,H),L.getBoundingClientRect()}else{var W="left",F=void 0;return R instanceof Text?(H<R.data.length?(L.setStart(R,H),L.setEnd(R,H+1)):(L.setStart(R,H-1),L.setEnd(R,H),W="right"),F=L.getBoundingClientRect()):(F=V.domNode.getBoundingClientRect(),H>0&&(W="right")),{bottom:F.top+F.height,height:F.height,left:F[W],right:F[W],top:F.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var A=T.getRangeAt(0);if(A==null)return null;var P=this.normalizeNative(A);return y.info("getNativeRange",P),P}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var A=this.normalizedToRange(T);return[A,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var A=this,P=[[T.start.node,T.start.offset]];T.native.collapsed||P.push([T.end.node,T.end.offset]);var R=P.map(function(V){var H=o(V,2),z=H[0],j=H[1],L=l.default.find(z,!0),M=L.offset(A.scroll);return j===0?M:L instanceof l.default.Container?M+L.length():M+L.index(z,j)}),N=Math.min(Math.max.apply(Math,b(R)),this.scroll.length()-1),D=Math.min.apply(Math,[N].concat(b(R)));return new k(D,N-D)}},{key:"normalizeNative",value:function(T){if(!E(this.root,T.startContainer)||!T.collapsed&&!E(this.root,T.endContainer))return null;var A={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[A.start,A.end].forEach(function(P){for(var R=P.node,N=P.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>N)R=R.childNodes[N],N=0;else if(R.childNodes.length===N)R=R.lastChild,N=R instanceof Text?R.data.length:R.childNodes.length+1;else break;P.node=R,P.offset=N}),A}},{key:"rangeToNative",value:function(T){var A=this,P=T.collapsed?[T.index]:[T.index,T.index+T.length],R=[],N=this.scroll.length();return P.forEach(function(D,V){D=Math.min(N-1,D);var H=void 0,z=A.scroll.leaf(D),j=o(z,2),L=j[0],M=j[1],B=L.position(M,V!==0),$=o(B,2);H=$[0],M=$[1],R.push(H,M)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(T){var A=this.lastRange;if(A!=null){var P=this.getBounds(A.index,A.length);if(P!=null){var R=this.scroll.length()-1,N=this.scroll.line(Math.min(A.index,R)),D=o(N,1),V=D[0],H=V;if(A.length>0){var z=this.scroll.line(Math.min(A.index+A.length,R)),j=o(z,1);H=j[0]}if(!(V==null||H==null)){var L=T.getBoundingClientRect();P.top<L.top?T.scrollTop-=L.top-P.top:P.bottom>L.bottom&&(T.scrollTop+=P.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(T,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",T,A,P,R),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||P.parentNode==null))){var D=document.getSelection();if(D!=null)if(T!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||N||T!==V.startContainer||A!==V.startOffset||P!==V.endContainer||R!==V.endOffset){T.tagName=="BR"&&(A=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),P.tagName=="BR"&&(R=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var H=document.createRange();H.setStart(T,A),H.setEnd(P,R),D.removeAllRanges(),D.addRange(H)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof A=="string"&&(P=A,A=!1),y.info("setRange",T),T!=null){var R=this.rangeToNative(T);this.setNativeRange.apply(this,b(R).concat([A]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,A=this.lastRange,P=this.getRange(),R=o(P,2),N=R[0],D=R[1];if(this.lastRange=N,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(A,this.lastRange)){var V;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var H=[m.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(A),T];if((V=this.emitter).emit.apply(V,[m.default.events.EDITOR_CHANGE].concat(H)),T!==m.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,H)}}}}]),C}();function E(C,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),C.contains(O)}r.Range=k,r.default=S},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(g,v){for(var p=0;p<v.length;p++){var b=v[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,v,p){return v&&m(g.prototype,v),p&&m(g,p),g}}(),s=function m(g,v,p){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,v);if(b===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:m(_,v,p)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(p)}},a=i(0),l=c(a);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var f=function(m){h(g,m);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"insertInto",value:function(p,b){p.children.length===0?s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,p,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(l.default.Embed);f.blotName="break",f.tagName="BR",r.default=f},function(e,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var m in f)f.hasOwnProperty(m)&&(h[m]=f[m])};return function(h,f){d(h,f);function m(){this.constructor=h}h.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),c=function(d){o(h,d);function h(f){var m=d.call(this,f)||this;return m.build(),m}return h.prototype.appendChild=function(f){this.insertBefore(f)},h.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},h.prototype.build=function(){var f=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var g=u(m);f.insertBefore(g,f.children.head||void 0)}catch(v){if(v instanceof l.ParchmentError)return;throw v}})},h.prototype.deleteAt=function(f,m){if(f===0&&m===this.length())return this.remove();this.children.forEachAt(f,m,function(g,v,p){g.deleteAt(v,p)})},h.prototype.descendant=function(f,m){var g=this.children.find(m),v=g[0],p=g[1];return f.blotName==null&&f(v)||f.blotName!=null&&v instanceof f?[v,p]:v instanceof h?v.descendant(f,p):[null,-1]},h.prototype.descendants=function(f,m,g){m===void 0&&(m=0),g===void 0&&(g=Number.MAX_VALUE);var v=[],p=g;return this.children.forEachAt(m,g,function(b,_,y){(f.blotName==null&&f(b)||f.blotName!=null&&b instanceof f)&&v.push(b),b instanceof h&&(v=v.concat(b.descendants(f,_,p))),p-=y}),v},h.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),d.prototype.detach.call(this)},h.prototype.formatAt=function(f,m,g,v){this.children.forEachAt(f,m,function(p,b,_){p.formatAt(b,_,g,v)})},h.prototype.insertAt=function(f,m,g){var v=this.children.find(f),p=v[0],b=v[1];if(p)p.insertAt(b,m,g);else{var _=g==null?l.create("text",m):l.create(m,g);this.appendChild(_)}},h.prototype.insertBefore=function(f,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return f instanceof g}))throw new l.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,m)},h.prototype.length=function(){return this.children.reduce(function(f,m){return f+m.length()},0)},h.prototype.moveChildren=function(f,m){this.children.forEach(function(g){f.insertBefore(g,m)})},h.prototype.optimize=function(f){if(d.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var m=l.create(this.statics.defaultChild);this.appendChild(m),m.optimize(f)}else this.remove()},h.prototype.path=function(f,m){m===void 0&&(m=!1);var g=this.children.find(f,m),v=g[0],p=g[1],b=[[this,f]];return v instanceof h?b.concat(v.path(p,m)):(v!=null&&b.push([v,p]),b)},h.prototype.removeChild=function(f){this.children.remove(f)},h.prototype.replace=function(f){f instanceof h&&f.moveChildren(this),d.prototype.replace.call(this,f)},h.prototype.split=function(f,m){if(m===void 0&&(m=!1),!m){if(f===0)return this;if(f===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(f,this.length(),function(v,p,b){v=v.split(p,m),g.appendChild(v)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(f,m){var g=this,v=[],p=[];f.forEach(function(b){b.target===g.domNode&&b.type==="childList"&&(v.push.apply(v,b.addedNodes),p.push.apply(p,b.removedNodes))}),p.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(b);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===g.domNode)&&_.detach()}}),v.filter(function(b){return b.parentNode==g.domNode}).sort(function(b,_){return b===_?0:b.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var _=null;b.nextSibling!=null&&(_=l.find(b.nextSibling));var y=u(b);(y.next!=_||y.next==null)&&(y.parent!=null&&y.parent.removeChild(g),g.insertBefore(y,_||void 0))})},h}(a.default);function u(d){var h=l.find(d);if(h==null)try{h=l.create(d)}catch{h=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(m){h.domNode.appendChild(m)}),d.parentNode&&d.parentNode.replaceChild(h.domNode,d),h.attach()}return h}r.default=c},function(e,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var m in f)f.hasOwnProperty(m)&&(h[m]=f[m])};return function(h,f){d(h,f);function m(){this.constructor=h}h.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),c=i(1),u=function(d){o(h,d);function h(f){var m=d.call(this,f)||this;return m.attributes=new a.default(m.domNode),m}return h.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},h.prototype.format=function(f,m){var g=c.query(f);g instanceof s.default?this.attributes.attribute(g,m):m&&g!=null&&(f!==this.statics.blotName||this.formats()[f]!==m)&&this.replaceWith(f,m)},h.prototype.formats=function(){var f=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(f[this.statics.blotName]=m),f},h.prototype.replaceWith=function(f,m){var g=d.prototype.replaceWith.call(this,f,m);return this.attributes.copy(g),g},h.prototype.update=function(f,m){var g=this;d.prototype.update.call(this,f,m),f.some(function(v){return v.target===g.domNode&&v.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(f,m){var g=d.prototype.wrap.call(this,f,m);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h}(l.default);r.default=u},function(e,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(c){o(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(d){return!0},u.prototype.index=function(d,h){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(d,h){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(f+=1),[this.parent.domNode,f]},u.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},u.scope=a.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(e,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(c,u,d){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=s(!0,{},u);d||(h=Object.keys(h).reduce(function(m,g){return h[g]!=null&&(m[g]=h[g]),m},{}));for(var f in c)c[f]!==void 0&&u[f]===void 0&&(h[f]=c[f]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var d=Object.keys(c).concat(Object.keys(u)).reduce(function(h,f){return o(c[f],u[f])||(h[f]=u[f]===void 0?null:u[f]),h},{});return Object.keys(d).length>0?d:void 0},transform:function(c,u,d){if(typeof c!="object")return u;if(typeof u=="object"){if(!d)return u;var h=Object.keys(u).reduce(function(f,m){return c[m]===void 0&&(f[m]=u[m]),f},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var d=this.offset,h=a.length(u);if(c>=h-d?(c=h-d,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var f={};return u.attributes&&(f.attributes=u.attributes),typeof u.retain=="number"?f.retain=c:typeof u.insert=="string"?f.insert=u.insert.substr(d,c):f.insert=u.insert,f}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,d=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[d].concat(h)}else return[]},e.exports=a},function(e,r){var i=function(){function o(g,v){return v!=null&&g instanceof v}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(g,v,p,b,_){typeof v=="object"&&(p=v.depth,b=v.prototype,_=v.includeNonEnumerable,v=v.circular);var y=[],k=[],S=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof p>"u"&&(p=1/0);function E(C,O){if(C===null)return null;if(O===0)return C;var T,A;if(typeof C!="object")return C;if(o(C,s))T=new s;else if(o(C,a))T=new a;else if(o(C,l))T=new l(function(L,M){C.then(function(B){L(E(B,O-1))},function(B){M(E(B,O-1))})});else if(c.__isArray(C))T=[];else if(c.__isRegExp(C))T=new RegExp(C.source,m(C)),C.lastIndex&&(T.lastIndex=C.lastIndex);else if(c.__isDate(C))T=new Date(C.getTime());else{if(S&&Buffer.isBuffer(C))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(C.length):T=new Buffer(C.length),C.copy(T),T;o(C,Error)?T=Object.create(C):typeof b>"u"?(A=Object.getPrototypeOf(C),T=Object.create(A)):(T=Object.create(b),A=b)}if(v){var P=y.indexOf(C);if(P!=-1)return k[P];y.push(C),k.push(T)}o(C,s)&&C.forEach(function(L,M){var B=E(M,O-1),$=E(L,O-1);T.set(B,$)}),o(C,a)&&C.forEach(function(L){var M=E(L,O-1);T.add(M)});for(var R in C){var N;A&&(N=Object.getOwnPropertyDescriptor(A,R)),!(N&&N.set==null)&&(T[R]=E(C[R],O-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(C),R=0;R<D.length;R++){var V=D[R],H=Object.getOwnPropertyDescriptor(C,V);H&&!H.enumerable&&!_||(T[V]=E(C[V],O-1),H.enumerable||Object.defineProperty(T,V,{enumerable:!1}))}if(_)for(var z=Object.getOwnPropertyNames(C),R=0;R<z.length;R++){var j=z[R],H=Object.getOwnPropertyDescriptor(C,j);H&&H.enumerable||(T[j]=E(C[j],O-1),Object.defineProperty(T,j,{enumerable:!1}))}return T}return E(g,p)}c.clonePrototype=function(v){if(v===null)return null;var p=function(){};return p.prototype=v,new p};function u(g){return Object.prototype.toString.call(g)}c.__objToStr=u;function d(g){return typeof g=="object"&&u(g)==="[object Date]"}c.__isDate=d;function h(g){return typeof g=="object"&&u(g)==="[object Array]"}c.__isArray=h;function f(g){return typeof g=="object"&&u(g)==="[object RegExp]"}c.__isRegExp=f;function m(g){var v="";return g.global&&(v+="g"),g.ignoreCase&&(v+="i"),g.multiline&&(v+="m"),v}return c.__getRegExpFlags=m,c}();typeof e=="object"&&e.exports&&(e.exports=i)},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(A,P){var R=[],N=!0,D=!1,V=void 0;try{for(var H=A[Symbol.iterator](),z;!(N=(z=H.next()).done)&&(R.push(z.value),!(P&&R.length===P));N=!0);}catch(j){D=!0,V=j}finally{try{!N&&H.return&&H.return()}finally{if(D)throw V}}return R}return function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return T(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(A,P){for(var R=0;R<P.length;R++){var N=P[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,P,R){return P&&T(A.prototype,P),R&&T(A,R),A}}(),a=function T(A,P,R){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,P);if(N===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:T(D,P,R)}else{if("value"in N)return N.value;var V=N.get;return V===void 0?void 0:V.call(R)}},l=i(0),c=y(l),u=i(8),d=y(u),h=i(4),f=y(h),m=i(16),g=y(m),v=i(13),p=y(v),b=i(25),_=y(b);function y(T){return T&&T.__esModule?T:{default:T}}function k(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function S(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function E(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}function C(T){return T instanceof f.default||T instanceof h.BlockEmbed}var O=function(T){E(A,T);function A(P,R){k(this,A);var N=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P));return N.emitter=R.emitter,Array.isArray(R.whitelist)&&(N.whitelist=R.whitelist.reduce(function(D,V){return D[V]=!0,D},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return s(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,N){var D=this.line(R),V=o(D,2),H=V[0],z=V[1],j=this.line(R+N),L=o(j,1),M=L[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,R,N),M!=null&&H!==M&&z>0){if(H instanceof h.BlockEmbed||M instanceof h.BlockEmbed){this.optimize();return}if(H instanceof p.default){var B=H.newlineIndex(H.length(),!0);if(B>-1&&(H=H.split(B+1),H===M)){this.optimize();return}}else if(M instanceof p.default){var $=M.newlineIndex(0);$>-1&&M.split($+1)}var G=M.children.head instanceof g.default?null:M.children.head;H.moveChildren(M,G),H.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,N,D,V){this.whitelist!=null&&!this.whitelist[D]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,R,N,D,V),this.optimize())}},{key:"insertAt",value:function(R,N,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[N])){if(R>=this.length())if(D==null||c.default.query(N,c.default.Scope.BLOCK)==null){var V=c.default.create(this.statics.defaultChild);this.appendChild(V),D==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),V.insertAt(0,N,D)}else{var H=c.default.create(N,D);this.appendChild(H)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,N,D);this.optimize()}}},{key:"insertBefore",value:function(R,N){if(R.statics.scope===c.default.Scope.INLINE_BLOT){var D=c.default.create(this.statics.defaultChild);D.appendChild(R),R=D}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,N)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(C,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function V(H,z,j){var L=[],M=j;return H.children.forEachAt(z,j,function(B,$,G){C(B)?L.push(B):B instanceof c.default.Container&&(L=L.concat(V(B,$,M))),M-=G}),L};return D(this,R,N)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R,N),R.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,R,N))}},{key:"path",value:function(R){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var N=d.default.sources.USER;typeof R=="string"&&(N=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,N,R),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,N,R)}}}]),A}(c.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[f.default,h.BlockEmbed,_.default],r.default=O},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s=function(){function F(U,K){var Z=[],te=!0,ae=!1,de=void 0;try{for(var ye=U[Symbol.iterator](),Se;!(te=(Se=ye.next()).done)&&(Z.push(Se.value),!(K&&Z.length===K));te=!0);}catch(Oe){ae=!0,de=Oe}finally{try{!te&&ye.return&&ye.return()}finally{if(ae)throw de}}return Z}return function(U,K){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return F(U,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(U,K){for(var Z=0;Z<K.length;Z++){var te=K[Z];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(U,te.key,te)}}return function(U,K,Z){return K&&F(U.prototype,K),Z&&F(U,Z),U}}(),l=i(21),c=T(l),u=i(11),d=T(u),h=i(3),f=T(h),m=i(2),g=T(m),v=i(20),p=T(v),b=i(0),_=T(b),y=i(5),k=T(y),S=i(10),E=T(S),C=i(9),O=T(C);function T(F){return F&&F.__esModule?F:{default:F}}function A(F,U,K){return U in F?Object.defineProperty(F,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):F[U]=K,F}function P(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}function R(F,U){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:F}function N(F,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}var D=(0,E.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",H=function(F){N(U,F),a(U,null,[{key:"match",value:function(Z,te){return te=W(te),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ae){return!!te[ae]!==Z[ae]&&te[ae]!==null})?!1:te.key===(Z.which||Z.keyCode)}}]);function U(K,Z){P(this,U);var te=R(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,Z));return te.bindings={},Object.keys(te.options.bindings).forEach(function(ae){ae==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||te.options.bindings[ae]&&te.addBinding(te.options.bindings[ae])}),te.addBinding({key:U.keys.ENTER,shiftKey:null},B),te.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(te.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},j),te.addBinding({key:U.keys.DELETE},{collapsed:!0},L)):(te.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),te.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),te.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},M),te.addBinding({key:U.keys.DELETE},{collapsed:!1},M),te.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),te.listen(),te}return a(U,[{key:"addBinding",value:function(Z){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},de=W(Z);if(de==null||de.key==null)return D.warn("Attempted to add invalid keyboard binding",de);typeof te=="function"&&(te={handler:te}),typeof ae=="function"&&(ae={handler:ae}),de=(0,f.default)(de,te,ae),this.bindings[de.key]=this.bindings[de.key]||[],this.bindings[de.key].push(de)}},{key:"listen",value:function(){var Z=this;this.quill.root.addEventListener("keydown",function(te){if(!te.defaultPrevented){var ae=te.which||te.keyCode,de=(Z.bindings[ae]||[]).filter(function(tt){return U.match(te,tt)});if(de.length!==0){var ye=Z.quill.getSelection();if(!(ye==null||!Z.quill.hasFocus())){var Se=Z.quill.getLine(ye.index),Oe=s(Se,2),Et=Oe[0],me=Oe[1],ee=Z.quill.getLeaf(ye.index),Y=s(ee,2),oe=Y[0],le=Y[1],ne=ye.length===0?[oe,le]:Z.quill.getLeaf(ye.index+ye.length),ke=s(ne,2),Pe=ke[0],Ce=ke[1],Tt=oe instanceof _.default.Text?oe.value().slice(0,le):"",Tn=Pe instanceof _.default.Text?Pe.value().slice(Ce):"",Je={collapsed:ye.length===0,empty:ye.length===0&&Et.length()<=1,format:Z.quill.getFormat(ye),offset:me,prefix:Tt,suffix:Tn},Qr=de.some(function(tt){if(tt.collapsed!=null&&tt.collapsed!==Je.collapsed||tt.empty!=null&&tt.empty!==Je.empty||tt.offset!=null&&tt.offset!==Je.offset)return!1;if(Array.isArray(tt.format)){if(tt.format.every(function(ei){return Je.format[ei]==null}))return!1}else if(o(tt.format)==="object"&&!Object.keys(tt.format).every(function(ei){return tt.format[ei]===!0?Je.format[ei]!=null:tt.format[ei]===!1?Je.format[ei]==null:(0,d.default)(tt.format[ei],Je.format[ei])}))return!1;return tt.prefix!=null&&!tt.prefix.test(Je.prefix)||tt.suffix!=null&&!tt.suffix.test(Je.suffix)?!1:tt.handler.call(Z,ye,Je)!==!0});Qr&&te.preventDefault()}}}})}}]),U}(O.default);H.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},H.DEFAULTS={bindings:{bold:G("bold"),italic:G("italic"),underline:G("underline"),indent:{key:H.keys.TAB,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:H.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:H.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,K){K.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":$(!0),"outdent code-block":$(!1),"remove tab":{key:H.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,k.default.sources.USER)}},tab:{key:H.keys.TAB,handler:function(U){this.quill.history.cutoff();var K=new g.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(K,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,k.default.sources.SILENT)}},"list empty enter":{key:H.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,K){this.quill.format("list",!1,k.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:H.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var K=this.quill.getLine(U.index),Z=s(K,2),te=Z[0],ae=Z[1],de=(0,f.default)({},te.formats(),{list:"checked"}),ye=new g.default().retain(U.index).insert(`
`,de).retain(te.length()-ae-1).retain(1,{list:"unchecked"});this.quill.updateContents(ye,k.default.sources.USER),this.quill.setSelection(U.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:H.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,K){var Z=this.quill.getLine(U.index),te=s(Z,2),ae=te[0],de=te[1],ye=new g.default().retain(U.index).insert(`
`,K.format).retain(ae.length()-de-1).retain(1,{header:null});this.quill.updateContents(ye,k.default.sources.USER),this.quill.setSelection(U.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,K){var Z=K.prefix.length,te=this.quill.getLine(U.index),ae=s(te,2),de=ae[0],ye=ae[1];if(ye>Z)return!0;var Se=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":Se="unchecked";break;case"[x]":Se="checked";break;case"-":case"*":Se="bullet";break;default:Se="ordered"}this.quill.insertText(U.index," ",k.default.sources.USER),this.quill.history.cutoff();var Oe=new g.default().retain(U.index-ye).delete(Z+1).retain(de.length()-2-ye).retain(1,{list:Se});this.quill.updateContents(Oe,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-Z,k.default.sources.SILENT)}},"code exit":{key:H.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var K=this.quill.getLine(U.index),Z=s(K,2),te=Z[0],ae=Z[1],de=new g.default().retain(U.index+te.length()-ae-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(de,k.default.sources.USER)}},"embed left":z(H.keys.LEFT,!1),"embed left shift":z(H.keys.LEFT,!0),"embed right":z(H.keys.RIGHT,!1),"embed right shift":z(H.keys.RIGHT,!0)}};function z(F,U){var K,Z=F===H.keys.LEFT?"prefix":"suffix";return K={key:F,shiftKey:U,altKey:null},A(K,Z,/^$/),A(K,"handler",function(ae){var de=ae.index;F===H.keys.RIGHT&&(de+=ae.length+1);var ye=this.quill.getLeaf(de),Se=s(ye,1),Oe=Se[0];return Oe instanceof _.default.Embed?(F===H.keys.LEFT?U?this.quill.setSelection(ae.index-1,ae.length+1,k.default.sources.USER):this.quill.setSelection(ae.index-1,k.default.sources.USER):U?this.quill.setSelection(ae.index,ae.length+1,k.default.sources.USER):this.quill.setSelection(ae.index+ae.length+1,k.default.sources.USER),!1):!0}),K}function j(F,U){if(!(F.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(F.index),Z=s(K,1),te=Z[0],ae={};if(U.offset===0){var de=this.quill.getLine(F.index-1),ye=s(de,1),Se=ye[0];if(Se!=null&&Se.length()>1){var Oe=te.formats(),Et=this.quill.getFormat(F.index-1,1);ae=p.default.attributes.diff(Oe,Et)||{}}}var me=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(F.index-me,me,k.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine(F.index-me,me,ae,k.default.sources.USER),this.quill.focus()}}function L(F,U){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(F.index>=this.quill.getLength()-K)){var Z={},te=0,ae=this.quill.getLine(F.index),de=s(ae,1),ye=de[0];if(U.offset>=ye.length()-1){var Se=this.quill.getLine(F.index+1),Oe=s(Se,1),Et=Oe[0];if(Et){var me=ye.formats(),ee=this.quill.getFormat(F.index,1);Z=p.default.attributes.diff(me,ee)||{},te=Et.length()}}this.quill.deleteText(F.index,K,k.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(F.index+te-1,K,Z,k.default.sources.USER)}}function M(F){var U=this.quill.getLines(F),K={};if(U.length>1){var Z=U[0].formats(),te=U[U.length-1].formats();K=p.default.attributes.diff(te,Z)||{}}this.quill.deleteText(F,k.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(F.index,1,K,k.default.sources.USER),this.quill.setSelection(F.index,k.default.sources.SILENT),this.quill.focus()}function B(F,U){var K=this;F.length>0&&this.quill.scroll.deleteAt(F.index,F.length);var Z=Object.keys(U.format).reduce(function(te,ae){return _.default.query(ae,_.default.Scope.BLOCK)&&!Array.isArray(U.format[ae])&&(te[ae]=U.format[ae]),te},{});this.quill.insertText(F.index,`
`,Z,k.default.sources.USER),this.quill.setSelection(F.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(te){Z[te]==null&&(Array.isArray(U.format[te])||te!=="link"&&K.quill.format(te,U.format[te],k.default.sources.USER))})}function $(F){return{key:H.keys.TAB,shiftKey:!F,format:{"code-block":!0},handler:function(K){var Z=_.default.query("code-block"),te=K.index,ae=K.length,de=this.quill.scroll.descendant(Z,te),ye=s(de,2),Se=ye[0],Oe=ye[1];if(Se!=null){var Et=this.quill.getIndex(Se),me=Se.newlineIndex(Oe,!0)+1,ee=Se.newlineIndex(Et+Oe+ae),Y=Se.domNode.textContent.slice(me,ee).split(`
`);Oe=0,Y.forEach(function(oe,le){F?(Se.insertAt(me+Oe,Z.TAB),Oe+=Z.TAB.length,le===0?te+=Z.TAB.length:ae+=Z.TAB.length):oe.startsWith(Z.TAB)&&(Se.deleteAt(me+Oe,Z.TAB.length),Oe-=Z.TAB.length,le===0?te-=Z.TAB.length:ae-=Z.TAB.length),Oe+=oe.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(te,ae,k.default.sources.SILENT)}}}}function G(F){return{key:F[0].toUpperCase(),shortKey:!0,handler:function(K,Z){this.quill.format(F,!Z.format[F],k.default.sources.USER)}}}function W(F){if(typeof F=="string"||typeof F=="number")return W({key:F});if((typeof F>"u"?"undefined":o(F))==="object"&&(F=(0,c.default)(F,!1)),typeof F.key=="string")if(H.keys[F.key.toUpperCase()]!=null)F.key=H.keys[F.key.toUpperCase()];else if(F.key.length===1)F.key=F.key.toUpperCase().charCodeAt(0);else return null;return F.shortKey&&(F[V]=F.shortKey,delete F.shortKey),F}r.default=H,r.SHORTKEY=V},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(b,_){var y=[],k=!0,S=!1,E=void 0;try{for(var C=b[Symbol.iterator](),O;!(k=(O=C.next()).done)&&(y.push(O.value),!(_&&y.length===_));k=!0);}catch(T){S=!0,E=T}finally{try{!k&&C.return&&C.return()}finally{if(S)throw E}}return y}return function(b,_){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return p(b,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(b,_,y){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,_);if(k===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:p(S,_,y)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(y)}},a=function(){function p(b,_){for(var y=0;y<_.length;y++){var k=_[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,_,y){return _&&p(b.prototype,_),y&&p(b,y),b}}(),l=i(0),c=h(l),u=i(7),d=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function f(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function m(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function g(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var v=function(p){g(b,p),a(b,null,[{key:"value",value:function(){}}]);function b(_,y){f(this,b);var k=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_));return k.selection=y,k.textNode=document.createTextNode(b.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,k){if(this._length!==0)return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,k);for(var S=this,E=0;S!=null&&S.statics.scope!==c.default.Scope.BLOCK_BLOT;)E+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=b.CONTENTS.length,S.optimize(),S.formatAt(E,b.CONTENTS.length,y,k),this._length=0)}},{key:"index",value:function(y,k){return y===this.textNode?0:s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,y,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,k=this.selection.getNativeRange(),S=void 0,E=void 0,C=void 0;if(k!=null&&k.start.node===y&&k.end.node===y){var O=[y,k.start.offset,k.end.offset];S=O[0],E=O[1],C=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var T=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof d.default?(S=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=b.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var A=[E,C].map(function(R){return Math.max(0,Math.min(S.data.length,R-1))}),P=o(A,2);return E=P[0],C=P[1],{startNode:S,startOffset:E,endNode:S,endOffset:C}}}}},{key:"update",value:function(y,k){var S=this;if(y.some(function(C){return C.type==="characterData"&&C.target===S.textNode})){var E=this.restore();E&&(k.range=E)}}},{key:"value",value:function(){return""}}]),b}(c.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",r.default=v},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=c(o),a=i(4),l=c(a);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var f=function(m){h(g,m);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default.Container);f.allowedChildren=[l.default,a.BlockEmbed,f],r.default=f},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function v(p,b){for(var _=0;_<b.length;_++){var y=b[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,b,_){return b&&v(p.prototype,b),_&&v(p,_),p}}(),s=function v(p,b,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,b);if(y===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:v(k,b,_)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(_)}},a=i(0),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function d(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function h(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var f=function(v){h(p,v);function p(){return u(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(_){var y=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,_);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):y}}]),p}(l.default.Attributor.Style),m=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new f("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=f,r.ColorClass=m,r.ColorStyle=g},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function g(v,p){for(var b=0;b<p.length;b++){var _=p[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,p,b){return p&&g(v.prototype,p),b&&g(v,b),v}}(),s=function g(v,p,b){v===null&&(v=Function.prototype);var _=Object.getOwnPropertyDescriptor(v,p);if(_===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:g(y,p,b)}else{if("value"in _)return _.value;var k=_.get;return k===void 0?void 0:k.call(b)}},a=i(6),l=c(a);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){h(v,g);function v(){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,_){if(b!==this.statics.blotName||!_)return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(b){var _=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return b=this.sanitize(b),_.setAttribute("href",b),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return m(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),v}(l.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(g,v){var p=document.createElement("a");p.href=g;var b=p.href.slice(0,p.href.indexOf(":"));return v.indexOf(b)>-1}r.default=f,r.sanitize=m},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s=function(){function v(p,b){for(var _=0;_<b.length;_++){var y=b[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,b,_){return b&&v(p.prototype,b),_&&v(p,_),p}}(),a=i(23),l=d(a),c=i(107),u=d(c);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}var f=0;function m(v,p){v.setAttribute(p,v.getAttribute(p)!=="true")}var g=function(){function v(p){var b=this;h(this,v),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:b.togglePicker();break;case l.default.keys.ESCAPE:b.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var _=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),b.hasAttribute("value")&&y.setAttribute("data-value",b.getAttribute("value")),b.textContent&&y.setAttribute("data-label",b.textContent),y.addEventListener("click",function(){_.selectItem(y,!0)}),y.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:_.selectItem(y,!0),k.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),k.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=u.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(y){var k=b.buildItem(y);_.appendChild(k),y.selected===!0&&b.selectItem(k)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(_){b.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(b!==y&&(y!=null&&y.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var y=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),v}();r.default=g},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=D(o),a=i(5),l=D(a),c=i(4),u=D(c),d=i(16),h=D(d),f=i(25),m=D(f),g=i(24),v=D(g),p=i(35),b=D(p),_=i(6),y=D(_),k=i(22),S=D(k),E=i(7),C=D(E),O=i(55),T=D(O),A=i(42),P=D(A),R=i(23),N=D(R);function D(V){return V&&V.__esModule?V:{default:V}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":m.default,"blots/cursor":v.default,"blots/embed":b.default,"blots/inline":y.default,"blots/scroll":S.default,"blots/text":C.default,"modules/clipboard":T.default,"modules/history":P.default,"modules/keyboard":N.default}),s.default.register(u.default,h.default,v.default,y.default,S.default,C.default),r.default=l.default},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},a.prototype.formatAt=function(l,c,u,d){var h=this.isolate(l,c);if(o.query(u,o.Scope.BLOT)!=null&&d)h.wrap(u,d);else if(o.query(u,o.Scope.ATTRIBUTE)!=null){var f=o.create(this.statics.scope);h.wrap(f),f.format(u,d)}},a.prototype.insertAt=function(l,c,u){var d=u==null?o.create("text",c):o.create(c,u),h=this.split(l);this.parent.insertBefore(d,h)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var u=typeof l=="string"?o.create(l,c):l;return u.replace(this),u},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var u=typeof l=="string"?o.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},a.blotName="abstract",a}();r.default=s},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),c=function(){function u(d){this.attributes={},this.domNode=d,this.build()}return u.prototype.attribute=function(d,h){h?d.add(this.domNode,h)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},u.prototype.build=function(){var d=this;this.attributes={};var h=o.default.keys(this.domNode),f=s.default.keys(this.domNode),m=a.default.keys(this.domNode);h.concat(f).concat(m).forEach(function(g){var v=l.query(g,l.Scope.ATTRIBUTE);v instanceof o.default&&(d.attributes[v.attrName]=v)})},u.prototype.copy=function(d){var h=this;Object.keys(this.attributes).forEach(function(f){var m=h.attributes[f].value(h.domNode);d.format(f,m)})},u.prototype.move=function(d){var h=this;this.copy(d),Object.keys(this.attributes).forEach(function(f){h.attributes[f].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(h,f){return h[f]=d.attributes[f].value(d.domNode),h},{})},u}();r.default=c},function(e,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(c,u){var d=c.getAttribute("class")||"";return d.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=function(c){o(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(d,h){return this.canAdd(d,h)?(this.remove(d),d.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(d){var h=a(d,this.keyName);h.forEach(function(f){d.classList.remove(f)}),d.classList.length===0&&d.removeAttribute("class")},u.prototype.value=function(d){var h=a(d,this.keyName)[0]||"",f=h.slice(this.keyName.length+1);return this.canAdd(d,f)?f:""},u}(s.default);r.default=l},function(e,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(c){var u=c.split("-"),d=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+d}var l=function(c){o(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(h){var f=h.split(":");return f[0].trim()})},u.prototype.add=function(d,h){return this.canAdd(d,h)?(d.style[a(this.keyName)]=h,!0):!1},u.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},u.prototype.value=function(d){var h=d.style[a(this.keyName)];return this.canAdd(d,h)?h:""},u}(s.default);r.default=l},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(c,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,d){return u&&l(c.prototype,u),d&&l(c,d),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,u){s(this,l),this.quill=c,this.options=u,this.modules={}}return o(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(d){u.modules[d]==null&&u.addModule(d)})}},{key:"addModule",value:function(u){var d=this.quill.constructor.import("modules/"+u);return this.modules[u]=new d(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(b,_){for(var y=0;y<_.length;y++){var k=_[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,_,y){return _&&p(b.prototype,_),y&&p(b,y),b}}(),s=function p(b,_,y){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,_);if(k===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:p(S,_,y)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(y)}},a=i(0),l=d(a),c=i(7),u=d(c);function d(p){return p&&p.__esModule?p:{default:p}}function h(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function f(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function m(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var g="\uFEFF",v=function(p){m(b,p);function b(_){h(this,b);var y=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(k){y.contentNode.appendChild(k)}),y.leftGuard=document.createTextNode(g),y.rightGuard=document.createTextNode(g),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return o(b,[{key:"index",value:function(y,k){return y===this.leftGuard?0:y===this.rightGuard?1:s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,y,k)}},{key:"restore",value:function(y){var k=void 0,S=void 0,E=y.data.split(g).join("");if(y===this.leftGuard)if(this.prev instanceof u.default){var C=this.prev.length();this.prev.insertAt(C,E),k={startNode:this.prev.domNode,startOffset:C+E.length}}else S=document.createTextNode(E),this.parent.insertBefore(l.default.create(S),this),k={startNode:S,startOffset:E.length};else y===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,E),k={startNode:this.next.domNode,startOffset:E.length}):(S=document.createTextNode(E),this.parent.insertBefore(l.default.create(S),this.next),k={startNode:S,startOffset:E.length}));return y.data=g,k}},{key:"update",value:function(y,k){var S=this;y.forEach(function(E){if(E.type==="characterData"&&(E.target===S.leftGuard||E.target===S.rightGuard)){var C=S.restore(E.target);C&&(k.range=C)}})}}]),b}(l.default.Embed);r.default=v},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new s.default.Attributor.Attribute("align","align",l),u=new s.default.Attributor.Class("align","ql-align",l),d=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=d},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var c=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},c=new s.default.Attributor.Attribute("direction","dir",l),u=new s.default.Attributor.Class("direction","ql-direction",l),d=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=d},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function p(b,_){for(var y=0;y<_.length;y++){var k=_[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,_,y){return _&&p(b.prototype,_),y&&p(b,y),b}}(),s=function p(b,_,y){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,_);if(k===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:p(S,_,y)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(y)}},a=i(0),l=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function d(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function h(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var f={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new l.default.Attributor.Class("font","ql-font",f),g=function(p){h(b,p);function b(){return u(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"value",value:function(y){return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),b}(l.default.Attributor.Style),v=new g("font","font-family",f);r.FontStyle=v,r.FontClass=m},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c},function(e,r,i){e.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function _(y,k){for(var S=0;S<k.length;S++){var E=k[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,k,S){return k&&_(y.prototype,k),S&&_(y,S),y}}(),s=i(0),a=h(s),l=i(5),c=h(l),u=i(9),d=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function m(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function g(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var v=function(_){g(y,_);function y(k,S){f(this,y);var E=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,k,S));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(c.default.events.EDITOR_CHANGE,function(C,O,T,A){C!==c.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||A===c.default.sources.USER?E.record(O,T):E.transform(O))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return o(y,[{key:"change",value:function(S,E){if(this.stack[S].length!==0){var C=this.stack[S].pop();this.stack[E].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[S],c.default.sources.USER),this.ignoreChange=!1;var O=b(C[S]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,E){if(S.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(E),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var T=this.stack.undo.pop();C=C.compose(T.undo),S=T.redo.compose(S)}else this.lastRecorded=O;this.stack.undo.push({redo:S,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(E){E.undo=S.transform(E.undo,!0),E.redo=S.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=S.transform(E.undo,!0),E.redo=S.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(d.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(_){var y=_.ops[_.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function b(_){var y=_.reduce(function(S,E){return S+=E.delete||0,S},0),k=_.length()-y;return p(_)&&(k-=1),k}r.default=v,r.getLastChangeIndex=b},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function B($,G){for(var W=0;W<G.length;W++){var F=G[W];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty($,F.key,F)}}return function($,G,W){return G&&B($.prototype,G),W&&B($,W),$}}(),s=function B($,G,W){$===null&&($=Function.prototype);var F=Object.getOwnPropertyDescriptor($,G);if(F===void 0){var U=Object.getPrototypeOf($);return U===null?void 0:B(U,G,W)}else{if("value"in F)return F.value;var K=F.get;return K===void 0?void 0:K.call(W)}},a=i(3),l=O(a),c=i(2),u=O(c),d=i(8),h=O(d),f=i(23),m=O(f),g=i(34),v=O(g),p=i(59),b=O(p),_=i(60),y=O(_),k=i(28),S=O(k),E=i(61),C=O(E);function O(B){return B&&B.__esModule?B:{default:B}}function T(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}function A(B,$){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:B}function P(B,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);B.prototype=Object.create($&&$.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(B,$):B.__proto__=$)}var R=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],V=["1","2","3",!1],H=["small",!1,"large","huge"],z=function(B){P($,B);function $(G,W){T(this,$);var F=A(this,($.__proto__||Object.getPrototypeOf($)).call(this,G,W)),U=function K(Z){if(!document.body.contains(G.root))return document.body.removeEventListener("click",K);F.tooltip!=null&&!F.tooltip.root.contains(Z.target)&&document.activeElement!==F.tooltip.textbox&&!F.quill.hasFocus()&&F.tooltip.hide(),F.pickers!=null&&F.pickers.forEach(function(te){te.container.contains(Z.target)||te.close()})};return G.emitter.listenDOM("click",document.body,U),F}return o($,[{key:"addModule",value:function(W){var F=s($.prototype.__proto__||Object.getPrototypeOf($.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(F),F}},{key:"buildButtons",value:function(W,F){W.forEach(function(U){var K=U.getAttribute("class")||"";K.split(/\s+/).forEach(function(Z){if(Z.startsWith("ql-")&&(Z=Z.slice(3),F[Z]!=null))if(Z==="direction")U.innerHTML=F[Z][""]+F[Z].rtl;else if(typeof F[Z]=="string")U.innerHTML=F[Z];else{var te=U.value||"";te!=null&&F[Z][te]&&(U.innerHTML=F[Z][te])}})})}},{key:"buildPickers",value:function(W,F){var U=this;this.pickers=W.map(function(Z){if(Z.classList.contains("ql-align"))return Z.querySelector("option")==null&&M(Z,R),new y.default(Z,F.align);if(Z.classList.contains("ql-background")||Z.classList.contains("ql-color")){var te=Z.classList.contains("ql-background")?"background":"color";return Z.querySelector("option")==null&&M(Z,N,te==="background"?"#ffffff":"#000000"),new b.default(Z,F[te])}else return Z.querySelector("option")==null&&(Z.classList.contains("ql-font")?M(Z,D):Z.classList.contains("ql-header")?M(Z,V):Z.classList.contains("ql-size")&&M(Z,H)),new S.default(Z)});var K=function(){U.pickers.forEach(function(te){te.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,K)}}]),$}(v.default);z.DEFAULTS=(0,l.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var $=this,G=this.container.querySelector("input.ql-image[type=file]");G==null&&(G=document.createElement("input"),G.setAttribute("type","file"),G.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),G.classList.add("ql-image"),G.addEventListener("change",function(){if(G.files!=null&&G.files[0]!=null){var W=new FileReader;W.onload=function(F){var U=$.quill.getSelection(!0);$.quill.updateContents(new u.default().retain(U.index).delete(U.length).insert({image:F.target.result}),h.default.sources.USER),$.quill.setSelection(U.index+1,h.default.sources.SILENT),G.value=""},W.readAsDataURL(G.files[0])}}),this.container.appendChild(G)),G.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(B){P($,B);function $(G,W){T(this,$);var F=A(this,($.__proto__||Object.getPrototypeOf($)).call(this,G,W));return F.textbox=F.root.querySelector('input[type="text"]'),F.listen(),F}return o($,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(F){m.default.match(F,"enter")?(W.save(),F.preventDefault()):m.default.match(F,"escape")&&(W.cancel(),F.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),F!=null?this.textbox.value=F:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var F=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,h.default.sources.USER)),this.quill.root.scrollTop=F;break}case"video":W=L(W);case"formula":{if(!W)break;var U=this.quill.getSelection(!0);if(U!=null){var K=U.index+U.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),W,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",h.default.sources.USER),this.quill.setSelection(K+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),$}(C.default);function L(B){var $=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return $?($[1]||"https")+"://www.youtube.com/embed/"+$[2]+"?showinfo=0":($=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?($[1]||"https")+"://player.vimeo.com/video/"+$[2]+"/":B}function M(B,$){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;$.forEach(function(W){var F=document.createElement("option");W===G?F.setAttribute("selected","selected"):F.setAttribute("value",W),B.appendChild(F)})}r.BaseTooltip=j,r.default=z},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var d=c.length();if(a<d||l&&a===d&&(c.next==null||c.next.length()!==0))return[c,a];a-=d}return[null,0]},s.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},s.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var u=this.find(a),d=u[0],h=u[1],f,m=a-h,g=this.iterator(d);(f=g())&&m<a+l;){var v=f.length();a>m?c(f,a-m,Math.min(l,m+v-a)):c(f,0,Math.min(v,a+l-m)),m+=v}},s.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},s.prototype.reduce=function(a,l){for(var c,u=this.iterator();c=u();)l=a(l,c);return l},s}();r.default=o},function(e,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var m in f)f.hasOwnProperty(m)&&(h[m]=f[m])};return function(h,f){d(h,f);function m(){this.constructor=h}h.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=function(d){o(h,d);function h(f){var m=d.call(this,f)||this;return m.scroll=m,m.observer=new MutationObserver(function(g){m.update(g)}),m.observer.observe(m.domNode,l),m.attach(),m}return h.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(f,m){this.update(),f===0&&m===this.length()?this.children.forEach(function(g){g.remove()}):d.prototype.deleteAt.call(this,f,m)},h.prototype.formatAt=function(f,m,g,v){this.update(),d.prototype.formatAt.call(this,f,m,g,v)},h.prototype.insertAt=function(f,m,g){this.update(),d.prototype.insertAt.call(this,f,m,g)},h.prototype.optimize=function(f,m){var g=this;f===void 0&&(f=[]),m===void 0&&(m={}),d.prototype.optimize.call(this,m);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)f.push(v.pop());for(var p=function(k,S){S===void 0&&(S=!0),!(k==null||k===g)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),S&&p(k.parent))},b=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof s.default&&k.children.forEach(b),k.optimize(m))},_=f,y=0;_.length>0;y+=1){if(y>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(k){var S=a.find(k.target,!0);S!=null&&(S.domNode===k.target&&(k.type==="childList"?(p(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(E){var C=a.find(E,!1);p(C,!1),C instanceof s.default&&C.children.forEach(function(O){p(O,!1)})})):k.type==="attributes"&&p(S.prev)),p(S))}),this.children.forEach(b),_=[].slice.call(this.observer.takeRecords()),v=_.slice();v.length>0;)f.push(v.pop())}},h.prototype.update=function(f,m){var g=this;m===void 0&&(m={}),f=f||this.observer.takeRecords(),f.map(function(v){var p=a.find(v.target,!0);return p==null?null:p.domNode[a.DATA_KEY].mutations==null?(p.domNode[a.DATA_KEY].mutations=[v],p):(p.domNode[a.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===g||v.domNode[a.DATA_KEY]==null||v.update(v.domNode[a.DATA_KEY].mutations||[],m)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,m),this.optimize(f,m)},h.blotName="scroll",h.defaultChild="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="DIV",h}(s.default);r.default=u},function(e,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(u,d){if(Object.keys(u).length!==Object.keys(d).length)return!1;for(var h in u)if(u[h]!==d[h])return!1;return!0}var c=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(h){if(h.tagName!==d.tagName)return u.formats.call(this,h)},d.prototype.format=function(h,f){var m=this;h===this.statics.blotName&&!f?(this.children.forEach(function(g){g instanceof s.default||(g=g.wrap(d.blotName,!0)),m.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,h,f)},d.prototype.formatAt=function(h,f,m,g){if(this.formats()[m]!=null||a.query(m,a.Scope.ATTRIBUTE)){var v=this.isolate(h,f);v.format(m,g)}else u.prototype.formatAt.call(this,h,f,m,g)},d.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var m=this.next;m instanceof d&&m.prev===this&&l(f,m.formats())&&(m.moveChildren(this),m.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);r.default=c},function(e,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(c){o(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){var h=a.query(u.blotName).tagName;if(d.tagName!==h)return c.formats.call(this,d)},u.prototype.format=function(d,h){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,d,h))},u.prototype.formatAt=function(d,h,f,m){a.query(f,a.Scope.BLOCK)!=null?this.format(f,m):c.prototype.formatAt.call(this,d,h,f,m)},u.prototype.insertAt=function(d,h,f){if(f==null||a.query(h,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,d,h,f);else{var m=this.split(d),g=a.create(h,f);m.parent.insertBefore(g,m)}},u.prototype.update=function(d,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,d,h)},u.blotName="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="P",u}(s.default);r.default=l},function(e,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var d in u)u.hasOwnProperty(d)&&(c[d]=u[d])};return function(c,u){l(c,u);function d(){this.constructor=c}c.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,d){l.prototype.formatAt.call(this,0,this.length(),u,d)},c.prototype.formatAt=function(u,d,h,f){u===0&&d===this.length()?this.format(h,f):l.prototype.formatAt.call(this,u,d,h,f)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(s.default);r.default=a},function(e,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(c){o(u,c);function u(d){var h=c.call(this,d)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(d){return document.createTextNode(d)},u.value=function(d){var h=d.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(d,h){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+h)},u.prototype.index=function(d,h){return this.domNode===d?h:-1},u.prototype.insertAt=function(d,h,f){f==null?(this.text=this.text.slice(0,d)+h+this.text.slice(d),this.domNode.data=this.text):c.prototype.insertAt.call(this,d,h,f)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(d){c.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(d,h){return[this.domNode,d]},u.prototype.split=function(d,h){if(h===void 0&&(h=!1),!h){if(d===0)return this;if(d===this.length())return this.next}var f=a.create(this.domNode.splitText(d));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},u.prototype.update=function(d,h){var f=this;d.some(function(m){return m.type==="characterData"&&m.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=a.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(e,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var u=c.indexOf(a,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,d=arguments[1],h,f=0;f<u;f++)if(h=c[f],l.call(d,h,f,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,r){var i=-1,o=1,s=0;function a(y,k,S){if(y==k)return y?[[s,y]]:[];(S<0||y.length<S)&&(S=null);var E=d(y,k),C=y.substring(0,E);y=y.substring(E),k=k.substring(E),E=h(y,k);var O=y.substring(y.length-E);y=y.substring(0,y.length-E),k=k.substring(0,k.length-E);var T=l(y,k);return C&&T.unshift([s,C]),O&&T.push([s,O]),m(T),S!=null&&(T=p(T,S)),T=b(T),T}function l(y,k){var S;if(!y)return[[o,k]];if(!k)return[[i,y]];var E=y.length>k.length?y:k,C=y.length>k.length?k:y,O=E.indexOf(C);if(O!=-1)return S=[[o,E.substring(0,O)],[s,C],[o,E.substring(O+C.length)]],y.length>k.length&&(S[0][0]=S[2][0]=i),S;if(C.length==1)return[[i,y],[o,k]];var T=f(y,k);if(T){var A=T[0],P=T[1],R=T[2],N=T[3],D=T[4],V=a(A,R),H=a(P,N);return V.concat([[s,D]],H)}return c(y,k)}function c(y,k){for(var S=y.length,E=k.length,C=Math.ceil((S+E)/2),O=C,T=2*C,A=new Array(T),P=new Array(T),R=0;R<T;R++)A[R]=-1,P[R]=-1;A[O+1]=0,P[O+1]=0;for(var N=S-E,D=N%2!=0,V=0,H=0,z=0,j=0,L=0;L<C;L++){for(var M=-L+V;M<=L-H;M+=2){var B=O+M,$;M==-L||M!=L&&A[B-1]<A[B+1]?$=A[B+1]:$=A[B-1]+1;for(var G=$-M;$<S&&G<E&&y.charAt($)==k.charAt(G);)$++,G++;if(A[B]=$,$>S)H+=2;else if(G>E)V+=2;else if(D){var W=O+N-M;if(W>=0&&W<T&&P[W]!=-1){var F=S-P[W];if($>=F)return u(y,k,$,G)}}}for(var U=-L+z;U<=L-j;U+=2){var W=O+U,F;U==-L||U!=L&&P[W-1]<P[W+1]?F=P[W+1]:F=P[W-1]+1;for(var K=F-U;F<S&&K<E&&y.charAt(S-F-1)==k.charAt(E-K-1);)F++,K++;if(P[W]=F,F>S)j+=2;else if(K>E)z+=2;else if(!D){var B=O+N-U;if(B>=0&&B<T&&A[B]!=-1){var $=A[B],G=O+$-B;if(F=S-F,$>=F)return u(y,k,$,G)}}}}return[[i,y],[o,k]]}function u(y,k,S,E){var C=y.substring(0,S),O=k.substring(0,E),T=y.substring(S),A=k.substring(E),P=a(C,O),R=a(T,A);return P.concat(R)}function d(y,k){if(!y||!k||y.charAt(0)!=k.charAt(0))return 0;for(var S=0,E=Math.min(y.length,k.length),C=E,O=0;S<C;)y.substring(O,C)==k.substring(O,C)?(S=C,O=S):E=C,C=Math.floor((E-S)/2+S);return C}function h(y,k){if(!y||!k||y.charAt(y.length-1)!=k.charAt(k.length-1))return 0;for(var S=0,E=Math.min(y.length,k.length),C=E,O=0;S<C;)y.substring(y.length-C,y.length-O)==k.substring(k.length-C,k.length-O)?(S=C,O=S):E=C,C=Math.floor((E-S)/2+S);return C}function f(y,k){var S=y.length>k.length?y:k,E=y.length>k.length?k:y;if(S.length<4||E.length*2<S.length)return null;function C(H,z,j){for(var L=H.substring(j,j+Math.floor(H.length/4)),M=-1,B="",$,G,W,F;(M=z.indexOf(L,M+1))!=-1;){var U=d(H.substring(j),z.substring(M)),K=h(H.substring(0,j),z.substring(0,M));B.length<K+U&&(B=z.substring(M-K,M)+z.substring(M,M+U),$=H.substring(0,j-K),G=H.substring(j+U),W=z.substring(0,M-K),F=z.substring(M+U))}return B.length*2>=H.length?[$,G,W,F,B]:null}var O=C(S,E,Math.ceil(S.length/4)),T=C(S,E,Math.ceil(S.length/2)),A;if(!O&&!T)return null;T?O?A=O[4].length>T[4].length?O:T:A=T:A=O;var P,R,N,D;y.length>k.length?(P=A[0],R=A[1],N=A[2],D=A[3]):(N=A[0],D=A[1],P=A[2],R=A[3]);var V=A[4];return[P,R,N,D,V]}function m(y){y.push([s,""]);for(var k=0,S=0,E=0,C="",O="",T;k<y.length;)switch(y[k][0]){case o:E++,O+=y[k][1],k++;break;case i:S++,C+=y[k][1],k++;break;case s:S+E>1?(S!==0&&E!==0&&(T=d(O,C),T!==0&&(k-S-E>0&&y[k-S-E-1][0]==s?y[k-S-E-1][1]+=O.substring(0,T):(y.splice(0,0,[s,O.substring(0,T)]),k++),O=O.substring(T),C=C.substring(T)),T=h(O,C),T!==0&&(y[k][1]=O.substring(O.length-T)+y[k][1],O=O.substring(0,O.length-T),C=C.substring(0,C.length-T))),S===0?y.splice(k-E,S+E,[o,O]):E===0?y.splice(k-S,S+E,[i,C]):y.splice(k-S-E,S+E,[i,C],[o,O]),k=k-S-E+(S?1:0)+(E?1:0)+1):k!==0&&y[k-1][0]==s?(y[k-1][1]+=y[k][1],y.splice(k,1)):k++,E=0,S=0,C="",O="";break}y[y.length-1][1]===""&&y.pop();var A=!1;for(k=1;k<y.length-1;)y[k-1][0]==s&&y[k+1][0]==s&&(y[k][1].substring(y[k][1].length-y[k-1][1].length)==y[k-1][1]?(y[k][1]=y[k-1][1]+y[k][1].substring(0,y[k][1].length-y[k-1][1].length),y[k+1][1]=y[k-1][1]+y[k+1][1],y.splice(k-1,1),A=!0):y[k][1].substring(0,y[k+1][1].length)==y[k+1][1]&&(y[k-1][1]+=y[k+1][1],y[k][1]=y[k][1].substring(y[k+1][1].length)+y[k+1][1],y.splice(k+1,1),A=!0)),k++;A&&m(y)}var g=a;g.INSERT=o,g.DELETE=i,g.EQUAL=s,e.exports=g;function v(y,k){if(k===0)return[s,y];for(var S=0,E=0;E<y.length;E++){var C=y[E];if(C[0]===i||C[0]===s){var O=S+C[1].length;if(k===O)return[E+1,y];if(k<O){y=y.slice();var T=k-S,A=[C[0],C[1].slice(0,T)],P=[C[0],C[1].slice(T)];return y.splice(E,1,A,P),[E+1,y]}else S=O}}throw new Error("cursor_pos is out of bounds!")}function p(y,k){var S=v(y,k),E=S[1],C=S[0],O=E[C],T=E[C+1];if(O==null)return y;if(O[0]!==s)return y;if(T!=null&&O[1]+T[1]===T[1]+O[1])return E.splice(C,2,T,O),_(E,C,2);if(T!=null&&T[1].indexOf(O[1])===0){E.splice(C,2,[T[0],O[1]],[0,O[1]]);var A=T[1].slice(O[1].length);return A.length>0&&E.splice(C+2,0,[T[0],A]),_(E,C,3)}else return y}function b(y){for(var k=!1,S=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},E=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},C=2;C<y.length;C+=1)y[C-2][0]===s&&E(y[C-2][1])&&y[C-1][0]===i&&S(y[C-1][1])&&y[C][0]===o&&S(y[C][1])&&(k=!0,y[C-1][1]=y[C-2][1].slice(-1)+y[C-1][1],y[C][1]=y[C-2][1].slice(-1)+y[C][1],y[C-2][1]=y[C-2][1].slice(0,-1));if(!k)return y;for(var O=[],C=0;C<y.length;C+=1)y[C][1].length>0&&O.push(y[C]);return O}function _(y,k,S){for(var E=k+S-1;E>=0&&E>=k-1;E--)if(E+1<y.length){var C=y[E],O=y[E+1];C[0]===O[1]&&y.splice(E,2,[C[0],C[1]+O[1]])}return y}},function(e,r){r=e.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(e,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=e.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(e,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)i.call(d,h)&&u.push(o?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u,d){var h=o?o+u:u,f=this._events[h];if(d)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,v=new Array(g);m<g;m++)v[m]=f[m].fn;return v},l.prototype.emit=function(u,d,h,f,m,g){var v=o?o+u:u;if(!this._events[v])return!1;var p=this._events[v],b=arguments.length,_,y;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),b){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,h),!0;case 4:return p.fn.call(p.context,d,h,f),!0;case 5:return p.fn.call(p.context,d,h,f,m),!0;case 6:return p.fn.call(p.context,d,h,f,m,g),!0}for(y=1,_=new Array(b-1);y<b;y++)_[y-1]=arguments[y];p.fn.apply(p.context,_)}else{var k=p.length,S;for(y=0;y<k;y++)switch(p[y].once&&this.removeListener(u,p[y].fn,void 0,!0),b){case 1:p[y].fn.call(p[y].context);break;case 2:p[y].fn.call(p[y].context,d);break;case 3:p[y].fn.call(p[y].context,d,h);break;case 4:p[y].fn.call(p[y].context,d,h,f);break;default:if(!_)for(S=1,_=new Array(b-1);S<b;S++)_[S-1]=arguments[S];p[y].fn.apply(p[y].context,_)}}return!0},l.prototype.on=function(u,d,h){var f=new a(d,h||this),m=o?o+u:u;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],f]:this._events[m].push(f):(this._events[m]=f,this._eventsCount++),this},l.prototype.once=function(u,d,h){var f=new a(d,h||this,!0),m=o?o+u:u;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],f]:this._events[m].push(f):(this._events[m]=f,this._eventsCount++),this},l.prototype.removeListener=function(u,d,h,f){var m=o?o+u:u;if(!this._events[m])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[m],this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new s:delete this._events[m]);else{for(var v=0,p=[],b=g.length;v<b;v++)(g[v].fn!==d||f&&!g[v].once||h&&g[v].context!==h)&&p.push(g[v]);p.length?this._events[m]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new s:delete this._events[m]}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=o?o+u:u,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof e<"u"&&(e.exports=l)},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},s=function(){function ee(Y,oe){var le=[],ne=!0,ke=!1,Pe=void 0;try{for(var Ce=Y[Symbol.iterator](),Tt;!(ne=(Tt=Ce.next()).done)&&(le.push(Tt.value),!(oe&&le.length===oe));ne=!0);}catch(Tn){ke=!0,Pe=Tn}finally{try{!ne&&Ce.return&&Ce.return()}finally{if(ke)throw Pe}}return le}return function(Y,oe){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return ee(Y,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee(Y,oe){for(var le=0;le<oe.length;le++){var ne=oe[le];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Y,ne.key,ne)}}return function(Y,oe,le){return oe&&ee(Y.prototype,oe),le&&ee(Y,le),Y}}(),l=i(3),c=P(l),u=i(2),d=P(u),h=i(0),f=P(h),m=i(5),g=P(m),v=i(10),p=P(v),b=i(9),_=P(b),y=i(36),k=i(37),S=i(13),E=P(S),C=i(26),O=i(38),T=i(39),A=i(40);function P(ee){return ee&&ee.__esModule?ee:{default:ee}}function R(ee,Y,oe){return Y in ee?Object.defineProperty(ee,Y,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ee[Y]=oe,ee}function N(ee,Y){if(!(ee instanceof Y))throw new TypeError("Cannot call a class as a function")}function D(ee,Y){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:ee}function V(ee,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);ee.prototype=Object.create(Y&&Y.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,Y):ee.__proto__=Y)}var H=(0,p.default)("quill:clipboard"),z="__ql-matcher",j=[[Node.TEXT_NODE,me],[Node.TEXT_NODE,Se],["br",ae],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,Et],["li",ye],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",de]],L=[y.AlignAttribute,O.DirectionAttribute].reduce(function(ee,Y){return ee[Y.keyName]=Y,ee},{}),M=[y.AlignStyle,k.BackgroundStyle,C.ColorStyle,O.DirectionStyle,T.FontStyle,A.SizeStyle].reduce(function(ee,Y){return ee[Y.keyName]=Y,ee},{}),B=function(ee){V(Y,ee);function Y(oe,le){N(this,Y);var ne=D(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,oe,le));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],j.concat(ne.options.matchers).forEach(function(ke){var Pe=s(ke,2),Ce=Pe[0],Tt=Pe[1];!le.matchVisual&&Tt===Oe||ne.addMatcher(Ce,Tt)}),ne}return a(Y,[{key:"addMatcher",value:function(le,ne){this.matchers.push([le,ne])}},{key:"convert",value:function(le){if(typeof le=="string")return this.container.innerHTML=le.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[E.default.blotName]){var ke=this.container.innerText;return this.container.innerHTML="",new d.default().insert(ke,R({},E.default.blotName,ne[E.default.blotName]))}var Pe=this.prepareMatching(),Ce=s(Pe,2),Tt=Ce[0],Tn=Ce[1],Je=U(this.container,Tt,Tn);return W(Je,`
`)&&Je.ops[Je.ops.length-1].attributes==null&&(Je=Je.compose(new d.default().retain(Je.length()-1).delete(1))),H.log("convert",this.container.innerHTML,Je),this.container.innerHTML="",Je}},{key:"dangerouslyPasteHTML",value:function(le,ne){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof le=="string")this.quill.setContents(this.convert(le),ne),this.quill.setSelection(0,g.default.sources.SILENT);else{var Pe=this.convert(ne);this.quill.updateContents(new d.default().retain(le).concat(Pe),ke),this.quill.setSelection(le+Pe.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(le){var ne=this;if(!(le.defaultPrevented||!this.quill.isEnabled())){var ke=this.quill.getSelection(),Pe=new d.default().retain(ke.index),Ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){Pe=Pe.concat(ne.convert()).delete(ke.length),ne.quill.updateContents(Pe,g.default.sources.USER),ne.quill.setSelection(Pe.length()-ke.length,g.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=Ce,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var le=this,ne=[],ke=[];return this.matchers.forEach(function(Pe){var Ce=s(Pe,2),Tt=Ce[0],Tn=Ce[1];switch(Tt){case Node.TEXT_NODE:ke.push(Tn);break;case Node.ELEMENT_NODE:ne.push(Tn);break;default:[].forEach.call(le.container.querySelectorAll(Tt),function(Je){Je[z]=Je[z]||[],Je[z].push(Tn)});break}}),[ne,ke]}}]),Y}(_.default);B.DEFAULTS={matchers:[],matchVisual:!0};function $(ee,Y,oe){return(typeof Y>"u"?"undefined":o(Y))==="object"?Object.keys(Y).reduce(function(le,ne){return $(le,ne,Y[ne])},ee):ee.reduce(function(le,ne){return ne.attributes&&ne.attributes[Y]?le.push(ne):le.insert(ne.insert,(0,c.default)({},R({},Y,oe),ne.attributes))},new d.default)}function G(ee){if(ee.nodeType!==Node.ELEMENT_NODE)return{};var Y="__ql-computed-style";return ee[Y]||(ee[Y]=window.getComputedStyle(ee))}function W(ee,Y){for(var oe="",le=ee.ops.length-1;le>=0&&oe.length<Y.length;--le){var ne=ee.ops[le];if(typeof ne.insert!="string")break;oe=ne.insert+oe}return oe.slice(-1*Y.length)===Y}function F(ee){if(ee.childNodes.length===0)return!1;var Y=G(ee);return["block","list-item"].indexOf(Y.display)>-1}function U(ee,Y,oe){return ee.nodeType===ee.TEXT_NODE?oe.reduce(function(le,ne){return ne(ee,le)},new d.default):ee.nodeType===ee.ELEMENT_NODE?[].reduce.call(ee.childNodes||[],function(le,ne){var ke=U(ne,Y,oe);return ne.nodeType===ee.ELEMENT_NODE&&(ke=Y.reduce(function(Pe,Ce){return Ce(ne,Pe)},ke),ke=(ne[z]||[]).reduce(function(Pe,Ce){return Ce(ne,Pe)},ke)),le.concat(ke)},new d.default):new d.default}function K(ee,Y,oe){return $(oe,ee,!0)}function Z(ee,Y){var oe=f.default.Attributor.Attribute.keys(ee),le=f.default.Attributor.Class.keys(ee),ne=f.default.Attributor.Style.keys(ee),ke={};return oe.concat(le).concat(ne).forEach(function(Pe){var Ce=f.default.query(Pe,f.default.Scope.ATTRIBUTE);Ce!=null&&(ke[Ce.attrName]=Ce.value(ee),ke[Ce.attrName])||(Ce=L[Pe],Ce!=null&&(Ce.attrName===Pe||Ce.keyName===Pe)&&(ke[Ce.attrName]=Ce.value(ee)||void 0),Ce=M[Pe],Ce!=null&&(Ce.attrName===Pe||Ce.keyName===Pe)&&(Ce=M[Pe],ke[Ce.attrName]=Ce.value(ee)||void 0))}),Object.keys(ke).length>0&&(Y=$(Y,ke)),Y}function te(ee,Y){var oe=f.default.query(ee);if(oe==null)return Y;if(oe.prototype instanceof f.default.Embed){var le={},ne=oe.value(ee);ne!=null&&(le[oe.blotName]=ne,Y=new d.default().insert(le,oe.formats(ee)))}else typeof oe.formats=="function"&&(Y=$(Y,oe.blotName,oe.formats(ee)));return Y}function ae(ee,Y){return W(Y,`
`)||Y.insert(`
`),Y}function de(){return new d.default}function ye(ee,Y){var oe=f.default.query(ee);if(oe==null||oe.blotName!=="list-item"||!W(Y,`
`))return Y;for(var le=-1,ne=ee.parentNode;!ne.classList.contains("ql-clipboard");)(f.default.query(ne)||{}).blotName==="list"&&(le+=1),ne=ne.parentNode;return le<=0?Y:Y.compose(new d.default().retain(Y.length()-1).retain(1,{indent:le}))}function Se(ee,Y){return W(Y,`
`)||(F(ee)||Y.length()>0&&ee.nextSibling&&F(ee.nextSibling))&&Y.insert(`
`),Y}function Oe(ee,Y){if(F(ee)&&ee.nextElementSibling!=null&&!W(Y,`

`)){var oe=ee.offsetHeight+parseFloat(G(ee).marginTop)+parseFloat(G(ee).marginBottom);ee.nextElementSibling.offsetTop>ee.offsetTop+oe*1.5&&Y.insert(`
`)}return Y}function Et(ee,Y){var oe={},le=ee.style||{};return le.fontStyle&&G(ee).fontStyle==="italic"&&(oe.italic=!0),le.fontWeight&&(G(ee).fontWeight.startsWith("bold")||parseInt(G(ee).fontWeight)>=700)&&(oe.bold=!0),Object.keys(oe).length>0&&(Y=$(Y,oe)),parseFloat(le.textIndent||0)>0&&(Y=new d.default().insert("	").concat(Y)),Y}function me(ee,Y){var oe=ee.data;if(ee.parentNode.tagName==="O:P")return Y.insert(oe.trim());if(oe.trim().length===0&&ee.parentNode.classList.contains("ql-clipboard"))return Y;if(!G(ee.parentNode).whiteSpace.startsWith("pre")){var le=function(ke,Pe){return Pe=Pe.replace(/[^\u00a0]/g,""),Pe.length<1&&ke?" ":Pe};oe=oe.replace(/\r\n/g," ").replace(/\n/g," "),oe=oe.replace(/\s\s+/g,le.bind(le,!0)),(ee.previousSibling==null&&F(ee.parentNode)||ee.previousSibling!=null&&F(ee.previousSibling))&&(oe=oe.replace(/^\s+/,le.bind(le,!1))),(ee.nextSibling==null&&F(ee.parentNode)||ee.nextSibling!=null&&F(ee.nextSibling))&&(oe=oe.replace(/\s+$/,le.bind(le,!1)))}return Y.insert(oe)}r.default=B,r.matchAttributor=Z,r.matchBlot=te,r.matchNewline=Se,r.matchSpacing=Oe,r.matchText=me},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(g,v){for(var p=0;p<v.length;p++){var b=v[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,v,p){return v&&m(g.prototype,v),p&&m(g,p),g}}(),s=function m(g,v,p){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,v);if(b===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:m(_,v,p)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(p)}},a=i(6),l=c(a);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var f=function(m){h(g,m);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"optimize",value:function(p){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(l.default);f.blotName="bold",f.tagName=["STRONG","B"],r.default=f},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function A(P,R){var N=[],D=!0,V=!1,H=void 0;try{for(var z=P[Symbol.iterator](),j;!(D=(j=z.next()).done)&&(N.push(j.value),!(R&&N.length===R));D=!0);}catch(L){V=!0,H=L}finally{try{!D&&z.return&&z.return()}finally{if(V)throw H}}return N}return function(P,R){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return A(P,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(P,R){for(var N=0;N<R.length;N++){var D=R[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}return function(P,R,N){return R&&A(P.prototype,R),N&&A(P,N),P}}(),a=i(2),l=p(a),c=i(0),u=p(c),d=i(5),h=p(d),f=i(10),m=p(f),g=i(9),v=p(g);function p(A){return A&&A.__esModule?A:{default:A}}function b(A,P,R){return P in A?Object.defineProperty(A,P,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[P]=R,A}function _(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function y(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function k(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var S=(0,m.default)("quill:toolbar"),E=function(A){k(P,A);function P(R,N){_(this,P);var D=y(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,N));if(Array.isArray(D.options.container)){var V=document.createElement("div");O(V,D.options.container),R.container.parentNode.insertBefore(V,R.container),D.container=V}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var H;return H=S.error("Container required for toolbar",D.options),y(D,H)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(z){D.addHandler(z,D.options.handlers[z])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(z){D.attach(z)}),D.quill.on(h.default.events.EDITOR_CHANGE,function(z,j){z===h.default.events.SELECTION_CHANGE&&D.update(j)}),D.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var z=D.quill.selection.getRange(),j=o(z,1),L=j[0];D.update(L)}),D}return s(P,[{key:"addHandler",value:function(N,D){this.handlers[N]=D}},{key:"attach",value:function(N){var D=this,V=[].find.call(N.classList,function(z){return z.indexOf("ql-")===0});if(V){if(V=V.slice(3),N.tagName==="BUTTON"&&N.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){S.warn("ignoring attaching to disabled format",V,N);return}if(u.default.query(V)==null){S.warn("ignoring attaching to nonexistent format",V,N);return}}var H=N.tagName==="SELECT"?"change":"click";N.addEventListener(H,function(z){var j=void 0;if(N.tagName==="SELECT"){if(N.selectedIndex<0)return;var L=N.options[N.selectedIndex];L.hasAttribute("selected")?j=!1:j=L.value||!1}else N.classList.contains("ql-active")?j=!1:j=N.value||!N.hasAttribute("value"),z.preventDefault();D.quill.focus();var M=D.quill.selection.getRange(),B=o(M,1),$=B[0];if(D.handlers[V]!=null)D.handlers[V].call(D,j);else if(u.default.query(V).prototype instanceof u.default.Embed){if(j=prompt("Enter "+V),!j)return;D.quill.updateContents(new l.default().retain($.index).delete($.length).insert(b({},V,j)),h.default.sources.USER)}else D.quill.format(V,j,h.default.sources.USER);D.update($)}),this.controls.push([V,N])}}},{key:"update",value:function(N){var D=N==null?{}:this.quill.getFormat(N);this.controls.forEach(function(V){var H=o(V,2),z=H[0],j=H[1];if(j.tagName==="SELECT"){var L=void 0;if(N==null)L=null;else if(D[z]==null)L=j.querySelector("option[selected]");else if(!Array.isArray(D[z])){var M=D[z];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),L=j.querySelector('option[value="'+M+'"]')}L==null?(j.value="",j.selectedIndex=-1):L.selected=!0}else if(N==null)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var B=D[z]===j.getAttribute("value")||D[z]!=null&&D[z].toString()===j.getAttribute("value")||D[z]==null&&!j.getAttribute("value");j.classList.toggle("ql-active",B)}else j.classList.toggle("ql-active",D[z]!=null)})}}]),P}(v.default);E.DEFAULTS={};function C(A,P,R){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+P),R!=null&&(N.value=R),A.appendChild(N)}function O(A,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(R){var N=document.createElement("span");N.classList.add("ql-formats"),R.forEach(function(D){if(typeof D=="string")C(N,D);else{var V=Object.keys(D)[0],H=D[V];Array.isArray(H)?T(N,V,H):C(N,V,H)}}),A.appendChild(N)})}function T(A,P,R){var N=document.createElement("select");N.classList.add("ql-"+P),R.forEach(function(D){var V=document.createElement("option");D!==!1?V.setAttribute("value",D):V.setAttribute("selected","selected"),N.appendChild(V)}),A.appendChild(N)}E.DEFAULTS={container:null,handlers:{clean:function(){var P=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var N=this.quill.getFormat();Object.keys(N).forEach(function(D){u.default.query(D,u.default.Scope.INLINE)!=null&&P.quill.format(D,!1)})}else this.quill.removeFormat(R,h.default.sources.USER)},direction:function(P){var R=this.quill.getFormat().align;P==="rtl"&&R==null?this.quill.format("align","right",h.default.sources.USER):!P&&R==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",P,h.default.sources.USER)},indent:function(P){var R=this.quill.getSelection(),N=this.quill.getFormat(R),D=parseInt(N.indent||0);if(P==="+1"||P==="-1"){var V=P==="+1"?1:-1;N.direction==="rtl"&&(V*=-1),this.quill.format("indent",D+V,h.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,h.default.sources.USER)},list:function(P){var R=this.quill.getSelection(),N=this.quill.getFormat(R);P==="check"?N.list==="checked"||N.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",P,h.default.sources.USER)}}},r.default=E,r.addControls=O},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(g,v){for(var p=0;p<v.length;p++){var b=v[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,v,p){return v&&m(g.prototype,v),p&&m(g,p),g}}(),s=function m(g,v,p){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,v);if(b===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:m(_,v,p)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(p)}},a=i(28),l=c(a);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var f=function(m){h(g,m);function g(v,p){u(this,g);var b=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v));return b.label.innerHTML=p,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),b}return o(g,[{key:"buildItem",value:function(p){var b=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,p);return b.style.backgroundColor=p.getAttribute("value")||"",b}},{key:"selectItem",value:function(p,b){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,p,b);var _=this.label.querySelector(".ql-color-label"),y=p&&p.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=y:_.style.fill=y)}}]),g}(l.default);r.default=f},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(g,v){for(var p=0;p<v.length;p++){var b=v[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,v,p){return v&&m(g.prototype,v),p&&m(g,p),g}}(),s=function m(g,v,p){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,v);if(b===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:m(_,v,p)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(p)}},a=i(28),l=c(a);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var f=function(m){h(g,m);function g(v,p){u(this,g);var b=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=p[_.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return o(g,[{key:"selectItem",value:function(p,b){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,p,b),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),g}(l.default);r.default=f},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(c,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,d){return u&&l(c.prototype,u),d&&l(c,d),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,u){var d=this;s(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var d=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),g=0;if(m.right>f.right&&(g=f.right-m.right,this.root.style.left=d+g+"px"),m.left<f.left&&(g=f.left-m.left,this.root.style.left=d+g+"px"),m.bottom>f.bottom){var v=m.bottom-m.top,p=u.bottom-u.top+v;this.root.style.top=h-p+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(A,P){var R=[],N=!0,D=!1,V=void 0;try{for(var H=A[Symbol.iterator](),z;!(N=(z=H.next()).done)&&(R.push(z.value),!(P&&R.length===P));N=!0);}catch(j){D=!0,V=j}finally{try{!N&&H.return&&H.return()}finally{if(D)throw V}}return R}return function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return T(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(A,P,R){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,P);if(N===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:T(D,P,R)}else{if("value"in N)return N.value;var V=N.get;return V===void 0?void 0:V.call(R)}},a=function(){function T(A,P){for(var R=0;R<P.length;R++){var N=P[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,P,R){return P&&T(A.prototype,P),R&&T(A,R),A}}(),l=i(3),c=_(l),u=i(8),d=_(u),h=i(43),f=_(h),m=i(27),g=_(m),v=i(15),p=i(41),b=_(p);function _(T){return T&&T.__esModule?T:{default:T}}function y(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function k(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function S(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(T){S(A,T);function A(P,R){y(this,A),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=E);var N=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,R));return N.quill.container.classList.add("ql-snow"),N}return a(A,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),b.default),this.tooltip=new O(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,D){R.handlers.link.call(R,!D.format.link)})}}]),A}(f.default);C.DEFAULTS=(0,c.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var P=this.quill.getSelection();if(P==null||P.length==0)return;var R=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var N=this.quill.theme.tooltip;N.edit("link",R)}else this.quill.format("link",!1)}}}}});var O=function(T){S(A,T);function A(P,R){y(this,A);var N=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,R));return N.preview=N.root.querySelector("a.ql-preview"),N}return a(A,[{key:"listen",value:function(){var R=this;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(R.linkRange!=null){var D=R.linkRange;R.restoreFocus(),R.quill.formatText(D,"link",!1,d.default.sources.USER),delete R.linkRange}N.preventDefault(),R.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(N,D,V){if(N!=null){if(N.length===0&&V===d.default.sources.USER){var H=R.quill.scroll.descendant(g.default,N.index),z=o(H,2),j=z[0],L=z[1];if(j!=null){R.linkRange=new v.Range(N.index-L,j.length());var M=g.default.formats(j.domNode);R.preview.textContent=M,R.preview.setAttribute("href",M),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(h.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=ne(o),a=i(36),l=i(38),c=i(64),u=i(65),d=ne(u),h=i(66),f=ne(h),m=i(67),g=ne(m),v=i(37),p=i(26),b=i(39),_=i(40),y=i(56),k=ne(y),S=i(68),E=ne(S),C=i(27),O=ne(C),T=i(69),A=ne(T),P=i(70),R=ne(P),N=i(71),D=ne(N),V=i(72),H=ne(V),z=i(73),j=ne(z),L=i(13),M=ne(L),B=i(74),$=ne(B),G=i(75),W=ne(G),F=i(57),U=ne(F),K=i(41),Z=ne(K),te=i(28),ae=ne(te),de=i(59),ye=ne(de),Se=i(60),Oe=ne(Se),Et=i(61),me=ne(Et),ee=i(108),Y=ne(ee),oe=i(62),le=ne(oe);function ne(ke){return ke&&ke.__esModule?ke:{default:ke}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":_.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":b.FontClass,"formats/size":_.SizeClass,"formats/blockquote":d.default,"formats/code-block":M.default,"formats/header":f.default,"formats/list":g.default,"formats/bold":k.default,"formats/code":L.Code,"formats/italic":E.default,"formats/link":O.default,"formats/script":A.default,"formats/strike":R.default,"formats/underline":D.default,"formats/image":H.default,"formats/video":j.default,"formats/list/item":m.ListItem,"modules/formula":$.default,"modules/syntax":W.default,"modules/toolbar":U.default,"themes/bubble":Y.default,"themes/snow":le.default,"ui/icons":Z.default,"ui/picker":ae.default,"ui/icon-picker":Oe.default,"ui/color-picker":ye.default,"ui/tooltip":me.default},!0),r.default=s.default},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function g(v,p){for(var b=0;b<p.length;b++){var _=p[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,p,b){return p&&g(v.prototype,p),b&&g(v,b),v}}(),s=function g(v,p,b){v===null&&(v=Function.prototype);var _=Object.getOwnPropertyDescriptor(v,p);if(_===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:g(y,p,b)}else{if("value"in _)return _.value;var k=_.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=c(a);function c(g){return g&&g.__esModule?g:{default:g}}function u(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function d(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){h(v,g);function v(){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"add",value:function(b,_){if(_==="+1"||_==="-1"){var y=this.value(b)||0;_=_==="+1"?y+1:y-1}return _===0?(this.remove(b),!0):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,b,_)}},{key:"canAdd",value:function(b,_){return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,b,_)||s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,b,parseInt(_))}},{key:"value",value:function(b){return parseInt(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b))||void 0}}]),v}(l.default.Attributor.Class),m=new f("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=m},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function c(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function u(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){u(f,h);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function f(m,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,v){return g&&f(m.prototype,g),v&&f(m,v),m}}(),s=i(4),a=l(s);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function u(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function d(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var h=function(f){d(m,f);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),m}(a.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function y(k,S){for(var E=0;E<S.length;E++){var C=S[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,S,E){return S&&y(k.prototype,S),E&&y(k,E),k}}(),s=function y(k,S,E){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,S);if(C===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:y(O,S,E)}else{if("value"in C)return C.value;var T=C.get;return T===void 0?void 0:T.call(E)}},a=i(0),l=f(a),c=i(4),u=f(c),d=i(25),h=f(d);function f(y){return y&&y.__esModule?y:{default:y}}function m(y,k,S){return k in y?Object.defineProperty(y,k,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[k]=S,y}function g(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function v(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function p(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var b=function(y){p(k,y);function k(){return g(this,k),v(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"format",value:function(E,C){E===_.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,E,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,C){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,C),this):(this.parent.unwrap(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,E,C))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:s(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,E)}}]),k}(u.default);b.blotName="list-item",b.tagName="LI";var _=function(y){p(k,y),o(k,null,[{key:"create",value:function(E){var C=E==="ordered"?"OL":"UL",O=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,C);return(E==="checked"||E==="unchecked")&&O.setAttribute("data-checked",E==="checked"),O}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(S){g(this,k);var E=v(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,S)),C=function(T){if(T.target.parentNode===S){var A=E.statics.formats(S),P=l.default.find(T.target);A==="checked"?P.format("list","unchecked"):A==="unchecked"&&P.format("list","checked")}};return S.addEventListener("touchstart",C),S.addEventListener("mousedown",C),E}return o(k,[{key:"format",value:function(E,C){this.children.length>0&&this.children.tail.format(E,C)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,C){if(E instanceof b)s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,E,C);else{var O=C==null?this.length():C.offset(this),T=this.split(O);T.parent.insertBefore(E,T)}}},{key:"optimize",value:function(E){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,E);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);E.moveChildren(C),this.appendChild(C)}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,E)}}]),k}(h.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[b],r.ListItem=b,r.default=_},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function c(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function u(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){u(f,h);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(g,v){for(var p=0;p<v.length;p++){var b=v[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,v,p){return v&&m(g.prototype,v),p&&m(g,p),g}}(),s=function m(g,v,p){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,v);if(b===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:m(_,v,p)}else{if("value"in b)return b.value;var y=b.get;return y===void 0?void 0:y.call(p)}},a=i(6),l=c(a);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var f=function(m){h(g,m);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),g}(l.default);f.blotName="script",f.tagName=["SUB","SUP"],r.default=f},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function c(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function u(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){u(f,h);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);d.blotName="strike",d.tagName="S",r.default=d},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function c(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function u(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var d=function(h){u(f,h);function f(){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);d.blotName="underline",d.tagName="U",r.default=d},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(p,b){for(var _=0;_<b.length;_++){var y=b[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,b,_){return b&&v(p.prototype,b),_&&v(p,_),p}}(),s=function v(p,b,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,b);if(y===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:v(k,b,_)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(_)}},a=i(0),l=u(a),c=i(27);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function h(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function f(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var m=["alt","height","width"],g=function(v){f(p,v);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(_,y){m.indexOf(_)>-1?y?this.domNode.setAttribute(_,y):this.domNode.removeAttribute(_):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,y)}}],[{key:"create",value:function(_){var y=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return typeof _=="string"&&y.setAttribute("src",this.sanitize(_)),y}},{key:"formats",value:function(_){return m.reduce(function(y,k){return _.hasAttribute(k)&&(y[k]=_.getAttribute(k)),y},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,c.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(p,b){for(var _=0;_<b.length;_++){var y=b[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,b,_){return b&&v(p.prototype,b),_&&v(p,_),p}}(),s=function v(p,b,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,b);if(y===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:v(k,b,_)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(_)}},a=i(4),l=i(27),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function h(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function f(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var m=["height","width"],g=function(v){f(p,v);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(_,y){m.indexOf(_)>-1?y?this.domNode.setAttribute(_,y):this.domNode.removeAttribute(_):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,y)}}],[{key:"create",value:function(_){var y=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(_)),y}},{key:"formats",value:function(_){return m.reduce(function(y,k){return _.hasAttribute(k)&&(y[k]=_.getAttribute(k)),y},{})}},{key:"sanitize",value:function(_){return c.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(a.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function _(y,k){for(var S=0;S<k.length;S++){var E=k[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,k,S){return k&&_(y.prototype,k),S&&_(y,S),y}}(),s=function _(y,k,S){y===null&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,k);if(E===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:_(C,k,S)}else{if("value"in E)return E.value;var O=E.get;return O===void 0?void 0:O.call(S)}},a=i(35),l=f(a),c=i(5),u=f(c),d=i(9),h=f(d);function f(_){return _&&_.__esModule?_:{default:_}}function m(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function g(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function v(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){v(y,_);function y(){return m(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(S){var E=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",S)),E}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),y}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var b=function(_){v(y,_),o(y,null,[{key:"register",value:function(){u.default.register(p,!0)}}]);function y(){m(this,y);var k=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return y}(h.default);r.FormulaBlot=p,r.default=b},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function S(E,C){for(var O=0;O<C.length;O++){var T=C[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,C,O){return C&&S(E.prototype,C),O&&S(E,O),E}}(),s=function S(E,C,O){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,C);if(T===void 0){var A=Object.getPrototypeOf(E);return A===null?void 0:S(A,C,O)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(O)}},a=i(0),l=g(a),c=i(5),u=g(c),d=i(9),h=g(d),f=i(13),m=g(f);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function p(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function b(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var _=function(S){b(E,S);function E(){return v(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),E}(m.default);_.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(S){b(E,S),o(E,null,[{key:"register",value:function(){u.default.register(y,!0),u.default.register(_,!0)}}]);function E(C,O){v(this,E);var T=p(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,O));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return T.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){T.highlight(),A=null},T.options.interval)}),T.highlight(),T}return o(E,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(A){A.highlight(O.options.highlight)}),this.quill.update(u.default.sources.SILENT),T!=null&&this.quill.setSelection(T,u.default.sources.SILENT)}}}]),E}(h.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var E=window.hljs.highlightAuto(S);return E.value}}(),interval:1e3},r.CodeBlock=_,r.CodeToken=y,r.default=k},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,r){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,r){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,r){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,r){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function E(C,O,T){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,O);if(A===void 0){var P=Object.getPrototypeOf(C);return P===null?void 0:E(P,O,T)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(T)}},s=function(){function E(C,O){for(var T=0;T<O.length;T++){var A=O[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,O,T){return O&&E(C.prototype,O),T&&E(C,T),C}}(),a=i(3),l=v(a),c=i(8),u=v(c),d=i(43),h=v(d),f=i(15),m=i(41),g=v(m);function v(E){return E&&E.__esModule?E:{default:E}}function p(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function b(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:E}function _(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(E){_(C,E);function C(O,T){p(this,C),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=y);var A=b(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O,T));return A.quill.container.classList.add("ql-bubble"),A}return s(C,[{key:"extendToolbar",value:function(T){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),g.default)}}]),C}(h.default);k.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(E){_(C,E);function C(O,T){p(this,C);var A=b(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O,T));return A.quill.on(u.default.events.EDITOR_CHANGE,function(P,R,N,D){if(P===u.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&D===u.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var V=A.quill.getLines(R.index,R.length);if(V.length===1)A.position(A.quill.getBounds(R));else{var H=V[V.length-1],z=A.quill.getIndex(H),j=Math.min(H.length()-1,R.index+R.length-z),L=A.quill.getBounds(new f.Range(z,j));A.position(L)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return s(C,[{key:"listen",value:function(){var T=this;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var A=T.quill.getSelection();A!=null&&T.position(T.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var A=o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,T),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",A===0)return A;P.style.marginLeft=-1*A-P.offsetWidth/2+"px"}}]),C}(d.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=S,r.default=k},function(e,r,i){e.exports=i(63)}]).default})})(I7);var I1e=I7.exports,N1e=Jn&&Jn.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wm=Jn&&Jn.__assign||function(){return Wm=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wm.apply(this,arguments)},M1e=Jn&&Jn.__spreadArrays||function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},op=Jn&&Jn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},ii=op(I),L1e=op(bg),Mc=op(O1e),c5=op(I1e),D1e=function(n){N1e(t,n);function t(e){var r=n.call(this,e)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var c,u,d,h;o==="text-change"?(u=(c=r).onEditorChangeText)===null||u===void 0||u.call(c,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((h=(d=r).onEditorChangeSelection)===null||h===void 0||h.call(d,s,l,r.unprivilegedEditor))};var i=r.isControlled()?e.value:e.defaultValue;return r.value=i??"",r}return t.prototype.validateProps=function(e){var r;if(ii.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ii.default.Children.count(e.children)){var i=ii.default.Children.only(e.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,r){var i=this,o;if(this.validateProps(e),!this.editor||this.state.generation!==r.generation)return!0;if("value"in e){var s=this.getEditorContents(),a=(o=e.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),M1e(this.cleanProps,this.dirtyProps).some(function(l){return!Mc.default(e[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(e){var r=this;return this.dirtyProps.some(function(i){return!Mc.default(e[i],r.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(e)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),u5(function(){return i.setEditorSelection(c,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,r){var i=new c5.default(e,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,r){return this.isDelta(e)&&this.isDelta(r)?Mc.default(e.ops,r.ops):Mc.default(e,r)},t.prototype.setEditorContents=function(e,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?e.setContents(e.clipboard.convert(r)):e.setContents(r),u5(function(){return i.setEditorSelection(e,o)})},t.prototype.setEditorSelection=function(e,r){if(this.selection=r,r){var i=e.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),e.setSelection(r)}},t.prototype.setEditorTabIndex=function(e,r){var i,o;!((o=(i=e)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(e.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(e,r){r?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var r=e;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=L1e.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){e.editingArea=l}};return ii.default.Children.count(i)?ii.default.cloneElement(ii.default.Children.only(i),a):o?ii.default.createElement("pre",Wm({},a)):ii.default.createElement("div",Wm({},a))},t.prototype.render=function(){var e;return ii.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,e??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,e,r,i,o))}},t.prototype.onEditorChangeSelection=function(e,r,i){var o,s,a,l,c,u;if(this.editor){var d=this.getEditorSelection(),h=!d&&e,f=d&&!e;Mc.default(e,d)||(this.selection=e,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,e,r,i),h?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,e,r,i):f&&((u=(c=this.props).onBlur)===null||u===void 0||u.call(c,d,r,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=c5.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(ii.default.Component);function u5(n){Promise.resolve().then(n)}var B1e=D1e;const F1e=xi(B1e);function V1e(){const[n,t]=I.useState([]),[e,r]=I.useState([]),[i,o]=I.useState("contacts"),[s,a]=I.useState(!0),[l,c]=I.useState(!1),[u,d]=I.useState(!1),[h,f]=I.useState(null),[m,g]=I.useState(""),[v,p]=I.useState(null),[b,_]=I.useState(null),[y,k]=I.useState(null),S=async()=>{const R=await fetch("/api/contact/getcontacts?order=asc"),N=await R.json();R.ok&&(t(N),N.length<9&&a(!1))},E=async()=>{const R=await fetch("/api/rate/getfeedbacks"),N=await R.json();console.log(N),R.ok&&(r(N),N.length<9&&a(!1))},C=R=>{switch(R){case"contacts":S(),o("contacts");break;case"feedbacks":E(),o("feedbacks");break}};I.useEffect(()=>{S()},[]);const O=async()=>{try{switch(i){case"contacts":{const R=n.length,N=await fetch(`/api/contact/getcontacts?offset=${R}&order=asc`),D=await N.json();N.ok&&(t(V=>[...V,...D]),D.length<9&&a(!1))}break;case"feedbacks":{const R=e.length,N=await fetch(`/api/rate/getfeedbacks?offset=${R}`),D=await N.json();N.ok&&(r(V=>[...V,...D]),D.length<9&&a(!1))}break}}catch(R){console.log(R)}},T=async()=>{try{switch(c(!1),d(!1),i){case"contacts":{const R=await fetch(`/api/contact/deletecontact/${h}`,{method:"DELETE"}),N=await R.json();R.ok?t(D=>D.filter(V=>V.contactId!==h)):console.log(N.message)}break;case"feedbacks":{const R=await fetch(`/api/rate/deletefeedback/${h}`,{method:"DELETE"});console.log(R.text);const N=await R.json();R.ok?r(D=>D.filter(V=>V.feedbackId!==h)):console.log(N.message)}break}}catch(R){console.log(R)}},A=async(R,N)=>{g(R),p(N),d(!0)},P=async R=>{R.preventDefault();try{const D=await(await fetch("/api/contact/respond",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:v,response:b})})).json();console.log(D.success),D.success?d(!1):k(D.message)}catch(N){console.log(N)}};return x.jsxs("div",{className:"table-auto overflow-x-scroll md:mx-auto p-3 scrollbar scrollbar-track-slate-100 scrollbar-thumb-slate-300 dark:scrollbar-track-slate-700 dark:scrollbar-thumb-slate-500'",children:[x.jsx("div",{className:"mt-3 mb-10 ml-2",children:x.jsxs(cl,{label:"Type",inline:!0,children:[x.jsx(cl.Item,{onClick:()=>C("contacts"),children:"Contacts"}),x.jsx(cl.Item,{onClick:()=>C("feedbacks"),children:"Feedbacks"})]})}),i==="contacts"&&n.length>0?x.jsxs(P1,{className:"w-[100vh]",children:[x.jsx("div",{className:"mb-4 flex items-center justify-between",children:x.jsx("h5",{className:"text-xl font-bold leading-none text-gray-900 dark:text-white",children:"All Contacts"})}),x.jsx("div",{className:"flow-root",children:x.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(R=>x.jsx("li",{className:"py-3 sm:py-4",children:x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"shrink-0"}),x.jsxs("div",{className:"min-w-0 flex-1 cursor-pointer",onClick:()=>{A(R.message,R.contactId),f(R.contactId)},children:[x.jsxs("p",{className:`${R.isResponded?"text-green-400":"text-red-400"} truncate text-sm font-medium`,children:[R.contactName," (",R.contactEmail,")"]}),x.jsx("p",{className:"truncate text-sm text-gray-500 dark:text-gray-400",children:R.subject})]}),x.jsx("div",{className:"inline-flex items-center text-base font-semibold text-gray-900 dark:text-white",children:new Date(R.submissionDate).toISOString().split("T")[0]})]})},R.contactId))})}),s&&x.jsx("button",{onClick:()=>O(),className:"w-full text-teal-500 self-center text-sm py-7",children:"Show more"})]}):i==="feedbacks"&&e.length>0?x.jsxs("div",{children:[x.jsxs(xe,{hoverable:!0,className:"shadow-md",children:[x.jsxs(xe.Head,{children:[x.jsx(xe.HeadCell,{children:"Submitted at"}),x.jsx(xe.HeadCell,{children:"User IP"}),x.jsx(xe.HeadCell,{children:"Feedback"}),x.jsx(xe.HeadCell,{children:"Related post"}),x.jsx(xe.HeadCell,{children:x.jsx("span",{children:"Delete"})})]}),e.map(R=>x.jsx(xe.Body,{className:"divide-y",children:x.jsxs(xe.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[x.jsx(xe.Cell,{children:new Date(R.submissionDate).toDateString()}),x.jsx(xe.Cell,{children:R.userIp}),x.jsx(xe.Cell,{children:R.feedback}),x.jsx(kt,{to:`/post/${R.slug}`,children:x.jsx(xe.Cell,{children:R.slug})}),x.jsx(xe.Cell,{children:x.jsx("span",{className:"font-medium text-red-500 hover:underline cursor-pointer",onClick:()=>{f(R.feedbackId),c(!0)},children:"Delete"})})]},R.feedbackId)}))]}),s&&x.jsx("button",{onClick:O,className:"w-full text-teal-500 self-center text-sm py-7",children:"Show more"})]}):x.jsxs("p",{children:["No ",i," found."]}),x.jsxs(qn,{show:l,onClose:()=>c(!1),popup:!0,size:"md",children:[x.jsx(qn.Header,{}),x.jsx(qn.Body,{children:x.jsxs("div",{className:"text-center",children:[x.jsx(uR,{className:"h-14 w-14 text-gray-400 dark:text-gray-200 mb-4 mx-auto"}),x.jsx("h3",{className:"mb-5 text-lg text-gray-500 dark:text-gray-400",children:"Are you sure you want to delete this?"}),x.jsxs("div",{className:"flex justify-center gap-4",children:[x.jsx(Dn,{color:"failure",onClick:T,children:"Yes, I'm sure"}),x.jsx(Dn,{color:"gray",onClick:()=>c(!1),children:"No, cancel"})]})]})})]}),x.jsxs(qn,{dismissible:!0,show:u,onClose:()=>d(!1),children:[x.jsx(qn.Header,{children:"Message"}),x.jsx(qn.Body,{children:x.jsx("div",{className:"space-y-6",children:m})}),x.jsx(qn.Footer,{className:"flex flex-col items-start",children:x.jsxs("form",{onSubmit:P,className:"w-full",children:[x.jsx("div",{className:"mb-3",children:x.jsx(F1e,{theme:"snow",placeholder:"Write your response...",className:"h-32 mb-12",required:!0,onChange:R=>{_(R)}})}),y&&x.jsx(gi,{color:"failure",className:"min-w-full mb-2",children:y}),x.jsxs("div",{className:"flex flex-row gap-2",children:[x.jsx(Dn,{color:"success",type:"submit",children:"Respond"}),x.jsx(Dn,{color:"failure",onClick:()=>T(),children:"Delete"})]})]})})]})]})}function j1e(){const[n,t]=I.useState(!1),e=ta(),[r,i]=I.useState("");I.useEffect(()=>{const a=new URLSearchParams(e.search).get("tab");a&&i(a)},[e.search]);function o(){t(!0)}return I.useEffect(()=>{(async()=>{try{(await(await fetch("/api/dashboard")).json()).success?t(!0):t(!1)}catch{t(!1)}})()},[]),x.jsx(x.Fragment,{children:n?x.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[x.jsx("div",{className:"md:w-56",children:x.jsx(C$,{location:r})}),r===""&&x.jsx(DT,{}),r==="create"&&x.jsx(Qme,{}),r==="posts"&&x.jsx(ege,{}),r==="update"&&x.jsx(tge,{}),r==="contacts"&&x.jsx(V1e,{}),r==="stats"&&x.jsx(DT,{})]}):x.jsx(_$,{onLoginSuccess:o})})}function Xt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var $1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",d5=$1e,Y0=()=>Math.random().toString(36).substring(7).split("").join("."),z1e={INIT:`@@redux/INIT${Y0()}`,REPLACE:`@@redux/REPLACE${Y0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Y0()}`},qm=z1e;function b_(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function v_(n,t,e){if(typeof n!="function")throw new Error(Xt(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Xt(1));return e(v_)(n,t)}let r=n,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((v,p)=>{s.set(p,v)}))}function u(){if(l)throw new Error(Xt(3));return i}function d(v){if(typeof v!="function")throw new Error(Xt(4));if(l)throw new Error(Xt(5));let p=!0;c();const b=a++;return s.set(b,v),function(){if(p){if(l)throw new Error(Xt(6));p=!1,c(),s.delete(b),o=null}}}function h(v){if(!b_(v))throw new Error(Xt(7));if(typeof v.type>"u")throw new Error(Xt(8));if(typeof v.type!="string")throw new Error(Xt(17));if(l)throw new Error(Xt(9));try{l=!0,i=r(i,v)}finally{l=!1}return(o=s).forEach(b=>{b()}),v}function f(v){if(typeof v!="function")throw new Error(Xt(10));r=v,h({type:qm.REPLACE})}function m(){const v=d;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Xt(11));function b(){const y=p;y.next&&y.next(u())}return b(),{unsubscribe:v(b)}},[d5](){return this}}}return h({type:qm.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:f,[d5]:m}}function H1e(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:qm.INIT})>"u")throw new Error(Xt(12));if(typeof e(void 0,{type:qm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function N7(n){const t=Object.keys(n),e={};for(let o=0;o<t.length;o++){const s=t[o];typeof n[s]=="function"&&(e[s]=n[s])}const r=Object.keys(e);let i;try{H1e(e)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=e[d],f=s[d],m=h(f,a);if(typeof m>"u")throw a&&a.type,new Error(Xt(14));c[d]=m,l=l||m!==f}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Gm(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...r)=>t(e(...r)))}function U1e(...n){return t=>(e,r)=>{const i=t(e,r);let o=()=>{throw new Error(Xt(15))};const s={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},a=n.map(l=>l(s));return o=Gm(...a)(i.dispatch),{...i,dispatch:o}}}function W1e(n){return b_(n)&&"type"in n&&typeof n.type=="string"}var M7=Symbol.for("immer-nothing"),h5=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function $r(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Fl=Object.getPrototypeOf;function Ys(n){return!!n&&!!n[fr]}function no(n){var t;return n?L7(n)||Array.isArray(n)||!!n[h5]||!!((t=n.constructor)!=null&&t[h5])||ap(n)||lp(n):!1}var q1e=Object.prototype.constructor.toString();function L7(n){if(!n||typeof n!="object")return!1;const t=Fl(n);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===q1e}function Km(n,t){sp(n)===0?Reflect.ownKeys(n).forEach(e=>{t(e,n[e],n)}):n.forEach((e,r)=>t(r,e,n))}function sp(n){const t=n[fr];return t?t.type_:Array.isArray(n)?1:ap(n)?2:lp(n)?3:0}function vy(n,t){return sp(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function D7(n,t,e){const r=sp(n);r===2?n.set(t,e):r===3?n.add(e):n[t]=e}function G1e(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function ap(n){return n instanceof Map}function lp(n){return n instanceof Set}function _s(n){return n.copy_||n.base_}function yy(n,t){if(ap(n))return new Map(n);if(lp(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=L7(n);if(t===!0||t==="class_only"&&!e){const r=Object.getOwnPropertyDescriptors(n);delete r[fr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[s]})}return Object.create(Fl(n),r)}else{const r=Fl(n);if(r!==null&&e)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function y_(n,t=!1){return cp(n)||Ys(n)||!no(n)||(sp(n)>1&&(n.set=n.add=n.clear=n.delete=K1e),Object.freeze(n),t&&Object.entries(n).forEach(([e,r])=>y_(r,!0))),n}function K1e(){$r(2)}function cp(n){return Object.isFrozen(n)}var Z1e={};function Js(n){const t=Z1e[n];return t||$r(0,n),t}var hd;function B7(){return hd}function Y1e(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function f5(n,t){t&&(Js("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function wy(n){_y(n),n.drafts_.forEach(J1e),n.drafts_=null}function _y(n){n===hd&&(hd=n.parent_)}function m5(n){return hd=Y1e(hd,n)}function J1e(n){const t=n[fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function g5(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[fr].modified_&&(wy(t),$r(4)),no(n)&&(n=Zm(t,n),t.parent_||Ym(t,n)),t.patches_&&Js("Patches").generateReplacementPatches_(e[fr].base_,n,t.patches_,t.inversePatches_)):n=Zm(t,e,[]),wy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==M7?n:void 0}function Zm(n,t,e){if(cp(t))return t;const r=t[fr];if(!r)return Km(t,(i,o)=>p5(n,r,t,i,o,e)),t;if(r.scope_!==n)return t;if(!r.modified_)return Ym(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Km(o,(a,l)=>p5(n,r,i,a,l,e,s)),Ym(n,i,!1),e&&n.patches_&&Js("Patches").generatePatches_(r,e,n.patches_,n.inversePatches_)}return r.copy_}function p5(n,t,e,r,i,o,s){if(Ys(i)){const a=o&&t&&t.type_!==3&&!vy(t.assigned_,r)?o.concat(r):void 0,l=Zm(n,i,a);if(D7(e,r,l),Ys(l))n.canAutoFreeze_=!1;else return}else s&&e.add(i);if(no(i)&&!cp(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Zm(n,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(e,r)&&Ym(n,i)}}function Ym(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&y_(t,e)}function X1e(n,t){const e=Array.isArray(n),r={type_:e?1:0,scope_:t?t.scope_:B7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=w_;e&&(i=[r],o=fd);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var w_={get(n,t){if(t===fr)return n;const e=_s(n);if(!vy(e,t))return Q1e(n,e,t);const r=e[t];return n.finalized_||!no(r)?r:r===J0(n.base_,t)?(X0(n),n.copy_[t]=ky(r,n)):r},has(n,t){return t in _s(n)},ownKeys(n){return Reflect.ownKeys(_s(n))},set(n,t,e){const r=F7(_s(n),t);if(r!=null&&r.set)return r.set.call(n.draft_,e),!0;if(!n.modified_){const i=J0(_s(n),t),o=i==null?void 0:i[fr];if(o&&o.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(G1e(e,i)&&(e!==void 0||vy(n.base_,t)))return!0;X0(n),xy(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return J0(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,X0(n),xy(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=_s(n),r=Reflect.getOwnPropertyDescriptor(e,t);return r&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:r.enumerable,value:e[t]}},defineProperty(){$r(11)},getPrototypeOf(n){return Fl(n.base_)},setPrototypeOf(){$r(12)}},fd={};Km(w_,(n,t)=>{fd[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});fd.deleteProperty=function(n,t){return fd.set.call(this,n,t,void 0)};fd.set=function(n,t,e){return w_.set.call(this,n[0],t,e,n[0])};function J0(n,t){const e=n[fr];return(e?_s(e):n)[t]}function Q1e(n,t,e){var i;const r=F7(t,e);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function F7(n,t){if(!(t in n))return;let e=Fl(n);for(;e;){const r=Object.getOwnPropertyDescriptor(e,t);if(r)return r;e=Fl(e)}}function xy(n){n.modified_||(n.modified_=!0,n.parent_&&xy(n.parent_))}function X0(n){n.copy_||(n.copy_=yy(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var ewe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,r)=>{if(typeof t=="function"&&typeof e!="function"){const o=e;e=t;const s=this;return function(l=o,...c){return s.produce(l,u=>e.call(this,u,...c))}}typeof e!="function"&&$r(6),r!==void 0&&typeof r!="function"&&$r(7);let i;if(no(t)){const o=m5(this),s=ky(t,void 0);let a=!0;try{i=e(s),a=!1}finally{a?wy(o):_y(o)}return f5(o,r),g5(i,o)}else if(!t||typeof t!="object"){if(i=e(t),i===void 0&&(i=t),i===M7&&(i=void 0),this.autoFreeze_&&y_(i,!0),r){const o=[],s=[];Js("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else $r(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,e,(s,a)=>{r=s,i=a}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){no(n)||$r(8),Ys(n)&&(n=twe(n));const t=m5(this),e=ky(n,void 0);return e[fr].isManual_=!0,_y(t),e}finishDraft(n,t){const e=n&&n[fr];(!e||!e.isManual_)&&$r(9);const{scope_:r}=e;return f5(r,t),g5(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const i=t[e];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}e>-1&&(t=t.slice(e+1));const r=Js("Patches").applyPatches_;return Ys(n)?r(n,t):this.produce(n,i=>r(i,t))}};function ky(n,t){const e=ap(n)?Js("MapSet").proxyMap_(n,t):lp(n)?Js("MapSet").proxySet_(n,t):X1e(n,t);return(t?t.scope_:B7()).drafts_.push(e),e}function twe(n){return Ys(n)||$r(10,n),V7(n)}function V7(n){if(!no(n)||cp(n))return n;const t=n[fr];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=yy(n,t.scope_.immer_.useStrictShallowCopy_)}else e=yy(n,!0);return Km(e,(r,i)=>{D7(e,r,V7(i))}),t&&(t.finalized_=!1),e}var mr=new ewe,j7=mr.produce;mr.produceWithPatches.bind(mr);mr.setAutoFreeze.bind(mr);mr.setUseStrictShallowCopy.bind(mr);mr.applyPatches.bind(mr);mr.createDraft.bind(mr);mr.finishDraft.bind(mr);function $7(n){return({dispatch:e,getState:r})=>i=>o=>typeof o=="function"?o(e,r,n):i(o)}var nwe=$7(),rwe=$7,iwe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gm:Gm.apply(null,arguments)};function b5(n,t){function e(...r){if(t){let i=t(...r);if(!i)throw new Error(yi(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=r=>W1e(r)&&r.type===n,e}var z7=class zc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zc.prototype)}static get[Symbol.species](){return zc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zc(...t[0].concat(this)):new zc(...t.concat(this))}};function v5(n){return no(n)?j7(n,()=>{}):n}function y5(n,t,e){if(n.has(t)){let i=n.get(t);return e.update&&(i=e.update(i,t,n),n.set(t,i)),i}if(!e.insert)throw new Error(yi(10));const r=e.insert(t,n);return n.set(t,r),r}function owe(n){return typeof n=="boolean"}var swe=()=>function(t){const{thunk:e=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new z7;return e&&(owe(e)?s.push(nwe):s.push(rwe(e.extraArgument))),s},awe="RTK_autoBatch",H7=n=>t=>{setTimeout(t,n)},lwe=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:H7(10),cwe=(n={type:"raf"})=>t=>(...e)=>{const r=t(...e);let i=!0,o=!1,s=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?lwe:n.type==="callback"?n.queueNotification:H7(n.timeout),c=()=>{s=!1,o&&(o=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),h=r.subscribe(d);return a.add(u),()=>{h(),a.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[awe]),o=!i,o&&(s||(s=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},uwe=n=>function(e){const{autoBatch:r=!0}=e??{};let i=new z7(n);return r&&i.push(cwe(typeof r=="object"?r:void 0)),i};function dwe(n){const t=swe(),{reducer:e=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=n||{};let a;if(typeof e=="function")a=e;else if(b_(e))a=N7(e);else throw new Error(yi(1));let l;typeof r=="function"?l=r(t):l=t();let c=Gm;i&&(c=iwe({trace:!1,...typeof i=="object"&&i}));const u=U1e(...l),d=uwe(u);let h=typeof s=="function"?s(d):d();const f=c(...h);return v_(a,o,f)}function U7(n){const t={},e=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(yi(28));if(a in t)throw new Error(yi(29));return t[a]=s,i},addMatcher(o,s){return e.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return n(i),[t,e,r]}function hwe(n){return typeof n=="function"}function fwe(n,t){let[e,r,i]=U7(t),o;if(hwe(n))o=()=>v5(n());else{const a=v5(n);o=()=>a}function s(a=o(),l){let c=[e[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Ys(u)){const f=d(u,l);return f===void 0?u:f}else{if(no(u))return j7(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},a)}return s.getInitialState=o,s}var mwe=Symbol.for("rtk-slice-createasyncthunk");function gwe(n,t){return`${n}/${t}`}function pwe({creators:n}={}){var e;const t=(e=n==null?void 0:n.asyncThunk)==null?void 0:e[mwe];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(yi(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(vwe()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,y){const k=typeof _=="string"?_:_.type;if(!k)throw new Error(yi(12));if(k in c.sliceCaseReducersByType)throw new Error(yi(13));return c.sliceCaseReducersByType[k]=y,u},addMatcher(_,y){return c.sliceMatchers.push({matcher:_,reducer:y}),u},exposeAction(_,y){return c.actionCreators[_]=y,u},exposeCaseReducer(_,y){return c.sliceCaseReducersByName[_]=y,u}};l.forEach(_=>{const y=a[_],k={reducerName:_,type:gwe(o,_),createNotation:typeof i.reducers=="function"};wwe(y)?xwe(k,y,u,t):ywe(k,y,u)});function d(){const[_={},y=[],k=void 0]=typeof i.extraReducers=="function"?U7(i.extraReducers):[i.extraReducers],S={..._,...c.sliceCaseReducersByType};return fwe(i.initialState,E=>{for(let C in S)E.addCase(C,S[C]);for(let C of c.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of y)E.addMatcher(C.matcher,C.reducer);k&&E.addDefaultCase(k)})}const h=_=>_,f=new Map;let m;function g(_,y){return m||(m=d()),m(_,y)}function v(){return m||(m=d()),m.getInitialState()}function p(_,y=!1){function k(E){let C=E[_];return typeof C>"u"&&y&&(C=v()),C}function S(E=h){const C=y5(f,y,{insert:()=>new WeakMap});return y5(C,E,{insert:()=>{const O={};for(const[T,A]of Object.entries(i.selectors??{}))O[T]=bwe(A,E,v,y);return O}})}return{reducerPath:_,getSelectors:S,get selectors(){return S(k)},selectSlice:k}}const b={name:o,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...p(s),injectInto(_,{reducerPath:y,...k}={}){const S=y??s;return _.inject({reducerPath:S,reducer:g},k),{...b,...p(S,!0)}}};return b}}function bwe(n,t,e,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=e()),n(a,...s)}return i.unwrapped=n,i}var W7=pwe();function vwe(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function ywe({type:n,reducerName:t,createNotation:e},r,i){let o,s;if("reducer"in r){if(e&&!_we(r))throw new Error(yi(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(n,o).exposeCaseReducer(t,o).exposeAction(t,s?b5(n,s):b5(n))}function wwe(n){return n._reducerDefinitionType==="asyncThunk"}function _we(n){return n._reducerDefinitionType==="reducerWithPrepare"}function xwe({type:n,reducerName:t},e,r,i){if(!i)throw new Error(yi(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:c,options:u}=e,d=i(n,o,u);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:s||zh,pending:a||zh,rejected:l||zh,settled:c||zh})}function zh(){}function yi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const kwe={theme:"light"},q7=W7({name:"theme",initialState:kwe,reducers:{toggleTheme:n=>{n.theme=n.theme==="light"?"dark":"light"}}}),{toggleTheme:Cwe}=q7.actions,Ewe=q7.reducer;function Twe(){const n=ta(),t=_d(),e=n.pathname,r=UA(),{theme:i}=x1(l=>l.theme),[o,s]=I.useState("");I.useEffect(()=>{const c=new URLSearchParams(n.search).get("searchTerm");c&&s(c)},[n.search]);const a=l=>{l.preventDefault();const c=new URLSearchParams(n.search);c.set("searchTerm",o);const u=c.toString();t(`/search?${u}`)};return x.jsx(x.Fragment,{children:x.jsxs(bo,{className:"border-b-2",children:[x.jsx(kt,{to:"/",className:"self-center whitespace-nowrap",children:x.jsx(bo.Brand,{as:"div",children:x.jsx("img",{src:"/assets/full-logo.png",className:"mr-3 h-8 sm:h-12",alt:"Logo"})})}),x.jsx("form",{onSubmit:a,children:x.jsx(sn,{type:"text",placeholder:"Search...",rightIcon:hy,className:"hidden lg:inline input-focus",defaultValue:o,onChange:l=>s(l.target.value)})}),x.jsx(Dn,{className:"w-12 h-10 lg:hidden",color:"gray",pill:!0,onClick:()=>t("/search"),children:x.jsx(hy,{})}),x.jsxs("div",{className:"flex gap-3 md:order-2",children:[x.jsx(Dn,{className:"w-12 h-10",color:"gray",pill:!0,onClick:()=>r(Cwe()),children:i==="light"?x.jsx(rge,{}):x.jsx(ige,{})}),x.jsx(kt,{to:"/about"}),x.jsx(bo.Toggle,{})]}),x.jsxs(bo.Collapse,{children:[x.jsx(bo.Link,{active:e==="/",className:e==="/"?"!text-custom-dark-orange bg-inherit":"",as:"div",children:x.jsx(kt,{to:"/",className:"hover:text-custom-dark-orange",children:"Home"})}),x.jsx(bo.Link,{active:e==="/contact",className:e==="/contact"?"!text-custom-dark-orange bg-inherit":"",as:"div",children:x.jsx(kt,{to:"/contact",className:"hover:text-custom-dark-orange",children:"Contact"})}),x.jsx(bo.Link,{active:e==="/about",className:e==="/about"?"!text-custom-dark-orange bg-inherit":"",as:"div",children:x.jsx(kt,{to:"/about",className:"hover:text-custom-dark-orange",children:"About"})})]})]})})}function Swe(){return x.jsx(Ht,{container:!0,className:"border border-t-4 border-custom-orange",children:x.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[x.jsx("div",{className:"grid w-full justify-between sm:flex md:grid-cols-1",children:x.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-4 sm:grid-cols-3 sm:gap-6",children:[x.jsxs("div",{children:[x.jsx(Ht.Title,{title:"About"}),x.jsx(Ht.LinkGroup,{col:!0,children:x.jsx(Ht.Link,{href:"https://www.100jsprojects.com",target:"_blank",rel:"noopener noreferrer",children:"My Portfolio"})})]}),x.jsxs("div",{children:[x.jsx(Ht.Title,{title:"Follow Me"}),x.jsxs(Ht.LinkGroup,{col:!0,children:[x.jsx(Ht.Link,{href:"https://www.github.com/sahandghavidel",target:"_blank",rel:"noopener noreferrer",children:"MCPEDL"}),x.jsx(Ht.Link,{href:"https://www.github.com/blockblaze",children:"Github"})]})]}),x.jsxs("div",{children:[x.jsx(Ht.Title,{title:"Legal"}),x.jsxs(Ht.LinkGroup,{col:!0,children:[x.jsx(Ht.Link,{href:"#",children:"Privacy Policy"}),x.jsx(Ht.Link,{href:"#",children:"Terms & Conditions"})]})]})]})}),x.jsx(Ht.Divider,{}),x.jsxs("div",{className:"w-full sm:flex sm:items-center sm:justify-between",children:[x.jsx(Ht.Copyright,{href:"#",by:"BlockBlaze",year:new Date().getFullYear()}),x.jsxs("div",{className:"flex gap-6 sm:mt-0 mt-4 sm:justify-center",children:[x.jsx(Ht.Icon,{href:"#",target:"_blank",icon:oR}),x.jsx(Ht.Icon,{href:"#",target:"_blank",icon:aR}),x.jsx(Ht.Icon,{href:"#",target:"_blank",icon:sR}),x.jsx(Ht.Icon,{href:"https://github.com/blockblaze",target:"_blank",icon:g$})]})]})]})})}const Awe={ratedPosts:[],visitedPosts:[],downloads:[]},G7=W7({name:"userActivity",initialState:Awe,reducers:{addVisitedPost:(n,t)=>{n.visitedPosts.includes(t.payload)||n.visitedPosts.push(t.payload)},addRatedPost:(n,t)=>{n.ratedPosts.includes(t.payload)||n.ratedPosts.push(t.payload)},addDownloads:(n,t)=>{n.downloads.includes(t.payload)||n.downloads.push(t.payload)}}}),{addVisitedPost:Pwe,addRatedPost:w5,addDownloads:Rwe}=G7.actions,Owe=G7.reducer;function Iwe(){const{postSlug:n}=PD(),[t,e]=I.useState(!0),[r,i]=I.useState(!1),[o,s]=I.useState(null),[a,l]=I.useState(0),[c,u]=I.useState(0),[d,h]=I.useState(0),[f,m]=I.useState(!1),[g,v]=I.useState(0),[p,b]=I.useState(null),[_,y]=I.useState(!1),[k,S]=I.useState(""),[E,C]=I.useState(null),O=I.useRef(null),T=I.useRef(null),A=UA(),{ratedPosts:P,downloads:R,visitedPosts:N}=x1(L=>L.userActivity),D=L=>{switch(L){case"rate":O.current.scrollIntoView({behavior:"smooth"});break;case"downloads":T.current.scrollIntoView({behavior:"instant"});break}},V=async L=>{const B=await(await fetch(`/api/rate/getrating?postId=${L}`)).json();l(parseFloat(B.rating)||0),u(parseFloat(B.rating)||0),v(B.voteCount)},H=async(L,M)=>{const B=await fetch(`/api/post/getposts?limit=3&category=${L}&excludeIds=${M}`),$=await B.json();B.ok&&C($)},z=async(L,M)=>{switch(L){case"view":N.includes(M)||(await(await fetch("/api/post/updatepostactivity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:M,action:"view"})})).json()).success&&A(Pwe(M));break;case"download":{const B=p.fileUrl,$=document.createElement("a");$.href=B,document.body.appendChild($),$.click(),document.body.removeChild($),R.includes(M)||(await(await fetch("/api/post/updatepostactivity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:M,action:"download"})})).json()).success&&A(Rwe(M))}break;case"rate":(await(await fetch("/api/rate/sendrate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:o.postId,rating:c})})).json()).success?(c<3&&y(!0),m(!0),A(w5(o.postId)),h(0)):(m(!0),A(w5(o.postId)),h(0));break;case"feedback":(await(await fetch("/api/rate/sendfeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:o.postId,feedback:k})})).json()).success&&y(!1);break}},j=L=>{const M=/(<([^>]+)>)/gi;return L.replace(M,"")};return I.useEffect(()=>{try{(async()=>{e(!0);const M=await fetch(`/api/post/getposts?slug=${n}`),B=await M.json();if(!M.ok){e(!1),i(B.message);return}M.ok&&(B.length===0?(e(!1),i("No post found")):(e(!1),i(!1),s(B[0]),V(B[0].postId),H(B[0].category,B[0].postId),z("view",B[0].postId),(B[0].category==="maps"||B[0].category==="scripts")&&b(B[0].downloadables[B[0].downloadables.length-1])))})()}catch{i("An error happend"),e(!1)}},[n]),t?x.jsx("div",{className:"flex justify-center items-center min-h-screen",children:x.jsx(S1,{size:"xl"})}):r?x.jsx("div",{className:"min-h-screen m-5",children:x.jsx("p",{className:"text-center text-2xl",children:r})}):x.jsxs(x.Fragment,{children:[x.jsxs(iR,{children:[x.jsx("title",{children:o.title}),x.jsx("meta",{name:"description",content:j(o.content)}),x.jsx("meta",{property:"og:title",content:o.title}),x.jsx("meta",{property:"og:description",content:j(o.content)}),x.jsx("meta",{property:"og:image",content:o.thumbnailUrl}),x.jsx("meta",{property:"og:type",content:"article"}),x.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),x.jsx("meta",{name:"twitter:title",content:o.title}),x.jsx("meta",{name:"twitter:description",content:j(o.content)}),x.jsx("meta",{name:"twitter:image",content:o.thumbnailUrl})]}),x.jsxs("div",{className:"flex justify-between min-h-screen w-full md:w-[90%] m-auto",children:[x.jsxs("main",{className:"flex flex-col p-8 w-full bg-gray-100 dark:bg-gray-700",children:[x.jsx("h1",{className:"text-3xl mt-10 p-3 text-center font-serif max-w-2xl mx-auto lg:text-4xl",children:o&&o.title}),x.jsx(kt,{to:`/search?category=${o&&o.category}`,className:"self-center mt-3",children:x.jsx(Dn,{color:"gray",pill:!0,size:"xs",children:o&&o.category})}),x.jsxs("div",{className:"self-center mt-5 flex flex-row gap-2",children:[[...Array(5)].map((L,M)=>{const B=M+1,$=B<=Math.floor(a),G=B===Math.ceil(a)&&!Number.isInteger(a);return x.jsxs("div",{className:"relative text-xl",children:[x.jsx(jh,{className:"absolute text-gray-400",style:{zIndex:0}}),x.jsx(jh,{className:"relative",style:{color:$||G?"orange":"gray",clipPath:G?"polygon(0 0, 50% 0, 50% 100%, 0 100%)":"none",zIndex:1}})]},B)}),x.jsx("p",{className:"font-bold cursor-pointer underline",onClick:()=>D("rate"),children:g})]}),o.category==="maps"||o.category==="scripts"?x.jsxs("div",{className:"mx-auto mt-10 flex cursor-pointer",onClick:()=>D("downloads"),children:[x.jsx("p",{className:"font-semibold text-lg text-custom-orange hover:underline",children:"Skip to Downloads"}),x.jsx(ew,{color:"orange",className:"text-2xl mt-[2.5px] "})]}):null,x.jsx("img",{src:o&&o.thumbnailUrl,alt:o&&o.title,className:"mt-10 p-3 max-h-[600px] w-[700px] m-auto object-cover"}),x.jsxs("div",{className:"flex justify-between p-3 border-b border-slate-500 mx-auto w-full max-w-2xl text-xs md:text-base",children:[x.jsxs("span",{children:["Published on ",o&&new Date(o.createdDATE).toDateString(),new Date(o.updatedDATE).toDateString()!==new Date(o.createdDATE).toDateString&&x.jsxs("span",{className:"ml-2",children:["(Updated on ",new Date(o.updatedDATE).toDateString(),")"]})]}),x.jsxs("span",{className:"italic",children:[o&&(o.content.length/1e3).toFixed(0)," mins read"]})]}),x.jsx("div",{className:"p-3 max-w-2xl mx-auto w-full post-content !min-h-screen border-b border-slate-500",dangerouslySetInnerHTML:{__html:o&&o.content}}),o.category==="maps"||o.category==="scripts"?x.jsxs("div",{className:"mt-5 mb-5 flex flex-col gap-1",id:"downloads",ref:T,children:[x.jsx("p",{className:"mb-3 font-semibold text-lg lg:text-2xl",children:"Select version for download:"}),x.jsx(cl,{label:p.version,inline:!0,className:"border border-slate-800",children:o.downloadables.map(L=>x.jsx(cl.Item,{onClick:()=>{b(L)},children:L.version},L.version))}),p&&p.changelog!==""?x.jsxs("div",{className:"border rounded border-slate-400 mt-5",children:[x.jsx("div",{className:"border-b border-slate-400 p-3",children:x.jsx("p",{className:"text-lg font-semibold",children:"Changelogs"})}),x.jsx("div",{className:"p-3",children:x.jsx("p",{children:p.changelog})})]}):null,x.jsxs("div",{className:"mt-5 mb-5",children:[x.jsx("p",{className:"mb-3 font-semibold text-lg lg:text-2xl",children:"Supported Minecraft Versions:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:p.supportedVersions.split(",").map(L=>x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium self-center mt-2",children:L},L))})]}),x.jsxs("button",{className:"download-btn w-40",onClick:()=>z("download",p.downloadId),children:["Download ",p.version]}),x.jsxs("p",{className:"self-center text-lg font-semibold",children:["Downloads of this version: ",p.downloads]})]}):null,x.jsxs("div",{ref:O,className:"flex justify-center flex-col gap-2 mt-3 border-b border-slate-500 pb-5",children:[x.jsx("p",{className:"self-center text-3xl font-bold",children:"Did you like this post?"}),x.jsx("p",{className:"self-center text-lg",children:"Rate it by clicking on a star!"}),x.jsx("div",{className:"flex flex-row gap-2 self-center",children:[...Array(5)].map((L,M)=>{const B=M+1,$=B<=Math.floor(d||c),G=B===Math.ceil(d||c)&&!Number.isInteger(d||c);return x.jsxs("div",{className:`relative text-3xl ${P.includes(o.postId)?"cursor-default":"cursor-pointer"}`,onClick:()=>{!P.includes(o.postId)&&B!==c&&(u(B),m(!0))},onMouseEnter:()=>{P.includes(o.postId)||h(B)},onMouseLeave:()=>{P.includes(o.postId)||h(0)},children:[x.jsx(jh,{className:"absolute text-gray-400",style:{zIndex:0}}),x.jsx(jh,{className:"relative",style:{color:$||G?"orange":"gray",clipPath:G?"polygon(0 0, 50% 0, 50% 100%, 0 100%)":"none",zIndex:1}})]},B)})}),!P.includes(o.postId)&&f&&x.jsx("button",{className:"bg-custom-orange text-white p-2 m:p-3 rounded hover:bg-custom-dark-orange font-medium self-center w-32 mt-2",onClick:()=>z("rate"),children:"Submit"}),P.includes(o.postId)&&x.jsx("p",{className:"self-center text-lg  font-semibold mt-1",children:"Thanks for rating this post."}),x.jsxs("p",{className:"self-center text-lg",children:["Average rating ",a," / 5. Vote count: ",g]})]}),x.jsxs("div",{className:"flex flex-col justify-center items-center mb-5",children:[x.jsx("h1",{className:"text-2xl font-semibold mt-5 mb-3",children:"YOU MAY ALSO LIKE..."}),x.jsx("div",{className:"flex flex-wrap gap-1 mt-5 justify-center items-stretch",children:E&&E.map(L=>x.jsx(K3,{post:L},L.slug))})]}),x.jsxs(qn,{show:_,size:"md",onClose:()=>y(!1),popup:!0,children:[x.jsx(qn.Header,{}),x.jsx(qn.Body,{children:x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"I'm sorry you didn't like this post"}),x.jsxs("div",{children:[x.jsx("div",{className:"mb-2 block",children:x.jsx(Ro,{htmlFor:"email",value:"Tell me how could I improve this post?"})}),x.jsx(sn,{id:"feedback",type:"text",placeholder:"Your feedback",onChange:L=>S(L.target.value),required:!0})]}),x.jsxs("div",{className:"w-full",children:[x.jsx("button",{className:"bg-custom-orange text-white p-3 m:p-4 rounded hover:bg-custom-dark-orange font-medium self-center  mt-2",onClick:()=>z("feedback"),children:"Submit feedback"}),"  "]})]})})]})]}),x.jsx("aside",{className:"bg-gray-200 md:w-80 dark:bg-gray-800 hidden md:block lg:w-96 "})]})]})}function Nwe(){const[n,t]=I.useState({searchTerm:"",order:"desc",category:""}),[e,r]=I.useState([]),[i,o]=I.useState(!1),[s,a]=I.useState(!1),l=ta(),c=_d();I.useEffect(()=>{const f=new URLSearchParams(l.search),m=f.get("searchTerm")||"",g=f.get("order")||"desc",v=f.get("category")||"";t({searchTerm:m,order:g,category:v}),(async()=>{o(!0),f.get("category")||f.delete("category"),f.set("q",m);const b=f.toString();try{const _=await fetch(`/api/post/getposts?${b}`);if(!_.ok)throw new Error("Failed to fetch posts");const y=await _.json();r(y),o(!1),a(y.length===9)}catch(_){console.error(_),o(!1)}})()},[l.search]);const u=f=>{const{id:m,value:g}=f.target;t(v=>({...v,[m]:m==="order"?g||"desc":g}))},d=f=>{f.preventDefault();const m=new URLSearchParams;m.set("searchTerm",n.searchTerm),m.set("order",n.order),m.set("category",n.category),c(`/search?${m.toString()}`)},h=async()=>{const f=e.length,m=new URLSearchParams(l.search),g=m.get("searchTerm")||"";m.set("offset",f),m.set("q",g);const v=m.toString();try{const p=await fetch(`/api/post/getposts?${v}`);if(!p.ok)throw new Error("Failed to fetch more posts");const b=await p.json();r(_=>[..._,...b]),a(b.length===9)}catch(p){console.error(p)}};return x.jsxs("div",{className:"flex flex-col md:flex-row",children:[x.jsx("div",{className:"p-7 border-b md:border-r md:min-h-screen border-gray-500",children:x.jsxs("form",{className:"flex flex-col gap-8",onSubmit:d,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"whitespace-nowrap font-semibold",children:"Search Term:"}),x.jsx(sn,{placeholder:"Search...",id:"searchTerm",type:"text",value:n.searchTerm,onChange:u})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"font-semibold",children:"Order:"}),x.jsxs(Al,{onChange:u,value:n.order,id:"order",children:[x.jsx("option",{value:"desc",children:"Latest"}),x.jsx("option",{value:"asc",children:"Oldest"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"font-semibold",children:"Category:"}),x.jsxs(Al,{onChange:u,value:n.category,id:"category",children:[x.jsx("option",{value:"",children:"No Category"}),x.jsx("option",{value:"maps",children:"Maps"}),x.jsx("option",{value:"scripts",children:"Scripts"}),x.jsx("option",{value:"articles",children:"Articles & Tutorials"})]})]}),x.jsx("button",{type:"submit",className:"w-full bg-transparent text-black dark:text-white border-custom-dark-orange border-2 p-2 m:p-3 rounded hover:text-white hover:bg-custom-dark-orange font-medium self-center mt-2 transition-all duration-150",children:"Apply Filters"})]})}),x.jsxs("div",{className:"w-full",children:[x.jsx("h1",{className:"text-3xl font-semibold sm:border-b border-gray-500 p-3 mt-5",children:"Results:"}),x.jsxs("div",{className:"p-7 flex flex-wrap gap-4",children:[!i&&e.length===0&&x.jsx("p",{className:"text-xl text-gray-500",children:"No posts found."}),i&&x.jsx("p",{className:"text-xl text-gray-500",children:"Loading..."}),!i&&e.map(f=>x.jsx(K3,{post:f},f.postId)),s&&x.jsx("button",{onClick:h,className:"text-custom-orange text-lg hover:underline p-7 w-full",children:"Show More"})]})]})]})}function Mwe(){return x.jsx(x.Fragment,{children:x.jsxs(YD,{children:[x.jsx(Twe,{}),x.jsxs(HD,{children:[x.jsx(oi,{path:"/",element:x.jsx(m$,{})}),x.jsx(oi,{path:"/about",element:x.jsx(p$,{})}),x.jsx(oi,{path:"/search",element:x.jsx(Nwe,{})}),x.jsx(oi,{path:"/privacy",element:x.jsx(b$,{})}),x.jsx(oi,{path:"/content",element:x.jsx(v$,{})}),x.jsx(oi,{path:"/contact",element:x.jsx(y$,{})}),x.jsx(oi,{path:"/dashboard",element:x.jsx(j1e,{})}),x.jsx(oi,{path:"/post/:postSlug",element:x.jsx(Iwe,{})}),x.jsx(oi,{path:"*",element:x.jsx(w$,{})})]}),x.jsx(Swe,{})]})})}var __="persist:",K7="persist/FLUSH",x_="persist/REHYDRATE",Z7="persist/PAUSE",Y7="persist/PERSIST",J7="persist/PURGE",X7="persist/REGISTER",Lwe=-1;function bf(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bf=function(e){return typeof e}:bf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(n)}function _5(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Dwe(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_5(e,!0).forEach(function(r){Bwe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_5(e).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Bwe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Fwe(n,t,e,r){r.debug;var i=Dwe({},e);return n&&bf(n)==="object"&&Object.keys(n).forEach(function(o){o!=="_persist"&&t[o]===e[o]&&(i[o]=n[o])}),i}function Vwe(n){var t=n.blacklist||null,e=n.whitelist||null,r=n.transforms||[],i=n.throttle||0,o="".concat(n.keyPrefix!==void 0?n.keyPrefix:__).concat(n.key),s=n.storage,a;n.serialize===!1?a=function(k){return k}:typeof n.serialize=="function"?a=n.serialize:a=jwe;var l=n.writeFailHandler||null,c={},u={},d=[],h=null,f=null,m=function(k){Object.keys(k).forEach(function(S){p(S)&&c[S]!==k[S]&&d.indexOf(S)===-1&&d.push(S)}),Object.keys(c).forEach(function(S){k[S]===void 0&&p(S)&&d.indexOf(S)===-1&&c[S]!==void 0&&d.push(S)}),h===null&&(h=setInterval(g,i)),c=k};function g(){if(d.length===0){h&&clearInterval(h),h=null;return}var y=d.shift(),k=r.reduce(function(S,E){return E.in(S,y,c)},c[y]);if(k!==void 0)try{u[y]=a(k)}catch(S){console.error("redux-persist/createPersistoid: error serializing state",S)}else delete u[y];d.length===0&&v()}function v(){Object.keys(u).forEach(function(y){c[y]===void 0&&delete u[y]}),f=s.setItem(o,a(u)).catch(b)}function p(y){return!(e&&e.indexOf(y)===-1&&y!=="_persist"||t&&t.indexOf(y)!==-1)}function b(y){l&&l(y)}var _=function(){for(;d.length!==0;)g();return f||Promise.resolve()};return{update:m,flush:_}}function jwe(n){return JSON.stringify(n)}function $we(n){var t=n.transforms||[],e="".concat(n.keyPrefix!==void 0?n.keyPrefix:__).concat(n.key),r=n.storage;n.debug;var i;return n.deserialize===!1?i=function(s){return s}:typeof n.deserialize=="function"?i=n.deserialize:i=zwe,r.getItem(e).then(function(o){if(o)try{var s={},a=i(o);return Object.keys(a).forEach(function(l){s[l]=t.reduceRight(function(c,u){return u.out(c,l,a)},i(a[l]))}),s}catch(l){throw l}else return})}function zwe(n){return JSON.parse(n)}function Hwe(n){var t=n.storage,e="".concat(n.keyPrefix!==void 0?n.keyPrefix:__).concat(n.key);return t.removeItem(e,Uwe)}function Uwe(n){}function x5(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Si(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?x5(e,!0).forEach(function(r){Wwe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):x5(e).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Wwe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function qwe(n,t){if(n==null)return{};var e=Gwe(n,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Gwe(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}var Kwe=5e3;function Zwe(n,t){var e=n.version!==void 0?n.version:Lwe;n.debug;var r=n.stateReconciler===void 0?Fwe:n.stateReconciler,i=n.getStoredState||$we,o=n.timeout!==void 0?n.timeout:Kwe,s=null,a=!1,l=!0,c=function(d){return d._persist.rehydrated&&s&&!l&&s.update(d),d};return function(u,d){var h=u||{},f=h._persist,m=qwe(h,["_persist"]),g=m;if(d.type===Y7){var v=!1,p=function(C,O){v||(d.rehydrate(n.key,C,O),v=!0)};if(o&&setTimeout(function(){!v&&p(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},o),l=!1,s||(s=Vwe(n)),f)return Si({},t(g,d),{_persist:f});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(n.key),i(n).then(function(E){var C=n.migrate||function(O,T){return Promise.resolve(O)};C(E,e).then(function(O){p(O)},function(O){p(void 0,O)})},function(E){p(void 0,E)}),Si({},t(g,d),{_persist:{version:e,rehydrated:!1}})}else{if(d.type===J7)return a=!0,d.result(Hwe(n)),Si({},t(g,d),{_persist:f});if(d.type===K7)return d.result(s&&s.flush()),Si({},t(g,d),{_persist:f});if(d.type===Z7)l=!0;else if(d.type===x_){if(a)return Si({},g,{_persist:Si({},f,{rehydrated:!0})});if(d.key===n.key){var b=t(g,d),_=d.payload,y=r!==!1&&_!==void 0?r(_,u,b,n):b,k=Si({},y,{_persist:Si({},f,{rehydrated:!0})});return c(k)}}}if(!f)return t(u,d);var S=t(g,d);return S===g?u:c(Si({},S,{_persist:f}))}}function k5(n){return Xwe(n)||Jwe(n)||Ywe()}function Ywe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Jwe(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function Xwe(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}function C5(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Cy(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?C5(e,!0).forEach(function(r){Qwe(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):C5(e).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Qwe(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Q7={registry:[],bootstrapped:!1},e_e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q7,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case X7:return Cy({},t,{registry:[].concat(k5(t.registry),[e.key])});case x_:var r=t.registry.indexOf(e.key),i=k5(t.registry);return i.splice(r,1),Cy({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function t_e(n,t,e){var r=v_(e_e,Q7,void 0),i=function(l){r.dispatch({type:X7,key:l})},o=function(l,c,u){var d={type:x_,payload:c,err:u,key:l};n.dispatch(d),r.dispatch(d)},s=Cy({},r,{purge:function(){var l=[];return n.dispatch({type:J7,result:function(u){l.push(u)}}),Promise.all(l)},flush:function(){var l=[];return n.dispatch({type:K7,result:function(u){l.push(u)}}),Promise.all(l)},pause:function(){n.dispatch({type:Z7})},persist:function(){n.dispatch({type:Y7,register:i,rehydrate:o})}});return s.persist(),s}var k_={},C_={};C_.__esModule=!0;C_.default=i_e;function vf(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vf=function(e){return typeof e}:vf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(n)}function Q0(){}var n_e={getItem:Q0,setItem:Q0,removeItem:Q0};function r_e(n){if((typeof self>"u"?"undefined":vf(self))!=="object"||!(n in self))return!1;try{var t=self[n],e="redux-persist ".concat(n," test");t.setItem(e,"test"),t.getItem(e),t.removeItem(e)}catch{return!1}return!0}function i_e(n){var t="".concat(n,"Storage");return r_e(t)?self[t]:n_e}k_.__esModule=!0;k_.default=a_e;var o_e=s_e(C_);function s_e(n){return n&&n.__esModule?n:{default:n}}function a_e(n){var t=(0,o_e.default)(n);return{getItem:function(r){return new Promise(function(i,o){i(t.getItem(r))})},setItem:function(r,i){return new Promise(function(o,s){o(t.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,o){i(t.removeItem(r))})}}}var e8=void 0,l_e=c_e(k_);function c_e(n){return n&&n.__esModule?n:{default:n}}var u_e=(0,l_e.default)("local");e8=u_e;const d_e=N7({theme:Ewe,userActivity:Owe}),h_e={key:"root",storage:e8,version:1},f_e=Zwe(h_e,d_e),t8=dwe({reducer:f_e,middleware:n=>n({serializableCheck:!1})}),m_e=t_e(t8);function yf(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yf=function(e){return typeof e}:yf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(n)}function g_e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function p_e(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function b_e(n,t,e){return t&&p_e(n.prototype,t),n}function v_e(n,t){return t&&(yf(t)==="object"||typeof t=="function")?t:wf(n)}function Ey(n){return Ey=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ey(n)}function wf(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function y_e(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Ty(n,t)}function Ty(n,t){return Ty=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ty(n,t)}function _f(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var n8=function(n){y_e(t,n);function t(){var e,r;g_e(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=v_e(this,(e=Ey(t)).call.apply(e,[this].concat(o))),_f(wf(r),"state",{bootstrapped:!1}),_f(wf(r),"_unsubscribe",void 0),_f(wf(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return b_e(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(I.PureComponent);_f(n8,"defaultProps",{children:null,loading:null});FA(document.getElementById("root")).render(x.jsx(rR,{children:x.jsx(n8,{persistor:m_e,children:x.jsx(JL,{store:t8,children:x.jsx(eD,{children:x.jsx(Mwe,{})})})})}))});export default w_e();
